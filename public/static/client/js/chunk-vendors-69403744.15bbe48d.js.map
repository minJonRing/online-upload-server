{"version":3,"file":"static/client/js/chunk-vendors-69403744.15bbe48d.js","mappings":"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","sources":["webpack://d1/./node_modules/echarts/lib/legacy/dataSelectAction.js","webpack://d1/./node_modules/echarts/lib/legacy/getTextRect.js","webpack://d1/./node_modules/echarts/lib/loading/default.js","webpack://d1/./node_modules/echarts/lib/model/Component.js","webpack://d1/./node_modules/echarts/lib/model/globalDefault.js","webpack://d1/./node_modules/echarts/lib/model/Global.js","webpack://d1/./node_modules/echarts/lib/model/mixin/areaStyle.js","webpack://d1/./node_modules/echarts/lib/model/mixin/textStyle.js","webpack://d1/./node_modules/echarts/lib/model/Model.js","webpack://d1/./node_modules/echarts/lib/model/OptionManager.js","webpack://d1/./node_modules/echarts/lib/model/Series.js","webpack://d1/./node_modules/echarts/lib/model/internalComponentCreator.js","webpack://d1/./node_modules/echarts/lib/model/mixin/dataFormat.js","webpack://d1/./node_modules/echarts/lib/model/mixin/itemStyle.js","webpack://d1/./node_modules/echarts/lib/model/mixin/lineStyle.js","webpack://d1/./node_modules/echarts/lib/model/mixin/makeStyleMapper.js","webpack://d1/./node_modules/echarts/lib/model/mixin/palette.js","webpack://d1/./node_modules/echarts/lib/model/referHelper.js","webpack://d1/./node_modules/echarts/lib/preprocessor/helper/compatStyle.js","webpack://d1/./node_modules/echarts/lib/preprocessor/backwardCompat.js","webpack://d1/./node_modules/echarts/lib/processor/dataFilter.js","webpack://d1/./node_modules/echarts/lib/processor/dataSample.js","webpack://d1/./node_modules/echarts/lib/processor/dataStack.js","webpack://d1/./node_modules/echarts/lib/processor/negativeDataFilter.js","webpack://d1/./node_modules/echarts/lib/renderer/installCanvasRenderer.js","webpack://d1/./node_modules/echarts/lib/renderer/installSVGRenderer.js","webpack://d1/./node_modules/echarts/lib/scale/Interval.js","webpack://d1/./node_modules/echarts/lib/scale/Log.js","webpack://d1/./node_modules/echarts/lib/scale/Ordinal.js","webpack://d1/./node_modules/echarts/lib/scale/Scale.js","webpack://d1/./node_modules/echarts/lib/scale/Time.js","webpack://d1/./node_modules/echarts/lib/scale/helper.js","webpack://d1/./node_modules/echarts/lib/theme/dark.js","webpack://d1/./node_modules/echarts/lib/theme/light.js","webpack://d1/./node_modules/echarts/lib/util/ECEventProcessor.js","webpack://d1/./node_modules/echarts/lib/util/animation.js","webpack://d1/./node_modules/echarts/lib/util/clazz.js","webpack://d1/./node_modules/echarts/lib/util/component.js","webpack://d1/./node_modules/echarts/lib/util/conditionalExpression.js","webpack://d1/./node_modules/echarts/lib/util/decal.js","webpack://d1/./node_modules/echarts/lib/util/event.js","webpack://d1/./node_modules/echarts/lib/util/format.js","webpack://d1/./node_modules/echarts/lib/util/graphic.js","webpack://d1/./node_modules/echarts/lib/util/innerStore.js","webpack://d1/./node_modules/echarts/lib/util/layout.js","webpack://d1/./node_modules/echarts/lib/util/log.js","webpack://d1/./node_modules/echarts/lib/util/model.js","webpack://d1/./node_modules/echarts/lib/util/number.js","webpack://d1/./node_modules/echarts/lib/util/shape/sausage.js","webpack://d1/./node_modules/echarts/lib/util/states.js","webpack://d1/./node_modules/echarts/lib/util/styleCompat.js","webpack://d1/./node_modules/echarts/lib/util/symbol.js","webpack://d1/./node_modules/echarts/lib/util/throttle.js","webpack://d1/./node_modules/echarts/lib/util/time.js","webpack://d1/./node_modules/echarts/lib/util/types.js","webpack://d1/./node_modules/echarts/lib/util/vendor.js","webpack://d1/./node_modules/echarts/lib/view/Chart.js","webpack://d1/./node_modules/echarts/lib/view/Component.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { extend, each, isArray, isString } from 'zrender/lib/core/util.js';\nimport { deprecateReplaceLog, deprecateLog } from '../util/log.js';\nimport { queryDataIndex } from '../util/model.js';\n// Legacy data selection action.\n// Includes: pieSelect, pieUnSelect, pieToggleSelect, mapSelect, mapUnSelect, mapToggleSelect\nexport function createLegacyDataSelectAction(seriesType, ecRegisterAction) {\n  function getSeriesIndices(ecModel, payload) {\n    var seriesIndices = [];\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: seriesType,\n      query: payload\n    }, function (seriesModel) {\n      seriesIndices.push(seriesModel.seriesIndex);\n    });\n    return seriesIndices;\n  }\n  each([[seriesType + 'ToggleSelect', 'toggleSelect'], [seriesType + 'Select', 'select'], [seriesType + 'UnSelect', 'unselect']], function (eventsMap) {\n    ecRegisterAction(eventsMap[0], function (payload, ecModel, api) {\n      payload = extend({}, payload);\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateReplaceLog(payload.type, eventsMap[1]);\n      }\n      api.dispatchAction(extend(payload, {\n        type: eventsMap[1],\n        seriesIndex: getSeriesIndices(ecModel, payload)\n      }));\n    });\n  });\n}\nfunction handleSeriesLegacySelectEvents(type, eventPostfix, ecIns, ecModel, payload) {\n  var legacyEventName = type + eventPostfix;\n  if (!ecIns.isSilent(legacyEventName)) {\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateLog(\"event \" + legacyEventName + \" is deprecated.\");\n    }\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: 'pie'\n    }, function (seriesModel) {\n      var seriesIndex = seriesModel.seriesIndex;\n      var selectedMap = seriesModel.option.selectedMap;\n      var selected = payload.selected;\n      for (var i = 0; i < selected.length; i++) {\n        if (selected[i].seriesIndex === seriesIndex) {\n          var data = seriesModel.getData();\n          var dataIndex = queryDataIndex(data, payload.fromActionPayload);\n          ecIns.trigger(legacyEventName, {\n            type: legacyEventName,\n            seriesId: seriesModel.id,\n            name: isArray(dataIndex) ? data.getName(dataIndex[0]) : data.getName(dataIndex),\n            selected: isString(selectedMap) ? selectedMap : extend({}, selectedMap)\n          });\n        }\n      }\n    });\n  }\n}\nexport function handleLegacySelectEvents(messageCenter, ecIns, api) {\n  messageCenter.on('selectchanged', function (params) {\n    var ecModel = api.getModel();\n    if (params.isFromClick) {\n      handleSeriesLegacySelectEvents('map', 'selectchanged', ecIns, ecModel, params);\n      handleSeriesLegacySelectEvents('pie', 'selectchanged', ecIns, ecModel, params);\n    } else if (params.fromAction === 'select') {\n      handleSeriesLegacySelectEvents('map', 'selected', ecIns, ecModel, params);\n      handleSeriesLegacySelectEvents('pie', 'selected', ecIns, ecModel, params);\n    } else if (params.fromAction === 'unselect') {\n      handleSeriesLegacySelectEvents('map', 'unselected', ecIns, ecModel, params);\n      handleSeriesLegacySelectEvents('pie', 'unselected', ecIns, ecModel, params);\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { Text } from '../util/graphic.js';\nexport function getTextRect(text, font, align, verticalAlign, padding, rich, truncate, lineHeight) {\n  var textEl = new Text({\n    style: {\n      text: text,\n      font: font,\n      align: align,\n      verticalAlign: verticalAlign,\n      padding: padding,\n      rich: rich,\n      overflow: truncate ? 'truncate' : null,\n      lineHeight: lineHeight\n    }\n  });\n  return textEl.getBoundingRect();\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../util/graphic.js';\nvar PI = Math.PI;\n/**\n * @param {module:echarts/ExtensionAPI} api\n * @param {Object} [opts]\n * @param {string} [opts.text]\n * @param {string} [opts.color]\n * @param {string} [opts.textColor]\n * @return {module:zrender/Element}\n */\nexport default function defaultLoading(api, opts) {\n  opts = opts || {};\n  zrUtil.defaults(opts, {\n    text: 'loading',\n    textColor: '#000',\n    fontSize: 12,\n    fontWeight: 'normal',\n    fontStyle: 'normal',\n    fontFamily: 'sans-serif',\n    maskColor: 'rgba(255, 255, 255, 0.8)',\n    showSpinner: true,\n    color: '#5470c6',\n    spinnerRadius: 10,\n    lineWidth: 5,\n    zlevel: 0\n  });\n  var group = new graphic.Group();\n  var mask = new graphic.Rect({\n    style: {\n      fill: opts.maskColor\n    },\n    zlevel: opts.zlevel,\n    z: 10000\n  });\n  group.add(mask);\n  var textContent = new graphic.Text({\n    style: {\n      text: opts.text,\n      fill: opts.textColor,\n      fontSize: opts.fontSize,\n      fontWeight: opts.fontWeight,\n      fontStyle: opts.fontStyle,\n      fontFamily: opts.fontFamily\n    },\n    zlevel: opts.zlevel,\n    z: 10001\n  });\n  var labelRect = new graphic.Rect({\n    style: {\n      fill: 'none'\n    },\n    textContent: textContent,\n    textConfig: {\n      position: 'right',\n      distance: 10\n    },\n    zlevel: opts.zlevel,\n    z: 10001\n  });\n  group.add(labelRect);\n  var arc;\n  if (opts.showSpinner) {\n    arc = new graphic.Arc({\n      shape: {\n        startAngle: -PI / 2,\n        endAngle: -PI / 2 + 0.1,\n        r: opts.spinnerRadius\n      },\n      style: {\n        stroke: opts.color,\n        lineCap: 'round',\n        lineWidth: opts.lineWidth\n      },\n      zlevel: opts.zlevel,\n      z: 10001\n    });\n    arc.animateShape(true).when(1000, {\n      endAngle: PI * 3 / 2\n    }).start('circularInOut');\n    arc.animateShape(true).when(1000, {\n      startAngle: PI * 3 / 2\n    }).delay(300).start('circularInOut');\n    group.add(arc);\n  }\n  // Inject resize\n  group.resize = function () {\n    var textWidth = textContent.getBoundingRect().width;\n    var r = opts.showSpinner ? opts.spinnerRadius : 0;\n    // cx = (containerWidth - arcDiameter - textDistance - textWidth) / 2\n    // textDistance needs to be calculated when both animation and text exist\n    var cx = (api.getWidth() - r * 2 - (opts.showSpinner && textWidth ? 10 : 0) - textWidth) / 2 - (opts.showSpinner && textWidth ? 0 : 5 + textWidth / 2)\n    // only show the text\n    + (opts.showSpinner ? 0 : textWidth / 2)\n    // only show the spinner\n    + (textWidth ? 0 : r);\n    var cy = api.getHeight() / 2;\n    opts.showSpinner && arc.setShape({\n      cx: cx,\n      cy: cy\n    });\n    labelRect.setShape({\n      x: cx - r,\n      y: cy - r,\n      width: r * 2,\n      height: r * 2\n    });\n    mask.setShape({\n      x: 0,\n      y: 0,\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n  };\n  group.resize();\n  return group;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport Model from './Model.js';\nimport * as componentUtil from '../util/component.js';\nimport { enableClassManagement, parseClassType, isExtendedClass, mountExtend } from '../util/clazz.js';\nimport { makeInner, queryReferringComponents } from '../util/model.js';\nimport * as layout from '../util/layout.js';\nvar inner = makeInner();\nvar ComponentModel = /** @class */function (_super) {\n  __extends(ComponentModel, _super);\n  function ComponentModel(option, parentModel, ecModel) {\n    var _this = _super.call(this, option, parentModel, ecModel) || this;\n    _this.uid = componentUtil.getUID('ec_cpt_model');\n    return _this;\n  }\n  ComponentModel.prototype.init = function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n  };\n  ComponentModel.prototype.mergeDefaultAndTheme = function (option, ecModel) {\n    var layoutMode = layout.fetchLayoutMode(this);\n    var inputPositionParams = layoutMode ? layout.getLayoutParams(option) : {};\n    var themeModel = ecModel.getTheme();\n    zrUtil.merge(option, themeModel.get(this.mainType));\n    zrUtil.merge(option, this.getDefaultOption());\n    if (layoutMode) {\n      layout.mergeLayoutParam(option, inputPositionParams, layoutMode);\n    }\n  };\n  ComponentModel.prototype.mergeOption = function (option, ecModel) {\n    zrUtil.merge(this.option, option, true);\n    var layoutMode = layout.fetchLayoutMode(this);\n    if (layoutMode) {\n      layout.mergeLayoutParam(this.option, option, layoutMode);\n    }\n  };\n  /**\n   * Called immediately after `init` or `mergeOption` of this instance called.\n   */\n  ComponentModel.prototype.optionUpdated = function (newCptOption, isInit) {};\n  /**\n   * [How to declare defaultOption]:\n   *\n   * (A) If using class declaration in typescript (since echarts 5):\n   * ```ts\n   * import {ComponentOption} from '../model/option.js';\n   * export interface XxxOption extends ComponentOption {\n   *     aaa: number\n   * }\n   * export class XxxModel extends Component {\n   *     static type = 'xxx';\n   *     static defaultOption: XxxOption = {\n   *         aaa: 123\n   *     }\n   * }\n   * Component.registerClass(XxxModel);\n   * ```\n   * ```ts\n   * import {inheritDefaultOption} from '../util/component.js';\n   * import {XxxModel, XxxOption} from './XxxModel.js';\n   * export interface XxxSubOption extends XxxOption {\n   *     bbb: number\n   * }\n   * class XxxSubModel extends XxxModel {\n   *     static defaultOption: XxxSubOption = inheritDefaultOption(XxxModel.defaultOption, {\n   *         bbb: 456\n   *     })\n   *     fn() {\n   *         let opt = this.getDefaultOption();\n   *         // opt is {aaa: 123, bbb: 456}\n   *     }\n   * }\n   * ```\n   *\n   * (B) If using class extend (previous approach in echarts 3 & 4):\n   * ```js\n   * let XxxComponent = Component.extend({\n   *     defaultOption: {\n   *         xx: 123\n   *     }\n   * })\n   * ```\n   * ```js\n   * let XxxSubComponent = XxxComponent.extend({\n   *     defaultOption: {\n   *         yy: 456\n   *     },\n   *     fn: function () {\n   *         let opt = this.getDefaultOption();\n   *         // opt is {xx: 123, yy: 456}\n   *     }\n   * })\n   * ```\n   */\n  ComponentModel.prototype.getDefaultOption = function () {\n    var ctor = this.constructor;\n    // If using class declaration, it is different to travel super class\n    // in legacy env and auto merge defaultOption. So if using class\n    // declaration, defaultOption should be merged manually.\n    if (!isExtendedClass(ctor)) {\n      // When using ts class, defaultOption must be declared as static.\n      return ctor.defaultOption;\n    }\n    // FIXME: remove this approach?\n    var fields = inner(this);\n    if (!fields.defaultOption) {\n      var optList = [];\n      var clz = ctor;\n      while (clz) {\n        var opt = clz.prototype.defaultOption;\n        opt && optList.push(opt);\n        clz = clz.superClass;\n      }\n      var defaultOption = {};\n      for (var i = optList.length - 1; i >= 0; i--) {\n        defaultOption = zrUtil.merge(defaultOption, optList[i], true);\n      }\n      fields.defaultOption = defaultOption;\n    }\n    return fields.defaultOption;\n  };\n  /**\n   * Notice: always force to input param `useDefault` in case that forget to consider it.\n   * The same behavior as `modelUtil.parseFinder`.\n   *\n   * @param useDefault In many cases like series refer axis and axis refer grid,\n   *        If axis index / axis id not specified, use the first target as default.\n   *        In other cases like dataZoom refer axis, if not specified, measn no refer.\n   */\n  ComponentModel.prototype.getReferringComponents = function (mainType, opt) {\n    var indexKey = mainType + 'Index';\n    var idKey = mainType + 'Id';\n    return queryReferringComponents(this.ecModel, mainType, {\n      index: this.get(indexKey, true),\n      id: this.get(idKey, true)\n    }, opt);\n  };\n  ComponentModel.prototype.getBoxLayoutParams = function () {\n    // Consider itself having box layout configs.\n    var boxLayoutModel = this;\n    return {\n      left: boxLayoutModel.get('left'),\n      top: boxLayoutModel.get('top'),\n      right: boxLayoutModel.get('right'),\n      bottom: boxLayoutModel.get('bottom'),\n      width: boxLayoutModel.get('width'),\n      height: boxLayoutModel.get('height')\n    };\n  };\n  /**\n   * Get key for zlevel.\n   * If developers don't configure zlevel. We will assign zlevel to series based on the key.\n   * For example, lines with trail effect and progressive series will in an individual zlevel.\n   */\n  ComponentModel.prototype.getZLevelKey = function () {\n    return '';\n  };\n  ComponentModel.prototype.setZLevel = function (zlevel) {\n    this.option.zlevel = zlevel;\n  };\n  ComponentModel.protoInitialize = function () {\n    var proto = ComponentModel.prototype;\n    proto.type = 'component';\n    proto.id = '';\n    proto.name = '';\n    proto.mainType = '';\n    proto.subType = '';\n    proto.componentIndex = 0;\n  }();\n  return ComponentModel;\n}(Model);\nmountExtend(ComponentModel, Model);\nenableClassManagement(ComponentModel);\ncomponentUtil.enableSubTypeDefaulter(ComponentModel);\ncomponentUtil.enableTopologicalTravel(ComponentModel, getDependencies);\nfunction getDependencies(componentType) {\n  var deps = [];\n  zrUtil.each(ComponentModel.getClassesByMainType(componentType), function (clz) {\n    deps = deps.concat(clz.dependencies || clz.prototype.dependencies || []);\n  });\n  // Ensure main type.\n  deps = zrUtil.map(deps, function (type) {\n    return parseClassType(type).main;\n  });\n  // Hack dataset for convenience.\n  if (componentType !== 'dataset' && zrUtil.indexOf(deps, 'dataset') <= 0) {\n    deps.unshift('dataset');\n  }\n  return deps;\n}\nexport default ComponentModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar platform = '';\n// Navigator not exists in node\nif (typeof navigator !== 'undefined') {\n  /* global navigator */\n  platform = navigator.platform || '';\n}\nvar decalColor = 'rgba(0, 0, 0, 0.2)';\nexport default {\n  darkMode: 'auto',\n  // backgroundColor: 'rgba(0,0,0,0)',\n  colorBy: 'series',\n  color: ['#5470c6', '#91cc75', '#fac858', '#ee6666', '#73c0de', '#3ba272', '#fc8452', '#9a60b4', '#ea7ccc'],\n  gradientColor: ['#f6efa6', '#d88273', '#bf444c'],\n  aria: {\n    decal: {\n      decals: [{\n        color: decalColor,\n        dashArrayX: [1, 0],\n        dashArrayY: [2, 5],\n        symbolSize: 1,\n        rotation: Math.PI / 6\n      }, {\n        color: decalColor,\n        symbol: 'circle',\n        dashArrayX: [[8, 8], [0, 8, 8, 0]],\n        dashArrayY: [6, 0],\n        symbolSize: 0.8\n      }, {\n        color: decalColor,\n        dashArrayX: [1, 0],\n        dashArrayY: [4, 3],\n        rotation: -Math.PI / 4\n      }, {\n        color: decalColor,\n        dashArrayX: [[6, 6], [0, 6, 6, 0]],\n        dashArrayY: [6, 0]\n      }, {\n        color: decalColor,\n        dashArrayX: [[1, 0], [1, 6]],\n        dashArrayY: [1, 0, 6, 0],\n        rotation: Math.PI / 4\n      }, {\n        color: decalColor,\n        symbol: 'triangle',\n        dashArrayX: [[9, 9], [0, 9, 9, 0]],\n        dashArrayY: [7, 2],\n        symbolSize: 0.75\n      }]\n    }\n  },\n  // If xAxis and yAxis declared, grid is created by default.\n  // grid: {},\n  textStyle: {\n    // color: '#000',\n    // decoration: 'none',\n    // PENDING\n    fontFamily: platform.match(/^Win/) ? 'Microsoft YaHei' : 'sans-serif',\n    // fontFamily: 'Arial, Verdana, sans-serif',\n    fontSize: 12,\n    fontStyle: 'normal',\n    fontWeight: 'normal'\n  },\n  // http://blogs.adobe.com/webplatform/2014/02/24/using-blend-modes-in-html-canvas/\n  // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation\n  // Default is source-over\n  blendMode: null,\n  stateAnimation: {\n    duration: 300,\n    easing: 'cubicOut'\n  },\n  animation: 'auto',\n  animationDuration: 1000,\n  animationDurationUpdate: 500,\n  animationEasing: 'cubicInOut',\n  animationEasingUpdate: 'cubicInOut',\n  animationThreshold: 2000,\n  // Configuration for progressive/incremental rendering\n  progressiveThreshold: 3000,\n  progressive: 400,\n  // Threshold of if use single hover layer to optimize.\n  // It is recommended that `hoverLayerThreshold` is equivalent to or less than\n  // `progressiveThreshold`, otherwise hover will cause restart of progressive,\n  // which is unexpected.\n  // see example <echarts/test/heatmap-large.html>.\n  hoverLayerThreshold: 3000,\n  // See: module:echarts/scale/Time\n  useUTC: false\n};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Caution: If the mechanism should be changed some day, these cases\n * should be considered:\n *\n * (1) In `merge option` mode, if using the same option to call `setOption`\n * many times, the result should be the same (try our best to ensure that).\n * (2) In `merge option` mode, if a component has no id/name specified, it\n * will be merged by index, and the result sequence of the components is\n * consistent to the original sequence.\n * (3) In `replaceMerge` mode, keep the result sequence of the components is\n * consistent to the original sequence, even though there might result in \"hole\".\n * (4) `reset` feature (in toolbox). Find detailed info in comments about\n * `mergeOption` in module:echarts/model/OptionManager.\n */\nimport { each, filter, isArray, isObject, isString, createHashMap, assert, clone, merge, extend, mixin, isFunction } from 'zrender/lib/core/util.js';\nimport * as modelUtil from '../util/model.js';\nimport Model from './Model.js';\nimport ComponentModel from './Component.js';\nimport globalDefault from './globalDefault.js';\nimport { resetSourceDefaulter } from '../data/helper/sourceHelper.js';\nimport { concatInternalOptions } from './internalComponentCreator.js';\nimport { PaletteMixin } from './mixin/palette.js';\nimport { error, warn } from '../util/log.js';\n// -----------------------\n// Internal method names:\n// -----------------------\nvar reCreateSeriesIndices;\nvar assertSeriesInitialized;\nvar initBase;\nvar OPTION_INNER_KEY = '\\0_ec_inner';\nvar OPTION_INNER_VALUE = 1;\nvar BUITIN_COMPONENTS_MAP = {\n  grid: 'GridComponent',\n  polar: 'PolarComponent',\n  geo: 'GeoComponent',\n  singleAxis: 'SingleAxisComponent',\n  parallel: 'ParallelComponent',\n  calendar: 'CalendarComponent',\n  graphic: 'GraphicComponent',\n  toolbox: 'ToolboxComponent',\n  tooltip: 'TooltipComponent',\n  axisPointer: 'AxisPointerComponent',\n  brush: 'BrushComponent',\n  title: 'TitleComponent',\n  timeline: 'TimelineComponent',\n  markPoint: 'MarkPointComponent',\n  markLine: 'MarkLineComponent',\n  markArea: 'MarkAreaComponent',\n  legend: 'LegendComponent',\n  dataZoom: 'DataZoomComponent',\n  visualMap: 'VisualMapComponent',\n  // aria: 'AriaComponent',\n  // dataset: 'DatasetComponent',\n  // Dependencies\n  xAxis: 'GridComponent',\n  yAxis: 'GridComponent',\n  angleAxis: 'PolarComponent',\n  radiusAxis: 'PolarComponent'\n};\nvar BUILTIN_CHARTS_MAP = {\n  line: 'LineChart',\n  bar: 'BarChart',\n  pie: 'PieChart',\n  scatter: 'ScatterChart',\n  radar: 'RadarChart',\n  map: 'MapChart',\n  tree: 'TreeChart',\n  treemap: 'TreemapChart',\n  graph: 'GraphChart',\n  gauge: 'GaugeChart',\n  funnel: 'FunnelChart',\n  parallel: 'ParallelChart',\n  sankey: 'SankeyChart',\n  boxplot: 'BoxplotChart',\n  candlestick: 'CandlestickChart',\n  effectScatter: 'EffectScatterChart',\n  lines: 'LinesChart',\n  heatmap: 'HeatmapChart',\n  pictorialBar: 'PictorialBarChart',\n  themeRiver: 'ThemeRiverChart',\n  sunburst: 'SunburstChart',\n  custom: 'CustomChart'\n};\nvar componetsMissingLogPrinted = {};\nfunction checkMissingComponents(option) {\n  each(option, function (componentOption, mainType) {\n    if (!ComponentModel.hasClass(mainType)) {\n      var componentImportName = BUITIN_COMPONENTS_MAP[mainType];\n      if (componentImportName && !componetsMissingLogPrinted[componentImportName]) {\n        error(\"Component \" + mainType + \" is used but not imported.\\nimport { \" + componentImportName + \" } from 'echarts/components';\\necharts.use([\" + componentImportName + \"]);\");\n        componetsMissingLogPrinted[componentImportName] = true;\n      }\n    }\n  });\n}\nvar GlobalModel = /** @class */function (_super) {\n  __extends(GlobalModel, _super);\n  function GlobalModel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  GlobalModel.prototype.init = function (option, parentModel, ecModel, theme, locale, optionManager) {\n    theme = theme || {};\n    this.option = null; // Mark as not initialized.\n    this._theme = new Model(theme);\n    this._locale = new Model(locale);\n    this._optionManager = optionManager;\n  };\n  GlobalModel.prototype.setOption = function (option, opts, optionPreprocessorFuncs) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(option != null, 'option is null/undefined');\n      assert(option[OPTION_INNER_KEY] !== OPTION_INNER_VALUE, 'please use chart.getOption()');\n    }\n    var innerOpt = normalizeSetOptionInput(opts);\n    this._optionManager.setOption(option, optionPreprocessorFuncs, innerOpt);\n    this._resetOption(null, innerOpt);\n  };\n  /**\n   * @param type null/undefined: reset all.\n   *        'recreate': force recreate all.\n   *        'timeline': only reset timeline option\n   *        'media': only reset media query option\n   * @return Whether option changed.\n   */\n  GlobalModel.prototype.resetOption = function (type, opt) {\n    return this._resetOption(type, normalizeSetOptionInput(opt));\n  };\n  GlobalModel.prototype._resetOption = function (type, opt) {\n    var optionChanged = false;\n    var optionManager = this._optionManager;\n    if (!type || type === 'recreate') {\n      var baseOption = optionManager.mountOption(type === 'recreate');\n      if (process.env.NODE_ENV !== 'production') {\n        checkMissingComponents(baseOption);\n      }\n      if (!this.option || type === 'recreate') {\n        initBase(this, baseOption);\n      } else {\n        this.restoreData();\n        this._mergeOption(baseOption, opt);\n      }\n      optionChanged = true;\n    }\n    if (type === 'timeline' || type === 'media') {\n      this.restoreData();\n    }\n    // By design, if `setOption(option2)` at the second time, and `option2` is a `ECUnitOption`,\n    // it should better not have the same props with `MediaUnit['option']`.\n    // Because either `option2` or `MediaUnit['option']` will be always merged to \"current option\"\n    // rather than original \"baseOption\". If they both override a prop, the result might be\n    // unexpected when media state changed after `setOption` called.\n    // If we really need to modify a props in each `MediaUnit['option']`, use the full version\n    // (`{baseOption, media}`) in `setOption`.\n    // For `timeline`, the case is the same.\n    if (!type || type === 'recreate' || type === 'timeline') {\n      var timelineOption = optionManager.getTimelineOption(this);\n      if (timelineOption) {\n        optionChanged = true;\n        this._mergeOption(timelineOption, opt);\n      }\n    }\n    if (!type || type === 'recreate' || type === 'media') {\n      var mediaOptions = optionManager.getMediaOption(this);\n      if (mediaOptions.length) {\n        each(mediaOptions, function (mediaOption) {\n          optionChanged = true;\n          this._mergeOption(mediaOption, opt);\n        }, this);\n      }\n    }\n    return optionChanged;\n  };\n  GlobalModel.prototype.mergeOption = function (option) {\n    this._mergeOption(option, null);\n  };\n  GlobalModel.prototype._mergeOption = function (newOption, opt) {\n    var option = this.option;\n    var componentsMap = this._componentsMap;\n    var componentsCount = this._componentsCount;\n    var newCmptTypes = [];\n    var newCmptTypeMap = createHashMap();\n    var replaceMergeMainTypeMap = opt && opt.replaceMergeMainTypeMap;\n    resetSourceDefaulter(this);\n    // If no component class, merge directly.\n    // For example: color, animaiton options, etc.\n    each(newOption, function (componentOption, mainType) {\n      if (componentOption == null) {\n        return;\n      }\n      if (!ComponentModel.hasClass(mainType)) {\n        // globalSettingTask.dirty();\n        option[mainType] = option[mainType] == null ? clone(componentOption) : merge(option[mainType], componentOption, true);\n      } else if (mainType) {\n        newCmptTypes.push(mainType);\n        newCmptTypeMap.set(mainType, true);\n      }\n    });\n    if (replaceMergeMainTypeMap) {\n      // If there is a mainType `xxx` in `replaceMerge` but not declared in option,\n      // we trade it as it is declared in option as `{xxx: []}`. Because:\n      // (1) for normal merge, `{xxx: null/undefined}` are the same meaning as `{xxx: []}`.\n      // (2) some preprocessor may convert some of `{xxx: null/undefined}` to `{xxx: []}`.\n      replaceMergeMainTypeMap.each(function (val, mainTypeInReplaceMerge) {\n        if (ComponentModel.hasClass(mainTypeInReplaceMerge) && !newCmptTypeMap.get(mainTypeInReplaceMerge)) {\n          newCmptTypes.push(mainTypeInReplaceMerge);\n          newCmptTypeMap.set(mainTypeInReplaceMerge, true);\n        }\n      });\n    }\n    ComponentModel.topologicalTravel(newCmptTypes, ComponentModel.getAllClassMainTypes(), visitComponent, this);\n    function visitComponent(mainType) {\n      var newCmptOptionList = concatInternalOptions(this, mainType, modelUtil.normalizeToArray(newOption[mainType]));\n      var oldCmptList = componentsMap.get(mainType);\n      var mergeMode =\n      // `!oldCmptList` means init. See the comment in `mappingToExists`\n      !oldCmptList ? 'replaceAll' : replaceMergeMainTypeMap && replaceMergeMainTypeMap.get(mainType) ? 'replaceMerge' : 'normalMerge';\n      var mappingResult = modelUtil.mappingToExists(oldCmptList, newCmptOptionList, mergeMode);\n      // Set mainType and complete subType.\n      modelUtil.setComponentTypeToKeyInfo(mappingResult, mainType, ComponentModel);\n      // Empty it before the travel, in order to prevent `this._componentsMap`\n      // from being used in the `init`/`mergeOption`/`optionUpdated` of some\n      // components, which is probably incorrect logic.\n      option[mainType] = null;\n      componentsMap.set(mainType, null);\n      componentsCount.set(mainType, 0);\n      var optionsByMainType = [];\n      var cmptsByMainType = [];\n      var cmptsCountByMainType = 0;\n      var tooltipExists;\n      var tooltipWarningLogged;\n      each(mappingResult, function (resultItem, index) {\n        var componentModel = resultItem.existing;\n        var newCmptOption = resultItem.newOption;\n        if (!newCmptOption) {\n          if (componentModel) {\n            // Consider where is no new option and should be merged using {},\n            // see removeEdgeAndAdd in topologicalTravel and\n            // ComponentModel.getAllClassMainTypes.\n            componentModel.mergeOption({}, this);\n            componentModel.optionUpdated({}, false);\n          }\n          // If no both `resultItem.exist` and `resultItem.option`,\n          // either it is in `replaceMerge` and not matched by any id,\n          // or it has been removed in previous `replaceMerge` and left a \"hole\" in this component index.\n        } else {\n          var isSeriesType = mainType === 'series';\n          var ComponentModelClass = ComponentModel.getClass(mainType, resultItem.keyInfo.subType, !isSeriesType // Give a more detailed warn later if series don't exists\n          );\n\n          if (!ComponentModelClass) {\n            if (process.env.NODE_ENV !== 'production') {\n              var subType = resultItem.keyInfo.subType;\n              var seriesImportName = BUILTIN_CHARTS_MAP[subType];\n              if (!componetsMissingLogPrinted[subType]) {\n                componetsMissingLogPrinted[subType] = true;\n                if (seriesImportName) {\n                  error(\"Series \" + subType + \" is used but not imported.\\nimport { \" + seriesImportName + \" } from 'echarts/charts';\\necharts.use([\" + seriesImportName + \"]);\");\n                } else {\n                  error(\"Unknown series \" + subType);\n                }\n              }\n            }\n            return;\n          }\n          // TODO Before multiple tooltips get supported, we do this check to avoid unexpected exception.\n          if (mainType === 'tooltip') {\n            if (tooltipExists) {\n              if (process.env.NODE_ENV !== 'production') {\n                if (!tooltipWarningLogged) {\n                  warn('Currently only one tooltip component is allowed.');\n                  tooltipWarningLogged = true;\n                }\n              }\n              return;\n            }\n            tooltipExists = true;\n          }\n          if (componentModel && componentModel.constructor === ComponentModelClass) {\n            componentModel.name = resultItem.keyInfo.name;\n            // componentModel.settingTask && componentModel.settingTask.dirty();\n            componentModel.mergeOption(newCmptOption, this);\n            componentModel.optionUpdated(newCmptOption, false);\n          } else {\n            // PENDING Global as parent ?\n            var extraOpt = extend({\n              componentIndex: index\n            }, resultItem.keyInfo);\n            componentModel = new ComponentModelClass(newCmptOption, this, this, extraOpt);\n            // Assign `keyInfo`\n            extend(componentModel, extraOpt);\n            if (resultItem.brandNew) {\n              componentModel.__requireNewView = true;\n            }\n            componentModel.init(newCmptOption, this, this);\n            // Call optionUpdated after init.\n            // newCmptOption has been used as componentModel.option\n            // and may be merged with theme and default, so pass null\n            // to avoid confusion.\n            componentModel.optionUpdated(null, true);\n          }\n        }\n        if (componentModel) {\n          optionsByMainType.push(componentModel.option);\n          cmptsByMainType.push(componentModel);\n          cmptsCountByMainType++;\n        } else {\n          // Always do assign to avoid elided item in array.\n          optionsByMainType.push(void 0);\n          cmptsByMainType.push(void 0);\n        }\n      }, this);\n      option[mainType] = optionsByMainType;\n      componentsMap.set(mainType, cmptsByMainType);\n      componentsCount.set(mainType, cmptsCountByMainType);\n      // Backup series for filtering.\n      if (mainType === 'series') {\n        reCreateSeriesIndices(this);\n      }\n    }\n    // If no series declared, ensure `_seriesIndices` initialized.\n    if (!this._seriesIndices) {\n      reCreateSeriesIndices(this);\n    }\n  };\n  /**\n   * Get option for output (cloned option and inner info removed)\n   */\n  GlobalModel.prototype.getOption = function () {\n    var option = clone(this.option);\n    each(option, function (optInMainType, mainType) {\n      if (ComponentModel.hasClass(mainType)) {\n        var opts = modelUtil.normalizeToArray(optInMainType);\n        // Inner cmpts need to be removed.\n        // Inner cmpts might not be at last since ec5.0, but still\n        // compatible for users: if inner cmpt at last, splice the returned array.\n        var realLen = opts.length;\n        var metNonInner = false;\n        for (var i = realLen - 1; i >= 0; i--) {\n          // Remove options with inner id.\n          if (opts[i] && !modelUtil.isComponentIdInternal(opts[i])) {\n            metNonInner = true;\n          } else {\n            opts[i] = null;\n            !metNonInner && realLen--;\n          }\n        }\n        opts.length = realLen;\n        option[mainType] = opts;\n      }\n    });\n    delete option[OPTION_INNER_KEY];\n    return option;\n  };\n  GlobalModel.prototype.getTheme = function () {\n    return this._theme;\n  };\n  GlobalModel.prototype.getLocaleModel = function () {\n    return this._locale;\n  };\n  GlobalModel.prototype.setUpdatePayload = function (payload) {\n    this._payload = payload;\n  };\n  GlobalModel.prototype.getUpdatePayload = function () {\n    return this._payload;\n  };\n  /**\n   * @param idx If not specified, return the first one.\n   */\n  GlobalModel.prototype.getComponent = function (mainType, idx) {\n    var list = this._componentsMap.get(mainType);\n    if (list) {\n      var cmpt = list[idx || 0];\n      if (cmpt) {\n        return cmpt;\n      } else if (idx == null) {\n        for (var i = 0; i < list.length; i++) {\n          if (list[i]) {\n            return list[i];\n          }\n        }\n      }\n    }\n  };\n  /**\n   * @return Never be null/undefined.\n   */\n  GlobalModel.prototype.queryComponents = function (condition) {\n    var mainType = condition.mainType;\n    if (!mainType) {\n      return [];\n    }\n    var index = condition.index;\n    var id = condition.id;\n    var name = condition.name;\n    var cmpts = this._componentsMap.get(mainType);\n    if (!cmpts || !cmpts.length) {\n      return [];\n    }\n    var result;\n    if (index != null) {\n      result = [];\n      each(modelUtil.normalizeToArray(index), function (idx) {\n        cmpts[idx] && result.push(cmpts[idx]);\n      });\n    } else if (id != null) {\n      result = queryByIdOrName('id', id, cmpts);\n    } else if (name != null) {\n      result = queryByIdOrName('name', name, cmpts);\n    } else {\n      // Return all non-empty components in that mainType\n      result = filter(cmpts, function (cmpt) {\n        return !!cmpt;\n      });\n    }\n    return filterBySubType(result, condition);\n  };\n  /**\n   * The interface is different from queryComponents,\n   * which is convenient for inner usage.\n   *\n   * @usage\n   * let result = findComponents(\n   *     {mainType: 'dataZoom', query: {dataZoomId: 'abc'}}\n   * );\n   * let result = findComponents(\n   *     {mainType: 'series', subType: 'pie', query: {seriesName: 'uio'}}\n   * );\n   * let result = findComponents(\n   *     {mainType: 'series',\n   *     filter: function (model, index) {...}}\n   * );\n   * // result like [component0, componnet1, ...]\n   */\n  GlobalModel.prototype.findComponents = function (condition) {\n    var query = condition.query;\n    var mainType = condition.mainType;\n    var queryCond = getQueryCond(query);\n    var result = queryCond ? this.queryComponents(queryCond)\n    // Retrieve all non-empty components.\n    : filter(this._componentsMap.get(mainType), function (cmpt) {\n      return !!cmpt;\n    });\n    return doFilter(filterBySubType(result, condition));\n    function getQueryCond(q) {\n      var indexAttr = mainType + 'Index';\n      var idAttr = mainType + 'Id';\n      var nameAttr = mainType + 'Name';\n      return q && (q[indexAttr] != null || q[idAttr] != null || q[nameAttr] != null) ? {\n        mainType: mainType,\n        // subType will be filtered finally.\n        index: q[indexAttr],\n        id: q[idAttr],\n        name: q[nameAttr]\n      } : null;\n    }\n    function doFilter(res) {\n      return condition.filter ? filter(res, condition.filter) : res;\n    }\n  };\n  GlobalModel.prototype.eachComponent = function (mainType, cb, context) {\n    var componentsMap = this._componentsMap;\n    if (isFunction(mainType)) {\n      var ctxForAll_1 = cb;\n      var cbForAll_1 = mainType;\n      componentsMap.each(function (cmpts, componentType) {\n        for (var i = 0; cmpts && i < cmpts.length; i++) {\n          var cmpt = cmpts[i];\n          cmpt && cbForAll_1.call(ctxForAll_1, componentType, cmpt, cmpt.componentIndex);\n        }\n      });\n    } else {\n      var cmpts = isString(mainType) ? componentsMap.get(mainType) : isObject(mainType) ? this.findComponents(mainType) : null;\n      for (var i = 0; cmpts && i < cmpts.length; i++) {\n        var cmpt = cmpts[i];\n        cmpt && cb.call(context, cmpt, cmpt.componentIndex);\n      }\n    }\n  };\n  /**\n   * Get series list before filtered by name.\n   */\n  GlobalModel.prototype.getSeriesByName = function (name) {\n    var nameStr = modelUtil.convertOptionIdName(name, null);\n    return filter(this._componentsMap.get('series'), function (oneSeries) {\n      return !!oneSeries && nameStr != null && oneSeries.name === nameStr;\n    });\n  };\n  /**\n   * Get series list before filtered by index.\n   */\n  GlobalModel.prototype.getSeriesByIndex = function (seriesIndex) {\n    return this._componentsMap.get('series')[seriesIndex];\n  };\n  /**\n   * Get series list before filtered by type.\n   * FIXME: rename to getRawSeriesByType?\n   */\n  GlobalModel.prototype.getSeriesByType = function (subType) {\n    return filter(this._componentsMap.get('series'), function (oneSeries) {\n      return !!oneSeries && oneSeries.subType === subType;\n    });\n  };\n  /**\n   * Get all series before filtered.\n   */\n  GlobalModel.prototype.getSeries = function () {\n    return filter(this._componentsMap.get('series'), function (oneSeries) {\n      return !!oneSeries;\n    });\n  };\n  /**\n   * Count series before filtered.\n   */\n  GlobalModel.prototype.getSeriesCount = function () {\n    return this._componentsCount.get('series');\n  };\n  /**\n   * After filtering, series may be different\n   * from raw series.\n   */\n  GlobalModel.prototype.eachSeries = function (cb, context) {\n    assertSeriesInitialized(this);\n    each(this._seriesIndices, function (rawSeriesIndex) {\n      var series = this._componentsMap.get('series')[rawSeriesIndex];\n      cb.call(context, series, rawSeriesIndex);\n    }, this);\n  };\n  /**\n   * Iterate raw series before filtered.\n   *\n   * @param {Function} cb\n   * @param {*} context\n   */\n  GlobalModel.prototype.eachRawSeries = function (cb, context) {\n    each(this._componentsMap.get('series'), function (series) {\n      series && cb.call(context, series, series.componentIndex);\n    });\n  };\n  /**\n   * After filtering, series may be different.\n   * from raw series.\n   */\n  GlobalModel.prototype.eachSeriesByType = function (subType, cb, context) {\n    assertSeriesInitialized(this);\n    each(this._seriesIndices, function (rawSeriesIndex) {\n      var series = this._componentsMap.get('series')[rawSeriesIndex];\n      if (series.subType === subType) {\n        cb.call(context, series, rawSeriesIndex);\n      }\n    }, this);\n  };\n  /**\n   * Iterate raw series before filtered of given type.\n   */\n  GlobalModel.prototype.eachRawSeriesByType = function (subType, cb, context) {\n    return each(this.getSeriesByType(subType), cb, context);\n  };\n  GlobalModel.prototype.isSeriesFiltered = function (seriesModel) {\n    assertSeriesInitialized(this);\n    return this._seriesIndicesMap.get(seriesModel.componentIndex) == null;\n  };\n  GlobalModel.prototype.getCurrentSeriesIndices = function () {\n    return (this._seriesIndices || []).slice();\n  };\n  GlobalModel.prototype.filterSeries = function (cb, context) {\n    assertSeriesInitialized(this);\n    var newSeriesIndices = [];\n    each(this._seriesIndices, function (seriesRawIdx) {\n      var series = this._componentsMap.get('series')[seriesRawIdx];\n      cb.call(context, series, seriesRawIdx) && newSeriesIndices.push(seriesRawIdx);\n    }, this);\n    this._seriesIndices = newSeriesIndices;\n    this._seriesIndicesMap = createHashMap(newSeriesIndices);\n  };\n  GlobalModel.prototype.restoreData = function (payload) {\n    reCreateSeriesIndices(this);\n    var componentsMap = this._componentsMap;\n    var componentTypes = [];\n    componentsMap.each(function (components, componentType) {\n      if (ComponentModel.hasClass(componentType)) {\n        componentTypes.push(componentType);\n      }\n    });\n    ComponentModel.topologicalTravel(componentTypes, ComponentModel.getAllClassMainTypes(), function (componentType) {\n      each(componentsMap.get(componentType), function (component) {\n        if (component && (componentType !== 'series' || !isNotTargetSeries(component, payload))) {\n          component.restoreData();\n        }\n      });\n    });\n  };\n  GlobalModel.internalField = function () {\n    reCreateSeriesIndices = function (ecModel) {\n      var seriesIndices = ecModel._seriesIndices = [];\n      each(ecModel._componentsMap.get('series'), function (series) {\n        // series may have been removed by `replaceMerge`.\n        series && seriesIndices.push(series.componentIndex);\n      });\n      ecModel._seriesIndicesMap = createHashMap(seriesIndices);\n    };\n    assertSeriesInitialized = function (ecModel) {\n      // Components that use _seriesIndices should depends on series component,\n      // which make sure that their initialization is after series.\n      if (process.env.NODE_ENV !== 'production') {\n        if (!ecModel._seriesIndices) {\n          throw new Error('Option should contains series.');\n        }\n      }\n    };\n    initBase = function (ecModel, baseOption) {\n      // Using OPTION_INNER_KEY to mark that this option cannot be used outside,\n      // i.e. `chart.setOption(chart.getModel().option);` is forbidden.\n      ecModel.option = {};\n      ecModel.option[OPTION_INNER_KEY] = OPTION_INNER_VALUE;\n      // Init with series: [], in case of calling findSeries method\n      // before series initialized.\n      ecModel._componentsMap = createHashMap({\n        series: []\n      });\n      ecModel._componentsCount = createHashMap();\n      // If user spefied `option.aria`, aria will be enable. This detection should be\n      // performed before theme and globalDefault merge.\n      var airaOption = baseOption.aria;\n      if (isObject(airaOption) && airaOption.enabled == null) {\n        airaOption.enabled = true;\n      }\n      mergeTheme(baseOption, ecModel._theme.option);\n      // TODO Needs clone when merging to the unexisted property\n      merge(baseOption, globalDefault, false);\n      ecModel._mergeOption(baseOption, null);\n    };\n  }();\n  return GlobalModel;\n}(Model);\nfunction isNotTargetSeries(seriesModel, payload) {\n  if (payload) {\n    var index = payload.seriesIndex;\n    var id = payload.seriesId;\n    var name_1 = payload.seriesName;\n    return index != null && seriesModel.componentIndex !== index || id != null && seriesModel.id !== id || name_1 != null && seriesModel.name !== name_1;\n  }\n}\nfunction mergeTheme(option, theme) {\n  // PENDING\n  // NOT use `colorLayer` in theme if option has `color`\n  var notMergeColorLayer = option.color && !option.colorLayer;\n  each(theme, function (themeItem, name) {\n    if (name === 'colorLayer' && notMergeColorLayer) {\n      return;\n    }\n    // If it is component model mainType, the model handles that merge later.\n    // otherwise, merge them here.\n    if (!ComponentModel.hasClass(name)) {\n      if (typeof themeItem === 'object') {\n        option[name] = !option[name] ? clone(themeItem) : merge(option[name], themeItem, false);\n      } else {\n        if (option[name] == null) {\n          option[name] = themeItem;\n        }\n      }\n    }\n  });\n}\nfunction queryByIdOrName(attr, idOrName, cmpts) {\n  // Here is a break from echarts4: string and number are\n  // treated as equal.\n  if (isArray(idOrName)) {\n    var keyMap_1 = createHashMap();\n    each(idOrName, function (idOrNameItem) {\n      if (idOrNameItem != null) {\n        var idName = modelUtil.convertOptionIdName(idOrNameItem, null);\n        idName != null && keyMap_1.set(idOrNameItem, true);\n      }\n    });\n    return filter(cmpts, function (cmpt) {\n      return cmpt && keyMap_1.get(cmpt[attr]);\n    });\n  } else {\n    var idName_1 = modelUtil.convertOptionIdName(idOrName, null);\n    return filter(cmpts, function (cmpt) {\n      return cmpt && idName_1 != null && cmpt[attr] === idName_1;\n    });\n  }\n}\nfunction filterBySubType(components, condition) {\n  // Using hasOwnProperty for restrict. Consider\n  // subType is undefined in user payload.\n  return condition.hasOwnProperty('subType') ? filter(components, function (cmpt) {\n    return cmpt && cmpt.subType === condition.subType;\n  }) : components;\n}\nfunction normalizeSetOptionInput(opts) {\n  var replaceMergeMainTypeMap = createHashMap();\n  opts && each(modelUtil.normalizeToArray(opts.replaceMerge), function (mainType) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(ComponentModel.hasClass(mainType), '\"' + mainType + '\" is not valid component main type in \"replaceMerge\"');\n    }\n    replaceMergeMainTypeMap.set(mainType, true);\n  });\n  return {\n    replaceMergeMainTypeMap: replaceMergeMainTypeMap\n  };\n}\nmixin(GlobalModel, PaletteMixin);\nexport default GlobalModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport makeStyleMapper from './makeStyleMapper.js';\nexport var AREA_STYLE_KEY_MAP = [['fill', 'color'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['opacity'], ['shadowColor']\n// Option decal is in `DecalObject` but style.decal is in `PatternObject`.\n// So do not transfer decal directly.\n];\n\nvar getAreaStyle = makeStyleMapper(AREA_STYLE_KEY_MAP);\nvar AreaStyleMixin = /** @class */function () {\n  function AreaStyleMixin() {}\n  AreaStyleMixin.prototype.getAreaStyle = function (excludes, includes) {\n    return getAreaStyle(this, excludes, includes);\n  };\n  return AreaStyleMixin;\n}();\n;\nexport { AreaStyleMixin };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { getFont } from '../../label/labelStyle.js';\nimport ZRText from 'zrender/lib/graphic/Text.js';\nvar PATH_COLOR = ['textStyle', 'color'];\nvar textStyleParams = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily', 'padding', 'lineHeight', 'rich', 'width', 'height', 'overflow'];\n// TODO Performance improvement?\nvar tmpText = new ZRText();\nvar TextStyleMixin = /** @class */function () {\n  function TextStyleMixin() {}\n  /**\n   * Get color property or get color from option.textStyle.color\n   */\n  // TODO Callback\n  TextStyleMixin.prototype.getTextColor = function (isEmphasis) {\n    var ecModel = this.ecModel;\n    return this.getShallow('color') || (!isEmphasis && ecModel ? ecModel.get(PATH_COLOR) : null);\n  };\n  /**\n   * Create font string from fontStyle, fontWeight, fontSize, fontFamily\n   * @return {string}\n   */\n  TextStyleMixin.prototype.getFont = function () {\n    return getFont({\n      fontStyle: this.getShallow('fontStyle'),\n      fontWeight: this.getShallow('fontWeight'),\n      fontSize: this.getShallow('fontSize'),\n      fontFamily: this.getShallow('fontFamily')\n    }, this.ecModel);\n  };\n  TextStyleMixin.prototype.getTextRect = function (text) {\n    var style = {\n      text: text,\n      verticalAlign: this.getShallow('verticalAlign') || this.getShallow('baseline')\n    };\n    for (var i = 0; i < textStyleParams.length; i++) {\n      style[textStyleParams[i]] = this.getShallow(textStyleParams[i]);\n    }\n    tmpText.useStyle(style);\n    tmpText.update();\n    return tmpText.getBoundingRect();\n  };\n  return TextStyleMixin;\n}();\n;\nexport default TextStyleMixin;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport env from 'zrender/lib/core/env.js';\nimport { enableClassExtend, enableClassCheck } from '../util/clazz.js';\nimport { AreaStyleMixin } from './mixin/areaStyle.js';\nimport TextStyleMixin from './mixin/textStyle.js';\nimport { LineStyleMixin } from './mixin/lineStyle.js';\nimport { ItemStyleMixin } from './mixin/itemStyle.js';\nimport { mixin, clone, merge } from 'zrender/lib/core/util.js';\nvar Model = /** @class */function () {\n  function Model(option, parentModel, ecModel) {\n    this.parentModel = parentModel;\n    this.ecModel = ecModel;\n    this.option = option;\n    // Simple optimization\n    // if (this.init) {\n    //     if (arguments.length <= 4) {\n    //         this.init(option, parentModel, ecModel, extraOpt);\n    //     }\n    //     else {\n    //         this.init.apply(this, arguments);\n    //     }\n    // }\n  }\n\n  Model.prototype.init = function (option, parentModel, ecModel) {\n    var rest = [];\n    for (var _i = 3; _i < arguments.length; _i++) {\n      rest[_i - 3] = arguments[_i];\n    }\n  };\n  /**\n   * Merge the input option to me.\n   */\n  Model.prototype.mergeOption = function (option, ecModel) {\n    merge(this.option, option, true);\n  };\n  // `path` can be 'a.b.c', so the return value type have to be `ModelOption`\n  // TODO: TYPE strict key check?\n  // get(path: string | string[], ignoreParent?: boolean): ModelOption;\n  Model.prototype.get = function (path, ignoreParent) {\n    if (path == null) {\n      return this.option;\n    }\n    return this._doGet(this.parsePath(path), !ignoreParent && this.parentModel);\n  };\n  Model.prototype.getShallow = function (key, ignoreParent) {\n    var option = this.option;\n    var val = option == null ? option : option[key];\n    if (val == null && !ignoreParent) {\n      var parentModel = this.parentModel;\n      if (parentModel) {\n        // FIXME:TS do not know how to make it works\n        val = parentModel.getShallow(key);\n      }\n    }\n    return val;\n  };\n  // `path` can be 'a.b.c', so the return value type have to be `Model<ModelOption>`\n  // getModel(path: string | string[], parentModel?: Model): Model;\n  // TODO 'a.b.c' is deprecated\n  Model.prototype.getModel = function (path, parentModel) {\n    var hasPath = path != null;\n    var pathFinal = hasPath ? this.parsePath(path) : null;\n    var obj = hasPath ? this._doGet(pathFinal) : this.option;\n    parentModel = parentModel || this.parentModel && this.parentModel.getModel(this.resolveParentPath(pathFinal));\n    return new Model(obj, parentModel, this.ecModel);\n  };\n  /**\n   * If model has option\n   */\n  Model.prototype.isEmpty = function () {\n    return this.option == null;\n  };\n  Model.prototype.restoreData = function () {};\n  // Pending\n  Model.prototype.clone = function () {\n    var Ctor = this.constructor;\n    return new Ctor(clone(this.option));\n  };\n  // setReadOnly(properties): void {\n  // clazzUtil.setReadOnly(this, properties);\n  // }\n  // If path is null/undefined, return null/undefined.\n  Model.prototype.parsePath = function (path) {\n    if (typeof path === 'string') {\n      return path.split('.');\n    }\n    return path;\n  };\n  // Resolve path for parent. Perhaps useful when parent use a different property.\n  // Default to be a identity resolver.\n  // Can be modified to a different resolver.\n  Model.prototype.resolveParentPath = function (path) {\n    return path;\n  };\n  // FIXME:TS check whether put this method here\n  Model.prototype.isAnimationEnabled = function () {\n    if (!env.node && this.option) {\n      if (this.option.animation != null) {\n        return !!this.option.animation;\n      } else if (this.parentModel) {\n        return this.parentModel.isAnimationEnabled();\n      }\n    }\n  };\n  Model.prototype._doGet = function (pathArr, parentModel) {\n    var obj = this.option;\n    if (!pathArr) {\n      return obj;\n    }\n    for (var i = 0; i < pathArr.length; i++) {\n      // Ignore empty\n      if (!pathArr[i]) {\n        continue;\n      }\n      // obj could be number/string/... (like 0)\n      obj = obj && typeof obj === 'object' ? obj[pathArr[i]] : null;\n      if (obj == null) {\n        break;\n      }\n    }\n    if (obj == null && parentModel) {\n      obj = parentModel._doGet(this.resolveParentPath(pathArr), parentModel.parentModel);\n    }\n    return obj;\n  };\n  return Model;\n}();\n;\n// Enable Model.extend.\nenableClassExtend(Model);\nenableClassCheck(Model);\nmixin(Model, LineStyleMixin);\nmixin(Model, ItemStyleMixin);\nmixin(Model, AreaStyleMixin);\nmixin(Model, TextStyleMixin);\nexport default Model;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { normalizeToArray\n// , MappingExistingItem, setComponentTypeToKeyInfo, mappingToExists\n} from '../util/model.js';\nimport { each, clone, map, isTypedArray, setAsPrimitive, isArray, isObject\n// , HashMap , createHashMap, extend, merge,\n} from 'zrender/lib/core/util.js';\nimport { error } from '../util/log.js';\nvar QUERY_REG = /^(min|max)?(.+)$/;\n// Key: mainType\n// type FakeComponentsMap = HashMap<(MappingExistingItem & { subType: string })[]>;\n/**\n * TERM EXPLANATIONS:\n * See `ECOption` and `ECUnitOption` in `src/util/types.ts`.\n */\nvar OptionManager = /** @class */function () {\n  // timeline.notMerge is not supported in ec3. Firstly there is rearly\n  // case that notMerge is needed. Secondly supporting 'notMerge' requires\n  // rawOption cloned and backuped when timeline changed, which does no\n  // good to performance. What's more, that both timeline and setOption\n  // method supply 'notMerge' brings complex and some problems.\n  // Consider this case:\n  // (step1) chart.setOption({timeline: {notMerge: false}, ...}, false);\n  // (step2) chart.setOption({timeline: {notMerge: true}, ...}, false);\n  function OptionManager(api) {\n    this._timelineOptions = [];\n    this._mediaList = [];\n    /**\n     * -1, means default.\n     * empty means no media.\n     */\n    this._currentMediaIndices = [];\n    this._api = api;\n  }\n  OptionManager.prototype.setOption = function (rawOption, optionPreprocessorFuncs, opt) {\n    if (rawOption) {\n      // That set dat primitive is dangerous if user reuse the data when setOption again.\n      each(normalizeToArray(rawOption.series), function (series) {\n        series && series.data && isTypedArray(series.data) && setAsPrimitive(series.data);\n      });\n      each(normalizeToArray(rawOption.dataset), function (dataset) {\n        dataset && dataset.source && isTypedArray(dataset.source) && setAsPrimitive(dataset.source);\n      });\n    }\n    // Caution: some series modify option data, if do not clone,\n    // it should ensure that the repeat modify correctly\n    // (create a new object when modify itself).\n    rawOption = clone(rawOption);\n    // FIXME\n    // If some property is set in timeline options or media option but\n    // not set in baseOption, a warning should be given.\n    var optionBackup = this._optionBackup;\n    var newParsedOption = parseRawOption(rawOption, optionPreprocessorFuncs, !optionBackup);\n    this._newBaseOption = newParsedOption.baseOption;\n    // For setOption at second time (using merge mode);\n    if (optionBackup) {\n      // FIXME\n      // the restore merge solution is essentially incorrect.\n      // the mapping can not be 100% consistent with ecModel, which probably brings\n      // potential bug!\n      // The first merge is delayed, because in most cases, users do not call `setOption` twice.\n      // let fakeCmptsMap = this._fakeCmptsMap;\n      // if (!fakeCmptsMap) {\n      //     fakeCmptsMap = this._fakeCmptsMap = createHashMap();\n      //     mergeToBackupOption(fakeCmptsMap, null, optionBackup.baseOption, null);\n      // }\n      // mergeToBackupOption(\n      //     fakeCmptsMap, optionBackup.baseOption, newParsedOption.baseOption, opt\n      // );\n      // For simplicity, timeline options and media options do not support merge,\n      // that is, if you `setOption` twice and both has timeline options, the latter\n      // timeline options will not be merged to the former, but just substitute them.\n      if (newParsedOption.timelineOptions.length) {\n        optionBackup.timelineOptions = newParsedOption.timelineOptions;\n      }\n      if (newParsedOption.mediaList.length) {\n        optionBackup.mediaList = newParsedOption.mediaList;\n      }\n      if (newParsedOption.mediaDefault) {\n        optionBackup.mediaDefault = newParsedOption.mediaDefault;\n      }\n    } else {\n      this._optionBackup = newParsedOption;\n    }\n  };\n  OptionManager.prototype.mountOption = function (isRecreate) {\n    var optionBackup = this._optionBackup;\n    this._timelineOptions = optionBackup.timelineOptions;\n    this._mediaList = optionBackup.mediaList;\n    this._mediaDefault = optionBackup.mediaDefault;\n    this._currentMediaIndices = [];\n    return clone(isRecreate\n    // this._optionBackup.baseOption, which is created at the first `setOption`\n    // called, and is merged into every new option by inner method `mergeToBackupOption`\n    // each time `setOption` called, can be only used in `isRecreate`, because\n    // its reliability is under suspicion. In other cases option merge is\n    // performed by `model.mergeOption`.\n    ? optionBackup.baseOption : this._newBaseOption);\n  };\n  OptionManager.prototype.getTimelineOption = function (ecModel) {\n    var option;\n    var timelineOptions = this._timelineOptions;\n    if (timelineOptions.length) {\n      // getTimelineOption can only be called after ecModel inited,\n      // so we can get currentIndex from timelineModel.\n      var timelineModel = ecModel.getComponent('timeline');\n      if (timelineModel) {\n        option = clone(\n        // FIXME:TS as TimelineModel or quivlant interface\n        timelineOptions[timelineModel.getCurrentIndex()]);\n      }\n    }\n    return option;\n  };\n  OptionManager.prototype.getMediaOption = function (ecModel) {\n    var ecWidth = this._api.getWidth();\n    var ecHeight = this._api.getHeight();\n    var mediaList = this._mediaList;\n    var mediaDefault = this._mediaDefault;\n    var indices = [];\n    var result = [];\n    // No media defined.\n    if (!mediaList.length && !mediaDefault) {\n      return result;\n    }\n    // Multi media may be applied, the latter defined media has higher priority.\n    for (var i = 0, len = mediaList.length; i < len; i++) {\n      if (applyMediaQuery(mediaList[i].query, ecWidth, ecHeight)) {\n        indices.push(i);\n      }\n    }\n    // FIXME\n    // Whether mediaDefault should force users to provide? Otherwise\n    // the change by media query can not be recorvered.\n    if (!indices.length && mediaDefault) {\n      indices = [-1];\n    }\n    if (indices.length && !indicesEquals(indices, this._currentMediaIndices)) {\n      result = map(indices, function (index) {\n        return clone(index === -1 ? mediaDefault.option : mediaList[index].option);\n      });\n    }\n    // Otherwise return nothing.\n    this._currentMediaIndices = indices;\n    return result;\n  };\n  return OptionManager;\n}();\n/**\n * [RAW_OPTION_PATTERNS]\n * (Note: \"series: []\" represents all other props in `ECUnitOption`)\n *\n * (1) No prop \"baseOption\" declared:\n * Root option is used as \"baseOption\" (except prop \"options\" and \"media\").\n * ```js\n * option = {\n *     series: [],\n *     timeline: {},\n *     options: [],\n * };\n * option = {\n *     series: [],\n *     media: {},\n * };\n * option = {\n *     series: [],\n *     timeline: {},\n *     options: [],\n *     media: {},\n * }\n * ```\n *\n * (2) Prop \"baseOption\" declared:\n * If \"baseOption\" declared, `ECUnitOption` props can only be declared\n * inside \"baseOption\" except prop \"timeline\" (compat ec2).\n * ```js\n * option = {\n *     baseOption: {\n *         timeline: {},\n *         series: [],\n *     },\n *     options: []\n * };\n * option = {\n *     baseOption: {\n *         series: [],\n *     },\n *     media: []\n * };\n * option = {\n *     baseOption: {\n *         timeline: {},\n *         series: [],\n *     },\n *     options: []\n *     media: []\n * };\n * option = {\n *     // ec3 compat ec2: allow (only) `timeline` declared\n *     // outside baseOption. Keep this setting for compat.\n *     timeline: {},\n *     baseOption: {\n *         series: [],\n *     },\n *     options: [],\n *     media: []\n * };\n * ```\n */\nfunction parseRawOption(\n// `rawOption` May be modified\nrawOption, optionPreprocessorFuncs, isNew) {\n  var mediaList = [];\n  var mediaDefault;\n  var baseOption;\n  var declaredBaseOption = rawOption.baseOption;\n  // Compatible with ec2, [RAW_OPTION_PATTERNS] above.\n  var timelineOnRoot = rawOption.timeline;\n  var timelineOptionsOnRoot = rawOption.options;\n  var mediaOnRoot = rawOption.media;\n  var hasMedia = !!rawOption.media;\n  var hasTimeline = !!(timelineOptionsOnRoot || timelineOnRoot || declaredBaseOption && declaredBaseOption.timeline);\n  if (declaredBaseOption) {\n    baseOption = declaredBaseOption;\n    // For merge option.\n    if (!baseOption.timeline) {\n      baseOption.timeline = timelineOnRoot;\n    }\n  }\n  // For convenience, enable to use the root option as the `baseOption`:\n  // `{ ...normalOptionProps, media: [{ ... }, { ... }] }`\n  else {\n    if (hasTimeline || hasMedia) {\n      rawOption.options = rawOption.media = null;\n    }\n    baseOption = rawOption;\n  }\n  if (hasMedia) {\n    if (isArray(mediaOnRoot)) {\n      each(mediaOnRoot, function (singleMedia) {\n        if (process.env.NODE_ENV !== 'production') {\n          // Real case of wrong config.\n          if (singleMedia && !singleMedia.option && isObject(singleMedia.query) && isObject(singleMedia.query.option)) {\n            error('Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }');\n          }\n        }\n        if (singleMedia && singleMedia.option) {\n          if (singleMedia.query) {\n            mediaList.push(singleMedia);\n          } else if (!mediaDefault) {\n            // Use the first media default.\n            mediaDefault = singleMedia;\n          }\n        }\n      });\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        // Real case of wrong config.\n        error('Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }');\n      }\n    }\n  }\n  doPreprocess(baseOption);\n  each(timelineOptionsOnRoot, function (option) {\n    return doPreprocess(option);\n  });\n  each(mediaList, function (media) {\n    return doPreprocess(media.option);\n  });\n  function doPreprocess(option) {\n    each(optionPreprocessorFuncs, function (preProcess) {\n      preProcess(option, isNew);\n    });\n  }\n  return {\n    baseOption: baseOption,\n    timelineOptions: timelineOptionsOnRoot || [],\n    mediaDefault: mediaDefault,\n    mediaList: mediaList\n  };\n}\n/**\n * @see <http://www.w3.org/TR/css3-mediaqueries/#media1>\n * Support: width, height, aspectRatio\n * Can use max or min as prefix.\n */\nfunction applyMediaQuery(query, ecWidth, ecHeight) {\n  var realMap = {\n    width: ecWidth,\n    height: ecHeight,\n    aspectratio: ecWidth / ecHeight // lower case for convenience.\n  };\n\n  var applicable = true;\n  each(query, function (value, attr) {\n    var matched = attr.match(QUERY_REG);\n    if (!matched || !matched[1] || !matched[2]) {\n      return;\n    }\n    var operator = matched[1];\n    var realAttr = matched[2].toLowerCase();\n    if (!compare(realMap[realAttr], value, operator)) {\n      applicable = false;\n    }\n  });\n  return applicable;\n}\nfunction compare(real, expect, operator) {\n  if (operator === 'min') {\n    return real >= expect;\n  } else if (operator === 'max') {\n    return real <= expect;\n  } else {\n    // Equals\n    return real === expect;\n  }\n}\nfunction indicesEquals(indices1, indices2) {\n  // indices is always order by asc and has only finite number.\n  return indices1.join(',') === indices2.join(',');\n}\n/**\n * Consider case:\n * `chart.setOption(opt1);`\n * Then user do some interaction like dataZoom, dataView changing.\n * `chart.setOption(opt2);`\n * Then user press 'reset button' in toolbox.\n *\n * After doing that all of the interaction effects should be reset, the\n * chart should be the same as the result of invoke\n * `chart.setOption(opt1); chart.setOption(opt2);`.\n *\n * Although it is not able ensure that\n * `chart.setOption(opt1); chart.setOption(opt2);` is equivalents to\n * `chart.setOption(merge(opt1, opt2));` exactly,\n * this might be the only simple way to implement that feature.\n *\n * MEMO: We've considered some other approaches:\n * 1. Each model handles its self restoration but not uniform treatment.\n *     (Too complex in logic and error-prone)\n * 2. Use a shadow ecModel. (Performance expensive)\n *\n * FIXME: A possible solution:\n * Add a extra level of model for each component model. The inheritance chain would be:\n * ecModel <- componentModel <- componentActionModel <- dataItemModel\n * And all of the actions can only modify the `componentActionModel` rather than\n * `componentModel`. `setOption` will only modify the `ecModel` and `componentModel`.\n * When \"resotre\" action triggered, model from `componentActionModel` will be discarded\n * instead of recreating the \"ecModel\" from the \"_optionBackup\".\n */\n// function mergeToBackupOption(\n//     fakeCmptsMap: FakeComponentsMap,\n//     // `tarOption` Can be null/undefined, means init\n//     tarOption: ECUnitOption,\n//     newOption: ECUnitOption,\n//     // Can be null/undefined\n//     opt: InnerSetOptionOpts\n// ): void {\n//     newOption = newOption || {} as ECUnitOption;\n//     const notInit = !!tarOption;\n//     each(newOption, function (newOptsInMainType, mainType) {\n//         if (newOptsInMainType == null) {\n//             return;\n//         }\n//         if (!ComponentModel.hasClass(mainType)) {\n//             if (tarOption) {\n//                 tarOption[mainType] = merge(tarOption[mainType], newOptsInMainType, true);\n//             }\n//         }\n//         else {\n//             const oldTarOptsInMainType = notInit ? normalizeToArray(tarOption[mainType]) : null;\n//             const oldFakeCmptsInMainType = fakeCmptsMap.get(mainType) || [];\n//             const resultTarOptsInMainType = notInit ? (tarOption[mainType] = [] as ComponentOption[]) : null;\n//             const resultFakeCmptsInMainType = fakeCmptsMap.set(mainType, []);\n//             const mappingResult = mappingToExists(\n//                 oldFakeCmptsInMainType,\n//                 normalizeToArray(newOptsInMainType),\n//                 (opt && opt.replaceMergeMainTypeMap.get(mainType)) ? 'replaceMerge' : 'normalMerge'\n//             );\n//             setComponentTypeToKeyInfo(mappingResult, mainType, ComponentModel as ComponentModelConstructor);\n//             each(mappingResult, function (resultItem, index) {\n//                 // The same logic as `Global.ts#_mergeOption`.\n//                 let fakeCmpt = resultItem.existing;\n//                 const newOption = resultItem.newOption;\n//                 const keyInfo = resultItem.keyInfo;\n//                 let fakeCmptOpt;\n//                 if (!newOption) {\n//                     fakeCmptOpt = oldTarOptsInMainType[index];\n//                 }\n//                 else {\n//                     if (fakeCmpt && fakeCmpt.subType === keyInfo.subType) {\n//                         fakeCmpt.name = keyInfo.name;\n//                         if (notInit) {\n//                             fakeCmptOpt = merge(oldTarOptsInMainType[index], newOption, true);\n//                         }\n//                     }\n//                     else {\n//                         fakeCmpt = extend({}, keyInfo);\n//                         if (notInit) {\n//                             fakeCmptOpt = clone(newOption);\n//                         }\n//                     }\n//                 }\n//                 if (fakeCmpt) {\n//                     notInit && resultTarOptsInMainType.push(fakeCmptOpt);\n//                     resultFakeCmptsInMainType.push(fakeCmpt);\n//                 }\n//                 else {\n//                     notInit && resultTarOptsInMainType.push(void 0);\n//                     resultFakeCmptsInMainType.push(void 0);\n//                 }\n//             });\n//         }\n//     });\n// }\nexport default OptionManager;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport env from 'zrender/lib/core/env.js';\nimport * as modelUtil from '../util/model.js';\nimport ComponentModel from './Component.js';\nimport { PaletteMixin } from './mixin/palette.js';\nimport { DataFormatMixin } from '../model/mixin/dataFormat.js';\nimport { getLayoutParams, mergeLayoutParam, fetchLayoutMode } from '../util/layout.js';\nimport { createTask } from '../core/task.js';\nimport { mountExtend } from '../util/clazz.js';\nimport { SourceManager } from '../data/helper/sourceManager.js';\nimport { defaultSeriesFormatTooltip } from '../component/tooltip/seriesFormatTooltip.js';\nvar inner = modelUtil.makeInner();\nfunction getSelectionKey(data, dataIndex) {\n  return data.getName(dataIndex) || data.getId(dataIndex);\n}\nexport var SERIES_UNIVERSAL_TRANSITION_PROP = '__universalTransitionEnabled';\nvar SeriesModel = /** @class */function (_super) {\n  __extends(SeriesModel, _super);\n  function SeriesModel() {\n    // [Caution]: Because this class or desecendants can be used as `XXX.extend(subProto)`,\n    // the class members must not be initialized in constructor or declaration place.\n    // Otherwise there is bad case:\n    //   class A {xxx = 1;}\n    //   enableClassExtend(A);\n    //   class B extends A {}\n    //   var C = B.extend({xxx: 5});\n    //   var c = new C();\n    //   console.log(c.xxx); // expect 5 but always 1.\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    // ---------------------------------------\n    // Props about data selection\n    // ---------------------------------------\n    _this._selectedDataIndicesMap = {};\n    return _this;\n  }\n  SeriesModel.prototype.init = function (option, parentModel, ecModel) {\n    this.seriesIndex = this.componentIndex;\n    this.dataTask = createTask({\n      count: dataTaskCount,\n      reset: dataTaskReset\n    });\n    this.dataTask.context = {\n      model: this\n    };\n    this.mergeDefaultAndTheme(option, ecModel);\n    var sourceManager = inner(this).sourceManager = new SourceManager(this);\n    sourceManager.prepareSource();\n    var data = this.getInitialData(option, ecModel);\n    wrapData(data, this);\n    this.dataTask.context.data = data;\n    if (process.env.NODE_ENV !== 'production') {\n      zrUtil.assert(data, 'getInitialData returned invalid data.');\n    }\n    inner(this).dataBeforeProcessed = data;\n    // If we reverse the order (make data firstly, and then make\n    // dataBeforeProcessed by cloneShallow), cloneShallow will\n    // cause data.graph.data !== data when using\n    // module:echarts/data/Graph or module:echarts/data/Tree.\n    // See module:echarts/data/helper/linkSeriesData\n    // Theoretically, it is unreasonable to call `seriesModel.getData()` in the model\n    // init or merge stage, because the data can be restored. So we do not `restoreData`\n    // and `setData` here, which forbids calling `seriesModel.getData()` in this stage.\n    // Call `seriesModel.getRawData()` instead.\n    // this.restoreData();\n    autoSeriesName(this);\n    this._initSelectedMapFromData(data);\n  };\n  /**\n   * Util for merge default and theme to option\n   */\n  SeriesModel.prototype.mergeDefaultAndTheme = function (option, ecModel) {\n    var layoutMode = fetchLayoutMode(this);\n    var inputPositionParams = layoutMode ? getLayoutParams(option) : {};\n    // Backward compat: using subType on theme.\n    // But if name duplicate between series subType\n    // (for example: parallel) add component mainType,\n    // add suffix 'Series'.\n    var themeSubType = this.subType;\n    if (ComponentModel.hasClass(themeSubType)) {\n      themeSubType += 'Series';\n    }\n    zrUtil.merge(option, ecModel.getTheme().get(this.subType));\n    zrUtil.merge(option, this.getDefaultOption());\n    // Default label emphasis `show`\n    modelUtil.defaultEmphasis(option, 'label', ['show']);\n    this.fillDataTextStyle(option.data);\n    if (layoutMode) {\n      mergeLayoutParam(option, inputPositionParams, layoutMode);\n    }\n  };\n  SeriesModel.prototype.mergeOption = function (newSeriesOption, ecModel) {\n    // this.settingTask.dirty();\n    newSeriesOption = zrUtil.merge(this.option, newSeriesOption, true);\n    this.fillDataTextStyle(newSeriesOption.data);\n    var layoutMode = fetchLayoutMode(this);\n    if (layoutMode) {\n      mergeLayoutParam(this.option, newSeriesOption, layoutMode);\n    }\n    var sourceManager = inner(this).sourceManager;\n    sourceManager.dirty();\n    sourceManager.prepareSource();\n    var data = this.getInitialData(newSeriesOption, ecModel);\n    wrapData(data, this);\n    this.dataTask.dirty();\n    this.dataTask.context.data = data;\n    inner(this).dataBeforeProcessed = data;\n    autoSeriesName(this);\n    this._initSelectedMapFromData(data);\n  };\n  SeriesModel.prototype.fillDataTextStyle = function (data) {\n    // Default data label emphasis `show`\n    // FIXME Tree structure data ?\n    // FIXME Performance ?\n    if (data && !zrUtil.isTypedArray(data)) {\n      var props = ['show'];\n      for (var i = 0; i < data.length; i++) {\n        if (data[i] && data[i].label) {\n          modelUtil.defaultEmphasis(data[i], 'label', props);\n        }\n      }\n    }\n  };\n  /**\n   * Init a data structure from data related option in series\n   * Must be overridden.\n   */\n  SeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return;\n  };\n  /**\n   * Append data to list\n   */\n  SeriesModel.prototype.appendData = function (params) {\n    // FIXME ???\n    // (1) If data from dataset, forbidden append.\n    // (2) support append data of dataset.\n    var data = this.getRawData();\n    data.appendData(params.data);\n  };\n  /**\n   * Consider some method like `filter`, `map` need make new data,\n   * We should make sure that `seriesModel.getData()` get correct\n   * data in the stream procedure. So we fetch data from upstream\n   * each time `task.perform` called.\n   */\n  SeriesModel.prototype.getData = function (dataType) {\n    var task = getCurrentTask(this);\n    if (task) {\n      var data = task.context.data;\n      return dataType == null || !data.getLinkedData ? data : data.getLinkedData(dataType);\n    } else {\n      // When series is not alive (that may happen when click toolbox\n      // restore or setOption with not merge mode), series data may\n      // be still need to judge animation or something when graphic\n      // elements want to know whether fade out.\n      return inner(this).data;\n    }\n  };\n  SeriesModel.prototype.getAllData = function () {\n    var mainData = this.getData();\n    return mainData && mainData.getLinkedDataAll ? mainData.getLinkedDataAll() : [{\n      data: mainData\n    }];\n  };\n  SeriesModel.prototype.setData = function (data) {\n    var task = getCurrentTask(this);\n    if (task) {\n      var context = task.context;\n      // Consider case: filter, data sample.\n      // FIXME:TS never used, so comment it\n      // if (context.data !== data && task.modifyOutputEnd) {\n      //     task.setOutputEnd(data.count());\n      // }\n      context.outputData = data;\n      // Caution: setData should update context.data,\n      // Because getData may be called multiply in a\n      // single stage and expect to get the data just\n      // set. (For example, AxisProxy, x y both call\n      // getData and setDate sequentially).\n      // So the context.data should be fetched from\n      // upstream each time when a stage starts to be\n      // performed.\n      if (task !== this.dataTask) {\n        context.data = data;\n      }\n    }\n    inner(this).data = data;\n  };\n  SeriesModel.prototype.getEncode = function () {\n    var encode = this.get('encode', true);\n    if (encode) {\n      return zrUtil.createHashMap(encode);\n    }\n  };\n  SeriesModel.prototype.getSourceManager = function () {\n    return inner(this).sourceManager;\n  };\n  SeriesModel.prototype.getSource = function () {\n    return this.getSourceManager().getSource();\n  };\n  /**\n   * Get data before processed\n   */\n  SeriesModel.prototype.getRawData = function () {\n    return inner(this).dataBeforeProcessed;\n  };\n  SeriesModel.prototype.getColorBy = function () {\n    var colorBy = this.get('colorBy');\n    return colorBy || 'series';\n  };\n  SeriesModel.prototype.isColorBySeries = function () {\n    return this.getColorBy() === 'series';\n  };\n  /**\n   * Get base axis if has coordinate system and has axis.\n   * By default use coordSys.getBaseAxis();\n   * Can be overridden for some chart.\n   * @return {type} description\n   */\n  SeriesModel.prototype.getBaseAxis = function () {\n    var coordSys = this.coordinateSystem;\n    // @ts-ignore\n    return coordSys && coordSys.getBaseAxis && coordSys.getBaseAxis();\n  };\n  /**\n   * Default tooltip formatter\n   *\n   * @param dataIndex\n   * @param multipleSeries\n   * @param dataType\n   * @param renderMode valid values: 'html'(by default) and 'richText'.\n   *        'html' is used for rendering tooltip in extra DOM form, and the result\n   *        string is used as DOM HTML content.\n   *        'richText' is used for rendering tooltip in rich text form, for those where\n   *        DOM operation is not supported.\n   * @return formatted tooltip with `html` and `markers`\n   *        Notice: The override method can also return string\n   */\n  SeriesModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    return defaultSeriesFormatTooltip({\n      series: this,\n      dataIndex: dataIndex,\n      multipleSeries: multipleSeries\n    });\n  };\n  SeriesModel.prototype.isAnimationEnabled = function () {\n    var ecModel = this.ecModel;\n    // Disable animation if using echarts in node but not give ssr flag.\n    // In ssr mode, renderToString will generate svg with css animation.\n    if (env.node && !(ecModel && ecModel.ssr)) {\n      return false;\n    }\n    var animationEnabled = this.getShallow('animation');\n    if (animationEnabled) {\n      if (this.getData().count() > this.getShallow('animationThreshold')) {\n        animationEnabled = false;\n      }\n    }\n    return !!animationEnabled;\n  };\n  SeriesModel.prototype.restoreData = function () {\n    this.dataTask.dirty();\n  };\n  SeriesModel.prototype.getColorFromPalette = function (name, scope, requestColorNum) {\n    var ecModel = this.ecModel;\n    // PENDING\n    var color = PaletteMixin.prototype.getColorFromPalette.call(this, name, scope, requestColorNum);\n    if (!color) {\n      color = ecModel.getColorFromPalette(name, scope, requestColorNum);\n    }\n    return color;\n  };\n  /**\n   * Use `data.mapDimensionsAll(coordDim)` instead.\n   * @deprecated\n   */\n  SeriesModel.prototype.coordDimToDataDim = function (coordDim) {\n    return this.getRawData().mapDimensionsAll(coordDim);\n  };\n  /**\n   * Get progressive rendering count each step\n   */\n  SeriesModel.prototype.getProgressive = function () {\n    return this.get('progressive');\n  };\n  /**\n   * Get progressive rendering count each step\n   */\n  SeriesModel.prototype.getProgressiveThreshold = function () {\n    return this.get('progressiveThreshold');\n  };\n  // PENGING If selectedMode is null ?\n  SeriesModel.prototype.select = function (innerDataIndices, dataType) {\n    this._innerSelect(this.getData(dataType), innerDataIndices);\n  };\n  SeriesModel.prototype.unselect = function (innerDataIndices, dataType) {\n    var selectedMap = this.option.selectedMap;\n    if (!selectedMap) {\n      return;\n    }\n    var selectedMode = this.option.selectedMode;\n    var data = this.getData(dataType);\n    if (selectedMode === 'series' || selectedMap === 'all') {\n      this.option.selectedMap = {};\n      this._selectedDataIndicesMap = {};\n      return;\n    }\n    for (var i = 0; i < innerDataIndices.length; i++) {\n      var dataIndex = innerDataIndices[i];\n      var nameOrId = getSelectionKey(data, dataIndex);\n      selectedMap[nameOrId] = false;\n      this._selectedDataIndicesMap[nameOrId] = -1;\n    }\n  };\n  SeriesModel.prototype.toggleSelect = function (innerDataIndices, dataType) {\n    var tmpArr = [];\n    for (var i = 0; i < innerDataIndices.length; i++) {\n      tmpArr[0] = innerDataIndices[i];\n      this.isSelected(innerDataIndices[i], dataType) ? this.unselect(tmpArr, dataType) : this.select(tmpArr, dataType);\n    }\n  };\n  SeriesModel.prototype.getSelectedDataIndices = function () {\n    if (this.option.selectedMap === 'all') {\n      return [].slice.call(this.getData().getIndices());\n    }\n    var selectedDataIndicesMap = this._selectedDataIndicesMap;\n    var nameOrIds = zrUtil.keys(selectedDataIndicesMap);\n    var dataIndices = [];\n    for (var i = 0; i < nameOrIds.length; i++) {\n      var dataIndex = selectedDataIndicesMap[nameOrIds[i]];\n      if (dataIndex >= 0) {\n        dataIndices.push(dataIndex);\n      }\n    }\n    return dataIndices;\n  };\n  SeriesModel.prototype.isSelected = function (dataIndex, dataType) {\n    var selectedMap = this.option.selectedMap;\n    if (!selectedMap) {\n      return false;\n    }\n    var data = this.getData(dataType);\n    return (selectedMap === 'all' || selectedMap[getSelectionKey(data, dataIndex)]) && !data.getItemModel(dataIndex).get(['select', 'disabled']);\n  };\n  SeriesModel.prototype.isUniversalTransitionEnabled = function () {\n    if (this[SERIES_UNIVERSAL_TRANSITION_PROP]) {\n      return true;\n    }\n    var universalTransitionOpt = this.option.universalTransition;\n    // Quick reject\n    if (!universalTransitionOpt) {\n      return false;\n    }\n    if (universalTransitionOpt === true) {\n      return true;\n    }\n    // Can be simply 'universalTransition: true'\n    return universalTransitionOpt && universalTransitionOpt.enabled;\n  };\n  SeriesModel.prototype._innerSelect = function (data, innerDataIndices) {\n    var _a, _b;\n    var option = this.option;\n    var selectedMode = option.selectedMode;\n    var len = innerDataIndices.length;\n    if (!selectedMode || !len) {\n      return;\n    }\n    if (selectedMode === 'series') {\n      option.selectedMap = 'all';\n    } else if (selectedMode === 'multiple') {\n      if (!zrUtil.isObject(option.selectedMap)) {\n        option.selectedMap = {};\n      }\n      var selectedMap = option.selectedMap;\n      for (var i = 0; i < len; i++) {\n        var dataIndex = innerDataIndices[i];\n        // TODO different types of data share same object.\n        var nameOrId = getSelectionKey(data, dataIndex);\n        selectedMap[nameOrId] = true;\n        this._selectedDataIndicesMap[nameOrId] = data.getRawIndex(dataIndex);\n      }\n    } else if (selectedMode === 'single' || selectedMode === true) {\n      var lastDataIndex = innerDataIndices[len - 1];\n      var nameOrId = getSelectionKey(data, lastDataIndex);\n      option.selectedMap = (_a = {}, _a[nameOrId] = true, _a);\n      this._selectedDataIndicesMap = (_b = {}, _b[nameOrId] = data.getRawIndex(lastDataIndex), _b);\n    }\n  };\n  SeriesModel.prototype._initSelectedMapFromData = function (data) {\n    // Ignore select info in data if selectedMap exists.\n    // NOTE It's only for legacy usage. edge data is not supported.\n    if (this.option.selectedMap) {\n      return;\n    }\n    var dataIndices = [];\n    if (data.hasItemOption) {\n      data.each(function (idx) {\n        var rawItem = data.getRawDataItem(idx);\n        if (rawItem && rawItem.selected) {\n          dataIndices.push(idx);\n        }\n      });\n    }\n    if (dataIndices.length > 0) {\n      this._innerSelect(data, dataIndices);\n    }\n  };\n  // /**\n  //  * @see {module:echarts/stream/Scheduler}\n  //  */\n  // abstract pipeTask: null\n  SeriesModel.registerClass = function (clz) {\n    return ComponentModel.registerClass(clz);\n  };\n  SeriesModel.protoInitialize = function () {\n    var proto = SeriesModel.prototype;\n    proto.type = 'series.__base__';\n    proto.seriesIndex = 0;\n    proto.ignoreStyleOnData = false;\n    proto.hasSymbolVisual = false;\n    proto.defaultSymbol = 'circle';\n    // Make sure the values can be accessed!\n    proto.visualStyleAccessPath = 'itemStyle';\n    proto.visualDrawType = 'fill';\n  }();\n  return SeriesModel;\n}(ComponentModel);\nzrUtil.mixin(SeriesModel, DataFormatMixin);\nzrUtil.mixin(SeriesModel, PaletteMixin);\nmountExtend(SeriesModel, ComponentModel);\n/**\n * MUST be called after `prepareSource` called\n * Here we need to make auto series, especially for auto legend. But we\n * do not modify series.name in option to avoid side effects.\n */\nfunction autoSeriesName(seriesModel) {\n  // User specified name has higher priority, otherwise it may cause\n  // series can not be queried unexpectedly.\n  var name = seriesModel.name;\n  if (!modelUtil.isNameSpecified(seriesModel)) {\n    seriesModel.name = getSeriesAutoName(seriesModel) || name;\n  }\n}\nfunction getSeriesAutoName(seriesModel) {\n  var data = seriesModel.getRawData();\n  var dataDims = data.mapDimensionsAll('seriesName');\n  var nameArr = [];\n  zrUtil.each(dataDims, function (dataDim) {\n    var dimInfo = data.getDimensionInfo(dataDim);\n    dimInfo.displayName && nameArr.push(dimInfo.displayName);\n  });\n  return nameArr.join(' ');\n}\nfunction dataTaskCount(context) {\n  return context.model.getRawData().count();\n}\nfunction dataTaskReset(context) {\n  var seriesModel = context.model;\n  seriesModel.setData(seriesModel.getRawData().cloneShallow());\n  return dataTaskProgress;\n}\nfunction dataTaskProgress(param, context) {\n  // Avoid repeat cloneShallow when data just created in reset.\n  if (context.outputData && param.end > context.outputData.count()) {\n    context.model.getRawData().cloneShallow(context.outputData);\n  }\n}\n// TODO refactor\nfunction wrapData(data, seriesModel) {\n  zrUtil.each(zrUtil.concatArray(data.CHANGABLE_METHODS, data.DOWNSAMPLE_METHODS), function (methodName) {\n    data.wrapMethod(methodName, zrUtil.curry(onDataChange, seriesModel));\n  });\n}\nfunction onDataChange(seriesModel, newList) {\n  var task = getCurrentTask(seriesModel);\n  if (task) {\n    // Consider case: filter, selectRange\n    task.setOutputEnd((newList || this).count());\n  }\n  return newList;\n}\nfunction getCurrentTask(seriesModel) {\n  var scheduler = (seriesModel.ecModel || {}).scheduler;\n  var pipeline = scheduler && scheduler.getPipeline(seriesModel.uid);\n  if (pipeline) {\n    // When pipline finished, the currrentTask keep the last\n    // task (renderTask).\n    var task = pipeline.currentTask;\n    if (task) {\n      var agentStubMap = task.agentStubMap;\n      if (agentStubMap) {\n        task = agentStubMap.get(seriesModel.uid);\n      }\n    }\n    return task;\n  }\n}\nexport default SeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap, assert } from 'zrender/lib/core/util.js';\nimport { isComponentIdInternal } from '../util/model.js';\nvar internalOptionCreatorMap = createHashMap();\nexport function registerInternalOptionCreator(mainType, creator) {\n  assert(internalOptionCreatorMap.get(mainType) == null && creator);\n  internalOptionCreatorMap.set(mainType, creator);\n}\nexport function concatInternalOptions(ecModel, mainType, newCmptOptionList) {\n  var internalOptionCreator = internalOptionCreatorMap.get(mainType);\n  if (!internalOptionCreator) {\n    return newCmptOptionList;\n  }\n  var internalOptions = internalOptionCreator(ecModel);\n  if (!internalOptions) {\n    return newCmptOptionList;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    for (var i = 0; i < internalOptions.length; i++) {\n      assert(isComponentIdInternal(internalOptions[i]));\n    }\n  }\n  return newCmptOptionList.concat(internalOptions);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { retrieveRawValue } from '../../data/helper/dataProvider.js';\nimport { formatTpl } from '../../util/format.js';\nimport { error, makePrintable } from '../../util/log.js';\nvar DIMENSION_LABEL_REG = /\\{@(.+?)\\}/g;\nvar DataFormatMixin = /** @class */function () {\n  function DataFormatMixin() {}\n  /**\n   * Get params for formatter\n   */\n  DataFormatMixin.prototype.getDataParams = function (dataIndex, dataType) {\n    var data = this.getData(dataType);\n    var rawValue = this.getRawValue(dataIndex, dataType);\n    var rawDataIndex = data.getRawIndex(dataIndex);\n    var name = data.getName(dataIndex);\n    var itemOpt = data.getRawDataItem(dataIndex);\n    var style = data.getItemVisual(dataIndex, 'style');\n    var color = style && style[data.getItemVisual(dataIndex, 'drawType') || 'fill'];\n    var borderColor = style && style.stroke;\n    var mainType = this.mainType;\n    var isSeries = mainType === 'series';\n    var userOutput = data.userOutput && data.userOutput.get();\n    return {\n      componentType: mainType,\n      componentSubType: this.subType,\n      componentIndex: this.componentIndex,\n      seriesType: isSeries ? this.subType : null,\n      seriesIndex: this.seriesIndex,\n      seriesId: isSeries ? this.id : null,\n      seriesName: isSeries ? this.name : null,\n      name: name,\n      dataIndex: rawDataIndex,\n      data: itemOpt,\n      dataType: dataType,\n      value: rawValue,\n      color: color,\n      borderColor: borderColor,\n      dimensionNames: userOutput ? userOutput.fullDimensions : null,\n      encode: userOutput ? userOutput.encode : null,\n      // Param name list for mapping `a`, `b`, `c`, `d`, `e`\n      $vars: ['seriesName', 'name', 'value']\n    };\n  };\n  /**\n   * Format label\n   * @param dataIndex\n   * @param status 'normal' by default\n   * @param dataType\n   * @param labelDimIndex Only used in some chart that\n   *        use formatter in different dimensions, like radar.\n   * @param formatter Formatter given outside.\n   * @return return null/undefined if no formatter\n   */\n  DataFormatMixin.prototype.getFormattedLabel = function (dataIndex, status, dataType, labelDimIndex, formatter, extendParams) {\n    status = status || 'normal';\n    var data = this.getData(dataType);\n    var params = this.getDataParams(dataIndex, dataType);\n    if (extendParams) {\n      params.value = extendParams.interpolatedValue;\n    }\n    if (labelDimIndex != null && zrUtil.isArray(params.value)) {\n      params.value = params.value[labelDimIndex];\n    }\n    if (!formatter) {\n      var itemModel = data.getItemModel(dataIndex);\n      // @ts-ignore\n      formatter = itemModel.get(status === 'normal' ? ['label', 'formatter'] : [status, 'label', 'formatter']);\n    }\n    if (zrUtil.isFunction(formatter)) {\n      params.status = status;\n      params.dimensionIndex = labelDimIndex;\n      return formatter(params);\n    } else if (zrUtil.isString(formatter)) {\n      var str = formatTpl(formatter, params);\n      // Support 'aaa{@[3]}bbb{@product}ccc'.\n      // Do not support '}' in dim name util have to.\n      return str.replace(DIMENSION_LABEL_REG, function (origin, dimStr) {\n        var len = dimStr.length;\n        var dimLoose = dimStr;\n        if (dimLoose.charAt(0) === '[' && dimLoose.charAt(len - 1) === ']') {\n          dimLoose = +dimLoose.slice(1, len - 1); // Also support: '[]' => 0\n          if (process.env.NODE_ENV !== 'production') {\n            if (isNaN(dimLoose)) {\n              error(\"Invalide label formatter: @\" + dimStr + \", only support @[0], @[1], @[2], ...\");\n            }\n          }\n        }\n        var val = retrieveRawValue(data, dataIndex, dimLoose);\n        if (extendParams && zrUtil.isArray(extendParams.interpolatedValue)) {\n          var dimIndex = data.getDimensionIndex(dimLoose);\n          if (dimIndex >= 0) {\n            val = extendParams.interpolatedValue[dimIndex];\n          }\n        }\n        return val != null ? val + '' : '';\n      });\n    }\n  };\n  /**\n   * Get raw value in option\n   */\n  DataFormatMixin.prototype.getRawValue = function (idx, dataType) {\n    return retrieveRawValue(this.getData(dataType), idx);\n  };\n  /**\n   * Should be implemented.\n   * @param {number} dataIndex\n   * @param {boolean} [multipleSeries=false]\n   * @param {string} [dataType]\n   */\n  DataFormatMixin.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    // Empty function\n    return;\n  };\n  return DataFormatMixin;\n}();\nexport { DataFormatMixin };\n;\n// PENDING: previously we accept this type when calling `formatTooltip`,\n// but guess little chance has been used outside. Do we need to backward\n// compat it?\n// type TooltipFormatResultLegacyObject = {\n//     // `html` means the markup language text, either in 'html' or 'richText'.\n//     // The name `html` is not appropriate because in 'richText' it is not a HTML\n//     // string. But still support it for backward compatibility.\n//     html: string;\n//     markers: Dictionary<ColorString>;\n// };\n/**\n * For backward compat, normalize the return from `formatTooltip`.\n */\nexport function normalizeTooltipFormatResult(result) {\n  var markupText;\n  // let markers: Dictionary<ColorString>;\n  var markupFragment;\n  if (zrUtil.isObject(result)) {\n    if (result.type) {\n      markupFragment = result;\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn('The return type of `formatTooltip` is not supported: ' + makePrintable(result));\n      }\n    }\n    // else {\n    //     markupText = (result as TooltipFormatResultLegacyObject).html;\n    //     markers = (result as TooltipFormatResultLegacyObject).markers;\n    //     if (markersExisting) {\n    //         markers = zrUtil.merge(markersExisting, markers);\n    //     }\n    // }\n  } else {\n    markupText = result;\n  }\n  return {\n    text: markupText,\n    // markers: markers || markersExisting,\n    frag: markupFragment\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport makeStyleMapper from './makeStyleMapper.js';\nexport var ITEM_STYLE_KEY_MAP = [['fill', 'color'], ['stroke', 'borderColor'], ['lineWidth', 'borderWidth'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor'], ['lineDash', 'borderType'], ['lineDashOffset', 'borderDashOffset'], ['lineCap', 'borderCap'], ['lineJoin', 'borderJoin'], ['miterLimit', 'borderMiterLimit']\n// Option decal is in `DecalObject` but style.decal is in `PatternObject`.\n// So do not transfer decal directly.\n];\n\nvar getItemStyle = makeStyleMapper(ITEM_STYLE_KEY_MAP);\nvar ItemStyleMixin = /** @class */function () {\n  function ItemStyleMixin() {}\n  ItemStyleMixin.prototype.getItemStyle = function (excludes, includes) {\n    return getItemStyle(this, excludes, includes);\n  };\n  return ItemStyleMixin;\n}();\nexport { ItemStyleMixin };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport makeStyleMapper from './makeStyleMapper.js';\nexport var LINE_STYLE_KEY_MAP = [['lineWidth', 'width'], ['stroke', 'color'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor'], ['lineDash', 'type'], ['lineDashOffset', 'dashOffset'], ['lineCap', 'cap'], ['lineJoin', 'join'], ['miterLimit']\n// Option decal is in `DecalObject` but style.decal is in `PatternObject`.\n// So do not transfer decal directly.\n];\n\nvar getLineStyle = makeStyleMapper(LINE_STYLE_KEY_MAP);\nvar LineStyleMixin = /** @class */function () {\n  function LineStyleMixin() {}\n  LineStyleMixin.prototype.getLineStyle = function (excludes) {\n    return getLineStyle(this, excludes);\n  };\n  return LineStyleMixin;\n}();\n;\nexport { LineStyleMixin };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// TODO Parse shadow style\n// TODO Only shallow path support\nimport * as zrUtil from 'zrender/lib/core/util.js';\nexport default function makeStyleMapper(properties, ignoreParent) {\n  // Normalize\n  for (var i = 0; i < properties.length; i++) {\n    if (!properties[i][1]) {\n      properties[i][1] = properties[i][0];\n    }\n  }\n  ignoreParent = ignoreParent || false;\n  return function (model, excludes, includes) {\n    var style = {};\n    for (var i = 0; i < properties.length; i++) {\n      var propName = properties[i][1];\n      if (excludes && zrUtil.indexOf(excludes, propName) >= 0 || includes && zrUtil.indexOf(includes, propName) < 0) {\n        continue;\n      }\n      var val = model.getShallow(propName, ignoreParent);\n      if (val != null) {\n        style[properties[i][0]] = val;\n      }\n    }\n    // TODO Text or image?\n    return style;\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { makeInner, normalizeToArray } from '../../util/model.js';\nvar innerColor = makeInner();\nvar innerDecal = makeInner();\nvar PaletteMixin = /** @class */function () {\n  function PaletteMixin() {}\n  PaletteMixin.prototype.getColorFromPalette = function (name, scope, requestNum) {\n    var defaultPalette = normalizeToArray(this.get('color', true));\n    var layeredPalette = this.get('colorLayer', true);\n    return getFromPalette(this, innerColor, defaultPalette, layeredPalette, name, scope, requestNum);\n  };\n  PaletteMixin.prototype.clearColorPalette = function () {\n    clearPalette(this, innerColor);\n  };\n  return PaletteMixin;\n}();\nexport function getDecalFromPalette(ecModel, name, scope, requestNum) {\n  var defaultDecals = normalizeToArray(ecModel.get(['aria', 'decal', 'decals']));\n  return getFromPalette(ecModel, innerDecal, defaultDecals, null, name, scope, requestNum);\n}\nfunction getNearestPalette(palettes, requestColorNum) {\n  var paletteNum = palettes.length;\n  // TODO palettes must be in order\n  for (var i = 0; i < paletteNum; i++) {\n    if (palettes[i].length > requestColorNum) {\n      return palettes[i];\n    }\n  }\n  return palettes[paletteNum - 1];\n}\n/**\n * @param name MUST NOT be null/undefined. Otherwise call this function\n *             twise with the same parameters will get different result.\n * @param scope default this.\n * @return Can be null/undefined\n */\nfunction getFromPalette(that, inner, defaultPalette, layeredPalette, name, scope, requestNum) {\n  scope = scope || that;\n  var scopeFields = inner(scope);\n  var paletteIdx = scopeFields.paletteIdx || 0;\n  var paletteNameMap = scopeFields.paletteNameMap = scopeFields.paletteNameMap || {};\n  // Use `hasOwnProperty` to avoid conflict with Object.prototype.\n  if (paletteNameMap.hasOwnProperty(name)) {\n    return paletteNameMap[name];\n  }\n  var palette = requestNum == null || !layeredPalette ? defaultPalette : getNearestPalette(layeredPalette, requestNum);\n  // In case can't find in layered color palette.\n  palette = palette || defaultPalette;\n  if (!palette || !palette.length) {\n    return;\n  }\n  var pickedPaletteItem = palette[paletteIdx];\n  if (name) {\n    paletteNameMap[name] = pickedPaletteItem;\n  }\n  scopeFields.paletteIdx = (paletteIdx + 1) % palette.length;\n  return pickedPaletteItem;\n}\nfunction clearPalette(that, inner) {\n  inner(that).paletteIdx = 0;\n  inner(that).paletteNameMap = {};\n}\nexport { PaletteMixin };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * Helper for model references.\n * There are many manners to refer axis/coordSys.\n */\n// TODO\n// merge relevant logic to this file?\n// check: \"modelHelper\" of tooltip and \"BrushTargetManager\".\nimport { createHashMap, retrieve, each } from 'zrender/lib/core/util.js';\nimport { SINGLE_REFERRING } from '../util/model.js';\n/**\n * @class\n * For example:\n * {\n *     coordSysName: 'cartesian2d',\n *     coordSysDims: ['x', 'y', ...],\n *     axisMap: HashMap({\n *         x: xAxisModel,\n *         y: yAxisModel\n *     }),\n *     categoryAxisMap: HashMap({\n *         x: xAxisModel,\n *         y: undefined\n *     }),\n *     // The index of the first category axis in `coordSysDims`.\n *     // `null/undefined` means no category axis exists.\n *     firstCategoryDimIndex: 1,\n *     // To replace user specified encode.\n * }\n */\nvar CoordSysInfo = /** @class */function () {\n  function CoordSysInfo(coordSysName) {\n    this.coordSysDims = [];\n    this.axisMap = createHashMap();\n    this.categoryAxisMap = createHashMap();\n    this.coordSysName = coordSysName;\n  }\n  return CoordSysInfo;\n}();\nexport function getCoordSysInfoBySeries(seriesModel) {\n  var coordSysName = seriesModel.get('coordinateSystem');\n  var result = new CoordSysInfo(coordSysName);\n  var fetch = fetchers[coordSysName];\n  if (fetch) {\n    fetch(seriesModel, result, result.axisMap, result.categoryAxisMap);\n    return result;\n  }\n}\nvar fetchers = {\n  cartesian2d: function (seriesModel, result, axisMap, categoryAxisMap) {\n    var xAxisModel = seriesModel.getReferringComponents('xAxis', SINGLE_REFERRING).models[0];\n    var yAxisModel = seriesModel.getReferringComponents('yAxis', SINGLE_REFERRING).models[0];\n    if (process.env.NODE_ENV !== 'production') {\n      if (!xAxisModel) {\n        throw new Error('xAxis \"' + retrieve(seriesModel.get('xAxisIndex'), seriesModel.get('xAxisId'), 0) + '\" not found');\n      }\n      if (!yAxisModel) {\n        throw new Error('yAxis \"' + retrieve(seriesModel.get('xAxisIndex'), seriesModel.get('yAxisId'), 0) + '\" not found');\n      }\n    }\n    result.coordSysDims = ['x', 'y'];\n    axisMap.set('x', xAxisModel);\n    axisMap.set('y', yAxisModel);\n    if (isCategory(xAxisModel)) {\n      categoryAxisMap.set('x', xAxisModel);\n      result.firstCategoryDimIndex = 0;\n    }\n    if (isCategory(yAxisModel)) {\n      categoryAxisMap.set('y', yAxisModel);\n      result.firstCategoryDimIndex == null && (result.firstCategoryDimIndex = 1);\n    }\n  },\n  singleAxis: function (seriesModel, result, axisMap, categoryAxisMap) {\n    var singleAxisModel = seriesModel.getReferringComponents('singleAxis', SINGLE_REFERRING).models[0];\n    if (process.env.NODE_ENV !== 'production') {\n      if (!singleAxisModel) {\n        throw new Error('singleAxis should be specified.');\n      }\n    }\n    result.coordSysDims = ['single'];\n    axisMap.set('single', singleAxisModel);\n    if (isCategory(singleAxisModel)) {\n      categoryAxisMap.set('single', singleAxisModel);\n      result.firstCategoryDimIndex = 0;\n    }\n  },\n  polar: function (seriesModel, result, axisMap, categoryAxisMap) {\n    var polarModel = seriesModel.getReferringComponents('polar', SINGLE_REFERRING).models[0];\n    var radiusAxisModel = polarModel.findAxisModel('radiusAxis');\n    var angleAxisModel = polarModel.findAxisModel('angleAxis');\n    if (process.env.NODE_ENV !== 'production') {\n      if (!angleAxisModel) {\n        throw new Error('angleAxis option not found');\n      }\n      if (!radiusAxisModel) {\n        throw new Error('radiusAxis option not found');\n      }\n    }\n    result.coordSysDims = ['radius', 'angle'];\n    axisMap.set('radius', radiusAxisModel);\n    axisMap.set('angle', angleAxisModel);\n    if (isCategory(radiusAxisModel)) {\n      categoryAxisMap.set('radius', radiusAxisModel);\n      result.firstCategoryDimIndex = 0;\n    }\n    if (isCategory(angleAxisModel)) {\n      categoryAxisMap.set('angle', angleAxisModel);\n      result.firstCategoryDimIndex == null && (result.firstCategoryDimIndex = 1);\n    }\n  },\n  geo: function (seriesModel, result, axisMap, categoryAxisMap) {\n    result.coordSysDims = ['lng', 'lat'];\n  },\n  parallel: function (seriesModel, result, axisMap, categoryAxisMap) {\n    var ecModel = seriesModel.ecModel;\n    var parallelModel = ecModel.getComponent('parallel', seriesModel.get('parallelIndex'));\n    var coordSysDims = result.coordSysDims = parallelModel.dimensions.slice();\n    each(parallelModel.parallelAxisIndex, function (axisIndex, index) {\n      var axisModel = ecModel.getComponent('parallelAxis', axisIndex);\n      var axisDim = coordSysDims[index];\n      axisMap.set(axisDim, axisModel);\n      if (isCategory(axisModel)) {\n        categoryAxisMap.set(axisDim, axisModel);\n        if (result.firstCategoryDimIndex == null) {\n          result.firstCategoryDimIndex = index;\n        }\n      }\n    });\n  }\n};\nfunction isCategory(axisModel) {\n  return axisModel.get('type') === 'category';\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as modelUtil from '../../util/model.js';\nimport { deprecateLog, deprecateReplaceLog } from '../../util/log.js';\nvar each = zrUtil.each;\nvar isObject = zrUtil.isObject;\nvar POSSIBLE_STYLES = ['areaStyle', 'lineStyle', 'nodeStyle', 'linkStyle', 'chordStyle', 'label', 'labelLine'];\nfunction compatEC2ItemStyle(opt) {\n  var itemStyleOpt = opt && opt.itemStyle;\n  if (!itemStyleOpt) {\n    return;\n  }\n  for (var i = 0, len = POSSIBLE_STYLES.length; i < len; i++) {\n    var styleName = POSSIBLE_STYLES[i];\n    var normalItemStyleOpt = itemStyleOpt.normal;\n    var emphasisItemStyleOpt = itemStyleOpt.emphasis;\n    if (normalItemStyleOpt && normalItemStyleOpt[styleName]) {\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateReplaceLog(\"itemStyle.normal.\" + styleName, styleName);\n      }\n      opt[styleName] = opt[styleName] || {};\n      if (!opt[styleName].normal) {\n        opt[styleName].normal = normalItemStyleOpt[styleName];\n      } else {\n        zrUtil.merge(opt[styleName].normal, normalItemStyleOpt[styleName]);\n      }\n      normalItemStyleOpt[styleName] = null;\n    }\n    if (emphasisItemStyleOpt && emphasisItemStyleOpt[styleName]) {\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateReplaceLog(\"itemStyle.emphasis.\" + styleName, \"emphasis.\" + styleName);\n      }\n      opt[styleName] = opt[styleName] || {};\n      if (!opt[styleName].emphasis) {\n        opt[styleName].emphasis = emphasisItemStyleOpt[styleName];\n      } else {\n        zrUtil.merge(opt[styleName].emphasis, emphasisItemStyleOpt[styleName]);\n      }\n      emphasisItemStyleOpt[styleName] = null;\n    }\n  }\n}\nfunction convertNormalEmphasis(opt, optType, useExtend) {\n  if (opt && opt[optType] && (opt[optType].normal || opt[optType].emphasis)) {\n    var normalOpt = opt[optType].normal;\n    var emphasisOpt = opt[optType].emphasis;\n    if (normalOpt) {\n      if (process.env.NODE_ENV !== 'production') {\n        // eslint-disable-next-line max-len\n        deprecateLog(\"'normal' hierarchy in \" + optType + \" has been removed since 4.0. All style properties are configured in \" + optType + \" directly now.\");\n      }\n      // Timeline controlStyle has other properties besides normal and emphasis\n      if (useExtend) {\n        opt[optType].normal = opt[optType].emphasis = null;\n        zrUtil.defaults(opt[optType], normalOpt);\n      } else {\n        opt[optType] = normalOpt;\n      }\n    }\n    if (emphasisOpt) {\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateLog(optType + \".emphasis has been changed to emphasis.\" + optType + \" since 4.0\");\n      }\n      opt.emphasis = opt.emphasis || {};\n      opt.emphasis[optType] = emphasisOpt;\n      // Also compat the case user mix the style and focus together in ec3 style\n      // for example: { itemStyle: { normal: {}, emphasis: {focus, shadowBlur} } }\n      if (emphasisOpt.focus) {\n        opt.emphasis.focus = emphasisOpt.focus;\n      }\n      if (emphasisOpt.blurScope) {\n        opt.emphasis.blurScope = emphasisOpt.blurScope;\n      }\n    }\n  }\n}\nfunction removeEC3NormalStatus(opt) {\n  convertNormalEmphasis(opt, 'itemStyle');\n  convertNormalEmphasis(opt, 'lineStyle');\n  convertNormalEmphasis(opt, 'areaStyle');\n  convertNormalEmphasis(opt, 'label');\n  convertNormalEmphasis(opt, 'labelLine');\n  // treemap\n  convertNormalEmphasis(opt, 'upperLabel');\n  // graph\n  convertNormalEmphasis(opt, 'edgeLabel');\n}\nfunction compatTextStyle(opt, propName) {\n  // Check whether is not object (string\\null\\undefined ...)\n  var labelOptSingle = isObject(opt) && opt[propName];\n  var textStyle = isObject(labelOptSingle) && labelOptSingle.textStyle;\n  if (textStyle) {\n    if (process.env.NODE_ENV !== 'production') {\n      // eslint-disable-next-line max-len\n      deprecateLog(\"textStyle hierarchy in \" + propName + \" has been removed since 4.0. All textStyle properties are configured in \" + propName + \" directly now.\");\n    }\n    for (var i = 0, len = modelUtil.TEXT_STYLE_OPTIONS.length; i < len; i++) {\n      var textPropName = modelUtil.TEXT_STYLE_OPTIONS[i];\n      if (textStyle.hasOwnProperty(textPropName)) {\n        labelOptSingle[textPropName] = textStyle[textPropName];\n      }\n    }\n  }\n}\nfunction compatEC3CommonStyles(opt) {\n  if (opt) {\n    removeEC3NormalStatus(opt);\n    compatTextStyle(opt, 'label');\n    opt.emphasis && compatTextStyle(opt.emphasis, 'label');\n  }\n}\nfunction processSeries(seriesOpt) {\n  if (!isObject(seriesOpt)) {\n    return;\n  }\n  compatEC2ItemStyle(seriesOpt);\n  removeEC3NormalStatus(seriesOpt);\n  compatTextStyle(seriesOpt, 'label');\n  // treemap\n  compatTextStyle(seriesOpt, 'upperLabel');\n  // graph\n  compatTextStyle(seriesOpt, 'edgeLabel');\n  if (seriesOpt.emphasis) {\n    compatTextStyle(seriesOpt.emphasis, 'label');\n    // treemap\n    compatTextStyle(seriesOpt.emphasis, 'upperLabel');\n    // graph\n    compatTextStyle(seriesOpt.emphasis, 'edgeLabel');\n  }\n  var markPoint = seriesOpt.markPoint;\n  if (markPoint) {\n    compatEC2ItemStyle(markPoint);\n    compatEC3CommonStyles(markPoint);\n  }\n  var markLine = seriesOpt.markLine;\n  if (markLine) {\n    compatEC2ItemStyle(markLine);\n    compatEC3CommonStyles(markLine);\n  }\n  var markArea = seriesOpt.markArea;\n  if (markArea) {\n    compatEC3CommonStyles(markArea);\n  }\n  var data = seriesOpt.data;\n  // Break with ec3: if `setOption` again, there may be no `type` in option,\n  // then the backward compat based on option type will not be performed.\n  if (seriesOpt.type === 'graph') {\n    data = data || seriesOpt.nodes;\n    var edgeData = seriesOpt.links || seriesOpt.edges;\n    if (edgeData && !zrUtil.isTypedArray(edgeData)) {\n      for (var i = 0; i < edgeData.length; i++) {\n        compatEC3CommonStyles(edgeData[i]);\n      }\n    }\n    zrUtil.each(seriesOpt.categories, function (opt) {\n      removeEC3NormalStatus(opt);\n    });\n  }\n  if (data && !zrUtil.isTypedArray(data)) {\n    for (var i = 0; i < data.length; i++) {\n      compatEC3CommonStyles(data[i]);\n    }\n  }\n  // mark point data\n  markPoint = seriesOpt.markPoint;\n  if (markPoint && markPoint.data) {\n    var mpData = markPoint.data;\n    for (var i = 0; i < mpData.length; i++) {\n      compatEC3CommonStyles(mpData[i]);\n    }\n  }\n  // mark line data\n  markLine = seriesOpt.markLine;\n  if (markLine && markLine.data) {\n    var mlData = markLine.data;\n    for (var i = 0; i < mlData.length; i++) {\n      if (zrUtil.isArray(mlData[i])) {\n        compatEC3CommonStyles(mlData[i][0]);\n        compatEC3CommonStyles(mlData[i][1]);\n      } else {\n        compatEC3CommonStyles(mlData[i]);\n      }\n    }\n  }\n  // Series\n  if (seriesOpt.type === 'gauge') {\n    compatTextStyle(seriesOpt, 'axisLabel');\n    compatTextStyle(seriesOpt, 'title');\n    compatTextStyle(seriesOpt, 'detail');\n  } else if (seriesOpt.type === 'treemap') {\n    convertNormalEmphasis(seriesOpt.breadcrumb, 'itemStyle');\n    zrUtil.each(seriesOpt.levels, function (opt) {\n      removeEC3NormalStatus(opt);\n    });\n  } else if (seriesOpt.type === 'tree') {\n    removeEC3NormalStatus(seriesOpt.leaves);\n  }\n  // sunburst starts from ec4, so it does not need to compat levels.\n}\n\nfunction toArr(o) {\n  return zrUtil.isArray(o) ? o : o ? [o] : [];\n}\nfunction toObj(o) {\n  return (zrUtil.isArray(o) ? o[0] : o) || {};\n}\nexport default function globalCompatStyle(option, isTheme) {\n  each(toArr(option.series), function (seriesOpt) {\n    isObject(seriesOpt) && processSeries(seriesOpt);\n  });\n  var axes = ['xAxis', 'yAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'parallelAxis', 'radar'];\n  isTheme && axes.push('valueAxis', 'categoryAxis', 'logAxis', 'timeAxis');\n  each(axes, function (axisName) {\n    each(toArr(option[axisName]), function (axisOpt) {\n      if (axisOpt) {\n        compatTextStyle(axisOpt, 'axisLabel');\n        compatTextStyle(axisOpt.axisPointer, 'label');\n      }\n    });\n  });\n  each(toArr(option.parallel), function (parallelOpt) {\n    var parallelAxisDefault = parallelOpt && parallelOpt.parallelAxisDefault;\n    compatTextStyle(parallelAxisDefault, 'axisLabel');\n    compatTextStyle(parallelAxisDefault && parallelAxisDefault.axisPointer, 'label');\n  });\n  each(toArr(option.calendar), function (calendarOpt) {\n    convertNormalEmphasis(calendarOpt, 'itemStyle');\n    compatTextStyle(calendarOpt, 'dayLabel');\n    compatTextStyle(calendarOpt, 'monthLabel');\n    compatTextStyle(calendarOpt, 'yearLabel');\n  });\n  // radar.name.textStyle\n  each(toArr(option.radar), function (radarOpt) {\n    compatTextStyle(radarOpt, 'name');\n    // Use axisName instead of name because component has name property\n    if (radarOpt.name && radarOpt.axisName == null) {\n      radarOpt.axisName = radarOpt.name;\n      delete radarOpt.name;\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateLog('name property in radar component has been changed to axisName');\n      }\n    }\n    if (radarOpt.nameGap != null && radarOpt.axisNameGap == null) {\n      radarOpt.axisNameGap = radarOpt.nameGap;\n      delete radarOpt.nameGap;\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateLog('nameGap property in radar component has been changed to axisNameGap');\n      }\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      each(radarOpt.indicator, function (indicatorOpt) {\n        if (indicatorOpt.text) {\n          deprecateReplaceLog('text', 'name', 'radar.indicator');\n        }\n      });\n    }\n  });\n  each(toArr(option.geo), function (geoOpt) {\n    if (isObject(geoOpt)) {\n      compatEC3CommonStyles(geoOpt);\n      each(toArr(geoOpt.regions), function (regionObj) {\n        compatEC3CommonStyles(regionObj);\n      });\n    }\n  });\n  each(toArr(option.timeline), function (timelineOpt) {\n    compatEC3CommonStyles(timelineOpt);\n    convertNormalEmphasis(timelineOpt, 'label');\n    convertNormalEmphasis(timelineOpt, 'itemStyle');\n    convertNormalEmphasis(timelineOpt, 'controlStyle', true);\n    var data = timelineOpt.data;\n    zrUtil.isArray(data) && zrUtil.each(data, function (item) {\n      if (zrUtil.isObject(item)) {\n        convertNormalEmphasis(item, 'label');\n        convertNormalEmphasis(item, 'itemStyle');\n      }\n    });\n  });\n  each(toArr(option.toolbox), function (toolboxOpt) {\n    convertNormalEmphasis(toolboxOpt, 'iconStyle');\n    each(toolboxOpt.feature, function (featureOpt) {\n      convertNormalEmphasis(featureOpt, 'iconStyle');\n    });\n  });\n  compatTextStyle(toObj(option.axisPointer), 'label');\n  compatTextStyle(toObj(option.tooltip).axisPointer, 'label');\n  // Clean logs\n  // storedLogs = {};\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, isArray, isObject, isTypedArray, defaults } from 'zrender/lib/core/util.js';\nimport compatStyle from './helper/compatStyle.js';\nimport { normalizeToArray } from '../util/model.js';\nimport { deprecateLog, deprecateReplaceLog } from '../util/log.js';\nfunction get(opt, path) {\n  var pathArr = path.split(',');\n  var obj = opt;\n  for (var i = 0; i < pathArr.length; i++) {\n    obj = obj && obj[pathArr[i]];\n    if (obj == null) {\n      break;\n    }\n  }\n  return obj;\n}\nfunction set(opt, path, val, overwrite) {\n  var pathArr = path.split(',');\n  var obj = opt;\n  var key;\n  var i = 0;\n  for (; i < pathArr.length - 1; i++) {\n    key = pathArr[i];\n    if (obj[key] == null) {\n      obj[key] = {};\n    }\n    obj = obj[key];\n  }\n  if (overwrite || obj[pathArr[i]] == null) {\n    obj[pathArr[i]] = val;\n  }\n}\nfunction compatLayoutProperties(option) {\n  option && each(LAYOUT_PROPERTIES, function (prop) {\n    if (prop[0] in option && !(prop[1] in option)) {\n      option[prop[1]] = option[prop[0]];\n    }\n  });\n}\nvar LAYOUT_PROPERTIES = [['x', 'left'], ['y', 'top'], ['x2', 'right'], ['y2', 'bottom']];\nvar COMPATITABLE_COMPONENTS = ['grid', 'geo', 'parallel', 'legend', 'toolbox', 'title', 'visualMap', 'dataZoom', 'timeline'];\nvar BAR_ITEM_STYLE_MAP = [['borderRadius', 'barBorderRadius'], ['borderColor', 'barBorderColor'], ['borderWidth', 'barBorderWidth']];\nfunction compatBarItemStyle(option) {\n  var itemStyle = option && option.itemStyle;\n  if (itemStyle) {\n    for (var i = 0; i < BAR_ITEM_STYLE_MAP.length; i++) {\n      var oldName = BAR_ITEM_STYLE_MAP[i][1];\n      var newName = BAR_ITEM_STYLE_MAP[i][0];\n      if (itemStyle[oldName] != null) {\n        itemStyle[newName] = itemStyle[oldName];\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog(oldName, newName);\n        }\n      }\n    }\n  }\n}\nfunction compatPieLabel(option) {\n  if (!option) {\n    return;\n  }\n  if (option.alignTo === 'edge' && option.margin != null && option.edgeDistance == null) {\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateReplaceLog('label.margin', 'label.edgeDistance', 'pie');\n    }\n    option.edgeDistance = option.margin;\n  }\n}\nfunction compatSunburstState(option) {\n  if (!option) {\n    return;\n  }\n  if (option.downplay && !option.blur) {\n    option.blur = option.downplay;\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateReplaceLog('downplay', 'blur', 'sunburst');\n    }\n  }\n}\nfunction compatGraphFocus(option) {\n  if (!option) {\n    return;\n  }\n  if (option.focusNodeAdjacency != null) {\n    option.emphasis = option.emphasis || {};\n    if (option.emphasis.focus == null) {\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateReplaceLog('focusNodeAdjacency', 'emphasis: { focus: \\'adjacency\\'}', 'graph/sankey');\n      }\n      option.emphasis.focus = 'adjacency';\n    }\n  }\n}\nfunction traverseTree(data, cb) {\n  if (data) {\n    for (var i = 0; i < data.length; i++) {\n      cb(data[i]);\n      data[i] && traverseTree(data[i].children, cb);\n    }\n  }\n}\nexport default function globalBackwardCompat(option, isTheme) {\n  compatStyle(option, isTheme);\n  // Make sure series array for model initialization.\n  option.series = normalizeToArray(option.series);\n  each(option.series, function (seriesOpt) {\n    if (!isObject(seriesOpt)) {\n      return;\n    }\n    var seriesType = seriesOpt.type;\n    if (seriesType === 'line') {\n      if (seriesOpt.clipOverflow != null) {\n        seriesOpt.clip = seriesOpt.clipOverflow;\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog('clipOverflow', 'clip', 'line');\n        }\n      }\n    } else if (seriesType === 'pie' || seriesType === 'gauge') {\n      if (seriesOpt.clockWise != null) {\n        seriesOpt.clockwise = seriesOpt.clockWise;\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog('clockWise', 'clockwise');\n        }\n      }\n      compatPieLabel(seriesOpt.label);\n      var data = seriesOpt.data;\n      if (data && !isTypedArray(data)) {\n        for (var i = 0; i < data.length; i++) {\n          compatPieLabel(data[i]);\n        }\n      }\n      if (seriesOpt.hoverOffset != null) {\n        seriesOpt.emphasis = seriesOpt.emphasis || {};\n        if (seriesOpt.emphasis.scaleSize = null) {\n          if (process.env.NODE_ENV !== 'production') {\n            deprecateReplaceLog('hoverOffset', 'emphasis.scaleSize');\n          }\n          seriesOpt.emphasis.scaleSize = seriesOpt.hoverOffset;\n        }\n      }\n    } else if (seriesType === 'gauge') {\n      var pointerColor = get(seriesOpt, 'pointer.color');\n      pointerColor != null && set(seriesOpt, 'itemStyle.color', pointerColor);\n    } else if (seriesType === 'bar') {\n      compatBarItemStyle(seriesOpt);\n      compatBarItemStyle(seriesOpt.backgroundStyle);\n      compatBarItemStyle(seriesOpt.emphasis);\n      var data = seriesOpt.data;\n      if (data && !isTypedArray(data)) {\n        for (var i = 0; i < data.length; i++) {\n          if (typeof data[i] === 'object') {\n            compatBarItemStyle(data[i]);\n            compatBarItemStyle(data[i] && data[i].emphasis);\n          }\n        }\n      }\n    } else if (seriesType === 'sunburst') {\n      var highlightPolicy = seriesOpt.highlightPolicy;\n      if (highlightPolicy) {\n        seriesOpt.emphasis = seriesOpt.emphasis || {};\n        if (!seriesOpt.emphasis.focus) {\n          seriesOpt.emphasis.focus = highlightPolicy;\n          if (process.env.NODE_ENV !== 'production') {\n            deprecateReplaceLog('highlightPolicy', 'emphasis.focus', 'sunburst');\n          }\n        }\n      }\n      compatSunburstState(seriesOpt);\n      traverseTree(seriesOpt.data, compatSunburstState);\n    } else if (seriesType === 'graph' || seriesType === 'sankey') {\n      compatGraphFocus(seriesOpt);\n      // TODO nodes, edges?\n    } else if (seriesType === 'map') {\n      if (seriesOpt.mapType && !seriesOpt.map) {\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog('mapType', 'map', 'map');\n        }\n        seriesOpt.map = seriesOpt.mapType;\n      }\n      if (seriesOpt.mapLocation) {\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateLog('`mapLocation` is not used anymore.');\n        }\n        defaults(seriesOpt, seriesOpt.mapLocation);\n      }\n    }\n    if (seriesOpt.hoverAnimation != null) {\n      seriesOpt.emphasis = seriesOpt.emphasis || {};\n      if (seriesOpt.emphasis && seriesOpt.emphasis.scale == null) {\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog('hoverAnimation', 'emphasis.scale');\n        }\n        seriesOpt.emphasis.scale = seriesOpt.hoverAnimation;\n      }\n    }\n    compatLayoutProperties(seriesOpt);\n  });\n  // dataRange has changed to visualMap\n  if (option.dataRange) {\n    option.visualMap = option.dataRange;\n  }\n  each(COMPATITABLE_COMPONENTS, function (componentName) {\n    var options = option[componentName];\n    if (options) {\n      if (!isArray(options)) {\n        options = [options];\n      }\n      each(options, function (option) {\n        compatLayoutProperties(option);\n      });\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function dataFilter(seriesType) {\n  return {\n    seriesType: seriesType,\n    reset: function (seriesModel, ecModel) {\n      var legendModels = ecModel.findComponents({\n        mainType: 'legend'\n      });\n      if (!legendModels || !legendModels.length) {\n        return;\n      }\n      var data = seriesModel.getData();\n      data.filterSelf(function (idx) {\n        var name = data.getName(idx);\n        // If in any legend component the status is not selected.\n        for (var i = 0; i < legendModels.length; i++) {\n          // @ts-ignore FIXME: LegendModel\n          if (!legendModels[i].isSelected(name)) {\n            return false;\n          }\n        }\n        return true;\n      });\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isFunction, isString } from 'zrender/lib/core/util.js';\nvar samplers = {\n  average: function (frame) {\n    var sum = 0;\n    var count = 0;\n    for (var i = 0; i < frame.length; i++) {\n      if (!isNaN(frame[i])) {\n        sum += frame[i];\n        count++;\n      }\n    }\n    // Return NaN if count is 0\n    return count === 0 ? NaN : sum / count;\n  },\n  sum: function (frame) {\n    var sum = 0;\n    for (var i = 0; i < frame.length; i++) {\n      // Ignore NaN\n      sum += frame[i] || 0;\n    }\n    return sum;\n  },\n  max: function (frame) {\n    var max = -Infinity;\n    for (var i = 0; i < frame.length; i++) {\n      frame[i] > max && (max = frame[i]);\n    }\n    // NaN will cause illegal axis extent.\n    return isFinite(max) ? max : NaN;\n  },\n  min: function (frame) {\n    var min = Infinity;\n    for (var i = 0; i < frame.length; i++) {\n      frame[i] < min && (min = frame[i]);\n    }\n    // NaN will cause illegal axis extent.\n    return isFinite(min) ? min : NaN;\n  },\n  minmax: function (frame) {\n    var turningPointAbsoluteValue = -Infinity;\n    var turningPointOriginalValue = -Infinity;\n    for (var i = 0; i < frame.length; i++) {\n      var originalValue = frame[i];\n      var absoluteValue = Math.abs(originalValue);\n      if (absoluteValue > turningPointAbsoluteValue) {\n        turningPointAbsoluteValue = absoluteValue;\n        turningPointOriginalValue = originalValue;\n      }\n    }\n    return isFinite(turningPointOriginalValue) ? turningPointOriginalValue : NaN;\n  },\n  // TODO\n  // Median\n  nearest: function (frame) {\n    return frame[0];\n  }\n};\nvar indexSampler = function (frame) {\n  return Math.round(frame.length / 2);\n};\nexport default function dataSample(seriesType) {\n  return {\n    seriesType: seriesType,\n    // FIXME:TS never used, so comment it\n    // modifyOutputEnd: true,\n    reset: function (seriesModel, ecModel, api) {\n      var data = seriesModel.getData();\n      var sampling = seriesModel.get('sampling');\n      var coordSys = seriesModel.coordinateSystem;\n      var count = data.count();\n      // Only cartesian2d support down sampling. Disable it when there is few data.\n      if (count > 10 && coordSys.type === 'cartesian2d' && sampling) {\n        var baseAxis = coordSys.getBaseAxis();\n        var valueAxis = coordSys.getOtherAxis(baseAxis);\n        var extent = baseAxis.getExtent();\n        var dpr = api.getDevicePixelRatio();\n        // Coordinste system has been resized\n        var size = Math.abs(extent[1] - extent[0]) * (dpr || 1);\n        var rate = Math.round(count / size);\n        if (isFinite(rate) && rate > 1) {\n          if (sampling === 'lttb') {\n            seriesModel.setData(data.lttbDownSample(data.mapDimension(valueAxis.dim), 1 / rate));\n          }\n          var sampler = void 0;\n          if (isString(sampling)) {\n            sampler = samplers[sampling];\n          } else if (isFunction(sampling)) {\n            sampler = sampling;\n          }\n          if (sampler) {\n            // Only support sample the first dim mapped from value axis.\n            seriesModel.setData(data.downSample(data.mapDimension(valueAxis.dim), 1 / rate, sampler, indexSampler));\n          }\n        }\n      }\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap, each } from 'zrender/lib/core/util.js';\nimport { addSafe } from '../util/number.js';\n// (1) [Caution]: the logic is correct based on the premises:\n//     data processing stage is blocked in stream.\n//     See <module:echarts/stream/Scheduler#performDataProcessorTasks>\n// (2) Only register once when import repeatedly.\n//     Should be executed after series is filtered and before stack calculation.\nexport default function dataStack(ecModel) {\n  var stackInfoMap = createHashMap();\n  ecModel.eachSeries(function (seriesModel) {\n    var stack = seriesModel.get('stack');\n    // Compatible: when `stack` is set as '', do not stack.\n    if (stack) {\n      var stackInfoList = stackInfoMap.get(stack) || stackInfoMap.set(stack, []);\n      var data = seriesModel.getData();\n      var stackInfo = {\n        // Used for calculate axis extent automatically.\n        // TODO: Type getCalculationInfo return more specific type?\n        stackResultDimension: data.getCalculationInfo('stackResultDimension'),\n        stackedOverDimension: data.getCalculationInfo('stackedOverDimension'),\n        stackedDimension: data.getCalculationInfo('stackedDimension'),\n        stackedByDimension: data.getCalculationInfo('stackedByDimension'),\n        isStackedByIndex: data.getCalculationInfo('isStackedByIndex'),\n        data: data,\n        seriesModel: seriesModel\n      };\n      // If stacked on axis that do not support data stack.\n      if (!stackInfo.stackedDimension || !(stackInfo.isStackedByIndex || stackInfo.stackedByDimension)) {\n        return;\n      }\n      stackInfoList.length && data.setCalculationInfo('stackedOnSeries', stackInfoList[stackInfoList.length - 1].seriesModel);\n      stackInfoList.push(stackInfo);\n    }\n  });\n  stackInfoMap.each(calculateStack);\n}\nfunction calculateStack(stackInfoList) {\n  each(stackInfoList, function (targetStackInfo, idxInStack) {\n    var resultVal = [];\n    var resultNaN = [NaN, NaN];\n    var dims = [targetStackInfo.stackResultDimension, targetStackInfo.stackedOverDimension];\n    var targetData = targetStackInfo.data;\n    var isStackedByIndex = targetStackInfo.isStackedByIndex;\n    var stackStrategy = targetStackInfo.seriesModel.get('stackStrategy') || 'samesign';\n    // Should not write on raw data, because stack series model list changes\n    // depending on legend selection.\n    targetData.modify(dims, function (v0, v1, dataIndex) {\n      var sum = targetData.get(targetStackInfo.stackedDimension, dataIndex);\n      // Consider `connectNulls` of line area, if value is NaN, stackedOver\n      // should also be NaN, to draw a appropriate belt area.\n      if (isNaN(sum)) {\n        return resultNaN;\n      }\n      var byValue;\n      var stackedDataRawIndex;\n      if (isStackedByIndex) {\n        stackedDataRawIndex = targetData.getRawIndex(dataIndex);\n      } else {\n        byValue = targetData.get(targetStackInfo.stackedByDimension, dataIndex);\n      }\n      // If stackOver is NaN, chart view will render point on value start.\n      var stackedOver = NaN;\n      for (var j = idxInStack - 1; j >= 0; j--) {\n        var stackInfo = stackInfoList[j];\n        // Has been optimized by inverted indices on `stackedByDimension`.\n        if (!isStackedByIndex) {\n          stackedDataRawIndex = stackInfo.data.rawIndexOf(stackInfo.stackedByDimension, byValue);\n        }\n        if (stackedDataRawIndex >= 0) {\n          var val = stackInfo.data.getByRawIndex(stackInfo.stackResultDimension, stackedDataRawIndex);\n          // Considering positive stack, negative stack and empty data\n          if (stackStrategy === 'all' // single stack group\n          || stackStrategy === 'positive' && val > 0 || stackStrategy === 'negative' && val < 0 || stackStrategy === 'samesign' && sum >= 0 && val > 0 // All positive stack\n          || stackStrategy === 'samesign' && sum <= 0 && val < 0 // All negative stack\n          ) {\n            // The sum has to be very small to be affected by the\n            // floating arithmetic problem. An incorrect result will probably\n            // cause axis min/max to be filtered incorrectly.\n            sum = addSafe(sum, val);\n            stackedOver = val;\n            break;\n          }\n        }\n      }\n      resultVal[0] = sum;\n      resultVal[1] = stackedOver;\n      return resultVal;\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isNumber } from 'zrender/lib/core/util.js';\nexport default function negativeDataFilter(seriesType) {\n  return {\n    seriesType: seriesType,\n    reset: function (seriesModel, ecModel) {\n      var data = seriesModel.getData();\n      data.filterSelf(function (idx) {\n        // handle negative value condition\n        var valueDim = data.mapDimension('value');\n        var curValue = data.get(valueDim, idx);\n        if (isNumber(curValue) && !isNaN(curValue) && curValue < 0) {\n          return false;\n        }\n        return true;\n      });\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport CanvasPainter from 'zrender/lib/canvas/Painter.js';\nexport function install(registers) {\n  registers.registerPainter('canvas', CanvasPainter);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport SVGPainter from 'zrender/lib/svg/Painter.js';\nexport function install(registers) {\n  registers.registerPainter('svg', SVGPainter);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as numberUtil from '../util/number.js';\nimport * as formatUtil from '../util/format.js';\nimport Scale from './Scale.js';\nimport * as helper from './helper.js';\nvar roundNumber = numberUtil.round;\nvar IntervalScale = /** @class */function (_super) {\n  __extends(IntervalScale, _super);\n  function IntervalScale() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = 'interval';\n    // Step is calculated in adjustExtent.\n    _this._interval = 0;\n    _this._intervalPrecision = 2;\n    return _this;\n  }\n  IntervalScale.prototype.parse = function (val) {\n    return val;\n  };\n  IntervalScale.prototype.contain = function (val) {\n    return helper.contain(val, this._extent);\n  };\n  IntervalScale.prototype.normalize = function (val) {\n    return helper.normalize(val, this._extent);\n  };\n  IntervalScale.prototype.scale = function (val) {\n    return helper.scale(val, this._extent);\n  };\n  IntervalScale.prototype.setExtent = function (start, end) {\n    var thisExtent = this._extent;\n    // start,end may be a Number like '25',so...\n    if (!isNaN(start)) {\n      thisExtent[0] = parseFloat(start);\n    }\n    if (!isNaN(end)) {\n      thisExtent[1] = parseFloat(end);\n    }\n  };\n  IntervalScale.prototype.unionExtent = function (other) {\n    var extent = this._extent;\n    other[0] < extent[0] && (extent[0] = other[0]);\n    other[1] > extent[1] && (extent[1] = other[1]);\n    // unionExtent may called by it's sub classes\n    this.setExtent(extent[0], extent[1]);\n  };\n  IntervalScale.prototype.getInterval = function () {\n    return this._interval;\n  };\n  IntervalScale.prototype.setInterval = function (interval) {\n    this._interval = interval;\n    // Dropped auto calculated niceExtent and use user-set extent.\n    // We assume user wants to set both interval, min, max to get a better result.\n    this._niceExtent = this._extent.slice();\n    this._intervalPrecision = helper.getIntervalPrecision(interval);\n  };\n  /**\n   * @param expandToNicedExtent Whether expand the ticks to niced extent.\n   */\n  IntervalScale.prototype.getTicks = function (expandToNicedExtent) {\n    var interval = this._interval;\n    var extent = this._extent;\n    var niceTickExtent = this._niceExtent;\n    var intervalPrecision = this._intervalPrecision;\n    var ticks = [];\n    // If interval is 0, return [];\n    if (!interval) {\n      return ticks;\n    }\n    // Consider this case: using dataZoom toolbox, zoom and zoom.\n    var safeLimit = 10000;\n    if (extent[0] < niceTickExtent[0]) {\n      if (expandToNicedExtent) {\n        ticks.push({\n          value: roundNumber(niceTickExtent[0] - interval, intervalPrecision)\n        });\n      } else {\n        ticks.push({\n          value: extent[0]\n        });\n      }\n    }\n    var tick = niceTickExtent[0];\n    while (tick <= niceTickExtent[1]) {\n      ticks.push({\n        value: tick\n      });\n      // Avoid rounding error\n      tick = roundNumber(tick + interval, intervalPrecision);\n      if (tick === ticks[ticks.length - 1].value) {\n        // Consider out of safe float point, e.g.,\n        // -3711126.9907707 + 2e-10 === -3711126.9907707\n        break;\n      }\n      if (ticks.length > safeLimit) {\n        return [];\n      }\n    }\n    // Consider this case: the last item of ticks is smaller\n    // than niceTickExtent[1] and niceTickExtent[1] === extent[1].\n    var lastNiceTick = ticks.length ? ticks[ticks.length - 1].value : niceTickExtent[1];\n    if (extent[1] > lastNiceTick) {\n      if (expandToNicedExtent) {\n        ticks.push({\n          value: roundNumber(lastNiceTick + interval, intervalPrecision)\n        });\n      } else {\n        ticks.push({\n          value: extent[1]\n        });\n      }\n    }\n    return ticks;\n  };\n  IntervalScale.prototype.getMinorTicks = function (splitNumber) {\n    var ticks = this.getTicks(true);\n    var minorTicks = [];\n    var extent = this.getExtent();\n    for (var i = 1; i < ticks.length; i++) {\n      var nextTick = ticks[i];\n      var prevTick = ticks[i - 1];\n      var count = 0;\n      var minorTicksGroup = [];\n      var interval = nextTick.value - prevTick.value;\n      var minorInterval = interval / splitNumber;\n      while (count < splitNumber - 1) {\n        var minorTick = roundNumber(prevTick.value + (count + 1) * minorInterval);\n        // For the first and last interval. The count may be less than splitNumber.\n        if (minorTick > extent[0] && minorTick < extent[1]) {\n          minorTicksGroup.push(minorTick);\n        }\n        count++;\n      }\n      minorTicks.push(minorTicksGroup);\n    }\n    return minorTicks;\n  };\n  /**\n   * @param opt.precision If 'auto', use nice presision.\n   * @param opt.pad returns 1.50 but not 1.5 if precision is 2.\n   */\n  IntervalScale.prototype.getLabel = function (data, opt) {\n    if (data == null) {\n      return '';\n    }\n    var precision = opt && opt.precision;\n    if (precision == null) {\n      precision = numberUtil.getPrecision(data.value) || 0;\n    } else if (precision === 'auto') {\n      // Should be more precise then tick.\n      precision = this._intervalPrecision;\n    }\n    // (1) If `precision` is set, 12.005 should be display as '12.00500'.\n    // (2) Use roundNumber (toFixed) to avoid scientific notation like '3.5e-7'.\n    var dataNum = roundNumber(data.value, precision, true);\n    return formatUtil.addCommas(dataNum);\n  };\n  /**\n   * @param splitNumber By default `5`.\n   */\n  IntervalScale.prototype.calcNiceTicks = function (splitNumber, minInterval, maxInterval) {\n    splitNumber = splitNumber || 5;\n    var extent = this._extent;\n    var span = extent[1] - extent[0];\n    if (!isFinite(span)) {\n      return;\n    }\n    // User may set axis min 0 and data are all negative\n    // FIXME If it needs to reverse ?\n    if (span < 0) {\n      span = -span;\n      extent.reverse();\n    }\n    var result = helper.intervalScaleNiceTicks(extent, splitNumber, minInterval, maxInterval);\n    this._intervalPrecision = result.intervalPrecision;\n    this._interval = result.interval;\n    this._niceExtent = result.niceTickExtent;\n  };\n  IntervalScale.prototype.calcNiceExtent = function (opt) {\n    var extent = this._extent;\n    // If extent start and end are same, expand them\n    if (extent[0] === extent[1]) {\n      if (extent[0] !== 0) {\n        // Expand extent\n        // Note that extents can be both negative. See #13154\n        var expandSize = Math.abs(extent[0]);\n        // In the fowllowing case\n        //      Axis has been fixed max 100\n        //      Plus data are all 100 and axis extent are [100, 100].\n        // Extend to the both side will cause expanded max is larger than fixed max.\n        // So only expand to the smaller side.\n        if (!opt.fixMax) {\n          extent[1] += expandSize / 2;\n          extent[0] -= expandSize / 2;\n        } else {\n          extent[0] -= expandSize / 2;\n        }\n      } else {\n        extent[1] = 1;\n      }\n    }\n    var span = extent[1] - extent[0];\n    // If there are no data and extent are [Infinity, -Infinity]\n    if (!isFinite(span)) {\n      extent[0] = 0;\n      extent[1] = 1;\n    }\n    this.calcNiceTicks(opt.splitNumber, opt.minInterval, opt.maxInterval);\n    // let extent = this._extent;\n    var interval = this._interval;\n    if (!opt.fixMin) {\n      extent[0] = roundNumber(Math.floor(extent[0] / interval) * interval);\n    }\n    if (!opt.fixMax) {\n      extent[1] = roundNumber(Math.ceil(extent[1] / interval) * interval);\n    }\n  };\n  IntervalScale.prototype.setNiceExtent = function (min, max) {\n    this._niceExtent = [min, max];\n  };\n  IntervalScale.type = 'interval';\n  return IntervalScale;\n}(Scale);\nScale.registerClass(IntervalScale);\nexport default IntervalScale;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport Scale from './Scale.js';\nimport * as numberUtil from '../util/number.js';\nimport * as scaleHelper from './helper.js';\n// Use some method of IntervalScale\nimport IntervalScale from './Interval.js';\nvar scaleProto = Scale.prototype;\n// FIXME:TS refactor: not good to call it directly with `this`?\nvar intervalScaleProto = IntervalScale.prototype;\nvar roundingErrorFix = numberUtil.round;\nvar mathFloor = Math.floor;\nvar mathCeil = Math.ceil;\nvar mathPow = Math.pow;\nvar mathLog = Math.log;\nvar LogScale = /** @class */function (_super) {\n  __extends(LogScale, _super);\n  function LogScale() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = 'log';\n    _this.base = 10;\n    _this._originalScale = new IntervalScale();\n    // FIXME:TS actually used by `IntervalScale`\n    _this._interval = 0;\n    return _this;\n  }\n  /**\n   * @param Whether expand the ticks to niced extent.\n   */\n  LogScale.prototype.getTicks = function (expandToNicedExtent) {\n    var originalScale = this._originalScale;\n    var extent = this._extent;\n    var originalExtent = originalScale.getExtent();\n    var ticks = intervalScaleProto.getTicks.call(this, expandToNicedExtent);\n    return zrUtil.map(ticks, function (tick) {\n      var val = tick.value;\n      var powVal = numberUtil.round(mathPow(this.base, val));\n      // Fix #4158\n      powVal = val === extent[0] && this._fixMin ? fixRoundingError(powVal, originalExtent[0]) : powVal;\n      powVal = val === extent[1] && this._fixMax ? fixRoundingError(powVal, originalExtent[1]) : powVal;\n      return {\n        value: powVal\n      };\n    }, this);\n  };\n  LogScale.prototype.setExtent = function (start, end) {\n    var base = mathLog(this.base);\n    // log(-Infinity) is NaN, so safe guard here\n    start = mathLog(Math.max(0, start)) / base;\n    end = mathLog(Math.max(0, end)) / base;\n    intervalScaleProto.setExtent.call(this, start, end);\n  };\n  /**\n   * @return {number} end\n   */\n  LogScale.prototype.getExtent = function () {\n    var base = this.base;\n    var extent = scaleProto.getExtent.call(this);\n    extent[0] = mathPow(base, extent[0]);\n    extent[1] = mathPow(base, extent[1]);\n    // Fix #4158\n    var originalScale = this._originalScale;\n    var originalExtent = originalScale.getExtent();\n    this._fixMin && (extent[0] = fixRoundingError(extent[0], originalExtent[0]));\n    this._fixMax && (extent[1] = fixRoundingError(extent[1], originalExtent[1]));\n    return extent;\n  };\n  LogScale.prototype.unionExtent = function (extent) {\n    this._originalScale.unionExtent(extent);\n    var base = this.base;\n    extent[0] = mathLog(extent[0]) / mathLog(base);\n    extent[1] = mathLog(extent[1]) / mathLog(base);\n    scaleProto.unionExtent.call(this, extent);\n  };\n  LogScale.prototype.unionExtentFromData = function (data, dim) {\n    // TODO\n    // filter value that <= 0\n    this.unionExtent(data.getApproximateExtent(dim));\n  };\n  /**\n   * Update interval and extent of intervals for nice ticks\n   * @param approxTickNum default 10 Given approx tick number\n   */\n  LogScale.prototype.calcNiceTicks = function (approxTickNum) {\n    approxTickNum = approxTickNum || 10;\n    var extent = this._extent;\n    var span = extent[1] - extent[0];\n    if (span === Infinity || span <= 0) {\n      return;\n    }\n    var interval = numberUtil.quantity(span);\n    var err = approxTickNum / span * interval;\n    // Filter ticks to get closer to the desired count.\n    if (err <= 0.5) {\n      interval *= 10;\n    }\n    // Interval should be integer\n    while (!isNaN(interval) && Math.abs(interval) < 1 && Math.abs(interval) > 0) {\n      interval *= 10;\n    }\n    var niceExtent = [numberUtil.round(mathCeil(extent[0] / interval) * interval), numberUtil.round(mathFloor(extent[1] / interval) * interval)];\n    this._interval = interval;\n    this._niceExtent = niceExtent;\n  };\n  LogScale.prototype.calcNiceExtent = function (opt) {\n    intervalScaleProto.calcNiceExtent.call(this, opt);\n    this._fixMin = opt.fixMin;\n    this._fixMax = opt.fixMax;\n  };\n  LogScale.prototype.parse = function (val) {\n    return val;\n  };\n  LogScale.prototype.contain = function (val) {\n    val = mathLog(val) / mathLog(this.base);\n    return scaleHelper.contain(val, this._extent);\n  };\n  LogScale.prototype.normalize = function (val) {\n    val = mathLog(val) / mathLog(this.base);\n    return scaleHelper.normalize(val, this._extent);\n  };\n  LogScale.prototype.scale = function (val) {\n    val = scaleHelper.scale(val, this._extent);\n    return mathPow(this.base, val);\n  };\n  LogScale.type = 'log';\n  return LogScale;\n}(Scale);\nvar proto = LogScale.prototype;\nproto.getMinorTicks = intervalScaleProto.getMinorTicks;\nproto.getLabel = intervalScaleProto.getLabel;\nfunction fixRoundingError(val, originalVal) {\n  return roundingErrorFix(val, numberUtil.getPrecision(originalVal));\n}\nScale.registerClass(LogScale);\nexport default LogScale;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Linear continuous scale\n * http://en.wikipedia.org/wiki/Level_of_measurement\n */\n// FIXME only one data\nimport Scale from './Scale.js';\nimport OrdinalMeta from '../data/OrdinalMeta.js';\nimport * as scaleHelper from './helper.js';\nimport { isArray, map, isObject, isString } from 'zrender/lib/core/util.js';\nvar OrdinalScale = /** @class */function (_super) {\n  __extends(OrdinalScale, _super);\n  function OrdinalScale(setting) {\n    var _this = _super.call(this, setting) || this;\n    _this.type = 'ordinal';\n    var ordinalMeta = _this.getSetting('ordinalMeta');\n    // Caution: Should not use instanceof, consider ec-extensions using\n    // import approach to get OrdinalMeta class.\n    if (!ordinalMeta) {\n      ordinalMeta = new OrdinalMeta({});\n    }\n    if (isArray(ordinalMeta)) {\n      ordinalMeta = new OrdinalMeta({\n        categories: map(ordinalMeta, function (item) {\n          return isObject(item) ? item.value : item;\n        })\n      });\n    }\n    _this._ordinalMeta = ordinalMeta;\n    _this._extent = _this.getSetting('extent') || [0, ordinalMeta.categories.length - 1];\n    return _this;\n  }\n  OrdinalScale.prototype.parse = function (val) {\n    // Caution: Math.round(null) will return `0` rather than `NaN`\n    if (val == null) {\n      return NaN;\n    }\n    return isString(val) ? this._ordinalMeta.getOrdinal(val)\n    // val might be float.\n    : Math.round(val);\n  };\n  OrdinalScale.prototype.contain = function (rank) {\n    rank = this.parse(rank);\n    return scaleHelper.contain(rank, this._extent) && this._ordinalMeta.categories[rank] != null;\n  };\n  /**\n   * Normalize given rank or name to linear [0, 1]\n   * @param val raw ordinal number.\n   * @return normalized value in [0, 1].\n   */\n  OrdinalScale.prototype.normalize = function (val) {\n    val = this._getTickNumber(this.parse(val));\n    return scaleHelper.normalize(val, this._extent);\n  };\n  /**\n   * @param val normalized value in [0, 1].\n   * @return raw ordinal number.\n   */\n  OrdinalScale.prototype.scale = function (val) {\n    val = Math.round(scaleHelper.scale(val, this._extent));\n    return this.getRawOrdinalNumber(val);\n  };\n  OrdinalScale.prototype.getTicks = function () {\n    var ticks = [];\n    var extent = this._extent;\n    var rank = extent[0];\n    while (rank <= extent[1]) {\n      ticks.push({\n        value: rank\n      });\n      rank++;\n    }\n    return ticks;\n  };\n  OrdinalScale.prototype.getMinorTicks = function (splitNumber) {\n    // Not support.\n    return;\n  };\n  /**\n   * @see `Ordinal['_ordinalNumbersByTick']`\n   */\n  OrdinalScale.prototype.setSortInfo = function (info) {\n    if (info == null) {\n      this._ordinalNumbersByTick = this._ticksByOrdinalNumber = null;\n      return;\n    }\n    var infoOrdinalNumbers = info.ordinalNumbers;\n    var ordinalsByTick = this._ordinalNumbersByTick = [];\n    var ticksByOrdinal = this._ticksByOrdinalNumber = [];\n    // Unnecessary support negative tick in `realtimeSort`.\n    var tickNum = 0;\n    var allCategoryLen = this._ordinalMeta.categories.length;\n    for (var len = Math.min(allCategoryLen, infoOrdinalNumbers.length); tickNum < len; ++tickNum) {\n      var ordinalNumber = infoOrdinalNumbers[tickNum];\n      ordinalsByTick[tickNum] = ordinalNumber;\n      ticksByOrdinal[ordinalNumber] = tickNum;\n    }\n    // Handle that `series.data` only covers part of the `axis.category.data`.\n    var unusedOrdinal = 0;\n    for (; tickNum < allCategoryLen; ++tickNum) {\n      while (ticksByOrdinal[unusedOrdinal] != null) {\n        unusedOrdinal++;\n      }\n      ;\n      ordinalsByTick.push(unusedOrdinal);\n      ticksByOrdinal[unusedOrdinal] = tickNum;\n    }\n  };\n  OrdinalScale.prototype._getTickNumber = function (ordinal) {\n    var ticksByOrdinalNumber = this._ticksByOrdinalNumber;\n    // also support ordinal out of range of `ordinalMeta.categories.length`,\n    // where ordinal numbers are used as tick value directly.\n    return ticksByOrdinalNumber && ordinal >= 0 && ordinal < ticksByOrdinalNumber.length ? ticksByOrdinalNumber[ordinal] : ordinal;\n  };\n  /**\n   * @usage\n   * ```js\n   * const ordinalNumber = ordinalScale.getRawOrdinalNumber(tickVal);\n   *\n   * // case0\n   * const rawOrdinalValue = axisModel.getCategories()[ordinalNumber];\n   * // case1\n   * const rawOrdinalValue = this._ordinalMeta.categories[ordinalNumber];\n   * // case2\n   * const coord = axis.dataToCoord(ordinalNumber);\n   * ```\n   *\n   * @param {OrdinalNumber} tickNumber index of display\n   */\n  OrdinalScale.prototype.getRawOrdinalNumber = function (tickNumber) {\n    var ordinalNumbersByTick = this._ordinalNumbersByTick;\n    // tickNumber may be out of range, e.g., when axis max is larger than `ordinalMeta.categories.length`.,\n    // where ordinal numbers are used as tick value directly.\n    return ordinalNumbersByTick && tickNumber >= 0 && tickNumber < ordinalNumbersByTick.length ? ordinalNumbersByTick[tickNumber] : tickNumber;\n  };\n  /**\n   * Get item on tick\n   */\n  OrdinalScale.prototype.getLabel = function (tick) {\n    if (!this.isBlank()) {\n      var ordinalNumber = this.getRawOrdinalNumber(tick.value);\n      var cateogry = this._ordinalMeta.categories[ordinalNumber];\n      // Note that if no data, ordinalMeta.categories is an empty array.\n      // Return empty if it's not exist.\n      return cateogry == null ? '' : cateogry + '';\n    }\n  };\n  OrdinalScale.prototype.count = function () {\n    return this._extent[1] - this._extent[0] + 1;\n  };\n  OrdinalScale.prototype.unionExtentFromData = function (data, dim) {\n    this.unionExtent(data.getApproximateExtent(dim));\n  };\n  /**\n   * @override\n   * If value is in extent range\n   */\n  OrdinalScale.prototype.isInExtentRange = function (value) {\n    value = this._getTickNumber(value);\n    return this._extent[0] <= value && this._extent[1] >= value;\n  };\n  OrdinalScale.prototype.getOrdinalMeta = function () {\n    return this._ordinalMeta;\n  };\n  OrdinalScale.prototype.calcNiceTicks = function () {};\n  OrdinalScale.prototype.calcNiceExtent = function () {};\n  OrdinalScale.type = 'ordinal';\n  return OrdinalScale;\n}(Scale);\nScale.registerClass(OrdinalScale);\nexport default OrdinalScale;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as clazzUtil from '../util/clazz.js';\nvar Scale = /** @class */function () {\n  function Scale(setting) {\n    this._setting = setting || {};\n    this._extent = [Infinity, -Infinity];\n  }\n  Scale.prototype.getSetting = function (name) {\n    return this._setting[name];\n  };\n  /**\n   * Set extent from data\n   */\n  Scale.prototype.unionExtent = function (other) {\n    var extent = this._extent;\n    other[0] < extent[0] && (extent[0] = other[0]);\n    other[1] > extent[1] && (extent[1] = other[1]);\n    // not setExtent because in log axis it may transformed to power\n    // this.setExtent(extent[0], extent[1]);\n  };\n  /**\n   * Set extent from data\n   */\n  Scale.prototype.unionExtentFromData = function (data, dim) {\n    this.unionExtent(data.getApproximateExtent(dim));\n  };\n  /**\n   * Get extent\n   *\n   * Extent is always in increase order.\n   */\n  Scale.prototype.getExtent = function () {\n    return this._extent.slice();\n  };\n  /**\n   * Set extent\n   */\n  Scale.prototype.setExtent = function (start, end) {\n    var thisExtent = this._extent;\n    if (!isNaN(start)) {\n      thisExtent[0] = start;\n    }\n    if (!isNaN(end)) {\n      thisExtent[1] = end;\n    }\n  };\n  /**\n   * If value is in extent range\n   */\n  Scale.prototype.isInExtentRange = function (value) {\n    return this._extent[0] <= value && this._extent[1] >= value;\n  };\n  /**\n   * When axis extent depends on data and no data exists,\n   * axis ticks should not be drawn, which is named 'blank'.\n   */\n  Scale.prototype.isBlank = function () {\n    return this._isBlank;\n  };\n  /**\n   * When axis extent depends on data and no data exists,\n   * axis ticks should not be drawn, which is named 'blank'.\n   */\n  Scale.prototype.setBlank = function (isBlank) {\n    this._isBlank = isBlank;\n  };\n  return Scale;\n}();\nclazzUtil.enableClassManagement(Scale);\nexport default Scale;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/*\n* A third-party license is embedded for some of the code in this file:\n* The \"scaleLevels\" was originally copied from \"d3.js\" with some\n* modifications made for this project.\n* (See more details in the comment on the definition of \"scaleLevels\" below.)\n* The use of the source code of this file is also subject to the terms\n* and consitions of the license of \"d3.js\" (BSD-3Clause, see\n* </licenses/LICENSE-d3>).\n*/\n// [About UTC and local time zone]:\n// In most cases, `number.parseDate` will treat input data string as local time\n// (except time zone is specified in time string). And `format.formateTime` returns\n// local time by default. option.useUTC is false by default. This design has\n// considered these common cases:\n// (1) Time that is persistent in server is in UTC, but it is needed to be displayed\n// in local time by default.\n// (2) By default, the input data string (e.g., '2011-01-02') should be displayed\n// as its original time, without any time difference.\nimport * as numberUtil from '../util/number.js';\nimport { ONE_SECOND, ONE_MINUTE, ONE_HOUR, ONE_DAY, ONE_YEAR, format, leveledFormat, getUnitValue, timeUnits, fullLeveledFormatter, getPrimaryTimeUnit, isPrimaryTimeUnit, getDefaultFormatPrecisionOfInterval, fullYearGetterName, monthSetterName, fullYearSetterName, dateSetterName, hoursGetterName, hoursSetterName, minutesSetterName, secondsSetterName, millisecondsSetterName, monthGetterName, dateGetterName, minutesGetterName, secondsGetterName, millisecondsGetterName } from '../util/time.js';\nimport * as scaleHelper from './helper.js';\nimport IntervalScale from './Interval.js';\nimport Scale from './Scale.js';\nimport { warn } from '../util/log.js';\nimport { filter, isNumber, map } from 'zrender/lib/core/util.js';\n// FIXME \nvar bisect = function (a, x, lo, hi) {\n  while (lo < hi) {\n    var mid = lo + hi >>> 1;\n    if (a[mid][1] < x) {\n      lo = mid + 1;\n    } else {\n      hi = mid;\n    }\n  }\n  return lo;\n};\nvar TimeScale = /** @class */function (_super) {\n  __extends(TimeScale, _super);\n  function TimeScale(settings) {\n    var _this = _super.call(this, settings) || this;\n    _this.type = 'time';\n    return _this;\n  }\n  /**\n   * Get label is mainly for other components like dataZoom, tooltip.\n   */\n  TimeScale.prototype.getLabel = function (tick) {\n    var useUTC = this.getSetting('useUTC');\n    return format(tick.value, fullLeveledFormatter[getDefaultFormatPrecisionOfInterval(getPrimaryTimeUnit(this._minLevelUnit))] || fullLeveledFormatter.second, useUTC, this.getSetting('locale'));\n  };\n  TimeScale.prototype.getFormattedLabel = function (tick, idx, labelFormatter) {\n    var isUTC = this.getSetting('useUTC');\n    var lang = this.getSetting('locale');\n    return leveledFormat(tick, idx, labelFormatter, lang, isUTC);\n  };\n  /**\n   * @override\n   */\n  TimeScale.prototype.getTicks = function () {\n    var interval = this._interval;\n    var extent = this._extent;\n    var ticks = [];\n    // If interval is 0, return [];\n    if (!interval) {\n      return ticks;\n    }\n    ticks.push({\n      value: extent[0],\n      level: 0\n    });\n    var useUTC = this.getSetting('useUTC');\n    var innerTicks = getIntervalTicks(this._minLevelUnit, this._approxInterval, useUTC, extent);\n    ticks = ticks.concat(innerTicks);\n    ticks.push({\n      value: extent[1],\n      level: 0\n    });\n    return ticks;\n  };\n  TimeScale.prototype.calcNiceExtent = function (opt) {\n    var extent = this._extent;\n    // If extent start and end are same, expand them\n    if (extent[0] === extent[1]) {\n      // Expand extent\n      extent[0] -= ONE_DAY;\n      extent[1] += ONE_DAY;\n    }\n    // If there are no data and extent are [Infinity, -Infinity]\n    if (extent[1] === -Infinity && extent[0] === Infinity) {\n      var d = new Date();\n      extent[1] = +new Date(d.getFullYear(), d.getMonth(), d.getDate());\n      extent[0] = extent[1] - ONE_DAY;\n    }\n    this.calcNiceTicks(opt.splitNumber, opt.minInterval, opt.maxInterval);\n  };\n  TimeScale.prototype.calcNiceTicks = function (approxTickNum, minInterval, maxInterval) {\n    approxTickNum = approxTickNum || 10;\n    var extent = this._extent;\n    var span = extent[1] - extent[0];\n    this._approxInterval = span / approxTickNum;\n    if (minInterval != null && this._approxInterval < minInterval) {\n      this._approxInterval = minInterval;\n    }\n    if (maxInterval != null && this._approxInterval > maxInterval) {\n      this._approxInterval = maxInterval;\n    }\n    var scaleIntervalsLen = scaleIntervals.length;\n    var idx = Math.min(bisect(scaleIntervals, this._approxInterval, 0, scaleIntervalsLen), scaleIntervalsLen - 1);\n    // Interval that can be used to calculate ticks\n    this._interval = scaleIntervals[idx][1];\n    // Min level used when picking ticks from top down.\n    // We check one more level to avoid the ticks are to sparse in some case.\n    this._minLevelUnit = scaleIntervals[Math.max(idx - 1, 0)][0];\n  };\n  TimeScale.prototype.parse = function (val) {\n    // val might be float.\n    return isNumber(val) ? val : +numberUtil.parseDate(val);\n  };\n  TimeScale.prototype.contain = function (val) {\n    return scaleHelper.contain(this.parse(val), this._extent);\n  };\n  TimeScale.prototype.normalize = function (val) {\n    return scaleHelper.normalize(this.parse(val), this._extent);\n  };\n  TimeScale.prototype.scale = function (val) {\n    return scaleHelper.scale(val, this._extent);\n  };\n  TimeScale.type = 'time';\n  return TimeScale;\n}(IntervalScale);\n/**\n * This implementation was originally copied from \"d3.js\"\n * <https://github.com/d3/d3/blob/b516d77fb8566b576088e73410437494717ada26/src/time/scale.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n */\nvar scaleIntervals = [\n// Format                           interval\n['second', ONE_SECOND], ['minute', ONE_MINUTE], ['hour', ONE_HOUR], ['quarter-day', ONE_HOUR * 6], ['half-day', ONE_HOUR * 12], ['day', ONE_DAY * 1.2], ['half-week', ONE_DAY * 3.5], ['week', ONE_DAY * 7], ['month', ONE_DAY * 31], ['quarter', ONE_DAY * 95], ['half-year', ONE_YEAR / 2], ['year', ONE_YEAR] // 1Y\n];\n\nfunction isUnitValueSame(unit, valueA, valueB, isUTC) {\n  var dateA = numberUtil.parseDate(valueA);\n  var dateB = numberUtil.parseDate(valueB);\n  var isSame = function (unit) {\n    return getUnitValue(dateA, unit, isUTC) === getUnitValue(dateB, unit, isUTC);\n  };\n  var isSameYear = function () {\n    return isSame('year');\n  };\n  // const isSameHalfYear = () => isSameYear() && isSame('half-year');\n  // const isSameQuater = () => isSameYear() && isSame('quarter');\n  var isSameMonth = function () {\n    return isSameYear() && isSame('month');\n  };\n  var isSameDay = function () {\n    return isSameMonth() && isSame('day');\n  };\n  // const isSameHalfDay = () => isSameDay() && isSame('half-day');\n  var isSameHour = function () {\n    return isSameDay() && isSame('hour');\n  };\n  var isSameMinute = function () {\n    return isSameHour() && isSame('minute');\n  };\n  var isSameSecond = function () {\n    return isSameMinute() && isSame('second');\n  };\n  var isSameMilliSecond = function () {\n    return isSameSecond() && isSame('millisecond');\n  };\n  switch (unit) {\n    case 'year':\n      return isSameYear();\n    case 'month':\n      return isSameMonth();\n    case 'day':\n      return isSameDay();\n    case 'hour':\n      return isSameHour();\n    case 'minute':\n      return isSameMinute();\n    case 'second':\n      return isSameSecond();\n    case 'millisecond':\n      return isSameMilliSecond();\n  }\n}\n// const primaryUnitGetters = {\n//     year: fullYearGetterName(),\n//     month: monthGetterName(),\n//     day: dateGetterName(),\n//     hour: hoursGetterName(),\n//     minute: minutesGetterName(),\n//     second: secondsGetterName(),\n//     millisecond: millisecondsGetterName()\n// };\n// const primaryUnitUTCGetters = {\n//     year: fullYearGetterName(true),\n//     month: monthGetterName(true),\n//     day: dateGetterName(true),\n//     hour: hoursGetterName(true),\n//     minute: minutesGetterName(true),\n//     second: secondsGetterName(true),\n//     millisecond: millisecondsGetterName(true)\n// };\n// function moveTick(date: Date, unitName: TimeUnit, step: number, isUTC: boolean) {\n//     step = step || 1;\n//     switch (getPrimaryTimeUnit(unitName)) {\n//         case 'year':\n//             date[fullYearSetterName(isUTC)](date[fullYearGetterName(isUTC)]() + step);\n//             break;\n//         case 'month':\n//             date[monthSetterName(isUTC)](date[monthGetterName(isUTC)]() + step);\n//             break;\n//         case 'day':\n//             date[dateSetterName(isUTC)](date[dateGetterName(isUTC)]() + step);\n//             break;\n//         case 'hour':\n//             date[hoursSetterName(isUTC)](date[hoursGetterName(isUTC)]() + step);\n//             break;\n//         case 'minute':\n//             date[minutesSetterName(isUTC)](date[minutesGetterName(isUTC)]() + step);\n//             break;\n//         case 'second':\n//             date[secondsSetterName(isUTC)](date[secondsGetterName(isUTC)]() + step);\n//             break;\n//         case 'millisecond':\n//             date[millisecondsSetterName(isUTC)](date[millisecondsGetterName(isUTC)]() + step);\n//             break;\n//     }\n//     return date.getTime();\n// }\n// const DATE_INTERVALS = [[8, 7.5], [4, 3.5], [2, 1.5]];\n// const MONTH_INTERVALS = [[6, 5.5], [3, 2.5], [2, 1.5]];\n// const MINUTES_SECONDS_INTERVALS = [[30, 30], [20, 20], [15, 15], [10, 10], [5, 5], [2, 2]];\nfunction getDateInterval(approxInterval, daysInMonth) {\n  approxInterval /= ONE_DAY;\n  return approxInterval > 16 ? 16\n  // Math.floor(daysInMonth / 2) + 1  // In this case we only want one tick between two months.\n  : approxInterval > 7.5 ? 7 // TODO week 7 or day 8?\n  : approxInterval > 3.5 ? 4 : approxInterval > 1.5 ? 2 : 1;\n}\nfunction getMonthInterval(approxInterval) {\n  var APPROX_ONE_MONTH = 30 * ONE_DAY;\n  approxInterval /= APPROX_ONE_MONTH;\n  return approxInterval > 6 ? 6 : approxInterval > 3 ? 3 : approxInterval > 2 ? 2 : 1;\n}\nfunction getHourInterval(approxInterval) {\n  approxInterval /= ONE_HOUR;\n  return approxInterval > 12 ? 12 : approxInterval > 6 ? 6 : approxInterval > 3.5 ? 4 : approxInterval > 2 ? 2 : 1;\n}\nfunction getMinutesAndSecondsInterval(approxInterval, isMinutes) {\n  approxInterval /= isMinutes ? ONE_MINUTE : ONE_SECOND;\n  return approxInterval > 30 ? 30 : approxInterval > 20 ? 20 : approxInterval > 15 ? 15 : approxInterval > 10 ? 10 : approxInterval > 5 ? 5 : approxInterval > 2 ? 2 : 1;\n}\nfunction getMillisecondsInterval(approxInterval) {\n  return numberUtil.nice(approxInterval, true);\n}\nfunction getFirstTimestampOfUnit(date, unitName, isUTC) {\n  var outDate = new Date(date);\n  switch (getPrimaryTimeUnit(unitName)) {\n    case 'year':\n    case 'month':\n      outDate[monthSetterName(isUTC)](0);\n    case 'day':\n      outDate[dateSetterName(isUTC)](1);\n    case 'hour':\n      outDate[hoursSetterName(isUTC)](0);\n    case 'minute':\n      outDate[minutesSetterName(isUTC)](0);\n    case 'second':\n      outDate[secondsSetterName(isUTC)](0);\n      outDate[millisecondsSetterName(isUTC)](0);\n  }\n  return outDate.getTime();\n}\nfunction getIntervalTicks(bottomUnitName, approxInterval, isUTC, extent) {\n  var safeLimit = 10000;\n  var unitNames = timeUnits;\n  var iter = 0;\n  function addTicksInSpan(interval, minTimestamp, maxTimestamp, getMethodName, setMethodName, isDate, out) {\n    var date = new Date(minTimestamp);\n    var dateTime = minTimestamp;\n    var d = date[getMethodName]();\n    // if (isDate) {\n    //     d -= 1; // Starts with 0;   PENDING\n    // }\n    while (dateTime < maxTimestamp && dateTime <= extent[1]) {\n      out.push({\n        value: dateTime\n      });\n      d += interval;\n      date[setMethodName](d);\n      dateTime = date.getTime();\n    }\n    // This extra tick is for calcuating ticks of next level. Will not been added to the final result\n    out.push({\n      value: dateTime,\n      notAdd: true\n    });\n  }\n  function addLevelTicks(unitName, lastLevelTicks, levelTicks) {\n    var newAddedTicks = [];\n    var isFirstLevel = !lastLevelTicks.length;\n    if (isUnitValueSame(getPrimaryTimeUnit(unitName), extent[0], extent[1], isUTC)) {\n      return;\n    }\n    if (isFirstLevel) {\n      lastLevelTicks = [{\n        // TODO Optimize. Not include so may ticks.\n        value: getFirstTimestampOfUnit(new Date(extent[0]), unitName, isUTC)\n      }, {\n        value: extent[1]\n      }];\n    }\n    for (var i = 0; i < lastLevelTicks.length - 1; i++) {\n      var startTick = lastLevelTicks[i].value;\n      var endTick = lastLevelTicks[i + 1].value;\n      if (startTick === endTick) {\n        continue;\n      }\n      var interval = void 0;\n      var getterName = void 0;\n      var setterName = void 0;\n      var isDate = false;\n      switch (unitName) {\n        case 'year':\n          interval = Math.max(1, Math.round(approxInterval / ONE_DAY / 365));\n          getterName = fullYearGetterName(isUTC);\n          setterName = fullYearSetterName(isUTC);\n          break;\n        case 'half-year':\n        case 'quarter':\n        case 'month':\n          interval = getMonthInterval(approxInterval);\n          getterName = monthGetterName(isUTC);\n          setterName = monthSetterName(isUTC);\n          break;\n        case 'week': // PENDING If week is added. Ignore day.\n        case 'half-week':\n        case 'day':\n          interval = getDateInterval(approxInterval, 31); // Use 32 days and let interval been 16\n          getterName = dateGetterName(isUTC);\n          setterName = dateSetterName(isUTC);\n          isDate = true;\n          break;\n        case 'half-day':\n        case 'quarter-day':\n        case 'hour':\n          interval = getHourInterval(approxInterval);\n          getterName = hoursGetterName(isUTC);\n          setterName = hoursSetterName(isUTC);\n          break;\n        case 'minute':\n          interval = getMinutesAndSecondsInterval(approxInterval, true);\n          getterName = minutesGetterName(isUTC);\n          setterName = minutesSetterName(isUTC);\n          break;\n        case 'second':\n          interval = getMinutesAndSecondsInterval(approxInterval, false);\n          getterName = secondsGetterName(isUTC);\n          setterName = secondsSetterName(isUTC);\n          break;\n        case 'millisecond':\n          interval = getMillisecondsInterval(approxInterval);\n          getterName = millisecondsGetterName(isUTC);\n          setterName = millisecondsSetterName(isUTC);\n          break;\n      }\n      addTicksInSpan(interval, startTick, endTick, getterName, setterName, isDate, newAddedTicks);\n      if (unitName === 'year' && levelTicks.length > 1 && i === 0) {\n        // Add nearest years to the left extent.\n        levelTicks.unshift({\n          value: levelTicks[0].value - interval\n        });\n      }\n    }\n    for (var i = 0; i < newAddedTicks.length; i++) {\n      levelTicks.push(newAddedTicks[i]);\n    }\n    // newAddedTicks.length && console.log(unitName, newAddedTicks);\n    return newAddedTicks;\n  }\n  var levelsTicks = [];\n  var currentLevelTicks = [];\n  var tickCount = 0;\n  var lastLevelTickCount = 0;\n  for (var i = 0; i < unitNames.length && iter++ < safeLimit; ++i) {\n    var primaryTimeUnit = getPrimaryTimeUnit(unitNames[i]);\n    if (!isPrimaryTimeUnit(unitNames[i])) {\n      // TODO\n      continue;\n    }\n    addLevelTicks(unitNames[i], levelsTicks[levelsTicks.length - 1] || [], currentLevelTicks);\n    var nextPrimaryTimeUnit = unitNames[i + 1] ? getPrimaryTimeUnit(unitNames[i + 1]) : null;\n    if (primaryTimeUnit !== nextPrimaryTimeUnit) {\n      if (currentLevelTicks.length) {\n        lastLevelTickCount = tickCount;\n        // Remove the duplicate so the tick count can be precisely.\n        currentLevelTicks.sort(function (a, b) {\n          return a.value - b.value;\n        });\n        var levelTicksRemoveDuplicated = [];\n        for (var i_1 = 0; i_1 < currentLevelTicks.length; ++i_1) {\n          var tickValue = currentLevelTicks[i_1].value;\n          if (i_1 === 0 || currentLevelTicks[i_1 - 1].value !== tickValue) {\n            levelTicksRemoveDuplicated.push(currentLevelTicks[i_1]);\n            if (tickValue >= extent[0] && tickValue <= extent[1]) {\n              tickCount++;\n            }\n          }\n        }\n        var targetTickNum = (extent[1] - extent[0]) / approxInterval;\n        // Added too much in this level and not too less in last level\n        if (tickCount > targetTickNum * 1.5 && lastLevelTickCount > targetTickNum / 1.5) {\n          break;\n        }\n        // Only treat primary time unit as one level.\n        levelsTicks.push(levelTicksRemoveDuplicated);\n        if (tickCount > targetTickNum || bottomUnitName === unitNames[i]) {\n          break;\n        }\n      }\n      // Reset if next unitName is primary\n      currentLevelTicks = [];\n    }\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    if (iter >= safeLimit) {\n      warn('Exceed safe limit.');\n    }\n  }\n  var levelsTicksInExtent = filter(map(levelsTicks, function (levelTicks) {\n    return filter(levelTicks, function (tick) {\n      return tick.value >= extent[0] && tick.value <= extent[1] && !tick.notAdd;\n    });\n  }), function (levelTicks) {\n    return levelTicks.length > 0;\n  });\n  var ticks = [];\n  var maxLevel = levelsTicksInExtent.length - 1;\n  for (var i = 0; i < levelsTicksInExtent.length; ++i) {\n    var levelTicks = levelsTicksInExtent[i];\n    for (var k = 0; k < levelTicks.length; ++k) {\n      ticks.push({\n        value: levelTicks[k].value,\n        level: maxLevel - i\n      });\n    }\n  }\n  ticks.sort(function (a, b) {\n    return a.value - b.value;\n  });\n  // Remove duplicates\n  var result = [];\n  for (var i = 0; i < ticks.length; ++i) {\n    if (i === 0 || ticks[i].value !== ticks[i - 1].value) {\n      result.push(ticks[i]);\n    }\n  }\n  return result;\n}\nScale.registerClass(TimeScale);\nexport default TimeScale;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { getPrecision, round, nice, quantityExponent } from '../util/number.js';\nexport function isValueNice(val) {\n  var exp10 = Math.pow(10, quantityExponent(Math.abs(val)));\n  var f = Math.abs(val / exp10);\n  return f === 0 || f === 1 || f === 2 || f === 3 || f === 5;\n}\nexport function isIntervalOrLogScale(scale) {\n  return scale.type === 'interval' || scale.type === 'log';\n}\n/**\n * @param extent Both extent[0] and extent[1] should be valid number.\n *               Should be extent[0] < extent[1].\n * @param splitNumber splitNumber should be >= 1.\n */\nexport function intervalScaleNiceTicks(extent, splitNumber, minInterval, maxInterval) {\n  var result = {};\n  var span = extent[1] - extent[0];\n  var interval = result.interval = nice(span / splitNumber, true);\n  if (minInterval != null && interval < minInterval) {\n    interval = result.interval = minInterval;\n  }\n  if (maxInterval != null && interval > maxInterval) {\n    interval = result.interval = maxInterval;\n  }\n  // Tow more digital for tick.\n  var precision = result.intervalPrecision = getIntervalPrecision(interval);\n  // Niced extent inside original extent\n  var niceTickExtent = result.niceTickExtent = [round(Math.ceil(extent[0] / interval) * interval, precision), round(Math.floor(extent[1] / interval) * interval, precision)];\n  fixExtent(niceTickExtent, extent);\n  return result;\n}\nexport function increaseInterval(interval) {\n  var exp10 = Math.pow(10, quantityExponent(interval));\n  // Increase interval\n  var f = interval / exp10;\n  if (!f) {\n    f = 1;\n  } else if (f === 2) {\n    f = 3;\n  } else if (f === 3) {\n    f = 5;\n  } else {\n    // f is 1 or 5\n    f *= 2;\n  }\n  return round(f * exp10);\n}\n/**\n * @return interval precision\n */\nexport function getIntervalPrecision(interval) {\n  // Tow more digital for tick.\n  return getPrecision(interval) + 2;\n}\nfunction clamp(niceTickExtent, idx, extent) {\n  niceTickExtent[idx] = Math.max(Math.min(niceTickExtent[idx], extent[1]), extent[0]);\n}\n// In some cases (e.g., splitNumber is 1), niceTickExtent may be out of extent.\nexport function fixExtent(niceTickExtent, extent) {\n  !isFinite(niceTickExtent[0]) && (niceTickExtent[0] = extent[0]);\n  !isFinite(niceTickExtent[1]) && (niceTickExtent[1] = extent[1]);\n  clamp(niceTickExtent, 0, extent);\n  clamp(niceTickExtent, 1, extent);\n  if (niceTickExtent[0] > niceTickExtent[1]) {\n    niceTickExtent[0] = niceTickExtent[1];\n  }\n}\nexport function contain(val, extent) {\n  return val >= extent[0] && val <= extent[1];\n}\nexport function normalize(val, extent) {\n  if (extent[1] === extent[0]) {\n    return 0.5;\n  }\n  return (val - extent[0]) / (extent[1] - extent[0]);\n}\nexport function scale(val, extent) {\n  return val * (extent[1] - extent[0]) + extent[0];\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar contrastColor = '#B9B8CE';\nvar backgroundColor = '#100C2A';\nvar axisCommon = function () {\n  return {\n    axisLine: {\n      lineStyle: {\n        color: contrastColor\n      }\n    },\n    splitLine: {\n      lineStyle: {\n        color: '#484753'\n      }\n    },\n    splitArea: {\n      areaStyle: {\n        color: ['rgba(255,255,255,0.02)', 'rgba(255,255,255,0.05)']\n      }\n    },\n    minorSplitLine: {\n      lineStyle: {\n        color: '#20203B'\n      }\n    }\n  };\n};\nvar colorPalette = ['#4992ff', '#7cffb2', '#fddd60', '#ff6e76', '#58d9f9', '#05c091', '#ff8a45', '#8d48e3', '#dd79ff'];\nvar theme = {\n  darkMode: true,\n  color: colorPalette,\n  backgroundColor: backgroundColor,\n  axisPointer: {\n    lineStyle: {\n      color: '#817f91'\n    },\n    crossStyle: {\n      color: '#817f91'\n    },\n    label: {\n      // TODO Contrast of label backgorundColor\n      color: '#fff'\n    }\n  },\n  legend: {\n    textStyle: {\n      color: contrastColor\n    }\n  },\n  textStyle: {\n    color: contrastColor\n  },\n  title: {\n    textStyle: {\n      color: '#EEF1FA'\n    },\n    subtextStyle: {\n      color: '#B9B8CE'\n    }\n  },\n  toolbox: {\n    iconStyle: {\n      borderColor: contrastColor\n    }\n  },\n  dataZoom: {\n    borderColor: '#71708A',\n    textStyle: {\n      color: contrastColor\n    },\n    brushStyle: {\n      color: 'rgba(135,163,206,0.3)'\n    },\n    handleStyle: {\n      color: '#353450',\n      borderColor: '#C5CBE3'\n    },\n    moveHandleStyle: {\n      color: '#B0B6C3',\n      opacity: 0.3\n    },\n    fillerColor: 'rgba(135,163,206,0.2)',\n    emphasis: {\n      handleStyle: {\n        borderColor: '#91B7F2',\n        color: '#4D587D'\n      },\n      moveHandleStyle: {\n        color: '#636D9A',\n        opacity: 0.7\n      }\n    },\n    dataBackground: {\n      lineStyle: {\n        color: '#71708A',\n        width: 1\n      },\n      areaStyle: {\n        color: '#71708A'\n      }\n    },\n    selectedDataBackground: {\n      lineStyle: {\n        color: '#87A3CE'\n      },\n      areaStyle: {\n        color: '#87A3CE'\n      }\n    }\n  },\n  visualMap: {\n    textStyle: {\n      color: contrastColor\n    }\n  },\n  timeline: {\n    lineStyle: {\n      color: contrastColor\n    },\n    label: {\n      color: contrastColor\n    },\n    controlStyle: {\n      color: contrastColor,\n      borderColor: contrastColor\n    }\n  },\n  calendar: {\n    itemStyle: {\n      color: backgroundColor\n    },\n    dayLabel: {\n      color: contrastColor\n    },\n    monthLabel: {\n      color: contrastColor\n    },\n    yearLabel: {\n      color: contrastColor\n    }\n  },\n  timeAxis: axisCommon(),\n  logAxis: axisCommon(),\n  valueAxis: axisCommon(),\n  categoryAxis: axisCommon(),\n  line: {\n    symbol: 'circle'\n  },\n  graph: {\n    color: colorPalette\n  },\n  gauge: {\n    title: {\n      color: contrastColor\n    },\n    axisLine: {\n      lineStyle: {\n        color: [[1, 'rgba(207,212,219,0.2)']]\n      }\n    },\n    axisLabel: {\n      color: contrastColor\n    },\n    detail: {\n      color: '#EEF1FA'\n    }\n  },\n  candlestick: {\n    itemStyle: {\n      color: '#f64e56',\n      color0: '#54ea92',\n      borderColor: '#f64e56',\n      borderColor0: '#54ea92'\n      // borderColor: '#ca2824',\n      // borderColor0: '#09a443'\n    }\n  }\n};\n\ntheme.categoryAxis.splitLine.show = false;\nexport default theme;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar colorAll = ['#37A2DA', '#32C5E9', '#67E0E3', '#9FE6B8', '#FFDB5C', '#ff9f7f', '#fb7293', '#E062AE', '#E690D1', '#e7bcf3', '#9d96f5', '#8378EA', '#96BFFF'];\nexport default {\n  color: colorAll,\n  colorLayer: [['#37A2DA', '#ffd85c', '#fd7b5f'], ['#37A2DA', '#67E0E3', '#FFDB5C', '#ff9f7f', '#E062AE', '#9d96f5'], ['#37A2DA', '#32C5E9', '#9FE6B8', '#FFDB5C', '#ff9f7f', '#fb7293', '#e7bcf3', '#8378EA', '#96BFFF'], colorAll]\n};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { parseClassType } from './clazz.js';\n/**\n * Usage of query:\n * `chart.on('click', query, handler);`\n * The `query` can be:\n * + The component type query string, only `mainType` or `mainType.subType`,\n *   like: 'xAxis', 'series', 'xAxis.category' or 'series.line'.\n * + The component query object, like:\n *   `{seriesIndex: 2}`, `{seriesName: 'xx'}`, `{seriesId: 'some'}`,\n *   `{xAxisIndex: 2}`, `{xAxisName: 'xx'}`, `{xAxisId: 'some'}`.\n * + The data query object, like:\n *   `{dataIndex: 123}`, `{dataType: 'link'}`, `{name: 'some'}`.\n * + The other query object (cmponent customized query), like:\n *   `{element: 'some'}` (only available in custom series).\n *\n * Caveat: If a prop in the `query` object is `null/undefined`, it is the\n * same as there is no such prop in the `query` object.\n */\nvar ECEventProcessor = /** @class */function () {\n  function ECEventProcessor() {}\n  ECEventProcessor.prototype.normalizeQuery = function (query) {\n    var cptQuery = {};\n    var dataQuery = {};\n    var otherQuery = {};\n    // `query` is `mainType` or `mainType.subType` of component.\n    if (zrUtil.isString(query)) {\n      var condCptType = parseClassType(query);\n      // `.main` and `.sub` may be ''.\n      cptQuery.mainType = condCptType.main || null;\n      cptQuery.subType = condCptType.sub || null;\n    }\n    // `query` is an object, convert to {mainType, index, name, id}.\n    else {\n      // `xxxIndex`, `xxxName`, `xxxId`, `name`, `dataIndex`, `dataType` is reserved,\n      // can not be used in `compomentModel.filterForExposedEvent`.\n      var suffixes_1 = ['Index', 'Name', 'Id'];\n      var dataKeys_1 = {\n        name: 1,\n        dataIndex: 1,\n        dataType: 1\n      };\n      zrUtil.each(query, function (val, key) {\n        var reserved = false;\n        for (var i = 0; i < suffixes_1.length; i++) {\n          var propSuffix = suffixes_1[i];\n          var suffixPos = key.lastIndexOf(propSuffix);\n          if (suffixPos > 0 && suffixPos === key.length - propSuffix.length) {\n            var mainType = key.slice(0, suffixPos);\n            // Consider `dataIndex`.\n            if (mainType !== 'data') {\n              cptQuery.mainType = mainType;\n              cptQuery[propSuffix.toLowerCase()] = val;\n              reserved = true;\n            }\n          }\n        }\n        if (dataKeys_1.hasOwnProperty(key)) {\n          dataQuery[key] = val;\n          reserved = true;\n        }\n        if (!reserved) {\n          otherQuery[key] = val;\n        }\n      });\n    }\n    return {\n      cptQuery: cptQuery,\n      dataQuery: dataQuery,\n      otherQuery: otherQuery\n    };\n  };\n  ECEventProcessor.prototype.filter = function (eventType, query) {\n    // They should be assigned before each trigger call.\n    var eventInfo = this.eventInfo;\n    if (!eventInfo) {\n      return true;\n    }\n    var targetEl = eventInfo.targetEl;\n    var packedEvent = eventInfo.packedEvent;\n    var model = eventInfo.model;\n    var view = eventInfo.view;\n    // For event like 'globalout'.\n    if (!model || !view) {\n      return true;\n    }\n    var cptQuery = query.cptQuery;\n    var dataQuery = query.dataQuery;\n    return check(cptQuery, model, 'mainType') && check(cptQuery, model, 'subType') && check(cptQuery, model, 'index', 'componentIndex') && check(cptQuery, model, 'name') && check(cptQuery, model, 'id') && check(dataQuery, packedEvent, 'name') && check(dataQuery, packedEvent, 'dataIndex') && check(dataQuery, packedEvent, 'dataType') && (!view.filterForExposedEvent || view.filterForExposedEvent(eventType, query.otherQuery, targetEl, packedEvent));\n    function check(query, host, prop, propOnHost) {\n      return query[prop] == null || host[propOnHost || prop] === query[prop];\n    }\n  };\n  ECEventProcessor.prototype.afterTrigger = function () {\n    // Make sure the eventInfo won't be used in next trigger.\n    this.eventInfo = null;\n  };\n  return ECEventProcessor;\n}();\nexport { ECEventProcessor };\n;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * Animate multiple elements with a single done-callback.\n *\n * @example\n *  animation\n *      .createWrap()\n *      .add(el1, {x: 10, y: 10})\n *      .add(el2, {shape: {width: 500}, style: {fill: 'red'}}, 400)\n *      .done(function () { // done })\n *      .start('cubicOut');\n */\nvar AnimationWrap = /** @class */function () {\n  function AnimationWrap() {\n    this._storage = [];\n    this._elExistsMap = {};\n  }\n  /**\n   * Caution: a el can only be added once, otherwise 'done'\n   * might not be called. This method checks this (by el.id),\n   * suppresses adding and returns false when existing el found.\n   *\n   * @return Whether adding succeeded.\n   */\n  AnimationWrap.prototype.add = function (el, target, duration, delay, easing) {\n    if (this._elExistsMap[el.id]) {\n      return false;\n    }\n    this._elExistsMap[el.id] = true;\n    this._storage.push({\n      el: el,\n      target: target,\n      duration: duration,\n      delay: delay,\n      easing: easing\n    });\n    return true;\n  };\n  /**\n   * Only execute when animation done/aborted.\n   */\n  AnimationWrap.prototype.finished = function (callback) {\n    this._finishedCallback = callback;\n    return this;\n  };\n  /**\n   * Will stop exist animation firstly.\n   */\n  AnimationWrap.prototype.start = function () {\n    var _this = this;\n    var count = this._storage.length;\n    var checkTerminate = function () {\n      count--;\n      if (count <= 0) {\n        // Guard.\n        _this._storage.length = 0;\n        _this._elExistsMap = {};\n        _this._finishedCallback && _this._finishedCallback();\n      }\n    };\n    for (var i = 0, len = this._storage.length; i < len; i++) {\n      var item = this._storage[i];\n      item.el.animateTo(item.target, {\n        duration: item.duration,\n        delay: item.delay,\n        easing: item.easing,\n        setToFinal: true,\n        done: checkTerminate,\n        aborted: checkTerminate\n      });\n    }\n    return this;\n  };\n  return AnimationWrap;\n}();\nexport function createWrap() {\n  return new AnimationWrap();\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar TYPE_DELIMITER = '.';\nvar IS_CONTAINER = '___EC__COMPONENT__CONTAINER___';\nvar IS_EXTENDED_CLASS = '___EC__EXTENDED_CLASS___';\n/**\n * Notice, parseClassType('') should returns {main: '', sub: ''}\n * @public\n */\nexport function parseClassType(componentType) {\n  var ret = {\n    main: '',\n    sub: ''\n  };\n  if (componentType) {\n    var typeArr = componentType.split(TYPE_DELIMITER);\n    ret.main = typeArr[0] || '';\n    ret.sub = typeArr[1] || '';\n  }\n  return ret;\n}\n/**\n * @public\n */\nfunction checkClassType(componentType) {\n  zrUtil.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(componentType), 'componentType \"' + componentType + '\" illegal');\n}\nexport function isExtendedClass(clz) {\n  return !!(clz && clz[IS_EXTENDED_CLASS]);\n}\n/**\n * Implements `ExtendableConstructor` for `rootClz`.\n *\n * @usage\n * ```ts\n * class Xxx {}\n * type XxxConstructor = typeof Xxx & ExtendableConstructor\n * enableClassExtend(Xxx as XxxConstructor);\n * ```\n */\nexport function enableClassExtend(rootClz, mandatoryMethods) {\n  rootClz.$constructor = rootClz; // FIXME: not necessary?\n  rootClz.extend = function (proto) {\n    if (process.env.NODE_ENV !== 'production') {\n      zrUtil.each(mandatoryMethods, function (method) {\n        if (!proto[method]) {\n          console.warn('Method `' + method + '` should be implemented' + (proto.type ? ' in ' + proto.type : '') + '.');\n        }\n      });\n    }\n    var superClass = this;\n    var ExtendedClass;\n    if (isESClass(superClass)) {\n      ExtendedClass = /** @class */function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n          return _super.apply(this, arguments) || this;\n        }\n        return class_1;\n      }(superClass);\n    } else {\n      // For backward compat, we both support ts class inheritance and this\n      // \"extend\" approach.\n      // The constructor should keep the same behavior as ts class inheritance:\n      // If this constructor/$constructor is not declared, auto invoke the super\n      // constructor.\n      // If this constructor/$constructor is declared, it is responsible for\n      // calling the super constructor.\n      ExtendedClass = function () {\n        (proto.$constructor || superClass).apply(this, arguments);\n      };\n      zrUtil.inherits(ExtendedClass, this);\n    }\n    zrUtil.extend(ExtendedClass.prototype, proto);\n    ExtendedClass[IS_EXTENDED_CLASS] = true;\n    ExtendedClass.extend = this.extend;\n    ExtendedClass.superCall = superCall;\n    ExtendedClass.superApply = superApply;\n    ExtendedClass.superClass = superClass;\n    return ExtendedClass;\n  };\n}\nfunction isESClass(fn) {\n  return zrUtil.isFunction(fn) && /^class\\s/.test(Function.prototype.toString.call(fn));\n}\n/**\n * A work around to both support ts extend and this extend mechanism.\n * on sub-class.\n * @usage\n * ```ts\n * class Component { ... }\n * classUtil.enableClassExtend(Component);\n * classUtil.enableClassManagement(Component, {registerWhenExtend: true});\n *\n * class Series extends Component { ... }\n * // Without calling `markExtend`, `registerWhenExtend` will not work.\n * Component.markExtend(Series);\n * ```\n */\nexport function mountExtend(SubClz, SupperClz) {\n  SubClz.extend = SupperClz.extend;\n}\n// A random offset.\nvar classBase = Math.round(Math.random() * 10);\n/**\n * Implements `CheckableConstructor` for `target`.\n * Can not use instanceof, consider different scope by\n * cross domain or es module import in ec extensions.\n * Mount a method \"isInstance()\" to Clz.\n *\n * @usage\n * ```ts\n * class Xxx {}\n * type XxxConstructor = typeof Xxx & CheckableConstructor;\n * enableClassCheck(Xxx as XxxConstructor)\n * ```\n */\nexport function enableClassCheck(target) {\n  var classAttr = ['__\\0is_clz', classBase++].join('_');\n  target.prototype[classAttr] = true;\n  if (process.env.NODE_ENV !== 'production') {\n    zrUtil.assert(!target.isInstance, 'The method \"is\" can not be defined.');\n  }\n  target.isInstance = function (obj) {\n    return !!(obj && obj[classAttr]);\n  };\n}\n// superCall should have class info, which can not be fetched from 'this'.\n// Consider this case:\n// class A has method f,\n// class B inherits class A, overrides method f, f call superApply('f'),\n// class C inherits class B, does not override method f,\n// then when method of class C is called, dead loop occurred.\nfunction superCall(context, methodName) {\n  var args = [];\n  for (var _i = 2; _i < arguments.length; _i++) {\n    args[_i - 2] = arguments[_i];\n  }\n  return this.superClass.prototype[methodName].apply(context, args);\n}\nfunction superApply(context, methodName, args) {\n  return this.superClass.prototype[methodName].apply(context, args);\n}\n/**\n * Implements `ClassManager` for `target`\n *\n * @usage\n * ```ts\n * class Xxx {}\n * type XxxConstructor = typeof Xxx & ClassManager\n * enableClassManagement(Xxx as XxxConstructor);\n * ```\n */\nexport function enableClassManagement(target) {\n  /**\n   * Component model classes\n   * key: componentType,\n   * value:\n   *     componentClass, when componentType is 'a'\n   *     or Object.<subKey, componentClass>, when componentType is 'a.b'\n   */\n  var storage = {};\n  target.registerClass = function (clz) {\n    // `type` should not be a \"instance member\".\n    // If using TS class, should better declared as `static type = 'series.pie'`.\n    // otherwise users have to mount `type` on prototype manually.\n    // For backward compat and enable instance visit type via `this.type`,\n    // we still support fetch `type` from prototype.\n    var componentFullType = clz.type || clz.prototype.type;\n    if (componentFullType) {\n      checkClassType(componentFullType);\n      // If only static type declared, we assign it to prototype mandatorily.\n      clz.prototype.type = componentFullType;\n      var componentTypeInfo = parseClassType(componentFullType);\n      if (!componentTypeInfo.sub) {\n        if (process.env.NODE_ENV !== 'production') {\n          if (storage[componentTypeInfo.main]) {\n            console.warn(componentTypeInfo.main + ' exists.');\n          }\n        }\n        storage[componentTypeInfo.main] = clz;\n      } else if (componentTypeInfo.sub !== IS_CONTAINER) {\n        var container = makeContainer(componentTypeInfo);\n        container[componentTypeInfo.sub] = clz;\n      }\n    }\n    return clz;\n  };\n  target.getClass = function (mainType, subType, throwWhenNotFound) {\n    var clz = storage[mainType];\n    if (clz && clz[IS_CONTAINER]) {\n      clz = subType ? clz[subType] : null;\n    }\n    if (throwWhenNotFound && !clz) {\n      throw new Error(!subType ? mainType + '.' + 'type should be specified.' : 'Component ' + mainType + '.' + (subType || '') + ' is used but not imported.');\n    }\n    return clz;\n  };\n  target.getClassesByMainType = function (componentType) {\n    var componentTypeInfo = parseClassType(componentType);\n    var result = [];\n    var obj = storage[componentTypeInfo.main];\n    if (obj && obj[IS_CONTAINER]) {\n      zrUtil.each(obj, function (o, type) {\n        type !== IS_CONTAINER && result.push(o);\n      });\n    } else {\n      result.push(obj);\n    }\n    return result;\n  };\n  target.hasClass = function (componentType) {\n    // Just consider componentType.main.\n    var componentTypeInfo = parseClassType(componentType);\n    return !!storage[componentTypeInfo.main];\n  };\n  /**\n   * @return Like ['aa', 'bb'], but can not be ['aa.xx']\n   */\n  target.getAllClassMainTypes = function () {\n    var types = [];\n    zrUtil.each(storage, function (obj, type) {\n      types.push(type);\n    });\n    return types;\n  };\n  /**\n   * If a main type is container and has sub types\n   */\n  target.hasSubTypes = function (componentType) {\n    var componentTypeInfo = parseClassType(componentType);\n    var obj = storage[componentTypeInfo.main];\n    return obj && obj[IS_CONTAINER];\n  };\n  function makeContainer(componentTypeInfo) {\n    var container = storage[componentTypeInfo.main];\n    if (!container || !container[IS_CONTAINER]) {\n      container = storage[componentTypeInfo.main] = {};\n      container[IS_CONTAINER] = true;\n    }\n    return container;\n  }\n}\n// /**\n//  * @param {string|Array.<string>} properties\n//  */\n// export function setReadOnly(obj, properties) {\n// FIXME It seems broken in IE8 simulation of IE11\n// if (!zrUtil.isArray(properties)) {\n//     properties = properties != null ? [properties] : [];\n// }\n// zrUtil.each(properties, function (prop) {\n//     let value = obj[prop];\n//     Object.defineProperty\n//         && Object.defineProperty(obj, prop, {\n//             value: value, writable: false\n//         });\n//     zrUtil.isArray(obj[prop])\n//         && Object.freeze\n//         && Object.freeze(obj[prop]);\n// });\n// }","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { parseClassType } from './clazz.js';\nimport { makePrintable } from './log.js';\n// A random offset\nvar base = Math.round(Math.random() * 10);\n/**\n * @public\n * @param {string} type\n * @return {string}\n */\nexport function getUID(type) {\n  // Considering the case of crossing js context,\n  // use Math.random to make id as unique as possible.\n  return [type || '', base++].join('_');\n}\n/**\n * Implements `SubTypeDefaulterManager` for `target`.\n */\nexport function enableSubTypeDefaulter(target) {\n  var subTypeDefaulters = {};\n  target.registerSubTypeDefaulter = function (componentType, defaulter) {\n    var componentTypeInfo = parseClassType(componentType);\n    subTypeDefaulters[componentTypeInfo.main] = defaulter;\n  };\n  target.determineSubType = function (componentType, option) {\n    var type = option.type;\n    if (!type) {\n      var componentTypeMain = parseClassType(componentType).main;\n      if (target.hasSubTypes(componentType) && subTypeDefaulters[componentTypeMain]) {\n        type = subTypeDefaulters[componentTypeMain](option);\n      }\n    }\n    return type;\n  };\n}\n/**\n * Implements `TopologicalTravelable<any>` for `entity`.\n *\n * Topological travel on Activity Network (Activity On Vertices).\n * Dependencies is defined in Model.prototype.dependencies, like ['xAxis', 'yAxis'].\n * If 'xAxis' or 'yAxis' is absent in componentTypeList, just ignore it in topology.\n * If there is circular dependencey, Error will be thrown.\n */\nexport function enableTopologicalTravel(entity, dependencyGetter) {\n  /**\n   * @param targetNameList Target Component type list.\n   *                       Can be ['aa', 'bb', 'aa.xx']\n   * @param fullNameList By which we can build dependency graph.\n   * @param callback Params: componentType, dependencies.\n   * @param context Scope of callback.\n   */\n  entity.topologicalTravel = function (targetNameList, fullNameList, callback, context) {\n    if (!targetNameList.length) {\n      return;\n    }\n    var result = makeDepndencyGraph(fullNameList);\n    var graph = result.graph;\n    var noEntryList = result.noEntryList;\n    var targetNameSet = {};\n    zrUtil.each(targetNameList, function (name) {\n      targetNameSet[name] = true;\n    });\n    while (noEntryList.length) {\n      var currComponentType = noEntryList.pop();\n      var currVertex = graph[currComponentType];\n      var isInTargetNameSet = !!targetNameSet[currComponentType];\n      if (isInTargetNameSet) {\n        callback.call(context, currComponentType, currVertex.originalDeps.slice());\n        delete targetNameSet[currComponentType];\n      }\n      zrUtil.each(currVertex.successor, isInTargetNameSet ? removeEdgeAndAdd : removeEdge);\n    }\n    zrUtil.each(targetNameSet, function () {\n      var errMsg = '';\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = makePrintable('Circular dependency may exists: ', targetNameSet, targetNameList, fullNameList);\n      }\n      throw new Error(errMsg);\n    });\n    function removeEdge(succComponentType) {\n      graph[succComponentType].entryCount--;\n      if (graph[succComponentType].entryCount === 0) {\n        noEntryList.push(succComponentType);\n      }\n    }\n    // Consider this case: legend depends on series, and we call\n    // chart.setOption({series: [...]}), where only series is in option.\n    // If we do not have 'removeEdgeAndAdd', legendModel.mergeOption will\n    // not be called, but only sereis.mergeOption is called. Thus legend\n    // have no chance to update its local record about series (like which\n    // name of series is available in legend).\n    function removeEdgeAndAdd(succComponentType) {\n      targetNameSet[succComponentType] = true;\n      removeEdge(succComponentType);\n    }\n  };\n  function makeDepndencyGraph(fullNameList) {\n    var graph = {};\n    var noEntryList = [];\n    zrUtil.each(fullNameList, function (name) {\n      var thisItem = createDependencyGraphItem(graph, name);\n      var originalDeps = thisItem.originalDeps = dependencyGetter(name);\n      var availableDeps = getAvailableDependencies(originalDeps, fullNameList);\n      thisItem.entryCount = availableDeps.length;\n      if (thisItem.entryCount === 0) {\n        noEntryList.push(name);\n      }\n      zrUtil.each(availableDeps, function (dependentName) {\n        if (zrUtil.indexOf(thisItem.predecessor, dependentName) < 0) {\n          thisItem.predecessor.push(dependentName);\n        }\n        var thatItem = createDependencyGraphItem(graph, dependentName);\n        if (zrUtil.indexOf(thatItem.successor, dependentName) < 0) {\n          thatItem.successor.push(name);\n        }\n      });\n    });\n    return {\n      graph: graph,\n      noEntryList: noEntryList\n    };\n  }\n  function createDependencyGraphItem(graph, name) {\n    if (!graph[name]) {\n      graph[name] = {\n        predecessor: [],\n        successor: []\n      };\n    }\n    return graph[name];\n  }\n  function getAvailableDependencies(originalDeps, fullNameList) {\n    var availableDeps = [];\n    zrUtil.each(originalDeps, function (dep) {\n      zrUtil.indexOf(fullNameList, dep) >= 0 && availableDeps.push(dep);\n    });\n    return availableDeps;\n  }\n}\nexport function inheritDefaultOption(superOption, subOption) {\n  // See also `model/Component.ts#getDefaultOption`\n  return zrUtil.merge(zrUtil.merge({}, superOption, true), subOption, true);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { keys, isArray, map, isObject, isString, isRegExp, isArrayLike, hasOwn, isNumber } from 'zrender/lib/core/util.js';\nimport { throwError, makePrintable } from './log.js';\nimport { getRawValueParser, createFilterComparator } from '../data/helper/dataValueHelper.js';\n;\nvar RELATIONAL_EXPRESSION_OP_ALIAS_MAP = {\n  value: 'eq',\n  // PENDING: not good for literal semantic?\n  '<': 'lt',\n  '<=': 'lte',\n  '>': 'gt',\n  '>=': 'gte',\n  '=': 'eq',\n  '!=': 'ne',\n  '<>': 'ne'\n  // Might be misleading for sake of the difference between '==' and '===',\n  // so don't support them.\n  // '==': 'eq',\n  // '===': 'seq',\n  // '!==': 'sne'\n  // PENDING: Whether support some common alias \"ge\", \"le\", \"neq\"?\n  // ge: 'gte',\n  // le: 'lte',\n  // neq: 'ne',\n};\n// type RelationalExpressionOpEvaluate = (tarVal: unknown, condVal: unknown) => boolean;\nvar RegExpEvaluator = /** @class */function () {\n  function RegExpEvaluator(rVal) {\n    // Support condVal: RegExp | string\n    var condValue = this._condVal = isString(rVal) ? new RegExp(rVal) : isRegExp(rVal) ? rVal : null;\n    if (condValue == null) {\n      var errMsg = '';\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = makePrintable('Illegal regexp', rVal, 'in');\n      }\n      throwError(errMsg);\n    }\n  }\n  RegExpEvaluator.prototype.evaluate = function (lVal) {\n    var type = typeof lVal;\n    return isString(type) ? this._condVal.test(lVal) : isNumber(type) ? this._condVal.test(lVal + '') : false;\n  };\n  return RegExpEvaluator;\n}();\nvar ConstConditionInternal = /** @class */function () {\n  function ConstConditionInternal() {}\n  ConstConditionInternal.prototype.evaluate = function () {\n    return this.value;\n  };\n  return ConstConditionInternal;\n}();\nvar AndConditionInternal = /** @class */function () {\n  function AndConditionInternal() {}\n  AndConditionInternal.prototype.evaluate = function () {\n    var children = this.children;\n    for (var i = 0; i < children.length; i++) {\n      if (!children[i].evaluate()) {\n        return false;\n      }\n    }\n    return true;\n  };\n  return AndConditionInternal;\n}();\nvar OrConditionInternal = /** @class */function () {\n  function OrConditionInternal() {}\n  OrConditionInternal.prototype.evaluate = function () {\n    var children = this.children;\n    for (var i = 0; i < children.length; i++) {\n      if (children[i].evaluate()) {\n        return true;\n      }\n    }\n    return false;\n  };\n  return OrConditionInternal;\n}();\nvar NotConditionInternal = /** @class */function () {\n  function NotConditionInternal() {}\n  NotConditionInternal.prototype.evaluate = function () {\n    return !this.child.evaluate();\n  };\n  return NotConditionInternal;\n}();\nvar RelationalConditionInternal = /** @class */function () {\n  function RelationalConditionInternal() {}\n  RelationalConditionInternal.prototype.evaluate = function () {\n    var needParse = !!this.valueParser;\n    // Call getValue with no `this`.\n    var getValue = this.getValue;\n    var tarValRaw = getValue(this.valueGetterParam);\n    var tarValParsed = needParse ? this.valueParser(tarValRaw) : null;\n    // Relational cond follow \"and\" logic internally.\n    for (var i = 0; i < this.subCondList.length; i++) {\n      if (!this.subCondList[i].evaluate(needParse ? tarValParsed : tarValRaw)) {\n        return false;\n      }\n    }\n    return true;\n  };\n  return RelationalConditionInternal;\n}();\nfunction parseOption(exprOption, getters) {\n  if (exprOption === true || exprOption === false) {\n    var cond = new ConstConditionInternal();\n    cond.value = exprOption;\n    return cond;\n  }\n  var errMsg = '';\n  if (!isObjectNotArray(exprOption)) {\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = makePrintable('Illegal config. Expect a plain object but actually', exprOption);\n    }\n    throwError(errMsg);\n  }\n  if (exprOption.and) {\n    return parseAndOrOption('and', exprOption, getters);\n  } else if (exprOption.or) {\n    return parseAndOrOption('or', exprOption, getters);\n  } else if (exprOption.not) {\n    return parseNotOption(exprOption, getters);\n  }\n  return parseRelationalOption(exprOption, getters);\n}\nfunction parseAndOrOption(op, exprOption, getters) {\n  var subOptionArr = exprOption[op];\n  var errMsg = '';\n  if (process.env.NODE_ENV !== 'production') {\n    errMsg = makePrintable('\"and\"/\"or\" condition should only be `' + op + ': [...]` and must not be empty array.', 'Illegal condition:', exprOption);\n  }\n  if (!isArray(subOptionArr)) {\n    throwError(errMsg);\n  }\n  if (!subOptionArr.length) {\n    throwError(errMsg);\n  }\n  var cond = op === 'and' ? new AndConditionInternal() : new OrConditionInternal();\n  cond.children = map(subOptionArr, function (subOption) {\n    return parseOption(subOption, getters);\n  });\n  if (!cond.children.length) {\n    throwError(errMsg);\n  }\n  return cond;\n}\nfunction parseNotOption(exprOption, getters) {\n  var subOption = exprOption.not;\n  var errMsg = '';\n  if (process.env.NODE_ENV !== 'production') {\n    errMsg = makePrintable('\"not\" condition should only be `not: {}`.', 'Illegal condition:', exprOption);\n  }\n  if (!isObjectNotArray(subOption)) {\n    throwError(errMsg);\n  }\n  var cond = new NotConditionInternal();\n  cond.child = parseOption(subOption, getters);\n  if (!cond.child) {\n    throwError(errMsg);\n  }\n  return cond;\n}\nfunction parseRelationalOption(exprOption, getters) {\n  var errMsg = '';\n  var valueGetterParam = getters.prepareGetValue(exprOption);\n  var subCondList = [];\n  var exprKeys = keys(exprOption);\n  var parserName = exprOption.parser;\n  var valueParser = parserName ? getRawValueParser(parserName) : null;\n  for (var i = 0; i < exprKeys.length; i++) {\n    var keyRaw = exprKeys[i];\n    if (keyRaw === 'parser' || getters.valueGetterAttrMap.get(keyRaw)) {\n      continue;\n    }\n    var op = hasOwn(RELATIONAL_EXPRESSION_OP_ALIAS_MAP, keyRaw) ? RELATIONAL_EXPRESSION_OP_ALIAS_MAP[keyRaw] : keyRaw;\n    var condValueRaw = exprOption[keyRaw];\n    var condValueParsed = valueParser ? valueParser(condValueRaw) : condValueRaw;\n    var evaluator = createFilterComparator(op, condValueParsed) || op === 'reg' && new RegExpEvaluator(condValueParsed);\n    if (!evaluator) {\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = makePrintable('Illegal relational operation: \"' + keyRaw + '\" in condition:', exprOption);\n      }\n      throwError(errMsg);\n    }\n    subCondList.push(evaluator);\n  }\n  if (!subCondList.length) {\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = makePrintable('Relational condition must have at least one operator.', 'Illegal condition:', exprOption);\n    }\n    // No relational operator always disabled in case of dangers result.\n    throwError(errMsg);\n  }\n  var cond = new RelationalConditionInternal();\n  cond.valueGetterParam = valueGetterParam;\n  cond.valueParser = valueParser;\n  cond.getValue = getters.getValue;\n  cond.subCondList = subCondList;\n  return cond;\n}\nfunction isObjectNotArray(val) {\n  return isObject(val) && !isArrayLike(val);\n}\nvar ConditionalExpressionParsed = /** @class */function () {\n  function ConditionalExpressionParsed(exprOption, getters) {\n    this._cond = parseOption(exprOption, getters);\n  }\n  ConditionalExpressionParsed.prototype.evaluate = function () {\n    return this._cond.evaluate();\n  };\n  return ConditionalExpressionParsed;\n}();\n;\nexport function parseConditionalExpression(exprOption, getters) {\n  return new ConditionalExpressionParsed(exprOption, getters);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport WeakMap from 'zrender/lib/core/WeakMap.js';\nimport LRU from 'zrender/lib/core/LRU.js';\nimport { defaults, map, isArray, isString, isNumber } from 'zrender/lib/core/util.js';\nimport { getLeastCommonMultiple } from './number.js';\nimport { createSymbol } from './symbol.js';\nimport { brushSingle } from 'zrender/lib/canvas/graphic.js';\nimport { platformApi } from 'zrender/lib/core/platform.js';\nvar decalMap = new WeakMap();\nvar decalCache = new LRU(100);\nvar decalKeys = ['symbol', 'symbolSize', 'symbolKeepAspect', 'color', 'backgroundColor', 'dashArrayX', 'dashArrayY', 'maxTileWidth', 'maxTileHeight'];\n/**\n * Create or update pattern image from decal options\n *\n * @param {InnerDecalObject | 'none'} decalObject decal options, 'none' if no decal\n * @return {Pattern} pattern with generated image, null if no decal\n */\nexport function createOrUpdatePatternFromDecal(decalObject, api) {\n  if (decalObject === 'none') {\n    return null;\n  }\n  var dpr = api.getDevicePixelRatio();\n  var zr = api.getZr();\n  var isSVG = zr.painter.type === 'svg';\n  if (decalObject.dirty) {\n    decalMap[\"delete\"](decalObject);\n  }\n  var oldPattern = decalMap.get(decalObject);\n  if (oldPattern) {\n    return oldPattern;\n  }\n  var decalOpt = defaults(decalObject, {\n    symbol: 'rect',\n    symbolSize: 1,\n    symbolKeepAspect: true,\n    color: 'rgba(0, 0, 0, 0.2)',\n    backgroundColor: null,\n    dashArrayX: 5,\n    dashArrayY: 5,\n    rotation: 0,\n    maxTileWidth: 512,\n    maxTileHeight: 512\n  });\n  if (decalOpt.backgroundColor === 'none') {\n    decalOpt.backgroundColor = null;\n  }\n  var pattern = {\n    repeat: 'repeat'\n  };\n  setPatternnSource(pattern);\n  pattern.rotation = decalOpt.rotation;\n  pattern.scaleX = pattern.scaleY = isSVG ? 1 : 1 / dpr;\n  decalMap.set(decalObject, pattern);\n  decalObject.dirty = false;\n  return pattern;\n  function setPatternnSource(pattern) {\n    var keys = [dpr];\n    var isValidKey = true;\n    for (var i = 0; i < decalKeys.length; ++i) {\n      var value = decalOpt[decalKeys[i]];\n      if (value != null && !isArray(value) && !isString(value) && !isNumber(value) && typeof value !== 'boolean') {\n        isValidKey = false;\n        break;\n      }\n      keys.push(value);\n    }\n    var cacheKey;\n    if (isValidKey) {\n      cacheKey = keys.join(',') + (isSVG ? '-svg' : '');\n      var cache = decalCache.get(cacheKey);\n      if (cache) {\n        isSVG ? pattern.svgElement = cache : pattern.image = cache;\n      }\n    }\n    var dashArrayX = normalizeDashArrayX(decalOpt.dashArrayX);\n    var dashArrayY = normalizeDashArrayY(decalOpt.dashArrayY);\n    var symbolArray = normalizeSymbolArray(decalOpt.symbol);\n    var lineBlockLengthsX = getLineBlockLengthX(dashArrayX);\n    var lineBlockLengthY = getLineBlockLengthY(dashArrayY);\n    var canvas = !isSVG && platformApi.createCanvas();\n    var svgRoot = isSVG && {\n      tag: 'g',\n      attrs: {},\n      key: 'dcl',\n      children: []\n    };\n    var pSize = getPatternSize();\n    var ctx;\n    if (canvas) {\n      canvas.width = pSize.width * dpr;\n      canvas.height = pSize.height * dpr;\n      ctx = canvas.getContext('2d');\n    }\n    brushDecal();\n    if (isValidKey) {\n      decalCache.put(cacheKey, canvas || svgRoot);\n    }\n    pattern.image = canvas;\n    pattern.svgElement = svgRoot;\n    pattern.svgWidth = pSize.width;\n    pattern.svgHeight = pSize.height;\n    /**\n     * Get minimum length that can make a repeatable pattern.\n     *\n     * @return {Object} pattern width and height\n     */\n    function getPatternSize() {\n      /**\n       * For example, if dash is [[3, 2], [2, 1]] for X, it looks like\n       * |---  ---  ---  ---  --- ...\n       * |-- -- -- -- -- -- -- -- ...\n       * |---  ---  ---  ---  --- ...\n       * |-- -- -- -- -- -- -- -- ...\n       * So the minimum length of X is 15,\n       * which is the least common multiple of `3 + 2` and `2 + 1`\n       * |---  ---  ---  |---  --- ...\n       * |-- -- -- -- -- |-- -- -- ...\n       */\n      var width = 1;\n      for (var i = 0, xlen = lineBlockLengthsX.length; i < xlen; ++i) {\n        width = getLeastCommonMultiple(width, lineBlockLengthsX[i]);\n      }\n      var symbolRepeats = 1;\n      for (var i = 0, xlen = symbolArray.length; i < xlen; ++i) {\n        symbolRepeats = getLeastCommonMultiple(symbolRepeats, symbolArray[i].length);\n      }\n      width *= symbolRepeats;\n      var height = lineBlockLengthY * lineBlockLengthsX.length * symbolArray.length;\n      if (process.env.NODE_ENV !== 'production') {\n        var warn = function (attrName) {\n          /* eslint-disable-next-line */\n          console.warn(\"Calculated decal size is greater than \" + attrName + \" due to decal option settings so \" + attrName + \" is used for the decal size. Please consider changing the decal option to make a smaller decal or set \" + attrName + \" to be larger to avoid incontinuity.\");\n        };\n        if (width > decalOpt.maxTileWidth) {\n          warn('maxTileWidth');\n        }\n        if (height > decalOpt.maxTileHeight) {\n          warn('maxTileHeight');\n        }\n      }\n      return {\n        width: Math.max(1, Math.min(width, decalOpt.maxTileWidth)),\n        height: Math.max(1, Math.min(height, decalOpt.maxTileHeight))\n      };\n    }\n    function brushDecal() {\n      if (ctx) {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        if (decalOpt.backgroundColor) {\n          ctx.fillStyle = decalOpt.backgroundColor;\n          ctx.fillRect(0, 0, canvas.width, canvas.height);\n        }\n      }\n      var ySum = 0;\n      for (var i = 0; i < dashArrayY.length; ++i) {\n        ySum += dashArrayY[i];\n      }\n      if (ySum <= 0) {\n        // dashArrayY is 0, draw nothing\n        return;\n      }\n      var y = -lineBlockLengthY;\n      var yId = 0;\n      var yIdTotal = 0;\n      var xId0 = 0;\n      while (y < pSize.height) {\n        if (yId % 2 === 0) {\n          var symbolYId = yIdTotal / 2 % symbolArray.length;\n          var x = 0;\n          var xId1 = 0;\n          var xId1Total = 0;\n          while (x < pSize.width * 2) {\n            var xSum = 0;\n            for (var i = 0; i < dashArrayX[xId0].length; ++i) {\n              xSum += dashArrayX[xId0][i];\n            }\n            if (xSum <= 0) {\n              // Skip empty line\n              break;\n            }\n            // E.g., [15, 5, 20, 5] draws only for 15 and 20\n            if (xId1 % 2 === 0) {\n              var size = (1 - decalOpt.symbolSize) * 0.5;\n              var left = x + dashArrayX[xId0][xId1] * size;\n              var top_1 = y + dashArrayY[yId] * size;\n              var width = dashArrayX[xId0][xId1] * decalOpt.symbolSize;\n              var height = dashArrayY[yId] * decalOpt.symbolSize;\n              var symbolXId = xId1Total / 2 % symbolArray[symbolYId].length;\n              brushSymbol(left, top_1, width, height, symbolArray[symbolYId][symbolXId]);\n            }\n            x += dashArrayX[xId0][xId1];\n            ++xId1Total;\n            ++xId1;\n            if (xId1 === dashArrayX[xId0].length) {\n              xId1 = 0;\n            }\n          }\n          ++xId0;\n          if (xId0 === dashArrayX.length) {\n            xId0 = 0;\n          }\n        }\n        y += dashArrayY[yId];\n        ++yIdTotal;\n        ++yId;\n        if (yId === dashArrayY.length) {\n          yId = 0;\n        }\n      }\n      function brushSymbol(x, y, width, height, symbolType) {\n        var scale = isSVG ? 1 : dpr;\n        var symbol = createSymbol(symbolType, x * scale, y * scale, width * scale, height * scale, decalOpt.color, decalOpt.symbolKeepAspect);\n        if (isSVG) {\n          var symbolVNode = zr.painter.renderOneToVNode(symbol);\n          if (symbolVNode) {\n            svgRoot.children.push(symbolVNode);\n          }\n        } else {\n          // Paint to canvas for all other renderers.\n          brushSingle(ctx, symbol);\n        }\n      }\n    }\n  }\n}\n/**\n * Convert symbol array into normalized array\n *\n * @param {string | (string | string[])[]} symbol symbol input\n * @return {string[][]} normolized symbol array\n */\nfunction normalizeSymbolArray(symbol) {\n  if (!symbol || symbol.length === 0) {\n    return [['rect']];\n  }\n  if (isString(symbol)) {\n    return [[symbol]];\n  }\n  var isAllString = true;\n  for (var i = 0; i < symbol.length; ++i) {\n    if (!isString(symbol[i])) {\n      isAllString = false;\n      break;\n    }\n  }\n  if (isAllString) {\n    return normalizeSymbolArray([symbol]);\n  }\n  var result = [];\n  for (var i = 0; i < symbol.length; ++i) {\n    if (isString(symbol[i])) {\n      result.push([symbol[i]]);\n    } else {\n      result.push(symbol[i]);\n    }\n  }\n  return result;\n}\n/**\n * Convert dash input into dashArray\n *\n * @param {DecalDashArrayX} dash dash input\n * @return {number[][]} normolized dash array\n */\nfunction normalizeDashArrayX(dash) {\n  if (!dash || dash.length === 0) {\n    return [[0, 0]];\n  }\n  if (isNumber(dash)) {\n    var dashValue = Math.ceil(dash);\n    return [[dashValue, dashValue]];\n  }\n  /**\n   * [20, 5] should be normalized into [[20, 5]],\n   * while [20, [5, 10]] should be normalized into [[20, 20], [5, 10]]\n   */\n  var isAllNumber = true;\n  for (var i = 0; i < dash.length; ++i) {\n    if (!isNumber(dash[i])) {\n      isAllNumber = false;\n      break;\n    }\n  }\n  if (isAllNumber) {\n    return normalizeDashArrayX([dash]);\n  }\n  var result = [];\n  for (var i = 0; i < dash.length; ++i) {\n    if (isNumber(dash[i])) {\n      var dashValue = Math.ceil(dash[i]);\n      result.push([dashValue, dashValue]);\n    } else {\n      var dashValue = map(dash[i], function (n) {\n        return Math.ceil(n);\n      });\n      if (dashValue.length % 2 === 1) {\n        // [4, 2, 1] means |----  -    -- |----  -    -- |\n        // so normalize it to be [4, 2, 1, 4, 2, 1]\n        result.push(dashValue.concat(dashValue));\n      } else {\n        result.push(dashValue);\n      }\n    }\n  }\n  return result;\n}\n/**\n * Convert dash input into dashArray\n *\n * @param {DecalDashArrayY} dash dash input\n * @return {number[]} normolized dash array\n */\nfunction normalizeDashArrayY(dash) {\n  if (!dash || typeof dash === 'object' && dash.length === 0) {\n    return [0, 0];\n  }\n  if (isNumber(dash)) {\n    var dashValue_1 = Math.ceil(dash);\n    return [dashValue_1, dashValue_1];\n  }\n  var dashValue = map(dash, function (n) {\n    return Math.ceil(n);\n  });\n  return dash.length % 2 ? dashValue.concat(dashValue) : dashValue;\n}\n/**\n * Get block length of each line. A block is the length of dash line and space.\n * For example, a line with [4, 1] has a dash line of 4 and a space of 1 after\n * that, so the block length of this line is 5.\n *\n * @param {number[][]} dash dash array of X or Y\n * @return {number[]} block length of each line\n */\nfunction getLineBlockLengthX(dash) {\n  return map(dash, function (line) {\n    return getLineBlockLengthY(line);\n  });\n}\nfunction getLineBlockLengthY(dash) {\n  var blockLength = 0;\n  for (var i = 0; i < dash.length; ++i) {\n    blockLength += dash[i];\n  }\n  if (dash.length % 2 === 1) {\n    // [4, 2, 1] means |----  -    -- |----  -    -- |\n    // So total length is (4 + 2 + 1) * 2\n    return blockLength * 2;\n  }\n  return blockLength;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport function findEventDispatcher(target, det, returnFirstMatch) {\n  var found;\n  while (target) {\n    if (det(target)) {\n      found = target;\n      if (returnFirstMatch) {\n        break;\n      }\n    }\n    target = target.__hostTarget || target.parent;\n  }\n  return found;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { encodeHTML } from 'zrender/lib/core/dom.js';\nimport { parseDate, isNumeric, numericToNumber } from './number.js';\nimport { format as timeFormat, pad } from './time.js';\nimport { deprecateReplaceLog } from './log.js';\n/**\n * Add a comma each three digit.\n */\nexport function addCommas(x) {\n  if (!isNumeric(x)) {\n    return zrUtil.isString(x) ? x : '-';\n  }\n  var parts = (x + '').split('.');\n  return parts[0].replace(/(\\d{1,3})(?=(?:\\d{3})+(?!\\d))/g, '$1,') + (parts.length > 1 ? '.' + parts[1] : '');\n}\nexport function toCamelCase(str, upperCaseFirst) {\n  str = (str || '').toLowerCase().replace(/-(.)/g, function (match, group1) {\n    return group1.toUpperCase();\n  });\n  if (upperCaseFirst && str) {\n    str = str.charAt(0).toUpperCase() + str.slice(1);\n  }\n  return str;\n}\nexport var normalizeCssArray = zrUtil.normalizeCssArray;\nexport { encodeHTML };\n/**\n * Make value user readable for tooltip and label.\n * \"User readable\":\n *     Try to not print programmer-specific text like NaN, Infinity, null, undefined.\n *     Avoid to display an empty string, which users can not recognize there is\n *     a value and it might look like a bug.\n */\nexport function makeValueReadable(value, valueType, useUTC) {\n  var USER_READABLE_DEFUALT_TIME_PATTERN = '{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}';\n  function stringToUserReadable(str) {\n    return str && zrUtil.trim(str) ? str : '-';\n  }\n  function isNumberUserReadable(num) {\n    return !!(num != null && !isNaN(num) && isFinite(num));\n  }\n  var isTypeTime = valueType === 'time';\n  var isValueDate = value instanceof Date;\n  if (isTypeTime || isValueDate) {\n    var date = isTypeTime ? parseDate(value) : value;\n    if (!isNaN(+date)) {\n      return timeFormat(date, USER_READABLE_DEFUALT_TIME_PATTERN, useUTC);\n    } else if (isValueDate) {\n      return '-';\n    }\n    // In other cases, continue to try to display the value in the following code.\n  }\n\n  if (valueType === 'ordinal') {\n    return zrUtil.isStringSafe(value) ? stringToUserReadable(value) : zrUtil.isNumber(value) ? isNumberUserReadable(value) ? value + '' : '-' : '-';\n  }\n  // By default.\n  var numericResult = numericToNumber(value);\n  return isNumberUserReadable(numericResult) ? addCommas(numericResult) : zrUtil.isStringSafe(value) ? stringToUserReadable(value) : typeof value === 'boolean' ? value + '' : '-';\n}\nvar TPL_VAR_ALIAS = ['a', 'b', 'c', 'd', 'e', 'f', 'g'];\nvar wrapVar = function (varName, seriesIdx) {\n  return '{' + varName + (seriesIdx == null ? '' : seriesIdx) + '}';\n};\n/**\n * Template formatter\n * @param {Array.<Object>|Object} paramsList\n */\nexport function formatTpl(tpl, paramsList, encode) {\n  if (!zrUtil.isArray(paramsList)) {\n    paramsList = [paramsList];\n  }\n  var seriesLen = paramsList.length;\n  if (!seriesLen) {\n    return '';\n  }\n  var $vars = paramsList[0].$vars || [];\n  for (var i = 0; i < $vars.length; i++) {\n    var alias = TPL_VAR_ALIAS[i];\n    tpl = tpl.replace(wrapVar(alias), wrapVar(alias, 0));\n  }\n  for (var seriesIdx = 0; seriesIdx < seriesLen; seriesIdx++) {\n    for (var k = 0; k < $vars.length; k++) {\n      var val = paramsList[seriesIdx][$vars[k]];\n      tpl = tpl.replace(wrapVar(TPL_VAR_ALIAS[k], seriesIdx), encode ? encodeHTML(val) : val);\n    }\n  }\n  return tpl;\n}\n/**\n * simple Template formatter\n */\nexport function formatTplSimple(tpl, param, encode) {\n  zrUtil.each(param, function (value, key) {\n    tpl = tpl.replace('{' + key + '}', encode ? encodeHTML(value) : value);\n  });\n  return tpl;\n}\nexport function getTooltipMarker(inOpt, extraCssText) {\n  var opt = zrUtil.isString(inOpt) ? {\n    color: inOpt,\n    extraCssText: extraCssText\n  } : inOpt || {};\n  var color = opt.color;\n  var type = opt.type;\n  extraCssText = opt.extraCssText;\n  var renderMode = opt.renderMode || 'html';\n  if (!color) {\n    return '';\n  }\n  if (renderMode === 'html') {\n    return type === 'subItem' ? '<span style=\"display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;' + 'border-radius:4px;width:4px;height:4px;background-color:'\n    // Only support string\n    + encodeHTML(color) + ';' + (extraCssText || '') + '\"></span>' : '<span style=\"display:inline-block;margin-right:4px;' + 'border-radius:10px;width:10px;height:10px;background-color:' + encodeHTML(color) + ';' + (extraCssText || '') + '\"></span>';\n  } else {\n    // Should better not to auto generate style name by auto-increment number here.\n    // Because this util is usually called in tooltip formatter, which is probably\n    // called repeatedly when mouse move and the auto-increment number increases fast.\n    // Users can make their own style name by theirselves, make it unique and readable.\n    var markerId = opt.markerId || 'markerX';\n    return {\n      renderMode: renderMode,\n      content: '{' + markerId + '|}  ',\n      style: type === 'subItem' ? {\n        width: 4,\n        height: 4,\n        borderRadius: 2,\n        backgroundColor: color\n      } : {\n        width: 10,\n        height: 10,\n        borderRadius: 5,\n        backgroundColor: color\n      }\n    };\n  }\n}\n/**\n * @deprecated Use `time/format` instead.\n * ISO Date format\n * @param {string} tpl\n * @param {number} value\n * @param {boolean} [isUTC=false] Default in local time.\n *           see `module:echarts/scale/Time`\n *           and `module:echarts/util/number#parseDate`.\n * @inner\n */\nexport function formatTime(tpl, value, isUTC) {\n  if (process.env.NODE_ENV !== 'production') {\n    deprecateReplaceLog('echarts.format.formatTime', 'echarts.time.format');\n  }\n  if (tpl === 'week' || tpl === 'month' || tpl === 'quarter' || tpl === 'half-year' || tpl === 'year') {\n    tpl = 'MM-dd\\nyyyy';\n  }\n  var date = parseDate(value);\n  var getUTC = isUTC ? 'getUTC' : 'get';\n  var y = date[getUTC + 'FullYear']();\n  var M = date[getUTC + 'Month']() + 1;\n  var d = date[getUTC + 'Date']();\n  var h = date[getUTC + 'Hours']();\n  var m = date[getUTC + 'Minutes']();\n  var s = date[getUTC + 'Seconds']();\n  var S = date[getUTC + 'Milliseconds']();\n  tpl = tpl.replace('MM', pad(M, 2)).replace('M', M).replace('yyyy', y).replace('yy', pad(y % 100 + '', 2)).replace('dd', pad(d, 2)).replace('d', d).replace('hh', pad(h, 2)).replace('h', h).replace('mm', pad(m, 2)).replace('m', m).replace('ss', pad(s, 2)).replace('s', s).replace('SSS', pad(S, 3));\n  return tpl;\n}\n/**\n * Capital first\n * @param {string} str\n * @return {string}\n */\nexport function capitalFirst(str) {\n  return str ? str.charAt(0).toUpperCase() + str.substr(1) : str;\n}\n/**\n * @return Never be null/undefined.\n */\nexport function convertToColorString(color, defaultColor) {\n  defaultColor = defaultColor || 'transparent';\n  return zrUtil.isString(color) ? color : zrUtil.isObject(color) ? color.colorStops && (color.colorStops[0] || {}).color || defaultColor : defaultColor;\n}\nexport { truncateText } from 'zrender/lib/graphic/helper/parseText.js';\n/**\n * open new tab\n * @param link url\n * @param target blank or self\n */\nexport function windowOpen(link, target) {\n  /* global window */\n  if (target === '_blank' || target === 'blank') {\n    var blank = window.open();\n    blank.opener = null;\n    blank.location.href = link;\n  } else {\n    window.open(link, target);\n  }\n}\nexport { getTextRect } from '../legacy/getTextRect.js';","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as pathTool from 'zrender/lib/tool/path.js';\nimport * as matrix from 'zrender/lib/core/matrix.js';\nimport * as vector from 'zrender/lib/core/vector.js';\nimport Path from 'zrender/lib/graphic/Path.js';\nimport Transformable from 'zrender/lib/core/Transformable.js';\nimport ZRImage from 'zrender/lib/graphic/Image.js';\nimport Group from 'zrender/lib/graphic/Group.js';\nimport ZRText from 'zrender/lib/graphic/Text.js';\nimport Circle from 'zrender/lib/graphic/shape/Circle.js';\nimport Ellipse from 'zrender/lib/graphic/shape/Ellipse.js';\nimport Sector from 'zrender/lib/graphic/shape/Sector.js';\nimport Ring from 'zrender/lib/graphic/shape/Ring.js';\nimport Polygon from 'zrender/lib/graphic/shape/Polygon.js';\nimport Polyline from 'zrender/lib/graphic/shape/Polyline.js';\nimport Rect from 'zrender/lib/graphic/shape/Rect.js';\nimport Line from 'zrender/lib/graphic/shape/Line.js';\nimport BezierCurve from 'zrender/lib/graphic/shape/BezierCurve.js';\nimport Arc from 'zrender/lib/graphic/shape/Arc.js';\nimport CompoundPath from 'zrender/lib/graphic/CompoundPath.js';\nimport LinearGradient from 'zrender/lib/graphic/LinearGradient.js';\nimport RadialGradient from 'zrender/lib/graphic/RadialGradient.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport OrientedBoundingRect from 'zrender/lib/core/OrientedBoundingRect.js';\nimport Point from 'zrender/lib/core/Point.js';\nimport IncrementalDisplayable from 'zrender/lib/graphic/IncrementalDisplayable.js';\nimport * as subPixelOptimizeUtil from 'zrender/lib/graphic/helper/subPixelOptimize.js';\nimport { extend, isArrayLike, map, defaults, isString, keys, each, hasOwn, isArray } from 'zrender/lib/core/util.js';\nimport { getECData } from './innerStore.js';\nimport { updateProps, initProps, removeElement, removeElementWithFadeOut, isElementRemoved } from '../animation/basicTransition.js';\n/**\n * @deprecated export for compatitable reason\n */\nexport { updateProps, initProps, removeElement, removeElementWithFadeOut, isElementRemoved };\nvar mathMax = Math.max;\nvar mathMin = Math.min;\nvar _customShapeMap = {};\n/**\n * Extend shape with parameters\n */\nexport function extendShape(opts) {\n  return Path.extend(opts);\n}\nvar extendPathFromString = pathTool.extendFromString;\n/**\n * Extend path\n */\nexport function extendPath(pathData, opts) {\n  return extendPathFromString(pathData, opts);\n}\n/**\n * Register a user defined shape.\n * The shape class can be fetched by `getShapeClass`\n * This method will overwrite the registered shapes, including\n * the registered built-in shapes, if using the same `name`.\n * The shape can be used in `custom series` and\n * `graphic component` by declaring `{type: name}`.\n *\n * @param name\n * @param ShapeClass Can be generated by `extendShape`.\n */\nexport function registerShape(name, ShapeClass) {\n  _customShapeMap[name] = ShapeClass;\n}\n/**\n * Find shape class registered by `registerShape`. Usually used in\n * fetching user defined shape.\n *\n * [Caution]:\n * (1) This method **MUST NOT be used inside echarts !!!**, unless it is prepared\n * to use user registered shapes.\n * Because the built-in shape (see `getBuiltInShape`) will be registered by\n * `registerShape` by default. That enables users to get both built-in\n * shapes as well as the shapes belonging to themsleves. But users can overwrite\n * the built-in shapes by using names like 'circle', 'rect' via calling\n * `registerShape`. So the echarts inner featrues should not fetch shapes from here\n * in case that it is overwritten by users, except that some features, like\n * `custom series`, `graphic component`, do it deliberately.\n *\n * (2) In the features like `custom series`, `graphic component`, the user input\n * `{tpye: 'xxx'}` does not only specify shapes but also specify other graphic\n * elements like `'group'`, `'text'`, `'image'` or event `'path'`. Those names\n * are reserved names, that is, if some user registers a shape named `'image'`,\n * the shape will not be used. If we intending to add some more reserved names\n * in feature, that might bring break changes (disable some existing user shape\n * names). But that case probably rarely happens. So we don't make more mechanism\n * to resolve this issue here.\n *\n * @param name\n * @return The shape class. If not found, return nothing.\n */\nexport function getShapeClass(name) {\n  if (_customShapeMap.hasOwnProperty(name)) {\n    return _customShapeMap[name];\n  }\n}\n/**\n * Create a path element from path data string\n * @param pathData\n * @param opts\n * @param rect\n * @param layout 'center' or 'cover' default to be cover\n */\nexport function makePath(pathData, opts, rect, layout) {\n  var path = pathTool.createFromString(pathData, opts);\n  if (rect) {\n    if (layout === 'center') {\n      rect = centerGraphic(rect, path.getBoundingRect());\n    }\n    resizePath(path, rect);\n  }\n  return path;\n}\n/**\n * Create a image element from image url\n * @param imageUrl image url\n * @param opts options\n * @param rect constrain rect\n * @param layout 'center' or 'cover'. Default to be 'cover'\n */\nexport function makeImage(imageUrl, rect, layout) {\n  var zrImg = new ZRImage({\n    style: {\n      image: imageUrl,\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    },\n    onload: function (img) {\n      if (layout === 'center') {\n        var boundingRect = {\n          width: img.width,\n          height: img.height\n        };\n        zrImg.setStyle(centerGraphic(rect, boundingRect));\n      }\n    }\n  });\n  return zrImg;\n}\n/**\n * Get position of centered element in bounding box.\n *\n * @param  rect         element local bounding box\n * @param  boundingRect constraint bounding box\n * @return element position containing x, y, width, and height\n */\nfunction centerGraphic(rect, boundingRect) {\n  // Set rect to center, keep width / height ratio.\n  var aspect = boundingRect.width / boundingRect.height;\n  var width = rect.height * aspect;\n  var height;\n  if (width <= rect.width) {\n    height = rect.height;\n  } else {\n    width = rect.width;\n    height = width / aspect;\n  }\n  var cx = rect.x + rect.width / 2;\n  var cy = rect.y + rect.height / 2;\n  return {\n    x: cx - width / 2,\n    y: cy - height / 2,\n    width: width,\n    height: height\n  };\n}\nexport var mergePath = pathTool.mergePath;\n/**\n * Resize a path to fit the rect\n * @param path\n * @param rect\n */\nexport function resizePath(path, rect) {\n  if (!path.applyTransform) {\n    return;\n  }\n  var pathRect = path.getBoundingRect();\n  var m = pathRect.calculateTransform(rect);\n  path.applyTransform(m);\n}\n/**\n * Sub pixel optimize line for canvas\n */\nexport function subPixelOptimizeLine(shape, lineWidth) {\n  subPixelOptimizeUtil.subPixelOptimizeLine(shape, shape, {\n    lineWidth: lineWidth\n  });\n  return shape;\n}\n/**\n * Sub pixel optimize rect for canvas\n */\nexport function subPixelOptimizeRect(param) {\n  subPixelOptimizeUtil.subPixelOptimizeRect(param.shape, param.shape, param.style);\n  return param;\n}\n/**\n * Sub pixel optimize for canvas\n *\n * @param position Coordinate, such as x, y\n * @param lineWidth Should be nonnegative integer.\n * @param positiveOrNegative Default false (negative).\n * @return Optimized position.\n */\nexport var subPixelOptimize = subPixelOptimizeUtil.subPixelOptimize;\n/**\n * Get transform matrix of target (param target),\n * in coordinate of its ancestor (param ancestor)\n *\n * @param target\n * @param [ancestor]\n */\nexport function getTransform(target, ancestor) {\n  var mat = matrix.identity([]);\n  while (target && target !== ancestor) {\n    matrix.mul(mat, target.getLocalTransform(), mat);\n    target = target.parent;\n  }\n  return mat;\n}\n/**\n * Apply transform to an vertex.\n * @param target [x, y]\n * @param transform Can be:\n *      + Transform matrix: like [1, 0, 0, 1, 0, 0]\n *      + {position, rotation, scale}, the same as `zrender/Transformable`.\n * @param invert Whether use invert matrix.\n * @return [x, y]\n */\nexport function applyTransform(target, transform, invert) {\n  if (transform && !isArrayLike(transform)) {\n    transform = Transformable.getLocalTransform(transform);\n  }\n  if (invert) {\n    transform = matrix.invert([], transform);\n  }\n  return vector.applyTransform([], target, transform);\n}\n/**\n * @param direction 'left' 'right' 'top' 'bottom'\n * @param transform Transform matrix: like [1, 0, 0, 1, 0, 0]\n * @param invert Whether use invert matrix.\n * @return Transformed direction. 'left' 'right' 'top' 'bottom'\n */\nexport function transformDirection(direction, transform, invert) {\n  // Pick a base, ensure that transform result will not be (0, 0).\n  var hBase = transform[4] === 0 || transform[5] === 0 || transform[0] === 0 ? 1 : Math.abs(2 * transform[4] / transform[0]);\n  var vBase = transform[4] === 0 || transform[5] === 0 || transform[2] === 0 ? 1 : Math.abs(2 * transform[4] / transform[2]);\n  var vertex = [direction === 'left' ? -hBase : direction === 'right' ? hBase : 0, direction === 'top' ? -vBase : direction === 'bottom' ? vBase : 0];\n  vertex = applyTransform(vertex, transform, invert);\n  return Math.abs(vertex[0]) > Math.abs(vertex[1]) ? vertex[0] > 0 ? 'right' : 'left' : vertex[1] > 0 ? 'bottom' : 'top';\n}\nfunction isNotGroup(el) {\n  return !el.isGroup;\n}\nfunction isPath(el) {\n  return el.shape != null;\n}\n/**\n * Apply group transition animation from g1 to g2.\n * If no animatableModel, no animation.\n */\nexport function groupTransition(g1, g2, animatableModel) {\n  if (!g1 || !g2) {\n    return;\n  }\n  function getElMap(g) {\n    var elMap = {};\n    g.traverse(function (el) {\n      if (isNotGroup(el) && el.anid) {\n        elMap[el.anid] = el;\n      }\n    });\n    return elMap;\n  }\n  function getAnimatableProps(el) {\n    var obj = {\n      x: el.x,\n      y: el.y,\n      rotation: el.rotation\n    };\n    if (isPath(el)) {\n      obj.shape = extend({}, el.shape);\n    }\n    return obj;\n  }\n  var elMap1 = getElMap(g1);\n  g2.traverse(function (el) {\n    if (isNotGroup(el) && el.anid) {\n      var oldEl = elMap1[el.anid];\n      if (oldEl) {\n        var newProp = getAnimatableProps(el);\n        el.attr(getAnimatableProps(oldEl));\n        updateProps(el, newProp, animatableModel, getECData(el).dataIndex);\n      }\n    }\n  });\n}\nexport function clipPointsByRect(points, rect) {\n  // FIXME: This way might be incorrect when graphic clipped by a corner\n  // and when element has a border.\n  return map(points, function (point) {\n    var x = point[0];\n    x = mathMax(x, rect.x);\n    x = mathMin(x, rect.x + rect.width);\n    var y = point[1];\n    y = mathMax(y, rect.y);\n    y = mathMin(y, rect.y + rect.height);\n    return [x, y];\n  });\n}\n/**\n * Return a new clipped rect. If rect size are negative, return undefined.\n */\nexport function clipRectByRect(targetRect, rect) {\n  var x = mathMax(targetRect.x, rect.x);\n  var x2 = mathMin(targetRect.x + targetRect.width, rect.x + rect.width);\n  var y = mathMax(targetRect.y, rect.y);\n  var y2 = mathMin(targetRect.y + targetRect.height, rect.y + rect.height);\n  // If the total rect is cliped, nothing, including the border,\n  // should be painted. So return undefined.\n  if (x2 >= x && y2 >= y) {\n    return {\n      x: x,\n      y: y,\n      width: x2 - x,\n      height: y2 - y\n    };\n  }\n}\nexport function createIcon(iconStr,\n// Support 'image://' or 'path://' or direct svg path.\nopt, rect) {\n  var innerOpts = extend({\n    rectHover: true\n  }, opt);\n  var style = innerOpts.style = {\n    strokeNoScale: true\n  };\n  rect = rect || {\n    x: -1,\n    y: -1,\n    width: 2,\n    height: 2\n  };\n  if (iconStr) {\n    return iconStr.indexOf('image://') === 0 ? (style.image = iconStr.slice(8), defaults(style, rect), new ZRImage(innerOpts)) : makePath(iconStr.replace('path://', ''), innerOpts, rect, 'center');\n  }\n}\n/**\n * Return `true` if the given line (line `a`) and the given polygon\n * are intersect.\n * Note that we do not count colinear as intersect here because no\n * requirement for that. We could do that if required in future.\n */\nexport function linePolygonIntersect(a1x, a1y, a2x, a2y, points) {\n  for (var i = 0, p2 = points[points.length - 1]; i < points.length; i++) {\n    var p = points[i];\n    if (lineLineIntersect(a1x, a1y, a2x, a2y, p[0], p[1], p2[0], p2[1])) {\n      return true;\n    }\n    p2 = p;\n  }\n}\n/**\n * Return `true` if the given two lines (line `a` and line `b`)\n * are intersect.\n * Note that we do not count colinear as intersect here because no\n * requirement for that. We could do that if required in future.\n */\nexport function lineLineIntersect(a1x, a1y, a2x, a2y, b1x, b1y, b2x, b2y) {\n  // let `vec_m` to be `vec_a2 - vec_a1` and `vec_n` to be `vec_b2 - vec_b1`.\n  var mx = a2x - a1x;\n  var my = a2y - a1y;\n  var nx = b2x - b1x;\n  var ny = b2y - b1y;\n  // `vec_m` and `vec_n` are parallel iff\n  //     existing `k` such that `vec_m = k  vec_n`, equivalent to `vec_m X vec_n = 0`.\n  var nmCrossProduct = crossProduct2d(nx, ny, mx, my);\n  if (nearZero(nmCrossProduct)) {\n    return false;\n  }\n  // `vec_m` and `vec_n` are intersect iff\n  //     existing `p` and `q` in [0, 1] such that `vec_a1 + p * vec_m = vec_b1 + q * vec_n`,\n  //     such that `q = ((vec_a1 - vec_b1) X vec_m) / (vec_n X vec_m)`\n  //           and `p = ((vec_a1 - vec_b1) X vec_n) / (vec_n X vec_m)`.\n  var b1a1x = a1x - b1x;\n  var b1a1y = a1y - b1y;\n  var q = crossProduct2d(b1a1x, b1a1y, mx, my) / nmCrossProduct;\n  if (q < 0 || q > 1) {\n    return false;\n  }\n  var p = crossProduct2d(b1a1x, b1a1y, nx, ny) / nmCrossProduct;\n  if (p < 0 || p > 1) {\n    return false;\n  }\n  return true;\n}\n/**\n * Cross product of 2-dimension vector.\n */\nfunction crossProduct2d(x1, y1, x2, y2) {\n  return x1 * y2 - x2 * y1;\n}\nfunction nearZero(val) {\n  return val <= 1e-6 && val >= -1e-6;\n}\nexport function setTooltipConfig(opt) {\n  var itemTooltipOption = opt.itemTooltipOption;\n  var componentModel = opt.componentModel;\n  var itemName = opt.itemName;\n  var itemTooltipOptionObj = isString(itemTooltipOption) ? {\n    formatter: itemTooltipOption\n  } : itemTooltipOption;\n  var mainType = componentModel.mainType;\n  var componentIndex = componentModel.componentIndex;\n  var formatterParams = {\n    componentType: mainType,\n    name: itemName,\n    $vars: ['name']\n  };\n  formatterParams[mainType + 'Index'] = componentIndex;\n  var formatterParamsExtra = opt.formatterParamsExtra;\n  if (formatterParamsExtra) {\n    each(keys(formatterParamsExtra), function (key) {\n      if (!hasOwn(formatterParams, key)) {\n        formatterParams[key] = formatterParamsExtra[key];\n        formatterParams.$vars.push(key);\n      }\n    });\n  }\n  var ecData = getECData(opt.el);\n  ecData.componentMainType = mainType;\n  ecData.componentIndex = componentIndex;\n  ecData.tooltipConfig = {\n    name: itemName,\n    option: defaults({\n      content: itemName,\n      encodeHTMLContent: true,\n      formatterParams: formatterParams\n    }, itemTooltipOptionObj)\n  };\n}\nfunction traverseElement(el, cb) {\n  var stopped;\n  // TODO\n  // Polyfill for fixing zrender group traverse don't visit it's root issue.\n  if (el.isGroup) {\n    stopped = cb(el);\n  }\n  if (!stopped) {\n    el.traverse(cb);\n  }\n}\nexport function traverseElements(els, cb) {\n  if (els) {\n    if (isArray(els)) {\n      for (var i = 0; i < els.length; i++) {\n        traverseElement(els[i], cb);\n      }\n    } else {\n      traverseElement(els, cb);\n    }\n  }\n}\n// Register built-in shapes. These shapes might be overwritten\n// by users, although we do not recommend that.\nregisterShape('circle', Circle);\nregisterShape('ellipse', Ellipse);\nregisterShape('sector', Sector);\nregisterShape('ring', Ring);\nregisterShape('polygon', Polygon);\nregisterShape('polyline', Polyline);\nregisterShape('rect', Rect);\nregisterShape('line', Line);\nregisterShape('bezierCurve', BezierCurve);\nregisterShape('arc', Arc);\nexport { Group, ZRImage as Image, ZRText as Text, Circle, Ellipse, Sector, Ring, Polygon, Polyline, Rect, Line, BezierCurve, Arc, IncrementalDisplayable, CompoundPath, LinearGradient, RadialGradient, BoundingRect, OrientedBoundingRect, Point, Path };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { makeInner } from './model.js';\nexport var getECData = makeInner();\nexport var setCommonECData = function (seriesIndex, dataType, dataIdx, el) {\n  if (el) {\n    var ecData = getECData(el);\n    // Add data index and series index for indexing the data by element\n    // Useful in tooltip\n    ecData.dataIndex = dataIdx;\n    ecData.dataType = dataType;\n    ecData.seriesIndex = seriesIndex;\n    ecData.ssrType = 'chart';\n    // TODO: not store dataIndex on children.\n    if (el.type === 'group') {\n      el.traverse(function (child) {\n        var childECData = getECData(child);\n        childECData.seriesIndex = seriesIndex;\n        childECData.dataIndex = dataIdx;\n        childECData.dataType = dataType;\n        childECData.ssrType = 'chart';\n      });\n    }\n  }\n};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Layout helpers for each component positioning\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport { parsePercent } from './number.js';\nimport * as formatUtil from './format.js';\nvar each = zrUtil.each;\n/**\n * @public\n */\nexport var LOCATION_PARAMS = ['left', 'right', 'top', 'bottom', 'width', 'height'];\n/**\n * @public\n */\nexport var HV_NAMES = [['width', 'left', 'right'], ['height', 'top', 'bottom']];\nfunction boxLayout(orient, group, gap, maxWidth, maxHeight) {\n  var x = 0;\n  var y = 0;\n  if (maxWidth == null) {\n    maxWidth = Infinity;\n  }\n  if (maxHeight == null) {\n    maxHeight = Infinity;\n  }\n  var currentLineMaxSize = 0;\n  group.eachChild(function (child, idx) {\n    var rect = child.getBoundingRect();\n    var nextChild = group.childAt(idx + 1);\n    var nextChildRect = nextChild && nextChild.getBoundingRect();\n    var nextX;\n    var nextY;\n    if (orient === 'horizontal') {\n      var moveX = rect.width + (nextChildRect ? -nextChildRect.x + rect.x : 0);\n      nextX = x + moveX;\n      // Wrap when width exceeds maxWidth or meet a `newline` group\n      // FIXME compare before adding gap?\n      if (nextX > maxWidth || child.newline) {\n        x = 0;\n        nextX = moveX;\n        y += currentLineMaxSize + gap;\n        currentLineMaxSize = rect.height;\n      } else {\n        // FIXME: consider rect.y is not `0`?\n        currentLineMaxSize = Math.max(currentLineMaxSize, rect.height);\n      }\n    } else {\n      var moveY = rect.height + (nextChildRect ? -nextChildRect.y + rect.y : 0);\n      nextY = y + moveY;\n      // Wrap when width exceeds maxHeight or meet a `newline` group\n      if (nextY > maxHeight || child.newline) {\n        x += currentLineMaxSize + gap;\n        y = 0;\n        nextY = moveY;\n        currentLineMaxSize = rect.width;\n      } else {\n        currentLineMaxSize = Math.max(currentLineMaxSize, rect.width);\n      }\n    }\n    if (child.newline) {\n      return;\n    }\n    child.x = x;\n    child.y = y;\n    child.markRedraw();\n    orient === 'horizontal' ? x = nextX + gap : y = nextY + gap;\n  });\n}\n/**\n * VBox or HBox layouting\n * @param {string} orient\n * @param {module:zrender/graphic/Group} group\n * @param {number} gap\n * @param {number} [width=Infinity]\n * @param {number} [height=Infinity]\n */\nexport var box = boxLayout;\n/**\n * VBox layouting\n * @param {module:zrender/graphic/Group} group\n * @param {number} gap\n * @param {number} [width=Infinity]\n * @param {number} [height=Infinity]\n */\nexport var vbox = zrUtil.curry(boxLayout, 'vertical');\n/**\n * HBox layouting\n * @param {module:zrender/graphic/Group} group\n * @param {number} gap\n * @param {number} [width=Infinity]\n * @param {number} [height=Infinity]\n */\nexport var hbox = zrUtil.curry(boxLayout, 'horizontal');\n/**\n * If x or x2 is not specified or 'center' 'left' 'right',\n * the width would be as long as possible.\n * If y or y2 is not specified or 'middle' 'top' 'bottom',\n * the height would be as long as possible.\n */\nexport function getAvailableSize(positionInfo, containerRect, margin) {\n  var containerWidth = containerRect.width;\n  var containerHeight = containerRect.height;\n  var x = parsePercent(positionInfo.left, containerWidth);\n  var y = parsePercent(positionInfo.top, containerHeight);\n  var x2 = parsePercent(positionInfo.right, containerWidth);\n  var y2 = parsePercent(positionInfo.bottom, containerHeight);\n  (isNaN(x) || isNaN(parseFloat(positionInfo.left))) && (x = 0);\n  (isNaN(x2) || isNaN(parseFloat(positionInfo.right))) && (x2 = containerWidth);\n  (isNaN(y) || isNaN(parseFloat(positionInfo.top))) && (y = 0);\n  (isNaN(y2) || isNaN(parseFloat(positionInfo.bottom))) && (y2 = containerHeight);\n  margin = formatUtil.normalizeCssArray(margin || 0);\n  return {\n    width: Math.max(x2 - x - margin[1] - margin[3], 0),\n    height: Math.max(y2 - y - margin[0] - margin[2], 0)\n  };\n}\n/**\n * Parse position info.\n */\nexport function getLayoutRect(positionInfo, containerRect, margin) {\n  margin = formatUtil.normalizeCssArray(margin || 0);\n  var containerWidth = containerRect.width;\n  var containerHeight = containerRect.height;\n  var left = parsePercent(positionInfo.left, containerWidth);\n  var top = parsePercent(positionInfo.top, containerHeight);\n  var right = parsePercent(positionInfo.right, containerWidth);\n  var bottom = parsePercent(positionInfo.bottom, containerHeight);\n  var width = parsePercent(positionInfo.width, containerWidth);\n  var height = parsePercent(positionInfo.height, containerHeight);\n  var verticalMargin = margin[2] + margin[0];\n  var horizontalMargin = margin[1] + margin[3];\n  var aspect = positionInfo.aspect;\n  // If width is not specified, calculate width from left and right\n  if (isNaN(width)) {\n    width = containerWidth - right - horizontalMargin - left;\n  }\n  if (isNaN(height)) {\n    height = containerHeight - bottom - verticalMargin - top;\n  }\n  if (aspect != null) {\n    // If width and height are not given\n    // 1. Graph should not exceeds the container\n    // 2. Aspect must be keeped\n    // 3. Graph should take the space as more as possible\n    // FIXME\n    // Margin is not considered, because there is no case that both\n    // using margin and aspect so far.\n    if (isNaN(width) && isNaN(height)) {\n      if (aspect > containerWidth / containerHeight) {\n        width = containerWidth * 0.8;\n      } else {\n        height = containerHeight * 0.8;\n      }\n    }\n    // Calculate width or height with given aspect\n    if (isNaN(width)) {\n      width = aspect * height;\n    }\n    if (isNaN(height)) {\n      height = width / aspect;\n    }\n  }\n  // If left is not specified, calculate left from right and width\n  if (isNaN(left)) {\n    left = containerWidth - right - width - horizontalMargin;\n  }\n  if (isNaN(top)) {\n    top = containerHeight - bottom - height - verticalMargin;\n  }\n  // Align left and top\n  switch (positionInfo.left || positionInfo.right) {\n    case 'center':\n      left = containerWidth / 2 - width / 2 - margin[3];\n      break;\n    case 'right':\n      left = containerWidth - width - horizontalMargin;\n      break;\n  }\n  switch (positionInfo.top || positionInfo.bottom) {\n    case 'middle':\n    case 'center':\n      top = containerHeight / 2 - height / 2 - margin[0];\n      break;\n    case 'bottom':\n      top = containerHeight - height - verticalMargin;\n      break;\n  }\n  // If something is wrong and left, top, width, height are calculated as NaN\n  left = left || 0;\n  top = top || 0;\n  if (isNaN(width)) {\n    // Width may be NaN if only one value is given except width\n    width = containerWidth - horizontalMargin - left - (right || 0);\n  }\n  if (isNaN(height)) {\n    // Height may be NaN if only one value is given except height\n    height = containerHeight - verticalMargin - top - (bottom || 0);\n  }\n  var rect = new BoundingRect(left + margin[3], top + margin[0], width, height);\n  rect.margin = margin;\n  return rect;\n}\n/**\n * Position a zr element in viewport\n *  Group position is specified by either\n *  {left, top}, {right, bottom}\n *  If all properties exists, right and bottom will be igonred.\n *\n * Logic:\n *     1. Scale (against origin point in parent coord)\n *     2. Rotate (against origin point in parent coord)\n *     3. Translate (with el.position by this method)\n * So this method only fixes the last step 'Translate', which does not affect\n * scaling and rotating.\n *\n * If be called repeatedly with the same input el, the same result will be gotten.\n *\n * Return true if the layout happened.\n *\n * @param el Should have `getBoundingRect` method.\n * @param positionInfo\n * @param positionInfo.left\n * @param positionInfo.top\n * @param positionInfo.right\n * @param positionInfo.bottom\n * @param positionInfo.width Only for opt.boundingModel: 'raw'\n * @param positionInfo.height Only for opt.boundingModel: 'raw'\n * @param containerRect\n * @param margin\n * @param opt\n * @param opt.hv Only horizontal or only vertical. Default to be [1, 1]\n * @param opt.boundingMode\n *        Specify how to calculate boundingRect when locating.\n *        'all': Position the boundingRect that is transformed and uioned\n *               both itself and its descendants.\n *               This mode simplies confine the elements in the bounding\n *               of their container (e.g., using 'right: 0').\n *        'raw': Position the boundingRect that is not transformed and only itself.\n *               This mode is useful when you want a element can overflow its\n *               container. (Consider a rotated circle needs to be located in a corner.)\n *               In this mode positionInfo.width/height can only be number.\n */\nexport function positionElement(el, positionInfo, containerRect, margin, opt, out) {\n  var h = !opt || !opt.hv || opt.hv[0];\n  var v = !opt || !opt.hv || opt.hv[1];\n  var boundingMode = opt && opt.boundingMode || 'all';\n  out = out || el;\n  out.x = el.x;\n  out.y = el.y;\n  if (!h && !v) {\n    return false;\n  }\n  var rect;\n  if (boundingMode === 'raw') {\n    rect = el.type === 'group' ? new BoundingRect(0, 0, +positionInfo.width || 0, +positionInfo.height || 0) : el.getBoundingRect();\n  } else {\n    rect = el.getBoundingRect();\n    if (el.needLocalTransform()) {\n      var transform = el.getLocalTransform();\n      // Notice: raw rect may be inner object of el,\n      // which should not be modified.\n      rect = rect.clone();\n      rect.applyTransform(transform);\n    }\n  }\n  // The real width and height can not be specified but calculated by the given el.\n  var layoutRect = getLayoutRect(zrUtil.defaults({\n    width: rect.width,\n    height: rect.height\n  }, positionInfo), containerRect, margin);\n  // Because 'tranlate' is the last step in transform\n  // (see zrender/core/Transformable#getLocalTransform),\n  // we can just only modify el.position to get final result.\n  var dx = h ? layoutRect.x - rect.x : 0;\n  var dy = v ? layoutRect.y - rect.y : 0;\n  if (boundingMode === 'raw') {\n    out.x = dx;\n    out.y = dy;\n  } else {\n    out.x += dx;\n    out.y += dy;\n  }\n  if (out === el) {\n    el.markRedraw();\n  }\n  return true;\n}\n/**\n * @param option Contains some of the properties in HV_NAMES.\n * @param hvIdx 0: horizontal; 1: vertical.\n */\nexport function sizeCalculable(option, hvIdx) {\n  return option[HV_NAMES[hvIdx][0]] != null || option[HV_NAMES[hvIdx][1]] != null && option[HV_NAMES[hvIdx][2]] != null;\n}\nexport function fetchLayoutMode(ins) {\n  var layoutMode = ins.layoutMode || ins.constructor.layoutMode;\n  return zrUtil.isObject(layoutMode) ? layoutMode : layoutMode ? {\n    type: layoutMode\n  } : null;\n}\n/**\n * Consider Case:\n * When default option has {left: 0, width: 100}, and we set {right: 0}\n * through setOption or media query, using normal zrUtil.merge will cause\n * {right: 0} does not take effect.\n *\n * @example\n * ComponentModel.extend({\n *     init: function () {\n *         ...\n *         let inputPositionParams = layout.getLayoutParams(option);\n *         this.mergeOption(inputPositionParams);\n *     },\n *     mergeOption: function (newOption) {\n *         newOption && zrUtil.merge(thisOption, newOption, true);\n *         layout.mergeLayoutParam(thisOption, newOption);\n *     }\n * });\n *\n * @param targetOption\n * @param newOption\n * @param opt\n */\nexport function mergeLayoutParam(targetOption, newOption, opt) {\n  var ignoreSize = opt && opt.ignoreSize;\n  !zrUtil.isArray(ignoreSize) && (ignoreSize = [ignoreSize, ignoreSize]);\n  var hResult = merge(HV_NAMES[0], 0);\n  var vResult = merge(HV_NAMES[1], 1);\n  copy(HV_NAMES[0], targetOption, hResult);\n  copy(HV_NAMES[1], targetOption, vResult);\n  function merge(names, hvIdx) {\n    var newParams = {};\n    var newValueCount = 0;\n    var merged = {};\n    var mergedValueCount = 0;\n    var enoughParamNumber = 2;\n    each(names, function (name) {\n      merged[name] = targetOption[name];\n    });\n    each(names, function (name) {\n      // Consider case: newOption.width is null, which is\n      // set by user for removing width setting.\n      hasProp(newOption, name) && (newParams[name] = merged[name] = newOption[name]);\n      hasValue(newParams, name) && newValueCount++;\n      hasValue(merged, name) && mergedValueCount++;\n    });\n    if (ignoreSize[hvIdx]) {\n      // Only one of left/right is premitted to exist.\n      if (hasValue(newOption, names[1])) {\n        merged[names[2]] = null;\n      } else if (hasValue(newOption, names[2])) {\n        merged[names[1]] = null;\n      }\n      return merged;\n    }\n    // Case: newOption: {width: ..., right: ...},\n    // or targetOption: {right: ...} and newOption: {width: ...},\n    // There is no conflict when merged only has params count\n    // little than enoughParamNumber.\n    if (mergedValueCount === enoughParamNumber || !newValueCount) {\n      return merged;\n    }\n    // Case: newOption: {width: ..., right: ...},\n    // Than we can make sure user only want those two, and ignore\n    // all origin params in targetOption.\n    else if (newValueCount >= enoughParamNumber) {\n      return newParams;\n    } else {\n      // Chose another param from targetOption by priority.\n      for (var i = 0; i < names.length; i++) {\n        var name_1 = names[i];\n        if (!hasProp(newParams, name_1) && hasProp(targetOption, name_1)) {\n          newParams[name_1] = targetOption[name_1];\n          break;\n        }\n      }\n      return newParams;\n    }\n  }\n  function hasProp(obj, name) {\n    return obj.hasOwnProperty(name);\n  }\n  function hasValue(obj, name) {\n    return obj[name] != null && obj[name] !== 'auto';\n  }\n  function copy(names, target, source) {\n    each(names, function (name) {\n      target[name] = source[name];\n    });\n  }\n}\n/**\n * Retrieve 'left', 'right', 'top', 'bottom', 'width', 'height' from object.\n */\nexport function getLayoutParams(source) {\n  return copyLayoutParams({}, source);\n}\n/**\n * Retrieve 'left', 'right', 'top', 'bottom', 'width', 'height' from object.\n * @param {Object} source\n * @return {Object} Result contains those props.\n */\nexport function copyLayoutParams(target, source) {\n  source && target && each(LOCATION_PARAMS, function (name) {\n    source.hasOwnProperty(name) && (target[name] = source[name]);\n  });\n  return target;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { map, isString, isFunction, eqNaN, isRegExp } from 'zrender/lib/core/util.js';\nvar ECHARTS_PREFIX = '[ECharts] ';\nvar storedLogs = {};\nvar hasConsole = typeof console !== 'undefined'\n// eslint-disable-next-line\n&& console.warn && console.log;\nfunction outputLog(type, str, onlyOnce) {\n  if (hasConsole) {\n    if (onlyOnce) {\n      if (storedLogs[str]) {\n        return;\n      }\n      storedLogs[str] = true;\n    }\n    // eslint-disable-next-line\n    console[type](ECHARTS_PREFIX + str);\n  }\n}\nexport function log(str, onlyOnce) {\n  outputLog('log', str, onlyOnce);\n}\nexport function warn(str, onlyOnce) {\n  outputLog('warn', str, onlyOnce);\n}\nexport function error(str, onlyOnce) {\n  outputLog('error', str, onlyOnce);\n}\nexport function deprecateLog(str) {\n  if (process.env.NODE_ENV !== 'production') {\n    // Not display duplicate message.\n    outputLog('warn', 'DEPRECATED: ' + str, true);\n  }\n}\nexport function deprecateReplaceLog(oldOpt, newOpt, scope) {\n  if (process.env.NODE_ENV !== 'production') {\n    deprecateLog((scope ? \"[\" + scope + \"]\" : '') + (oldOpt + \" is deprecated, use \" + newOpt + \" instead.\"));\n  }\n}\n/**\n * If in __DEV__ environment, get console printable message for users hint.\n * Parameters are separated by ' '.\n * @usage\n * makePrintable('This is an error on', someVar, someObj);\n *\n * @param hintInfo anything about the current execution context to hint users.\n * @throws Error\n */\nexport function makePrintable() {\n  var hintInfo = [];\n  for (var _i = 0; _i < arguments.length; _i++) {\n    hintInfo[_i] = arguments[_i];\n  }\n  var msg = '';\n  if (process.env.NODE_ENV !== 'production') {\n    // Fuzzy stringify for print.\n    // This code only exist in dev environment.\n    var makePrintableStringIfPossible_1 = function (val) {\n      return val === void 0 ? 'undefined' : val === Infinity ? 'Infinity' : val === -Infinity ? '-Infinity' : eqNaN(val) ? 'NaN' : val instanceof Date ? 'Date(' + val.toISOString() + ')' : isFunction(val) ? 'function () { ... }' : isRegExp(val) ? val + '' : null;\n    };\n    msg = map(hintInfo, function (arg) {\n      if (isString(arg)) {\n        // Print without quotation mark for some statement.\n        return arg;\n      } else {\n        var printableStr = makePrintableStringIfPossible_1(arg);\n        if (printableStr != null) {\n          return printableStr;\n        } else if (typeof JSON !== 'undefined' && JSON.stringify) {\n          try {\n            return JSON.stringify(arg, function (n, val) {\n              var printableStr = makePrintableStringIfPossible_1(val);\n              return printableStr == null ? val : printableStr;\n            });\n            // In most cases the info object is small, so do not line break.\n          } catch (err) {\n            return '?';\n          }\n        } else {\n          return '?';\n        }\n      }\n    }).join(' ');\n  }\n  return msg;\n}\n/**\n * @throws Error\n */\nexport function throwError(msg) {\n  throw new Error(msg);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, isObject, isArray, createHashMap, map, assert, isString, indexOf, isStringSafe, isNumber } from 'zrender/lib/core/util.js';\nimport env from 'zrender/lib/core/env.js';\nimport { isNumeric, getRandomIdBase, getPrecision, round } from './number.js';\nimport { warn } from './log.js';\nfunction interpolateNumber(p0, p1, percent) {\n  return (p1 - p0) * percent + p0;\n}\n/**\n * Make the name displayable. But we should\n * make sure it is not duplicated with user\n * specified name, so use '\\0';\n */\nvar DUMMY_COMPONENT_NAME_PREFIX = 'series\\0';\nvar INTERNAL_COMPONENT_ID_PREFIX = '\\0_ec_\\0';\n/**\n * If value is not array, then translate it to array.\n * @param  {*} value\n * @return {Array} [value] or value\n */\nexport function normalizeToArray(value) {\n  return value instanceof Array ? value : value == null ? [] : [value];\n}\n/**\n * Sync default option between normal and emphasis like `position` and `show`\n * In case some one will write code like\n *     label: {\n *          show: false,\n *          position: 'outside',\n *          fontSize: 18\n *     },\n *     emphasis: {\n *          label: { show: true }\n *     }\n */\nexport function defaultEmphasis(opt, key, subOpts) {\n  // Caution: performance sensitive.\n  if (opt) {\n    opt[key] = opt[key] || {};\n    opt.emphasis = opt.emphasis || {};\n    opt.emphasis[key] = opt.emphasis[key] || {};\n    // Default emphasis option from normal\n    for (var i = 0, len = subOpts.length; i < len; i++) {\n      var subOptName = subOpts[i];\n      if (!opt.emphasis[key].hasOwnProperty(subOptName) && opt[key].hasOwnProperty(subOptName)) {\n        opt.emphasis[key][subOptName] = opt[key][subOptName];\n      }\n    }\n  }\n}\nexport var TEXT_STYLE_OPTIONS = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily', 'rich', 'tag', 'color', 'textBorderColor', 'textBorderWidth', 'width', 'height', 'lineHeight', 'align', 'verticalAlign', 'baseline', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY', 'textShadowColor', 'textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY', 'backgroundColor', 'borderColor', 'borderWidth', 'borderRadius', 'padding'];\n// modelUtil.LABEL_OPTIONS = modelUtil.TEXT_STYLE_OPTIONS.concat([\n//     'position', 'offset', 'rotate', 'origin', 'show', 'distance', 'formatter',\n//     'fontStyle', 'fontWeight', 'fontSize', 'fontFamily',\n//     // FIXME: deprecated, check and remove it.\n//     'textStyle'\n// ]);\n/**\n * The method does not ensure performance.\n * data could be [12, 2323, {value: 223}, [1221, 23], {value: [2, 23]}]\n * This helper method retrieves value from data.\n */\nexport function getDataItemValue(dataItem) {\n  return isObject(dataItem) && !isArray(dataItem) && !(dataItem instanceof Date) ? dataItem.value : dataItem;\n}\n/**\n * data could be [12, 2323, {value: 223}, [1221, 23], {value: [2, 23]}]\n * This helper method determine if dataItem has extra option besides value\n */\nexport function isDataItemOption(dataItem) {\n  return isObject(dataItem) && !(dataItem instanceof Array);\n  // // markLine data can be array\n  // && !(dataItem[0] && isObject(dataItem[0]) && !(dataItem[0] instanceof Array));\n}\n\n;\n/**\n * Mapping to existings for merge.\n *\n * Mode \"normalMege\":\n *     The mapping result (merge result) will keep the order of the existing\n *     component, rather than the order of new option. Because we should ensure\n *     some specified index reference (like xAxisIndex) keep work.\n *     And in most cases, \"merge option\" is used to update partial option but not\n *     be expected to change the order.\n *\n * Mode \"replaceMege\":\n *     (1) Only the id mapped components will be merged.\n *     (2) Other existing components (except internal components) will be removed.\n *     (3) Other new options will be used to create new component.\n *     (4) The index of the existing components will not be modified.\n *     That means their might be \"hole\" after the removal.\n *     The new components are created first at those available index.\n *\n * Mode \"replaceAll\":\n *     This mode try to support that reproduce an echarts instance from another\n *     echarts instance (via `getOption`) in some simple cases.\n *     In this scenario, the `result` index are exactly the consistent with the `newCmptOptions`,\n *     which ensures the component index referring (like `xAxisIndex: ?`) corrent. That is,\n *     the \"hole\" in `newCmptOptions` will also be kept.\n *     On the contrary, other modes try best to eliminate holes.\n *     PENDING: This is an experimental mode yet.\n *\n * @return See the comment of <MappingResult>.\n */\nexport function mappingToExists(existings, newCmptOptions, mode) {\n  var isNormalMergeMode = mode === 'normalMerge';\n  var isReplaceMergeMode = mode === 'replaceMerge';\n  var isReplaceAllMode = mode === 'replaceAll';\n  existings = existings || [];\n  newCmptOptions = (newCmptOptions || []).slice();\n  var existingIdIdxMap = createHashMap();\n  // Validate id and name on user input option.\n  each(newCmptOptions, function (cmptOption, index) {\n    if (!isObject(cmptOption)) {\n      newCmptOptions[index] = null;\n      return;\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      // There is some legacy case that name is set as `false`.\n      // But should work normally rather than throw error.\n      if (cmptOption.id != null && !isValidIdOrName(cmptOption.id)) {\n        warnInvalidateIdOrName(cmptOption.id);\n      }\n      if (cmptOption.name != null && !isValidIdOrName(cmptOption.name)) {\n        warnInvalidateIdOrName(cmptOption.name);\n      }\n    }\n  });\n  var result = prepareResult(existings, existingIdIdxMap, mode);\n  if (isNormalMergeMode || isReplaceMergeMode) {\n    mappingById(result, existings, existingIdIdxMap, newCmptOptions);\n  }\n  if (isNormalMergeMode) {\n    mappingByName(result, newCmptOptions);\n  }\n  if (isNormalMergeMode || isReplaceMergeMode) {\n    mappingByIndex(result, newCmptOptions, isReplaceMergeMode);\n  } else if (isReplaceAllMode) {\n    mappingInReplaceAllMode(result, newCmptOptions);\n  }\n  makeIdAndName(result);\n  // The array `result` MUST NOT contain elided items, otherwise the\n  // forEach will omit those items and result in incorrect result.\n  return result;\n}\nfunction prepareResult(existings, existingIdIdxMap, mode) {\n  var result = [];\n  if (mode === 'replaceAll') {\n    return result;\n  }\n  // Do not use native `map` to in case that the array `existings`\n  // contains elided items, which will be omitted.\n  for (var index = 0; index < existings.length; index++) {\n    var existing = existings[index];\n    // Because of replaceMerge, `existing` may be null/undefined.\n    if (existing && existing.id != null) {\n      existingIdIdxMap.set(existing.id, index);\n    }\n    // For non-internal-componnets:\n    //     Mode \"normalMerge\": all existings kept.\n    //     Mode \"replaceMerge\": all existing removed unless mapped by id.\n    // For internal-components:\n    //     go with \"replaceMerge\" approach in both mode.\n    result.push({\n      existing: mode === 'replaceMerge' || isComponentIdInternal(existing) ? null : existing,\n      newOption: null,\n      keyInfo: null,\n      brandNew: null\n    });\n  }\n  return result;\n}\nfunction mappingById(result, existings, existingIdIdxMap, newCmptOptions) {\n  // Mapping by id if specified.\n  each(newCmptOptions, function (cmptOption, index) {\n    if (!cmptOption || cmptOption.id == null) {\n      return;\n    }\n    var optionId = makeComparableKey(cmptOption.id);\n    var existingIdx = existingIdIdxMap.get(optionId);\n    if (existingIdx != null) {\n      var resultItem = result[existingIdx];\n      assert(!resultItem.newOption, 'Duplicated option on id \"' + optionId + '\".');\n      resultItem.newOption = cmptOption;\n      // In both mode, if id matched, new option will be merged to\n      // the existings rather than creating new component model.\n      resultItem.existing = existings[existingIdx];\n      newCmptOptions[index] = null;\n    }\n  });\n}\nfunction mappingByName(result, newCmptOptions) {\n  // Mapping by name if specified.\n  each(newCmptOptions, function (cmptOption, index) {\n    if (!cmptOption || cmptOption.name == null) {\n      return;\n    }\n    for (var i = 0; i < result.length; i++) {\n      var existing = result[i].existing;\n      if (!result[i].newOption // Consider name: two map to one.\n      // Can not match when both ids existing but different.\n      && existing && (existing.id == null || cmptOption.id == null) && !isComponentIdInternal(cmptOption) && !isComponentIdInternal(existing) && keyExistAndEqual('name', existing, cmptOption)) {\n        result[i].newOption = cmptOption;\n        newCmptOptions[index] = null;\n        return;\n      }\n    }\n  });\n}\nfunction mappingByIndex(result, newCmptOptions, brandNew) {\n  each(newCmptOptions, function (cmptOption) {\n    if (!cmptOption) {\n      return;\n    }\n    // Find the first place that not mapped by id and not internal component (consider the \"hole\").\n    var resultItem;\n    var nextIdx = 0;\n    while (\n    // Be `!resultItem` only when `nextIdx >= result.length`.\n    (resultItem = result[nextIdx]\n    // (1) Existing models that already have id should be able to mapped to. Because\n    // after mapping performed, model will always be assigned with an id if user not given.\n    // After that all models have id.\n    // (2) If new option has id, it can only set to a hole or append to the last. It should\n    // not be merged to the existings with different id. Because id should not be overwritten.\n    // (3) Name can be overwritten, because axis use name as 'show label text'.\n    ) && (resultItem.newOption || isComponentIdInternal(resultItem.existing) ||\n    // In mode \"replaceMerge\", here no not-mapped-non-internal-existing.\n    resultItem.existing && cmptOption.id != null && !keyExistAndEqual('id', cmptOption, resultItem.existing))) {\n      nextIdx++;\n    }\n    if (resultItem) {\n      resultItem.newOption = cmptOption;\n      resultItem.brandNew = brandNew;\n    } else {\n      result.push({\n        newOption: cmptOption,\n        brandNew: brandNew,\n        existing: null,\n        keyInfo: null\n      });\n    }\n    nextIdx++;\n  });\n}\nfunction mappingInReplaceAllMode(result, newCmptOptions) {\n  each(newCmptOptions, function (cmptOption) {\n    // The feature \"reproduce\" requires \"hole\" will also reproduced\n    // in case that component index referring are broken.\n    result.push({\n      newOption: cmptOption,\n      brandNew: true,\n      existing: null,\n      keyInfo: null\n    });\n  });\n}\n/**\n * Make id and name for mapping result (result of mappingToExists)\n * into `keyInfo` field.\n */\nfunction makeIdAndName(mapResult) {\n  // We use this id to hash component models and view instances\n  // in echarts. id can be specified by user, or auto generated.\n  // The id generation rule ensures new view instance are able\n  // to mapped to old instance when setOption are called in\n  // no-merge mode. So we generate model id by name and plus\n  // type in view id.\n  // name can be duplicated among components, which is convenient\n  // to specify multi components (like series) by one name.\n  // Ensure that each id is distinct.\n  var idMap = createHashMap();\n  each(mapResult, function (item) {\n    var existing = item.existing;\n    existing && idMap.set(existing.id, item);\n  });\n  each(mapResult, function (item) {\n    var opt = item.newOption;\n    // Force ensure id not duplicated.\n    assert(!opt || opt.id == null || !idMap.get(opt.id) || idMap.get(opt.id) === item, 'id duplicates: ' + (opt && opt.id));\n    opt && opt.id != null && idMap.set(opt.id, item);\n    !item.keyInfo && (item.keyInfo = {});\n  });\n  // Make name and id.\n  each(mapResult, function (item, index) {\n    var existing = item.existing;\n    var opt = item.newOption;\n    var keyInfo = item.keyInfo;\n    if (!isObject(opt)) {\n      return;\n    }\n    // Name can be overwritten. Consider case: axis.name = '20km'.\n    // But id generated by name will not be changed, which affect\n    // only in that case: setOption with 'not merge mode' and view\n    // instance will be recreated, which can be accepted.\n    keyInfo.name = opt.name != null ? makeComparableKey(opt.name) : existing ? existing.name\n    // Avoid that different series has the same name,\n    // because name may be used like in color pallet.\n    : DUMMY_COMPONENT_NAME_PREFIX + index;\n    if (existing) {\n      keyInfo.id = makeComparableKey(existing.id);\n    } else if (opt.id != null) {\n      keyInfo.id = makeComparableKey(opt.id);\n    } else {\n      // Consider this situatoin:\n      //  optionA: [{name: 'a'}, {name: 'a'}, {..}]\n      //  optionB [{..}, {name: 'a'}, {name: 'a'}]\n      // Series with the same name between optionA and optionB\n      // should be mapped.\n      var idNum = 0;\n      do {\n        keyInfo.id = '\\0' + keyInfo.name + '\\0' + idNum++;\n      } while (idMap.get(keyInfo.id));\n    }\n    idMap.set(keyInfo.id, item);\n  });\n}\nfunction keyExistAndEqual(attr, obj1, obj2) {\n  var key1 = convertOptionIdName(obj1[attr], null);\n  var key2 = convertOptionIdName(obj2[attr], null);\n  // See `MappingExistingItem`. `id` and `name` trade string equals to number.\n  return key1 != null && key2 != null && key1 === key2;\n}\n/**\n * @return return null if not exist.\n */\nfunction makeComparableKey(val) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (val == null) {\n      throw new Error();\n    }\n  }\n  return convertOptionIdName(val, '');\n}\nexport function convertOptionIdName(idOrName, defaultValue) {\n  if (idOrName == null) {\n    return defaultValue;\n  }\n  return isString(idOrName) ? idOrName : isNumber(idOrName) || isStringSafe(idOrName) ? idOrName + '' : defaultValue;\n}\nfunction warnInvalidateIdOrName(idOrName) {\n  if (process.env.NODE_ENV !== 'production') {\n    warn('`' + idOrName + '` is invalid id or name. Must be a string or number.');\n  }\n}\nfunction isValidIdOrName(idOrName) {\n  return isStringSafe(idOrName) || isNumeric(idOrName);\n}\nexport function isNameSpecified(componentModel) {\n  var name = componentModel.name;\n  // Is specified when `indexOf` get -1 or > 0.\n  return !!(name && name.indexOf(DUMMY_COMPONENT_NAME_PREFIX));\n}\n/**\n * @public\n * @param {Object} cmptOption\n * @return {boolean}\n */\nexport function isComponentIdInternal(cmptOption) {\n  return cmptOption && cmptOption.id != null && makeComparableKey(cmptOption.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX) === 0;\n}\nexport function makeInternalComponentId(idSuffix) {\n  return INTERNAL_COMPONENT_ID_PREFIX + idSuffix;\n}\nexport function setComponentTypeToKeyInfo(mappingResult, mainType, componentModelCtor) {\n  // Set mainType and complete subType.\n  each(mappingResult, function (item) {\n    var newOption = item.newOption;\n    if (isObject(newOption)) {\n      item.keyInfo.mainType = mainType;\n      item.keyInfo.subType = determineSubType(mainType, newOption, item.existing, componentModelCtor);\n    }\n  });\n}\nfunction determineSubType(mainType, newCmptOption, existComponent, componentModelCtor) {\n  var subType = newCmptOption.type ? newCmptOption.type : existComponent ? existComponent.subType\n  // Use determineSubType only when there is no existComponent.\n  : componentModelCtor.determineSubType(mainType, newCmptOption);\n  // tooltip, markline, markpoint may always has no subType\n  return subType;\n}\n/**\n * A helper for removing duplicate items between batchA and batchB,\n * and in themselves, and categorize by series.\n *\n * @param batchA Like: [{seriesId: 2, dataIndex: [32, 4, 5]}, ...]\n * @param batchB Like: [{seriesId: 2, dataIndex: [32, 4, 5]}, ...]\n * @return result: [resultBatchA, resultBatchB]\n */\nexport function compressBatches(batchA, batchB) {\n  var mapA = {};\n  var mapB = {};\n  makeMap(batchA || [], mapA);\n  makeMap(batchB || [], mapB, mapA);\n  return [mapToArray(mapA), mapToArray(mapB)];\n  function makeMap(sourceBatch, map, otherMap) {\n    for (var i = 0, len = sourceBatch.length; i < len; i++) {\n      var seriesId = convertOptionIdName(sourceBatch[i].seriesId, null);\n      if (seriesId == null) {\n        return;\n      }\n      var dataIndices = normalizeToArray(sourceBatch[i].dataIndex);\n      var otherDataIndices = otherMap && otherMap[seriesId];\n      for (var j = 0, lenj = dataIndices.length; j < lenj; j++) {\n        var dataIndex = dataIndices[j];\n        if (otherDataIndices && otherDataIndices[dataIndex]) {\n          otherDataIndices[dataIndex] = null;\n        } else {\n          (map[seriesId] || (map[seriesId] = {}))[dataIndex] = 1;\n        }\n      }\n    }\n  }\n  function mapToArray(map, isData) {\n    var result = [];\n    for (var i in map) {\n      if (map.hasOwnProperty(i) && map[i] != null) {\n        if (isData) {\n          result.push(+i);\n        } else {\n          var dataIndices = mapToArray(map[i], true);\n          dataIndices.length && result.push({\n            seriesId: i,\n            dataIndex: dataIndices\n          });\n        }\n      }\n    }\n    return result;\n  }\n}\n/**\n * @param payload Contains dataIndex (means rawIndex) / dataIndexInside / name\n *                         each of which can be Array or primary type.\n * @return dataIndex If not found, return undefined/null.\n */\nexport function queryDataIndex(data, payload) {\n  if (payload.dataIndexInside != null) {\n    return payload.dataIndexInside;\n  } else if (payload.dataIndex != null) {\n    return isArray(payload.dataIndex) ? map(payload.dataIndex, function (value) {\n      return data.indexOfRawIndex(value);\n    }) : data.indexOfRawIndex(payload.dataIndex);\n  } else if (payload.name != null) {\n    return isArray(payload.name) ? map(payload.name, function (value) {\n      return data.indexOfName(value);\n    }) : data.indexOfName(payload.name);\n  }\n}\n/**\n * Enable property storage to any host object.\n * Notice: Serialization is not supported.\n *\n * For example:\n * let inner = zrUitl.makeInner();\n *\n * function some1(hostObj) {\n *      inner(hostObj).someProperty = 1212;\n *      ...\n * }\n * function some2() {\n *      let fields = inner(this);\n *      fields.someProperty1 = 1212;\n *      fields.someProperty2 = 'xx';\n *      ...\n * }\n *\n * @return {Function}\n */\nexport function makeInner() {\n  var key = '__ec_inner_' + innerUniqueIndex++;\n  return function (hostObj) {\n    return hostObj[key] || (hostObj[key] = {});\n  };\n}\nvar innerUniqueIndex = getRandomIdBase();\n/**\n * The same behavior as `component.getReferringComponents`.\n */\nexport function parseFinder(ecModel, finderInput, opt) {\n  var _a = preParseFinder(finderInput, opt),\n    mainTypeSpecified = _a.mainTypeSpecified,\n    queryOptionMap = _a.queryOptionMap,\n    others = _a.others;\n  var result = others;\n  var defaultMainType = opt ? opt.defaultMainType : null;\n  if (!mainTypeSpecified && defaultMainType) {\n    queryOptionMap.set(defaultMainType, {});\n  }\n  queryOptionMap.each(function (queryOption, mainType) {\n    var queryResult = queryReferringComponents(ecModel, mainType, queryOption, {\n      useDefault: defaultMainType === mainType,\n      enableAll: opt && opt.enableAll != null ? opt.enableAll : true,\n      enableNone: opt && opt.enableNone != null ? opt.enableNone : true\n    });\n    result[mainType + 'Models'] = queryResult.models;\n    result[mainType + 'Model'] = queryResult.models[0];\n  });\n  return result;\n}\nexport function preParseFinder(finderInput, opt) {\n  var finder;\n  if (isString(finderInput)) {\n    var obj = {};\n    obj[finderInput + 'Index'] = 0;\n    finder = obj;\n  } else {\n    finder = finderInput;\n  }\n  var queryOptionMap = createHashMap();\n  var others = {};\n  var mainTypeSpecified = false;\n  each(finder, function (value, key) {\n    // Exclude 'dataIndex' and other illgal keys.\n    if (key === 'dataIndex' || key === 'dataIndexInside') {\n      others[key] = value;\n      return;\n    }\n    var parsedKey = key.match(/^(\\w+)(Index|Id|Name)$/) || [];\n    var mainType = parsedKey[1];\n    var queryType = (parsedKey[2] || '').toLowerCase();\n    if (!mainType || !queryType || opt && opt.includeMainTypes && indexOf(opt.includeMainTypes, mainType) < 0) {\n      return;\n    }\n    mainTypeSpecified = mainTypeSpecified || !!mainType;\n    var queryOption = queryOptionMap.get(mainType) || queryOptionMap.set(mainType, {});\n    queryOption[queryType] = value;\n  });\n  return {\n    mainTypeSpecified: mainTypeSpecified,\n    queryOptionMap: queryOptionMap,\n    others: others\n  };\n}\nexport var SINGLE_REFERRING = {\n  useDefault: true,\n  enableAll: false,\n  enableNone: false\n};\nexport var MULTIPLE_REFERRING = {\n  useDefault: false,\n  enableAll: true,\n  enableNone: true\n};\nexport function queryReferringComponents(ecModel, mainType, userOption, opt) {\n  opt = opt || SINGLE_REFERRING;\n  var indexOption = userOption.index;\n  var idOption = userOption.id;\n  var nameOption = userOption.name;\n  var result = {\n    models: null,\n    specified: indexOption != null || idOption != null || nameOption != null\n  };\n  if (!result.specified) {\n    // Use the first as default if `useDefault`.\n    var firstCmpt = void 0;\n    result.models = opt.useDefault && (firstCmpt = ecModel.getComponent(mainType)) ? [firstCmpt] : [];\n    return result;\n  }\n  if (indexOption === 'none' || indexOption === false) {\n    assert(opt.enableNone, '`\"none\"` or `false` is not a valid value on index option.');\n    result.models = [];\n    return result;\n  }\n  // `queryComponents` will return all components if\n  // both all of index/id/name are null/undefined.\n  if (indexOption === 'all') {\n    assert(opt.enableAll, '`\"all\"` is not a valid value on index option.');\n    indexOption = idOption = nameOption = null;\n  }\n  result.models = ecModel.queryComponents({\n    mainType: mainType,\n    index: indexOption,\n    id: idOption,\n    name: nameOption\n  });\n  return result;\n}\nexport function setAttribute(dom, key, value) {\n  dom.setAttribute ? dom.setAttribute(key, value) : dom[key] = value;\n}\nexport function getAttribute(dom, key) {\n  return dom.getAttribute ? dom.getAttribute(key) : dom[key];\n}\nexport function getTooltipRenderMode(renderModeOption) {\n  if (renderModeOption === 'auto') {\n    // Using html when `document` exists, use richText otherwise\n    return env.domSupported ? 'html' : 'richText';\n  } else {\n    return renderModeOption || 'html';\n  }\n}\n/**\n * Group a list by key.\n */\nexport function groupData(array, getKey // return key\n) {\n  var buckets = createHashMap();\n  var keys = [];\n  each(array, function (item) {\n    var key = getKey(item);\n    (buckets.get(key) || (keys.push(key), buckets.set(key, []))).push(item);\n  });\n  return {\n    keys: keys,\n    buckets: buckets\n  };\n}\n/**\n * Interpolate raw values of a series with percent\n *\n * @param data         data\n * @param labelModel   label model of the text element\n * @param sourceValue  start value. May be null/undefined when init.\n * @param targetValue  end value\n * @param percent      0~1 percentage; 0 uses start value while 1 uses end value\n * @return             interpolated values\n *                     If `sourceValue` and `targetValue` are `number`, return `number`.\n *                     If `sourceValue` and `targetValue` are `string`, return `string`.\n *                     If `sourceValue` and `targetValue` are `(string | number)[]`, return `(string | number)[]`.\n *                     Other cases do not supported.\n */\nexport function interpolateRawValues(data, precision, sourceValue, targetValue, percent) {\n  var isAutoPrecision = precision == null || precision === 'auto';\n  if (targetValue == null) {\n    return targetValue;\n  }\n  if (isNumber(targetValue)) {\n    var value = interpolateNumber(sourceValue || 0, targetValue, percent);\n    return round(value, isAutoPrecision ? Math.max(getPrecision(sourceValue || 0), getPrecision(targetValue)) : precision);\n  } else if (isString(targetValue)) {\n    return percent < 1 ? sourceValue : targetValue;\n  } else {\n    var interpolated = [];\n    var leftArr = sourceValue;\n    var rightArr = targetValue;\n    var length_1 = Math.max(leftArr ? leftArr.length : 0, rightArr.length);\n    for (var i = 0; i < length_1; ++i) {\n      var info = data.getDimensionInfo(i);\n      // Don't interpolate ordinal dims\n      if (info && info.type === 'ordinal') {\n        // In init, there is no `sourceValue`, but should better not to get undefined result.\n        interpolated[i] = (percent < 1 && leftArr ? leftArr : rightArr)[i];\n      } else {\n        var leftVal = leftArr && leftArr[i] ? leftArr[i] : 0;\n        var rightVal = rightArr[i];\n        var value = interpolateNumber(leftVal, rightVal, percent);\n        interpolated[i] = round(value, isAutoPrecision ? Math.max(getPrecision(leftVal), getPrecision(rightVal)) : precision);\n      }\n    }\n    return interpolated;\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/*\n* A third-party license is embedded for some of the code in this file:\n* The method \"quantile\" was copied from \"d3.js\".\n* (See more details in the comment of the method below.)\n* The use of the source code of this file is also subject to the terms\n* and consitions of the license of \"d3.js\" (BSD-3Clause, see\n* </licenses/LICENSE-d3>).\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar RADIAN_EPSILON = 1e-4;\n// Although chrome already enlarge this number to 100 for `toFixed`, but\n// we sill follow the spec for compatibility.\nvar ROUND_SUPPORTED_PRECISION_MAX = 20;\nfunction _trim(str) {\n  return str.replace(/^\\s+|\\s+$/g, '');\n}\n/**\n * Linear mapping a value from domain to range\n * @param  val\n * @param  domain Domain extent domain[0] can be bigger than domain[1]\n * @param  range  Range extent range[0] can be bigger than range[1]\n * @param  clamp Default to be false\n */\nexport function linearMap(val, domain, range, clamp) {\n  var d0 = domain[0];\n  var d1 = domain[1];\n  var r0 = range[0];\n  var r1 = range[1];\n  var subDomain = d1 - d0;\n  var subRange = r1 - r0;\n  if (subDomain === 0) {\n    return subRange === 0 ? r0 : (r0 + r1) / 2;\n  }\n  // Avoid accuracy problem in edge, such as\n  // 146.39 - 62.83 === 83.55999999999999.\n  // See echarts/test/ut/spec/util/number.js#linearMap#accuracyError\n  // It is a little verbose for efficiency considering this method\n  // is a hotspot.\n  if (clamp) {\n    if (subDomain > 0) {\n      if (val <= d0) {\n        return r0;\n      } else if (val >= d1) {\n        return r1;\n      }\n    } else {\n      if (val >= d0) {\n        return r0;\n      } else if (val <= d1) {\n        return r1;\n      }\n    }\n  } else {\n    if (val === d0) {\n      return r0;\n    }\n    if (val === d1) {\n      return r1;\n    }\n  }\n  return (val - d0) / subDomain * subRange + r0;\n}\n/**\n * Convert a percent string to absolute number.\n * Returns NaN if percent is not a valid string or number\n */\nexport function parsePercent(percent, all) {\n  switch (percent) {\n    case 'center':\n    case 'middle':\n      percent = '50%';\n      break;\n    case 'left':\n    case 'top':\n      percent = '0%';\n      break;\n    case 'right':\n    case 'bottom':\n      percent = '100%';\n      break;\n  }\n  if (zrUtil.isString(percent)) {\n    if (_trim(percent).match(/%$/)) {\n      return parseFloat(percent) / 100 * all;\n    }\n    return parseFloat(percent);\n  }\n  return percent == null ? NaN : +percent;\n}\nexport function round(x, precision, returnStr) {\n  if (precision == null) {\n    precision = 10;\n  }\n  // Avoid range error\n  precision = Math.min(Math.max(0, precision), ROUND_SUPPORTED_PRECISION_MAX);\n  // PENDING: 1.005.toFixed(2) is '1.00' rather than '1.01'\n  x = (+x).toFixed(precision);\n  return returnStr ? x : +x;\n}\n/**\n * Inplacd asc sort arr.\n * The input arr will be modified.\n */\nexport function asc(arr) {\n  arr.sort(function (a, b) {\n    return a - b;\n  });\n  return arr;\n}\n/**\n * Get precision.\n */\nexport function getPrecision(val) {\n  val = +val;\n  if (isNaN(val)) {\n    return 0;\n  }\n  // It is much faster than methods converting number to string as follows\n  //      let tmp = val.toString();\n  //      return tmp.length - 1 - tmp.indexOf('.');\n  // especially when precision is low\n  // Notice:\n  // (1) If the loop count is over about 20, it is slower than `getPrecisionSafe`.\n  //     (see https://jsbench.me/2vkpcekkvw/1)\n  // (2) If the val is less than for example 1e-15, the result may be incorrect.\n  //     (see test/ut/spec/util/number.test.ts `getPrecision_equal_random`)\n  if (val > 1e-14) {\n    var e = 1;\n    for (var i = 0; i < 15; i++, e *= 10) {\n      if (Math.round(val * e) / e === val) {\n        return i;\n      }\n    }\n  }\n  return getPrecisionSafe(val);\n}\n/**\n * Get precision with slow but safe method\n */\nexport function getPrecisionSafe(val) {\n  // toLowerCase for: '3.4E-12'\n  var str = val.toString().toLowerCase();\n  // Consider scientific notation: '3.4e-12' '3.4e+12'\n  var eIndex = str.indexOf('e');\n  var exp = eIndex > 0 ? +str.slice(eIndex + 1) : 0;\n  var significandPartLen = eIndex > 0 ? eIndex : str.length;\n  var dotIndex = str.indexOf('.');\n  var decimalPartLen = dotIndex < 0 ? 0 : significandPartLen - 1 - dotIndex;\n  return Math.max(0, decimalPartLen - exp);\n}\n/**\n * Minimal dicernible data precisioin according to a single pixel.\n */\nexport function getPixelPrecision(dataExtent, pixelExtent) {\n  var log = Math.log;\n  var LN10 = Math.LN10;\n  var dataQuantity = Math.floor(log(dataExtent[1] - dataExtent[0]) / LN10);\n  var sizeQuantity = Math.round(log(Math.abs(pixelExtent[1] - pixelExtent[0])) / LN10);\n  // toFixed() digits argument must be between 0 and 20.\n  var precision = Math.min(Math.max(-dataQuantity + sizeQuantity, 0), 20);\n  return !isFinite(precision) ? 20 : precision;\n}\n/**\n * Get a data of given precision, assuring the sum of percentages\n * in valueList is 1.\n * The largest remainder method is used.\n * https://en.wikipedia.org/wiki/Largest_remainder_method\n *\n * @param valueList a list of all data\n * @param idx index of the data to be processed in valueList\n * @param precision integer number showing digits of precision\n * @return percent ranging from 0 to 100\n */\nexport function getPercentWithPrecision(valueList, idx, precision) {\n  if (!valueList[idx]) {\n    return 0;\n  }\n  var seats = getPercentSeats(valueList, precision);\n  return seats[idx] || 0;\n}\n/**\n * Get a data of given precision, assuring the sum of percentages\n * in valueList is 1.\n * The largest remainder method is used.\n * https://en.wikipedia.org/wiki/Largest_remainder_method\n *\n * @param valueList a list of all data\n * @param precision integer number showing digits of precision\n * @return {Array<number>}\n */\nexport function getPercentSeats(valueList, precision) {\n  var sum = zrUtil.reduce(valueList, function (acc, val) {\n    return acc + (isNaN(val) ? 0 : val);\n  }, 0);\n  if (sum === 0) {\n    return [];\n  }\n  var digits = Math.pow(10, precision);\n  var votesPerQuota = zrUtil.map(valueList, function (val) {\n    return (isNaN(val) ? 0 : val) / sum * digits * 100;\n  });\n  var targetSeats = digits * 100;\n  var seats = zrUtil.map(votesPerQuota, function (votes) {\n    // Assign automatic seats.\n    return Math.floor(votes);\n  });\n  var currentSum = zrUtil.reduce(seats, function (acc, val) {\n    return acc + val;\n  }, 0);\n  var remainder = zrUtil.map(votesPerQuota, function (votes, idx) {\n    return votes - seats[idx];\n  });\n  // Has remainding votes.\n  while (currentSum < targetSeats) {\n    // Find next largest remainder.\n    var max = Number.NEGATIVE_INFINITY;\n    var maxId = null;\n    for (var i = 0, len = remainder.length; i < len; ++i) {\n      if (remainder[i] > max) {\n        max = remainder[i];\n        maxId = i;\n      }\n    }\n    // Add a vote to max remainder.\n    ++seats[maxId];\n    remainder[maxId] = 0;\n    ++currentSum;\n  }\n  return zrUtil.map(seats, function (seat) {\n    return seat / digits;\n  });\n}\n/**\n * Solve the floating point adding problem like 0.1 + 0.2 === 0.30000000000000004\n * See <http://0.30000000000000004.com/>\n */\nexport function addSafe(val0, val1) {\n  var maxPrecision = Math.max(getPrecision(val0), getPrecision(val1));\n  // const multiplier = Math.pow(10, maxPrecision);\n  // return (Math.round(val0 * multiplier) + Math.round(val1 * multiplier)) / multiplier;\n  var sum = val0 + val1;\n  // // PENDING: support more?\n  return maxPrecision > ROUND_SUPPORTED_PRECISION_MAX ? sum : round(sum, maxPrecision);\n}\n// Number.MAX_SAFE_INTEGER, ie do not support.\nexport var MAX_SAFE_INTEGER = 9007199254740991;\n/**\n * To 0 - 2 * PI, considering negative radian.\n */\nexport function remRadian(radian) {\n  var pi2 = Math.PI * 2;\n  return (radian % pi2 + pi2) % pi2;\n}\n/**\n * @param {type} radian\n * @return {boolean}\n */\nexport function isRadianAroundZero(val) {\n  return val > -RADIAN_EPSILON && val < RADIAN_EPSILON;\n}\n// eslint-disable-next-line\nvar TIME_REG = /^(?:(\\d{4})(?:[-\\/](\\d{1,2})(?:[-\\/](\\d{1,2})(?:[T ](\\d{1,2})(?::(\\d{1,2})(?::(\\d{1,2})(?:[.,](\\d+))?)?)?(Z|[\\+\\-]\\d\\d:?\\d\\d)?)?)?)?)?$/; // jshint ignore:line\n/**\n * @param value valid type: number | string | Date, otherwise return `new Date(NaN)`\n *   These values can be accepted:\n *   + An instance of Date, represent a time in its own time zone.\n *   + Or string in a subset of ISO 8601, only including:\n *     + only year, month, date: '2012-03', '2012-03-01', '2012-03-01 05', '2012-03-01 05:06',\n *     + separated with T or space: '2012-03-01T12:22:33.123', '2012-03-01 12:22:33.123',\n *     + time zone: '2012-03-01T12:22:33Z', '2012-03-01T12:22:33+8000', '2012-03-01T12:22:33-05:00',\n *     all of which will be treated as local time if time zone is not specified\n *     (see <https://momentjs.com/>).\n *   + Or other string format, including (all of which will be treated as local time):\n *     '2012', '2012-3-1', '2012/3/1', '2012/03/01',\n *     '2009/6/12 2:00', '2009/6/12 2:05:08', '2009/6/12 2:05:08.123'\n *   + a timestamp, which represent a time in UTC.\n * @return date Never be null/undefined. If invalid, return `new Date(NaN)`.\n */\nexport function parseDate(value) {\n  if (value instanceof Date) {\n    return value;\n  } else if (zrUtil.isString(value)) {\n    // Different browsers parse date in different way, so we parse it manually.\n    // Some other issues:\n    // new Date('1970-01-01') is UTC,\n    // new Date('1970/01/01') and new Date('1970-1-01') is local.\n    // See issue #3623\n    var match = TIME_REG.exec(value);\n    if (!match) {\n      // return Invalid Date.\n      return new Date(NaN);\n    }\n    // Use local time when no timezone offset is specified.\n    if (!match[8]) {\n      // match[n] can only be string or undefined.\n      // But take care of '12' + 1 => '121'.\n      return new Date(+match[1], +(match[2] || 1) - 1, +match[3] || 1, +match[4] || 0, +(match[5] || 0), +match[6] || 0, match[7] ? +match[7].substring(0, 3) : 0);\n    }\n    // Timezoneoffset of Javascript Date has considered DST (Daylight Saving Time,\n    // https://tc39.github.io/ecma262/#sec-daylight-saving-time-adjustment).\n    // For example, system timezone is set as \"Time Zone: America/Toronto\",\n    // then these code will get different result:\n    // `new Date(1478411999999).getTimezoneOffset();  // get 240`\n    // `new Date(1478412000000).getTimezoneOffset();  // get 300`\n    // So we should not use `new Date`, but use `Date.UTC`.\n    else {\n      var hour = +match[4] || 0;\n      if (match[8].toUpperCase() !== 'Z') {\n        hour -= +match[8].slice(0, 3);\n      }\n      return new Date(Date.UTC(+match[1], +(match[2] || 1) - 1, +match[3] || 1, hour, +(match[5] || 0), +match[6] || 0, match[7] ? +match[7].substring(0, 3) : 0));\n    }\n  } else if (value == null) {\n    return new Date(NaN);\n  }\n  return new Date(Math.round(value));\n}\n/**\n * Quantity of a number. e.g. 0.1, 1, 10, 100\n *\n * @param val\n * @return\n */\nexport function quantity(val) {\n  return Math.pow(10, quantityExponent(val));\n}\n/**\n * Exponent of the quantity of a number\n * e.g., 1234 equals to 1.234*10^3, so quantityExponent(1234) is 3\n *\n * @param val non-negative value\n * @return\n */\nexport function quantityExponent(val) {\n  if (val === 0) {\n    return 0;\n  }\n  var exp = Math.floor(Math.log(val) / Math.LN10);\n  /**\n   * exp is expected to be the rounded-down result of the base-10 log of val.\n   * But due to the precision loss with Math.log(val), we need to restore it\n   * using 10^exp to make sure we can get val back from exp. #11249\n   */\n  if (val / Math.pow(10, exp) >= 10) {\n    exp++;\n  }\n  return exp;\n}\n/**\n * find a nice number approximately equal to x. Round the number if round = true,\n * take ceiling if round = false. The primary observation is that the nicest\n * numbers in decimal are 1, 2, and 5, and all power-of-ten multiples of these numbers.\n *\n * See \"Nice Numbers for Graph Labels\" of Graphic Gems.\n *\n * @param  val Non-negative value.\n * @param  round\n * @return Niced number\n */\nexport function nice(val, round) {\n  var exponent = quantityExponent(val);\n  var exp10 = Math.pow(10, exponent);\n  var f = val / exp10; // 1 <= f < 10\n  var nf;\n  if (round) {\n    if (f < 1.5) {\n      nf = 1;\n    } else if (f < 2.5) {\n      nf = 2;\n    } else if (f < 4) {\n      nf = 3;\n    } else if (f < 7) {\n      nf = 5;\n    } else {\n      nf = 10;\n    }\n  } else {\n    if (f < 1) {\n      nf = 1;\n    } else if (f < 2) {\n      nf = 2;\n    } else if (f < 3) {\n      nf = 3;\n    } else if (f < 5) {\n      nf = 5;\n    } else {\n      nf = 10;\n    }\n  }\n  val = nf * exp10;\n  // Fix 3 * 0.1 === 0.30000000000000004 issue (see IEEE 754).\n  // 20 is the uppper bound of toFixed.\n  return exponent >= -20 ? +val.toFixed(exponent < 0 ? -exponent : 0) : val;\n}\n/**\n * This code was copied from \"d3.js\"\n * <https://github.com/d3/d3/blob/9cc9a875e636a1dcf36cc1e07bdf77e1ad6e2c74/src/arrays/quantile.js>.\n * See the license statement at the head of this file.\n * @param ascArr\n */\nexport function quantile(ascArr, p) {\n  var H = (ascArr.length - 1) * p + 1;\n  var h = Math.floor(H);\n  var v = +ascArr[h - 1];\n  var e = H - h;\n  return e ? v + e * (ascArr[h] - v) : v;\n}\n/**\n * Order intervals asc, and split them when overlap.\n * expect(numberUtil.reformIntervals([\n *     {interval: [18, 62], close: [1, 1]},\n *     {interval: [-Infinity, -70], close: [0, 0]},\n *     {interval: [-70, -26], close: [1, 1]},\n *     {interval: [-26, 18], close: [1, 1]},\n *     {interval: [62, 150], close: [1, 1]},\n *     {interval: [106, 150], close: [1, 1]},\n *     {interval: [150, Infinity], close: [0, 0]}\n * ])).toEqual([\n *     {interval: [-Infinity, -70], close: [0, 0]},\n *     {interval: [-70, -26], close: [1, 1]},\n *     {interval: [-26, 18], close: [0, 1]},\n *     {interval: [18, 62], close: [0, 1]},\n *     {interval: [62, 150], close: [0, 1]},\n *     {interval: [150, Infinity], close: [0, 0]}\n * ]);\n * @param list, where `close` mean open or close\n *        of the interval, and Infinity can be used.\n * @return The origin list, which has been reformed.\n */\nexport function reformIntervals(list) {\n  list.sort(function (a, b) {\n    return littleThan(a, b, 0) ? -1 : 1;\n  });\n  var curr = -Infinity;\n  var currClose = 1;\n  for (var i = 0; i < list.length;) {\n    var interval = list[i].interval;\n    var close_1 = list[i].close;\n    for (var lg = 0; lg < 2; lg++) {\n      if (interval[lg] <= curr) {\n        interval[lg] = curr;\n        close_1[lg] = !lg ? 1 - currClose : 1;\n      }\n      curr = interval[lg];\n      currClose = close_1[lg];\n    }\n    if (interval[0] === interval[1] && close_1[0] * close_1[1] !== 1) {\n      list.splice(i, 1);\n    } else {\n      i++;\n    }\n  }\n  return list;\n  function littleThan(a, b, lg) {\n    return a.interval[lg] < b.interval[lg] || a.interval[lg] === b.interval[lg] && (a.close[lg] - b.close[lg] === (!lg ? 1 : -1) || !lg && littleThan(a, b, 1));\n  }\n}\n/**\n * [Numeric is defined as]:\n *     `parseFloat(val) == val`\n * For example:\n * numeric:\n *     typeof number except NaN, '-123', '123', '2e3', '-2e3', '011', 'Infinity', Infinity,\n *     and they rounded by white-spaces or line-terminal like ' -123 \\n ' (see es spec)\n * not-numeric:\n *     null, undefined, [], {}, true, false, 'NaN', NaN, '123ab',\n *     empty string, string with only white-spaces or line-terminal (see es spec),\n *     0x12, '0x12', '-0x12', 012, '012', '-012',\n *     non-string, ...\n *\n * @test See full test cases in `test/ut/spec/util/number.js`.\n * @return Must be a typeof number. If not numeric, return NaN.\n */\nexport function numericToNumber(val) {\n  var valFloat = parseFloat(val);\n  return valFloat == val // eslint-disable-line eqeqeq\n  && (valFloat !== 0 || !zrUtil.isString(val) || val.indexOf('x') <= 0) // For case ' 0x0 '.\n  ? valFloat : NaN;\n}\n/**\n * Definition of \"numeric\": see `numericToNumber`.\n */\nexport function isNumeric(val) {\n  return !isNaN(numericToNumber(val));\n}\n/**\n * Use random base to prevent users hard code depending on\n * this auto generated marker id.\n * @return An positive integer.\n */\nexport function getRandomIdBase() {\n  return Math.round(Math.random() * 9);\n}\n/**\n * Get the greatest common divisor.\n *\n * @param {number} a one number\n * @param {number} b the other number\n */\nexport function getGreatestCommonDividor(a, b) {\n  if (b === 0) {\n    return a;\n  }\n  return getGreatestCommonDividor(b, a % b);\n}\n/**\n * Get the least common multiple.\n *\n * @param {number} a one number\n * @param {number} b the other number\n */\nexport function getLeastCommonMultiple(a, b) {\n  if (a == null) {\n    return b;\n  }\n  if (b == null) {\n    return a;\n  }\n  return a * b / getGreatestCommonDividor(a, b);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { Path } from '../graphic.js';\n/**\n * Sausage: similar to sector, but have half circle on both sides\n */\nvar SausageShape = /** @class */function () {\n  function SausageShape() {\n    this.cx = 0;\n    this.cy = 0;\n    this.r0 = 0;\n    this.r = 0;\n    this.startAngle = 0;\n    this.endAngle = Math.PI * 2;\n    this.clockwise = true;\n  }\n  return SausageShape;\n}();\nvar SausagePath = /** @class */function (_super) {\n  __extends(SausagePath, _super);\n  function SausagePath(opts) {\n    var _this = _super.call(this, opts) || this;\n    _this.type = 'sausage';\n    return _this;\n  }\n  SausagePath.prototype.getDefaultShape = function () {\n    return new SausageShape();\n  };\n  SausagePath.prototype.buildPath = function (ctx, shape) {\n    var cx = shape.cx;\n    var cy = shape.cy;\n    var r0 = Math.max(shape.r0 || 0, 0);\n    var r = Math.max(shape.r, 0);\n    var dr = (r - r0) * 0.5;\n    var rCenter = r0 + dr;\n    var startAngle = shape.startAngle;\n    var endAngle = shape.endAngle;\n    var clockwise = shape.clockwise;\n    var PI2 = Math.PI * 2;\n    var lessThanCircle = clockwise ? endAngle - startAngle < PI2 : startAngle - endAngle < PI2;\n    if (!lessThanCircle) {\n      // Normalize angles\n      startAngle = endAngle - (clockwise ? PI2 : -PI2);\n    }\n    var unitStartX = Math.cos(startAngle);\n    var unitStartY = Math.sin(startAngle);\n    var unitEndX = Math.cos(endAngle);\n    var unitEndY = Math.sin(endAngle);\n    if (lessThanCircle) {\n      ctx.moveTo(unitStartX * r0 + cx, unitStartY * r0 + cy);\n      ctx.arc(unitStartX * rCenter + cx, unitStartY * rCenter + cy, dr, -Math.PI + startAngle, startAngle, !clockwise);\n    } else {\n      ctx.moveTo(unitStartX * r + cx, unitStartY * r + cy);\n    }\n    ctx.arc(cx, cy, r, startAngle, endAngle, !clockwise);\n    ctx.arc(unitEndX * rCenter + cx, unitEndY * rCenter + cy, dr, endAngle - Math.PI * 2, endAngle - Math.PI, !clockwise);\n    if (r0 !== 0) {\n      ctx.arc(cx, cy, r0, endAngle, startAngle, clockwise);\n    }\n    // ctx.closePath();\n  };\n\n  return SausagePath;\n}(Path);\nexport default SausagePath;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { extend, indexOf, isArrayLike, isObject, keys, isArray, each } from 'zrender/lib/core/util.js';\nimport { getECData } from './innerStore.js';\nimport { liftColor } from 'zrender/lib/tool/color.js';\nimport { queryDataIndex, makeInner } from './model.js';\nimport Path from 'zrender/lib/graphic/Path.js';\nimport { error } from './log.js';\n// Reserve 0 as default.\nvar _highlightNextDigit = 1;\nvar _highlightKeyMap = {};\nvar getSavedStates = makeInner();\nvar getComponentStates = makeInner();\nexport var HOVER_STATE_NORMAL = 0;\nexport var HOVER_STATE_BLUR = 1;\nexport var HOVER_STATE_EMPHASIS = 2;\nexport var SPECIAL_STATES = ['emphasis', 'blur', 'select'];\nexport var DISPLAY_STATES = ['normal', 'emphasis', 'blur', 'select'];\nexport var Z2_EMPHASIS_LIFT = 10;\nexport var Z2_SELECT_LIFT = 9;\nexport var HIGHLIGHT_ACTION_TYPE = 'highlight';\nexport var DOWNPLAY_ACTION_TYPE = 'downplay';\nexport var SELECT_ACTION_TYPE = 'select';\nexport var UNSELECT_ACTION_TYPE = 'unselect';\nexport var TOGGLE_SELECT_ACTION_TYPE = 'toggleSelect';\nfunction hasFillOrStroke(fillOrStroke) {\n  return fillOrStroke != null && fillOrStroke !== 'none';\n}\nfunction doChangeHoverState(el, stateName, hoverStateEnum) {\n  if (el.onHoverStateChange && (el.hoverState || 0) !== hoverStateEnum) {\n    el.onHoverStateChange(stateName);\n  }\n  el.hoverState = hoverStateEnum;\n}\nfunction singleEnterEmphasis(el) {\n  // Only mark the flag.\n  // States will be applied in the echarts.ts in next frame.\n  doChangeHoverState(el, 'emphasis', HOVER_STATE_EMPHASIS);\n}\nfunction singleLeaveEmphasis(el) {\n  // Only mark the flag.\n  // States will be applied in the echarts.ts in next frame.\n  if (el.hoverState === HOVER_STATE_EMPHASIS) {\n    doChangeHoverState(el, 'normal', HOVER_STATE_NORMAL);\n  }\n}\nfunction singleEnterBlur(el) {\n  doChangeHoverState(el, 'blur', HOVER_STATE_BLUR);\n}\nfunction singleLeaveBlur(el) {\n  if (el.hoverState === HOVER_STATE_BLUR) {\n    doChangeHoverState(el, 'normal', HOVER_STATE_NORMAL);\n  }\n}\nfunction singleEnterSelect(el) {\n  el.selected = true;\n}\nfunction singleLeaveSelect(el) {\n  el.selected = false;\n}\nfunction updateElementState(el, updater, commonParam) {\n  updater(el, commonParam);\n}\nfunction traverseUpdateState(el, updater, commonParam) {\n  updateElementState(el, updater, commonParam);\n  el.isGroup && el.traverse(function (child) {\n    updateElementState(child, updater, commonParam);\n  });\n}\nexport function setStatesFlag(el, stateName) {\n  switch (stateName) {\n    case 'emphasis':\n      el.hoverState = HOVER_STATE_EMPHASIS;\n      break;\n    case 'normal':\n      el.hoverState = HOVER_STATE_NORMAL;\n      break;\n    case 'blur':\n      el.hoverState = HOVER_STATE_BLUR;\n      break;\n    case 'select':\n      el.selected = true;\n  }\n}\n/**\n * If we reuse elements when rerender.\n * DON'T forget to clearStates before we update the style and shape.\n * Or we may update on the wrong state instead of normal state.\n */\nexport function clearStates(el) {\n  if (el.isGroup) {\n    el.traverse(function (child) {\n      child.clearStates();\n    });\n  } else {\n    el.clearStates();\n  }\n}\nfunction getFromStateStyle(el, props, toStateName, defaultValue) {\n  var style = el.style;\n  var fromState = {};\n  for (var i = 0; i < props.length; i++) {\n    var propName = props[i];\n    var val = style[propName];\n    fromState[propName] = val == null ? defaultValue && defaultValue[propName] : val;\n  }\n  for (var i = 0; i < el.animators.length; i++) {\n    var animator = el.animators[i];\n    if (animator.__fromStateTransition\n    // Don't consider the animation to emphasis state.\n    && animator.__fromStateTransition.indexOf(toStateName) < 0 && animator.targetName === 'style') {\n      animator.saveTo(fromState, props);\n    }\n  }\n  return fromState;\n}\nfunction createEmphasisDefaultState(el, stateName, targetStates, state) {\n  var hasSelect = targetStates && indexOf(targetStates, 'select') >= 0;\n  var cloned = false;\n  if (el instanceof Path) {\n    var store = getSavedStates(el);\n    var fromFill = hasSelect ? store.selectFill || store.normalFill : store.normalFill;\n    var fromStroke = hasSelect ? store.selectStroke || store.normalStroke : store.normalStroke;\n    if (hasFillOrStroke(fromFill) || hasFillOrStroke(fromStroke)) {\n      state = state || {};\n      var emphasisStyle = state.style || {};\n      // inherit case\n      if (emphasisStyle.fill === 'inherit') {\n        cloned = true;\n        state = extend({}, state);\n        emphasisStyle = extend({}, emphasisStyle);\n        emphasisStyle.fill = fromFill;\n      }\n      // Apply default color lift\n      else if (!hasFillOrStroke(emphasisStyle.fill) && hasFillOrStroke(fromFill)) {\n        cloned = true;\n        // Not modify the original value.\n        state = extend({}, state);\n        emphasisStyle = extend({}, emphasisStyle);\n        // Already being applied 'emphasis'. DON'T lift color multiple times.\n        emphasisStyle.fill = liftColor(fromFill);\n      }\n      // Not highlight stroke if fill has been highlighted.\n      else if (!hasFillOrStroke(emphasisStyle.stroke) && hasFillOrStroke(fromStroke)) {\n        if (!cloned) {\n          state = extend({}, state);\n          emphasisStyle = extend({}, emphasisStyle);\n        }\n        emphasisStyle.stroke = liftColor(fromStroke);\n      }\n      state.style = emphasisStyle;\n    }\n  }\n  if (state) {\n    // TODO Share with textContent?\n    if (state.z2 == null) {\n      if (!cloned) {\n        state = extend({}, state);\n      }\n      var z2EmphasisLift = el.z2EmphasisLift;\n      state.z2 = el.z2 + (z2EmphasisLift != null ? z2EmphasisLift : Z2_EMPHASIS_LIFT);\n    }\n  }\n  return state;\n}\nfunction createSelectDefaultState(el, stateName, state) {\n  // const hasSelect = indexOf(el.currentStates, stateName) >= 0;\n  if (state) {\n    // TODO Share with textContent?\n    if (state.z2 == null) {\n      state = extend({}, state);\n      var z2SelectLift = el.z2SelectLift;\n      state.z2 = el.z2 + (z2SelectLift != null ? z2SelectLift : Z2_SELECT_LIFT);\n    }\n  }\n  return state;\n}\nfunction createBlurDefaultState(el, stateName, state) {\n  var hasBlur = indexOf(el.currentStates, stateName) >= 0;\n  var currentOpacity = el.style.opacity;\n  var fromState = !hasBlur ? getFromStateStyle(el, ['opacity'], stateName, {\n    opacity: 1\n  }) : null;\n  state = state || {};\n  var blurStyle = state.style || {};\n  if (blurStyle.opacity == null) {\n    // clone state\n    state = extend({}, state);\n    blurStyle = extend({\n      // Already being applied 'emphasis'. DON'T mul opacity multiple times.\n      opacity: hasBlur ? currentOpacity : fromState.opacity * 0.1\n    }, blurStyle);\n    state.style = blurStyle;\n  }\n  return state;\n}\nfunction elementStateProxy(stateName, targetStates) {\n  var state = this.states[stateName];\n  if (this.style) {\n    if (stateName === 'emphasis') {\n      return createEmphasisDefaultState(this, stateName, targetStates, state);\n    } else if (stateName === 'blur') {\n      return createBlurDefaultState(this, stateName, state);\n    } else if (stateName === 'select') {\n      return createSelectDefaultState(this, stateName, state);\n    }\n  }\n  return state;\n}\n/**\n * Set hover style (namely \"emphasis style\") of element.\n * @param el Should not be `zrender/graphic/Group`.\n * @param focus 'self' | 'selfInSeries' | 'series'\n */\nexport function setDefaultStateProxy(el) {\n  el.stateProxy = elementStateProxy;\n  var textContent = el.getTextContent();\n  var textGuide = el.getTextGuideLine();\n  if (textContent) {\n    textContent.stateProxy = elementStateProxy;\n  }\n  if (textGuide) {\n    textGuide.stateProxy = elementStateProxy;\n  }\n}\nexport function enterEmphasisWhenMouseOver(el, e) {\n  !shouldSilent(el, e)\n  // \"emphasis\" event highlight has higher priority than mouse highlight.\n  && !el.__highByOuter && traverseUpdateState(el, singleEnterEmphasis);\n}\nexport function leaveEmphasisWhenMouseOut(el, e) {\n  !shouldSilent(el, e)\n  // \"emphasis\" event highlight has higher priority than mouse highlight.\n  && !el.__highByOuter && traverseUpdateState(el, singleLeaveEmphasis);\n}\nexport function enterEmphasis(el, highlightDigit) {\n  el.__highByOuter |= 1 << (highlightDigit || 0);\n  traverseUpdateState(el, singleEnterEmphasis);\n}\nexport function leaveEmphasis(el, highlightDigit) {\n  !(el.__highByOuter &= ~(1 << (highlightDigit || 0))) && traverseUpdateState(el, singleLeaveEmphasis);\n}\nexport function enterBlur(el) {\n  traverseUpdateState(el, singleEnterBlur);\n}\nexport function leaveBlur(el) {\n  traverseUpdateState(el, singleLeaveBlur);\n}\nexport function enterSelect(el) {\n  traverseUpdateState(el, singleEnterSelect);\n}\nexport function leaveSelect(el) {\n  traverseUpdateState(el, singleLeaveSelect);\n}\nfunction shouldSilent(el, e) {\n  return el.__highDownSilentOnTouch && e.zrByTouch;\n}\nexport function allLeaveBlur(api) {\n  var model = api.getModel();\n  var leaveBlurredSeries = [];\n  var allComponentViews = [];\n  model.eachComponent(function (componentType, componentModel) {\n    var componentStates = getComponentStates(componentModel);\n    var isSeries = componentType === 'series';\n    var view = isSeries ? api.getViewOfSeriesModel(componentModel) : api.getViewOfComponentModel(componentModel);\n    !isSeries && allComponentViews.push(view);\n    if (componentStates.isBlured) {\n      // Leave blur anyway\n      view.group.traverse(function (child) {\n        singleLeaveBlur(child);\n      });\n      isSeries && leaveBlurredSeries.push(componentModel);\n    }\n    componentStates.isBlured = false;\n  });\n  each(allComponentViews, function (view) {\n    if (view && view.toggleBlurSeries) {\n      view.toggleBlurSeries(leaveBlurredSeries, false, model);\n    }\n  });\n}\nexport function blurSeries(targetSeriesIndex, focus, blurScope, api) {\n  var ecModel = api.getModel();\n  blurScope = blurScope || 'coordinateSystem';\n  function leaveBlurOfIndices(data, dataIndices) {\n    for (var i = 0; i < dataIndices.length; i++) {\n      var itemEl = data.getItemGraphicEl(dataIndices[i]);\n      itemEl && leaveBlur(itemEl);\n    }\n  }\n  if (targetSeriesIndex == null) {\n    return;\n  }\n  if (!focus || focus === 'none') {\n    return;\n  }\n  var targetSeriesModel = ecModel.getSeriesByIndex(targetSeriesIndex);\n  var targetCoordSys = targetSeriesModel.coordinateSystem;\n  if (targetCoordSys && targetCoordSys.master) {\n    targetCoordSys = targetCoordSys.master;\n  }\n  var blurredSeries = [];\n  ecModel.eachSeries(function (seriesModel) {\n    var sameSeries = targetSeriesModel === seriesModel;\n    var coordSys = seriesModel.coordinateSystem;\n    if (coordSys && coordSys.master) {\n      coordSys = coordSys.master;\n    }\n    var sameCoordSys = coordSys && targetCoordSys ? coordSys === targetCoordSys : sameSeries; // If there is no coordinate system. use sameSeries instead.\n    if (!(\n    // Not blur other series if blurScope series\n    blurScope === 'series' && !sameSeries\n    // Not blur other coordinate system if blurScope is coordinateSystem\n    || blurScope === 'coordinateSystem' && !sameCoordSys\n    // Not blur self series if focus is series.\n    || focus === 'series' && sameSeries\n    // TODO blurScope: coordinate system\n    )) {\n      var view = api.getViewOfSeriesModel(seriesModel);\n      view.group.traverse(function (child) {\n        // For the elements that have been triggered by other components,\n        // and are still required to be highlighted,\n        // because the current is directly forced to blur the element,\n        // it will cause the focus self to be unable to highlight, so skip the blur of this element.\n        if (child.__highByOuter && sameSeries && focus === 'self') {\n          return;\n        }\n        singleEnterBlur(child);\n      });\n      if (isArrayLike(focus)) {\n        leaveBlurOfIndices(seriesModel.getData(), focus);\n      } else if (isObject(focus)) {\n        var dataTypes = keys(focus);\n        for (var d = 0; d < dataTypes.length; d++) {\n          leaveBlurOfIndices(seriesModel.getData(dataTypes[d]), focus[dataTypes[d]]);\n        }\n      }\n      blurredSeries.push(seriesModel);\n      getComponentStates(seriesModel).isBlured = true;\n    }\n  });\n  ecModel.eachComponent(function (componentType, componentModel) {\n    if (componentType === 'series') {\n      return;\n    }\n    var view = api.getViewOfComponentModel(componentModel);\n    if (view && view.toggleBlurSeries) {\n      view.toggleBlurSeries(blurredSeries, true, ecModel);\n    }\n  });\n}\nexport function blurComponent(componentMainType, componentIndex, api) {\n  if (componentMainType == null || componentIndex == null) {\n    return;\n  }\n  var componentModel = api.getModel().getComponent(componentMainType, componentIndex);\n  if (!componentModel) {\n    return;\n  }\n  getComponentStates(componentModel).isBlured = true;\n  var view = api.getViewOfComponentModel(componentModel);\n  if (!view || !view.focusBlurEnabled) {\n    return;\n  }\n  view.group.traverse(function (child) {\n    singleEnterBlur(child);\n  });\n}\nexport function blurSeriesFromHighlightPayload(seriesModel, payload, api) {\n  var seriesIndex = seriesModel.seriesIndex;\n  var data = seriesModel.getData(payload.dataType);\n  if (!data) {\n    if (process.env.NODE_ENV !== 'production') {\n      error(\"Unknown dataType \" + payload.dataType);\n    }\n    return;\n  }\n  var dataIndex = queryDataIndex(data, payload);\n  // Pick the first one if there is multiple/none exists.\n  dataIndex = (isArray(dataIndex) ? dataIndex[0] : dataIndex) || 0;\n  var el = data.getItemGraphicEl(dataIndex);\n  if (!el) {\n    var count = data.count();\n    var current = 0;\n    // If data on dataIndex is NaN.\n    while (!el && current < count) {\n      el = data.getItemGraphicEl(current++);\n    }\n  }\n  if (el) {\n    var ecData = getECData(el);\n    blurSeries(seriesIndex, ecData.focus, ecData.blurScope, api);\n  } else {\n    // If there is no element put on the data. Try getting it from raw option\n    // TODO Should put it on seriesModel?\n    var focus_1 = seriesModel.get(['emphasis', 'focus']);\n    var blurScope = seriesModel.get(['emphasis', 'blurScope']);\n    if (focus_1 != null) {\n      blurSeries(seriesIndex, focus_1, blurScope, api);\n    }\n  }\n}\nexport function findComponentHighDownDispatchers(componentMainType, componentIndex, name, api) {\n  var ret = {\n    focusSelf: false,\n    dispatchers: null\n  };\n  if (componentMainType == null || componentMainType === 'series' || componentIndex == null || name == null) {\n    return ret;\n  }\n  var componentModel = api.getModel().getComponent(componentMainType, componentIndex);\n  if (!componentModel) {\n    return ret;\n  }\n  var view = api.getViewOfComponentModel(componentModel);\n  if (!view || !view.findHighDownDispatchers) {\n    return ret;\n  }\n  var dispatchers = view.findHighDownDispatchers(name);\n  // At presnet, the component (like Geo) only blur inside itself.\n  // So we do not use `blurScope` in component.\n  var focusSelf;\n  for (var i = 0; i < dispatchers.length; i++) {\n    if (process.env.NODE_ENV !== 'production' && !isHighDownDispatcher(dispatchers[i])) {\n      error('param should be highDownDispatcher');\n    }\n    if (getECData(dispatchers[i]).focus === 'self') {\n      focusSelf = true;\n      break;\n    }\n  }\n  return {\n    focusSelf: focusSelf,\n    dispatchers: dispatchers\n  };\n}\nexport function handleGlobalMouseOverForHighDown(dispatcher, e, api) {\n  if (process.env.NODE_ENV !== 'production' && !isHighDownDispatcher(dispatcher)) {\n    error('param should be highDownDispatcher');\n  }\n  var ecData = getECData(dispatcher);\n  var _a = findComponentHighDownDispatchers(ecData.componentMainType, ecData.componentIndex, ecData.componentHighDownName, api),\n    dispatchers = _a.dispatchers,\n    focusSelf = _a.focusSelf;\n  // If `findHighDownDispatchers` is supported on the component,\n  // highlight/downplay elements with the same name.\n  if (dispatchers) {\n    if (focusSelf) {\n      blurComponent(ecData.componentMainType, ecData.componentIndex, api);\n    }\n    each(dispatchers, function (dispatcher) {\n      return enterEmphasisWhenMouseOver(dispatcher, e);\n    });\n  } else {\n    // Try blur all in the related series. Then emphasis the hoverred.\n    // TODO. progressive mode.\n    blurSeries(ecData.seriesIndex, ecData.focus, ecData.blurScope, api);\n    if (ecData.focus === 'self') {\n      blurComponent(ecData.componentMainType, ecData.componentIndex, api);\n    }\n    // Other than series, component that not support `findHighDownDispatcher` will\n    // also use it. But in this case, highlight/downplay are only supported in\n    // mouse hover but not in dispatchAction.\n    enterEmphasisWhenMouseOver(dispatcher, e);\n  }\n}\nexport function handleGlobalMouseOutForHighDown(dispatcher, e, api) {\n  if (process.env.NODE_ENV !== 'production' && !isHighDownDispatcher(dispatcher)) {\n    error('param should be highDownDispatcher');\n  }\n  allLeaveBlur(api);\n  var ecData = getECData(dispatcher);\n  var dispatchers = findComponentHighDownDispatchers(ecData.componentMainType, ecData.componentIndex, ecData.componentHighDownName, api).dispatchers;\n  if (dispatchers) {\n    each(dispatchers, function (dispatcher) {\n      return leaveEmphasisWhenMouseOut(dispatcher, e);\n    });\n  } else {\n    leaveEmphasisWhenMouseOut(dispatcher, e);\n  }\n}\nexport function toggleSelectionFromPayload(seriesModel, payload, api) {\n  if (!isSelectChangePayload(payload)) {\n    return;\n  }\n  var dataType = payload.dataType;\n  var data = seriesModel.getData(dataType);\n  var dataIndex = queryDataIndex(data, payload);\n  if (!isArray(dataIndex)) {\n    dataIndex = [dataIndex];\n  }\n  seriesModel[payload.type === TOGGLE_SELECT_ACTION_TYPE ? 'toggleSelect' : payload.type === SELECT_ACTION_TYPE ? 'select' : 'unselect'](dataIndex, dataType);\n}\nexport function updateSeriesElementSelection(seriesModel) {\n  var allData = seriesModel.getAllData();\n  each(allData, function (_a) {\n    var data = _a.data,\n      type = _a.type;\n    data.eachItemGraphicEl(function (el, idx) {\n      seriesModel.isSelected(idx, type) ? enterSelect(el) : leaveSelect(el);\n    });\n  });\n}\nexport function getAllSelectedIndices(ecModel) {\n  var ret = [];\n  ecModel.eachSeries(function (seriesModel) {\n    var allData = seriesModel.getAllData();\n    each(allData, function (_a) {\n      var data = _a.data,\n        type = _a.type;\n      var dataIndices = seriesModel.getSelectedDataIndices();\n      if (dataIndices.length > 0) {\n        var item = {\n          dataIndex: dataIndices,\n          seriesIndex: seriesModel.seriesIndex\n        };\n        if (type != null) {\n          item.dataType = type;\n        }\n        ret.push(item);\n      }\n    });\n  });\n  return ret;\n}\n/**\n * Enable the function that mouseover will trigger the emphasis state.\n *\n * NOTE:\n * This function should be used on the element with dataIndex, seriesIndex.\n *\n */\nexport function enableHoverEmphasis(el, focus, blurScope) {\n  setAsHighDownDispatcher(el, true);\n  traverseUpdateState(el, setDefaultStateProxy);\n  enableHoverFocus(el, focus, blurScope);\n}\nexport function disableHoverEmphasis(el) {\n  setAsHighDownDispatcher(el, false);\n}\nexport function toggleHoverEmphasis(el, focus, blurScope, isDisabled) {\n  isDisabled ? disableHoverEmphasis(el) : enableHoverEmphasis(el, focus, blurScope);\n}\nexport function enableHoverFocus(el, focus, blurScope) {\n  var ecData = getECData(el);\n  if (focus != null) {\n    // TODO dataIndex may be set after this function. This check is not useful.\n    // if (ecData.dataIndex == null) {\n    //     if (__DEV__) {\n    //         console.warn('focus can only been set on element with dataIndex');\n    //     }\n    // }\n    // else {\n    ecData.focus = focus;\n    ecData.blurScope = blurScope;\n    // }\n  } else if (ecData.focus) {\n    ecData.focus = null;\n  }\n}\nvar OTHER_STATES = ['emphasis', 'blur', 'select'];\nvar defaultStyleGetterMap = {\n  itemStyle: 'getItemStyle',\n  lineStyle: 'getLineStyle',\n  areaStyle: 'getAreaStyle'\n};\n/**\n * Set emphasis/blur/selected states of element.\n */\nexport function setStatesStylesFromModel(el, itemModel, styleType,\n// default itemStyle\ngetter) {\n  styleType = styleType || 'itemStyle';\n  for (var i = 0; i < OTHER_STATES.length; i++) {\n    var stateName = OTHER_STATES[i];\n    var model = itemModel.getModel([stateName, styleType]);\n    var state = el.ensureState(stateName);\n    // Let it throw error if getterType is not found.\n    state.style = getter ? getter(model) : model[defaultStyleGetterMap[styleType]]();\n  }\n}\n/**\n *\n * Set element as highlight / downplay dispatcher.\n * It will be checked when element received mouseover event or from highlight action.\n * It's in change of all highlight/downplay behavior of it's children.\n *\n * @param el\n * @param el.highDownSilentOnTouch\n *        In touch device, mouseover event will be trigger on touchstart event\n *        (see module:zrender/dom/HandlerProxy). By this mechanism, we can\n *        conveniently use hoverStyle when tap on touch screen without additional\n *        code for compatibility.\n *        But if the chart/component has select feature, which usually also use\n *        hoverStyle, there might be conflict between 'select-highlight' and\n *        'hover-highlight' especially when roam is enabled (see geo for example).\n *        In this case, `highDownSilentOnTouch` should be used to disable\n *        hover-highlight on touch device.\n * @param asDispatcher If `false`, do not set as \"highDownDispatcher\".\n */\nexport function setAsHighDownDispatcher(el, asDispatcher) {\n  var disable = asDispatcher === false;\n  var extendedEl = el;\n  // Make `highDownSilentOnTouch` and `onStateChange` only work after\n  // `setAsHighDownDispatcher` called. Avoid it is modified by user unexpectedly.\n  if (el.highDownSilentOnTouch) {\n    extendedEl.__highDownSilentOnTouch = el.highDownSilentOnTouch;\n  }\n  // Simple optimize, since this method might be\n  // called for each elements of a group in some cases.\n  if (!disable || extendedEl.__highDownDispatcher) {\n    // Emphasis, normal can be triggered manually by API or other components like hover link.\n    // el[method]('emphasis', onElementEmphasisEvent)[method]('normal', onElementNormalEvent);\n    // Also keep previous record.\n    extendedEl.__highByOuter = extendedEl.__highByOuter || 0;\n    extendedEl.__highDownDispatcher = !disable;\n  }\n}\nexport function isHighDownDispatcher(el) {\n  return !!(el && el.__highDownDispatcher);\n}\n/**\n * Enable component highlight/downplay features:\n * + hover link (within the same name)\n * + focus blur in component\n */\nexport function enableComponentHighDownFeatures(el, componentModel, componentHighDownName) {\n  var ecData = getECData(el);\n  ecData.componentMainType = componentModel.mainType;\n  ecData.componentIndex = componentModel.componentIndex;\n  ecData.componentHighDownName = componentHighDownName;\n}\n/**\n * Support highlight/downplay record on each elements.\n * For the case: hover highlight/downplay (legend, visualMap, ...) and\n * user triggered highlight/downplay should not conflict.\n * Only all of the highlightDigit cleared, return to normal.\n * @param {string} highlightKey\n * @return {number} highlightDigit\n */\nexport function getHighlightDigit(highlightKey) {\n  var highlightDigit = _highlightKeyMap[highlightKey];\n  if (highlightDigit == null && _highlightNextDigit <= 32) {\n    highlightDigit = _highlightKeyMap[highlightKey] = _highlightNextDigit++;\n  }\n  return highlightDigit;\n}\nexport function isSelectChangePayload(payload) {\n  var payloadType = payload.type;\n  return payloadType === SELECT_ACTION_TYPE || payloadType === UNSELECT_ACTION_TYPE || payloadType === TOGGLE_SELECT_ACTION_TYPE;\n}\nexport function isHighDownPayload(payload) {\n  var payloadType = payload.type;\n  return payloadType === HIGHLIGHT_ACTION_TYPE || payloadType === DOWNPLAY_ACTION_TYPE;\n}\nexport function savePathStates(el) {\n  var store = getSavedStates(el);\n  store.normalFill = el.style.fill;\n  store.normalStroke = el.style.stroke;\n  var selectState = el.states.select || {};\n  store.selectFill = selectState.style && selectState.style.fill || null;\n  store.selectStroke = selectState.style && selectState.style.stroke || null;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, hasOwn } from 'zrender/lib/core/util.js';\nvar deprecatedLogs = {};\n/**\n * Whether need to call `convertEC4CompatibleStyle`.\n */\nexport function isEC4CompatibleStyle(style, elType, hasOwnTextContentOption, hasOwnTextConfig) {\n  // Since echarts5, `RectText` is separated from its host element and style.text\n  // does not exist any more. The compat work brings some extra burden on performance.\n  // So we provide:\n  // `legacy: true` force make compat.\n  // `legacy: false`, force do not compat.\n  // `legacy` not set: auto detect whether legacy.\n  //     But in this case we do not compat (difficult to detect and rare case):\n  //     Becuse custom series and graphic component support \"merge\", users may firstly\n  //     only set `textStrokeWidth` style or secondly only set `text`.\n  return style && (style.legacy || style.legacy !== false && !hasOwnTextContentOption && !hasOwnTextConfig && elType !== 'tspan'\n  // Difficult to detect whether legacy for a \"text\" el.\n  && (elType === 'text' || hasOwn(style, 'text')));\n}\n/**\n * `EC4CompatibleStyle` is style that might be in echarts4 format or echarts5 format.\n * @param hostStyle The properties might be modified.\n * @return If be text el, `textContentStyle` and `textConfig` will not be returned.\n *         Otherwise a `textContentStyle` and `textConfig` will be created, whose props area\n *         retried from the `hostStyle`.\n */\nexport function convertFromEC4CompatibleStyle(hostStyle, elType, isNormal) {\n  var srcStyle = hostStyle;\n  var textConfig;\n  var textContent;\n  var textContentStyle;\n  if (elType === 'text') {\n    textContentStyle = srcStyle;\n  } else {\n    textContentStyle = {};\n    hasOwn(srcStyle, 'text') && (textContentStyle.text = srcStyle.text);\n    hasOwn(srcStyle, 'rich') && (textContentStyle.rich = srcStyle.rich);\n    hasOwn(srcStyle, 'textFill') && (textContentStyle.fill = srcStyle.textFill);\n    hasOwn(srcStyle, 'textStroke') && (textContentStyle.stroke = srcStyle.textStroke);\n    hasOwn(srcStyle, 'fontFamily') && (textContentStyle.fontFamily = srcStyle.fontFamily);\n    hasOwn(srcStyle, 'fontSize') && (textContentStyle.fontSize = srcStyle.fontSize);\n    hasOwn(srcStyle, 'fontStyle') && (textContentStyle.fontStyle = srcStyle.fontStyle);\n    hasOwn(srcStyle, 'fontWeight') && (textContentStyle.fontWeight = srcStyle.fontWeight);\n    textContent = {\n      type: 'text',\n      style: textContentStyle,\n      // ec4 does not support rectText trigger.\n      // And when text position is different in normal and emphasis\n      // => hover text trigger emphasis;\n      // => text position changed, leave mouse pointer immediately;\n      // That might cause incorrect state.\n      silent: true\n    };\n    textConfig = {};\n    var hasOwnPos = hasOwn(srcStyle, 'textPosition');\n    if (isNormal) {\n      textConfig.position = hasOwnPos ? srcStyle.textPosition : 'inside';\n    } else {\n      hasOwnPos && (textConfig.position = srcStyle.textPosition);\n    }\n    hasOwn(srcStyle, 'textPosition') && (textConfig.position = srcStyle.textPosition);\n    hasOwn(srcStyle, 'textOffset') && (textConfig.offset = srcStyle.textOffset);\n    hasOwn(srcStyle, 'textRotation') && (textConfig.rotation = srcStyle.textRotation);\n    hasOwn(srcStyle, 'textDistance') && (textConfig.distance = srcStyle.textDistance);\n  }\n  convertEC4CompatibleRichItem(textContentStyle, hostStyle);\n  each(textContentStyle.rich, function (richItem) {\n    convertEC4CompatibleRichItem(richItem, richItem);\n  });\n  return {\n    textConfig: textConfig,\n    textContent: textContent\n  };\n}\n/**\n * The result will be set to `out`.\n */\nfunction convertEC4CompatibleRichItem(out, richItem) {\n  if (!richItem) {\n    return;\n  }\n  // (1) For simplicity, make textXXX properties (deprecated since ec5) has\n  // higher priority. For example, consider in ec4 `borderColor: 5, textBorderColor: 10`\n  // on a rect means `borderColor: 4` on the rect and `borderColor: 10` on an attached\n  // richText in ec5.\n  // (2) `out === richItem` if and only if `out` is text el or rich item.\n  // So we can overwrite existing props in `out` since textXXX has higher priority.\n  richItem.font = richItem.textFont || richItem.font;\n  hasOwn(richItem, 'textStrokeWidth') && (out.lineWidth = richItem.textStrokeWidth);\n  hasOwn(richItem, 'textAlign') && (out.align = richItem.textAlign);\n  hasOwn(richItem, 'textVerticalAlign') && (out.verticalAlign = richItem.textVerticalAlign);\n  hasOwn(richItem, 'textLineHeight') && (out.lineHeight = richItem.textLineHeight);\n  hasOwn(richItem, 'textWidth') && (out.width = richItem.textWidth);\n  hasOwn(richItem, 'textHeight') && (out.height = richItem.textHeight);\n  hasOwn(richItem, 'textBackgroundColor') && (out.backgroundColor = richItem.textBackgroundColor);\n  hasOwn(richItem, 'textPadding') && (out.padding = richItem.textPadding);\n  hasOwn(richItem, 'textBorderColor') && (out.borderColor = richItem.textBorderColor);\n  hasOwn(richItem, 'textBorderWidth') && (out.borderWidth = richItem.textBorderWidth);\n  hasOwn(richItem, 'textBorderRadius') && (out.borderRadius = richItem.textBorderRadius);\n  hasOwn(richItem, 'textBoxShadowColor') && (out.shadowColor = richItem.textBoxShadowColor);\n  hasOwn(richItem, 'textBoxShadowBlur') && (out.shadowBlur = richItem.textBoxShadowBlur);\n  hasOwn(richItem, 'textBoxShadowOffsetX') && (out.shadowOffsetX = richItem.textBoxShadowOffsetX);\n  hasOwn(richItem, 'textBoxShadowOffsetY') && (out.shadowOffsetY = richItem.textBoxShadowOffsetY);\n}\n/**\n * Convert to pure echarts4 format style.\n * `itemStyle` will be modified, added with ec4 style properties from\n * `textStyle` and `textConfig`.\n *\n * [Caveat]: For simplicity, `insideRollback` in ec4 does not compat, where\n * `styleEmphasis: {textFill: 'red'}` will remove the normal auto added stroke.\n */\nexport function convertToEC4StyleForCustomSerise(itemStl, txStl, txCfg) {\n  var out = itemStl;\n  // See `custom.ts`, a trick to set extra `textPosition` firstly.\n  out.textPosition = out.textPosition || txCfg.position || 'inside';\n  txCfg.offset != null && (out.textOffset = txCfg.offset);\n  txCfg.rotation != null && (out.textRotation = txCfg.rotation);\n  txCfg.distance != null && (out.textDistance = txCfg.distance);\n  var isInside = out.textPosition.indexOf('inside') >= 0;\n  var hostFill = itemStl.fill || '#000';\n  convertToEC4RichItem(out, txStl);\n  var textFillNotSet = out.textFill == null;\n  if (isInside) {\n    if (textFillNotSet) {\n      out.textFill = txCfg.insideFill || '#fff';\n      !out.textStroke && txCfg.insideStroke && (out.textStroke = txCfg.insideStroke);\n      !out.textStroke && (out.textStroke = hostFill);\n      out.textStrokeWidth == null && (out.textStrokeWidth = 2);\n    }\n  } else {\n    if (textFillNotSet) {\n      out.textFill = itemStl.fill || txCfg.outsideFill || '#000';\n    }\n    !out.textStroke && txCfg.outsideStroke && (out.textStroke = txCfg.outsideStroke);\n  }\n  out.text = txStl.text;\n  out.rich = txStl.rich;\n  each(txStl.rich, function (richItem) {\n    convertToEC4RichItem(richItem, richItem);\n  });\n  return out;\n}\nfunction convertToEC4RichItem(out, richItem) {\n  if (!richItem) {\n    return;\n  }\n  hasOwn(richItem, 'fill') && (out.textFill = richItem.fill);\n  hasOwn(richItem, 'stroke') && (out.textStroke = richItem.fill);\n  hasOwn(richItem, 'lineWidth') && (out.textStrokeWidth = richItem.lineWidth);\n  hasOwn(richItem, 'font') && (out.font = richItem.font);\n  hasOwn(richItem, 'fontStyle') && (out.fontStyle = richItem.fontStyle);\n  hasOwn(richItem, 'fontWeight') && (out.fontWeight = richItem.fontWeight);\n  hasOwn(richItem, 'fontSize') && (out.fontSize = richItem.fontSize);\n  hasOwn(richItem, 'fontFamily') && (out.fontFamily = richItem.fontFamily);\n  hasOwn(richItem, 'align') && (out.textAlign = richItem.align);\n  hasOwn(richItem, 'verticalAlign') && (out.textVerticalAlign = richItem.verticalAlign);\n  hasOwn(richItem, 'lineHeight') && (out.textLineHeight = richItem.lineHeight);\n  hasOwn(richItem, 'width') && (out.textWidth = richItem.width);\n  hasOwn(richItem, 'height') && (out.textHeight = richItem.height);\n  hasOwn(richItem, 'backgroundColor') && (out.textBackgroundColor = richItem.backgroundColor);\n  hasOwn(richItem, 'padding') && (out.textPadding = richItem.padding);\n  hasOwn(richItem, 'borderColor') && (out.textBorderColor = richItem.borderColor);\n  hasOwn(richItem, 'borderWidth') && (out.textBorderWidth = richItem.borderWidth);\n  hasOwn(richItem, 'borderRadius') && (out.textBorderRadius = richItem.borderRadius);\n  hasOwn(richItem, 'shadowColor') && (out.textBoxShadowColor = richItem.shadowColor);\n  hasOwn(richItem, 'shadowBlur') && (out.textBoxShadowBlur = richItem.shadowBlur);\n  hasOwn(richItem, 'shadowOffsetX') && (out.textBoxShadowOffsetX = richItem.shadowOffsetX);\n  hasOwn(richItem, 'shadowOffsetY') && (out.textBoxShadowOffsetY = richItem.shadowOffsetY);\n  hasOwn(richItem, 'textShadowColor') && (out.textShadowColor = richItem.textShadowColor);\n  hasOwn(richItem, 'textShadowBlur') && (out.textShadowBlur = richItem.textShadowBlur);\n  hasOwn(richItem, 'textShadowOffsetX') && (out.textShadowOffsetX = richItem.textShadowOffsetX);\n  hasOwn(richItem, 'textShadowOffsetY') && (out.textShadowOffsetY = richItem.textShadowOffsetY);\n}\nexport function warnDeprecated(deprecated, insteadApproach) {\n  if (process.env.NODE_ENV !== 'production') {\n    var key = deprecated + '^_^' + insteadApproach;\n    if (!deprecatedLogs[key]) {\n      console.warn(\"[ECharts] DEPRECATED: \\\"\" + deprecated + \"\\\" has been deprecated. \" + insteadApproach);\n      deprecatedLogs[key] = true;\n    }\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Symbol factory\nimport { each, isArray, retrieve2 } from 'zrender/lib/core/util.js';\nimport * as graphic from './graphic.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport { calculateTextPosition } from 'zrender/lib/contain/text.js';\nimport { parsePercent } from './number.js';\n/**\n * Triangle shape\n * @inner\n */\nvar Triangle = graphic.Path.extend({\n  type: 'triangle',\n  shape: {\n    cx: 0,\n    cy: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (path, shape) {\n    var cx = shape.cx;\n    var cy = shape.cy;\n    var width = shape.width / 2;\n    var height = shape.height / 2;\n    path.moveTo(cx, cy - height);\n    path.lineTo(cx + width, cy + height);\n    path.lineTo(cx - width, cy + height);\n    path.closePath();\n  }\n});\n/**\n * Diamond shape\n * @inner\n */\nvar Diamond = graphic.Path.extend({\n  type: 'diamond',\n  shape: {\n    cx: 0,\n    cy: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (path, shape) {\n    var cx = shape.cx;\n    var cy = shape.cy;\n    var width = shape.width / 2;\n    var height = shape.height / 2;\n    path.moveTo(cx, cy - height);\n    path.lineTo(cx + width, cy);\n    path.lineTo(cx, cy + height);\n    path.lineTo(cx - width, cy);\n    path.closePath();\n  }\n});\n/**\n * Pin shape\n * @inner\n */\nvar Pin = graphic.Path.extend({\n  type: 'pin',\n  shape: {\n    // x, y on the cusp\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (path, shape) {\n    var x = shape.x;\n    var y = shape.y;\n    var w = shape.width / 5 * 3;\n    // Height must be larger than width\n    var h = Math.max(w, shape.height);\n    var r = w / 2;\n    // Dist on y with tangent point and circle center\n    var dy = r * r / (h - r);\n    var cy = y - h + r + dy;\n    var angle = Math.asin(dy / r);\n    // Dist on x with tangent point and circle center\n    var dx = Math.cos(angle) * r;\n    var tanX = Math.sin(angle);\n    var tanY = Math.cos(angle);\n    var cpLen = r * 0.6;\n    var cpLen2 = r * 0.7;\n    path.moveTo(x - dx, cy + dy);\n    path.arc(x, cy, r, Math.PI - angle, Math.PI * 2 + angle);\n    path.bezierCurveTo(x + dx - tanX * cpLen, cy + dy + tanY * cpLen, x, y - cpLen2, x, y);\n    path.bezierCurveTo(x, y - cpLen2, x - dx + tanX * cpLen, cy + dy + tanY * cpLen, x - dx, cy + dy);\n    path.closePath();\n  }\n});\n/**\n * Arrow shape\n * @inner\n */\nvar Arrow = graphic.Path.extend({\n  type: 'arrow',\n  shape: {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (ctx, shape) {\n    var height = shape.height;\n    var width = shape.width;\n    var x = shape.x;\n    var y = shape.y;\n    var dx = width / 3 * 2;\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + dx, y + height);\n    ctx.lineTo(x, y + height / 4 * 3);\n    ctx.lineTo(x - dx, y + height);\n    ctx.lineTo(x, y);\n    ctx.closePath();\n  }\n});\n/**\n * Map of path constructors\n */\n// TODO Use function to build symbol path.\nvar symbolCtors = {\n  line: graphic.Line,\n  rect: graphic.Rect,\n  roundRect: graphic.Rect,\n  square: graphic.Rect,\n  circle: graphic.Circle,\n  diamond: Diamond,\n  pin: Pin,\n  arrow: Arrow,\n  triangle: Triangle\n};\nvar symbolShapeMakers = {\n  line: function (x, y, w, h, shape) {\n    shape.x1 = x;\n    shape.y1 = y + h / 2;\n    shape.x2 = x + w;\n    shape.y2 = y + h / 2;\n  },\n  rect: function (x, y, w, h, shape) {\n    shape.x = x;\n    shape.y = y;\n    shape.width = w;\n    shape.height = h;\n  },\n  roundRect: function (x, y, w, h, shape) {\n    shape.x = x;\n    shape.y = y;\n    shape.width = w;\n    shape.height = h;\n    shape.r = Math.min(w, h) / 4;\n  },\n  square: function (x, y, w, h, shape) {\n    var size = Math.min(w, h);\n    shape.x = x;\n    shape.y = y;\n    shape.width = size;\n    shape.height = size;\n  },\n  circle: function (x, y, w, h, shape) {\n    // Put circle in the center of square\n    shape.cx = x + w / 2;\n    shape.cy = y + h / 2;\n    shape.r = Math.min(w, h) / 2;\n  },\n  diamond: function (x, y, w, h, shape) {\n    shape.cx = x + w / 2;\n    shape.cy = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  },\n  pin: function (x, y, w, h, shape) {\n    shape.x = x + w / 2;\n    shape.y = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  },\n  arrow: function (x, y, w, h, shape) {\n    shape.x = x + w / 2;\n    shape.y = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  },\n  triangle: function (x, y, w, h, shape) {\n    shape.cx = x + w / 2;\n    shape.cy = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  }\n};\nexport var symbolBuildProxies = {};\neach(symbolCtors, function (Ctor, name) {\n  symbolBuildProxies[name] = new Ctor();\n});\nvar SymbolClz = graphic.Path.extend({\n  type: 'symbol',\n  shape: {\n    symbolType: '',\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  },\n  calculateTextPosition: function (out, config, rect) {\n    var res = calculateTextPosition(out, config, rect);\n    var shape = this.shape;\n    if (shape && shape.symbolType === 'pin' && config.position === 'inside') {\n      res.y = rect.y + rect.height * 0.4;\n    }\n    return res;\n  },\n  buildPath: function (ctx, shape, inBundle) {\n    var symbolType = shape.symbolType;\n    if (symbolType !== 'none') {\n      var proxySymbol = symbolBuildProxies[symbolType];\n      if (!proxySymbol) {\n        // Default rect\n        symbolType = 'rect';\n        proxySymbol = symbolBuildProxies[symbolType];\n      }\n      symbolShapeMakers[symbolType](shape.x, shape.y, shape.width, shape.height, proxySymbol.shape);\n      proxySymbol.buildPath(ctx, proxySymbol.shape, inBundle);\n    }\n  }\n});\n// Provide setColor helper method to avoid determine if set the fill or stroke outside\nfunction symbolPathSetColor(color, innerColor) {\n  if (this.type !== 'image') {\n    var symbolStyle = this.style;\n    if (this.__isEmptyBrush) {\n      symbolStyle.stroke = color;\n      symbolStyle.fill = innerColor || '#fff';\n      // TODO Same width with lineStyle in LineView\n      symbolStyle.lineWidth = 2;\n    } else if (this.shape.symbolType === 'line') {\n      symbolStyle.stroke = color;\n    } else {\n      symbolStyle.fill = color;\n    }\n    this.markRedraw();\n  }\n}\n/**\n * Create a symbol element with given symbol configuration: shape, x, y, width, height, color\n */\nexport function createSymbol(symbolType, x, y, w, h, color,\n// whether to keep the ratio of w/h,\nkeepAspect) {\n  // TODO Support image object, DynamicImage.\n  var isEmpty = symbolType.indexOf('empty') === 0;\n  if (isEmpty) {\n    symbolType = symbolType.substr(5, 1).toLowerCase() + symbolType.substr(6);\n  }\n  var symbolPath;\n  if (symbolType.indexOf('image://') === 0) {\n    symbolPath = graphic.makeImage(symbolType.slice(8), new BoundingRect(x, y, w, h), keepAspect ? 'center' : 'cover');\n  } else if (symbolType.indexOf('path://') === 0) {\n    symbolPath = graphic.makePath(symbolType.slice(7), {}, new BoundingRect(x, y, w, h), keepAspect ? 'center' : 'cover');\n  } else {\n    symbolPath = new SymbolClz({\n      shape: {\n        symbolType: symbolType,\n        x: x,\n        y: y,\n        width: w,\n        height: h\n      }\n    });\n  }\n  symbolPath.__isEmptyBrush = isEmpty;\n  // TODO Should deprecate setColor\n  symbolPath.setColor = symbolPathSetColor;\n  if (color) {\n    symbolPath.setColor(color);\n  }\n  return symbolPath;\n}\nexport function normalizeSymbolSize(symbolSize) {\n  if (!isArray(symbolSize)) {\n    symbolSize = [+symbolSize, +symbolSize];\n  }\n  return [symbolSize[0] || 0, symbolSize[1] || 0];\n}\nexport function normalizeSymbolOffset(symbolOffset, symbolSize) {\n  if (symbolOffset == null) {\n    return;\n  }\n  if (!isArray(symbolOffset)) {\n    symbolOffset = [symbolOffset, symbolOffset];\n  }\n  return [parsePercent(symbolOffset[0], symbolSize[0]) || 0, parsePercent(retrieve2(symbolOffset[1], symbolOffset[0]), symbolSize[1]) || 0];\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar ORIGIN_METHOD = '\\0__throttleOriginMethod';\nvar RATE = '\\0__throttleRate';\nvar THROTTLE_TYPE = '\\0__throttleType';\n;\n/**\n * @public\n * @param {(Function)} fn\n * @param {number} [delay=0] Unit: ms.\n * @param {boolean} [debounce=false]\n *        true: If call interval less than `delay`, only the last call works.\n *        false: If call interval less than `delay, call works on fixed rate.\n * @return {(Function)} throttled fn.\n */\nexport function throttle(fn, delay, debounce) {\n  var currCall;\n  var lastCall = 0;\n  var lastExec = 0;\n  var timer = null;\n  var diff;\n  var scope;\n  var args;\n  var debounceNextCall;\n  delay = delay || 0;\n  function exec() {\n    lastExec = new Date().getTime();\n    timer = null;\n    fn.apply(scope, args || []);\n  }\n  var cb = function () {\n    var cbArgs = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      cbArgs[_i] = arguments[_i];\n    }\n    currCall = new Date().getTime();\n    scope = this;\n    args = cbArgs;\n    var thisDelay = debounceNextCall || delay;\n    var thisDebounce = debounceNextCall || debounce;\n    debounceNextCall = null;\n    diff = currCall - (thisDebounce ? lastCall : lastExec) - thisDelay;\n    clearTimeout(timer);\n    // Here we should make sure that: the `exec` SHOULD NOT be called later\n    // than a new call of `cb`, that is, preserving the command order. Consider\n    // calculating \"scale rate\" when roaming as an example. When a call of `cb`\n    // happens, either the `exec` is called dierectly, or the call is delayed.\n    // But the delayed call should never be later than next call of `cb`. Under\n    // this assurance, we can simply update view state each time `dispatchAction`\n    // triggered by user roaming, but not need to add extra code to avoid the\n    // state being \"rolled-back\".\n    if (thisDebounce) {\n      timer = setTimeout(exec, thisDelay);\n    } else {\n      if (diff >= 0) {\n        exec();\n      } else {\n        timer = setTimeout(exec, -diff);\n      }\n    }\n    lastCall = currCall;\n  };\n  /**\n   * Clear throttle.\n   * @public\n   */\n  cb.clear = function () {\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n  };\n  /**\n   * Enable debounce once.\n   */\n  cb.debounceNextCall = function (debounceDelay) {\n    debounceNextCall = debounceDelay;\n  };\n  return cb;\n}\n/**\n * Create throttle method or update throttle rate.\n *\n * @example\n * ComponentView.prototype.render = function () {\n *     ...\n *     throttle.createOrUpdate(\n *         this,\n *         '_dispatchAction',\n *         this.model.get('throttle'),\n *         'fixRate'\n *     );\n * };\n * ComponentView.prototype.remove = function () {\n *     throttle.clear(this, '_dispatchAction');\n * };\n * ComponentView.prototype.dispose = function () {\n *     throttle.clear(this, '_dispatchAction');\n * };\n *\n */\nexport function createOrUpdate(obj, fnAttr, rate, throttleType) {\n  var fn = obj[fnAttr];\n  if (!fn) {\n    return;\n  }\n  var originFn = fn[ORIGIN_METHOD] || fn;\n  var lastThrottleType = fn[THROTTLE_TYPE];\n  var lastRate = fn[RATE];\n  if (lastRate !== rate || lastThrottleType !== throttleType) {\n    if (rate == null || !throttleType) {\n      return obj[fnAttr] = originFn;\n    }\n    fn = obj[fnAttr] = throttle(originFn, rate, throttleType === 'debounce');\n    fn[ORIGIN_METHOD] = originFn;\n    fn[THROTTLE_TYPE] = throttleType;\n    fn[RATE] = rate;\n  }\n  return fn;\n}\n/**\n * Clear throttle. Example see throttle.createOrUpdate.\n */\nexport function clear(obj, fnAttr) {\n  var fn = obj[fnAttr];\n  if (fn && fn[ORIGIN_METHOD]) {\n    // Clear throttle\n    fn.clear && fn.clear();\n    obj[fnAttr] = fn[ORIGIN_METHOD];\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as numberUtil from './number.js';\nimport { getDefaultLocaleModel, getLocaleModel, SYSTEM_LANG } from '../core/locale.js';\nimport Model from '../model/Model.js';\nexport var ONE_SECOND = 1000;\nexport var ONE_MINUTE = ONE_SECOND * 60;\nexport var ONE_HOUR = ONE_MINUTE * 60;\nexport var ONE_DAY = ONE_HOUR * 24;\nexport var ONE_YEAR = ONE_DAY * 365;\nexport var defaultLeveledFormatter = {\n  year: '{yyyy}',\n  month: '{MMM}',\n  day: '{d}',\n  hour: '{HH}:{mm}',\n  minute: '{HH}:{mm}',\n  second: '{HH}:{mm}:{ss}',\n  millisecond: '{HH}:{mm}:{ss} {SSS}',\n  none: '{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}'\n};\nvar fullDayFormatter = '{yyyy}-{MM}-{dd}';\nexport var fullLeveledFormatter = {\n  year: '{yyyy}',\n  month: '{yyyy}-{MM}',\n  day: fullDayFormatter,\n  hour: fullDayFormatter + ' ' + defaultLeveledFormatter.hour,\n  minute: fullDayFormatter + ' ' + defaultLeveledFormatter.minute,\n  second: fullDayFormatter + ' ' + defaultLeveledFormatter.second,\n  millisecond: defaultLeveledFormatter.none\n};\nexport var primaryTimeUnits = ['year', 'month', 'day', 'hour', 'minute', 'second', 'millisecond'];\nexport var timeUnits = ['year', 'half-year', 'quarter', 'month', 'week', 'half-week', 'day', 'half-day', 'quarter-day', 'hour', 'minute', 'second', 'millisecond'];\nexport function pad(str, len) {\n  str += '';\n  return '0000'.substr(0, len - str.length) + str;\n}\nexport function getPrimaryTimeUnit(timeUnit) {\n  switch (timeUnit) {\n    case 'half-year':\n    case 'quarter':\n      return 'month';\n    case 'week':\n    case 'half-week':\n      return 'day';\n    case 'half-day':\n    case 'quarter-day':\n      return 'hour';\n    default:\n      // year, minutes, second, milliseconds\n      return timeUnit;\n  }\n}\nexport function isPrimaryTimeUnit(timeUnit) {\n  return timeUnit === getPrimaryTimeUnit(timeUnit);\n}\nexport function getDefaultFormatPrecisionOfInterval(timeUnit) {\n  switch (timeUnit) {\n    case 'year':\n    case 'month':\n      return 'day';\n    case 'millisecond':\n      return 'millisecond';\n    default:\n      // Also for day, hour, minute, second\n      return 'second';\n  }\n}\nexport function format(\n// Note: The result based on `isUTC` are totally different, which can not be just simply\n// substituted by the result without `isUTC`. So we make the param `isUTC` mandatory.\ntime, template, isUTC, lang) {\n  var date = numberUtil.parseDate(time);\n  var y = date[fullYearGetterName(isUTC)]();\n  var M = date[monthGetterName(isUTC)]() + 1;\n  var q = Math.floor((M - 1) / 3) + 1;\n  var d = date[dateGetterName(isUTC)]();\n  var e = date['get' + (isUTC ? 'UTC' : '') + 'Day']();\n  var H = date[hoursGetterName(isUTC)]();\n  var h = (H - 1) % 12 + 1;\n  var m = date[minutesGetterName(isUTC)]();\n  var s = date[secondsGetterName(isUTC)]();\n  var S = date[millisecondsGetterName(isUTC)]();\n  var a = H >= 12 ? 'pm' : 'am';\n  var A = a.toUpperCase();\n  var localeModel = lang instanceof Model ? lang : getLocaleModel(lang || SYSTEM_LANG) || getDefaultLocaleModel();\n  var timeModel = localeModel.getModel('time');\n  var month = timeModel.get('month');\n  var monthAbbr = timeModel.get('monthAbbr');\n  var dayOfWeek = timeModel.get('dayOfWeek');\n  var dayOfWeekAbbr = timeModel.get('dayOfWeekAbbr');\n  return (template || '').replace(/{a}/g, a + '').replace(/{A}/g, A + '').replace(/{yyyy}/g, y + '').replace(/{yy}/g, pad(y % 100 + '', 2)).replace(/{Q}/g, q + '').replace(/{MMMM}/g, month[M - 1]).replace(/{MMM}/g, monthAbbr[M - 1]).replace(/{MM}/g, pad(M, 2)).replace(/{M}/g, M + '').replace(/{dd}/g, pad(d, 2)).replace(/{d}/g, d + '').replace(/{eeee}/g, dayOfWeek[e]).replace(/{ee}/g, dayOfWeekAbbr[e]).replace(/{e}/g, e + '').replace(/{HH}/g, pad(H, 2)).replace(/{H}/g, H + '').replace(/{hh}/g, pad(h + '', 2)).replace(/{h}/g, h + '').replace(/{mm}/g, pad(m, 2)).replace(/{m}/g, m + '').replace(/{ss}/g, pad(s, 2)).replace(/{s}/g, s + '').replace(/{SSS}/g, pad(S, 3)).replace(/{S}/g, S + '');\n}\nexport function leveledFormat(tick, idx, formatter, lang, isUTC) {\n  var template = null;\n  if (zrUtil.isString(formatter)) {\n    // Single formatter for all units at all levels\n    template = formatter;\n  } else if (zrUtil.isFunction(formatter)) {\n    // Callback formatter\n    template = formatter(tick.value, idx, {\n      level: tick.level\n    });\n  } else {\n    var defaults = zrUtil.extend({}, defaultLeveledFormatter);\n    if (tick.level > 0) {\n      for (var i = 0; i < primaryTimeUnits.length; ++i) {\n        defaults[primaryTimeUnits[i]] = \"{primary|\" + defaults[primaryTimeUnits[i]] + \"}\";\n      }\n    }\n    var mergedFormatter = formatter ? formatter.inherit === false ? formatter // Use formatter with bigger units\n    : zrUtil.defaults(formatter, defaults) : defaults;\n    var unit = getUnitFromValue(tick.value, isUTC);\n    if (mergedFormatter[unit]) {\n      template = mergedFormatter[unit];\n    } else if (mergedFormatter.inherit) {\n      // Unit formatter is not defined and should inherit from bigger units\n      var targetId = timeUnits.indexOf(unit);\n      for (var i = targetId - 1; i >= 0; --i) {\n        if (mergedFormatter[unit]) {\n          template = mergedFormatter[unit];\n          break;\n        }\n      }\n      template = template || defaults.none;\n    }\n    if (zrUtil.isArray(template)) {\n      var levelId = tick.level == null ? 0 : tick.level >= 0 ? tick.level : template.length + tick.level;\n      levelId = Math.min(levelId, template.length - 1);\n      template = template[levelId];\n    }\n  }\n  return format(new Date(tick.value), template, isUTC, lang);\n}\nexport function getUnitFromValue(value, isUTC) {\n  var date = numberUtil.parseDate(value);\n  var M = date[monthGetterName(isUTC)]() + 1;\n  var d = date[dateGetterName(isUTC)]();\n  var h = date[hoursGetterName(isUTC)]();\n  var m = date[minutesGetterName(isUTC)]();\n  var s = date[secondsGetterName(isUTC)]();\n  var S = date[millisecondsGetterName(isUTC)]();\n  var isSecond = S === 0;\n  var isMinute = isSecond && s === 0;\n  var isHour = isMinute && m === 0;\n  var isDay = isHour && h === 0;\n  var isMonth = isDay && d === 1;\n  var isYear = isMonth && M === 1;\n  if (isYear) {\n    return 'year';\n  } else if (isMonth) {\n    return 'month';\n  } else if (isDay) {\n    return 'day';\n  } else if (isHour) {\n    return 'hour';\n  } else if (isMinute) {\n    return 'minute';\n  } else if (isSecond) {\n    return 'second';\n  } else {\n    return 'millisecond';\n  }\n}\nexport function getUnitValue(value, unit, isUTC) {\n  var date = zrUtil.isNumber(value) ? numberUtil.parseDate(value) : value;\n  unit = unit || getUnitFromValue(value, isUTC);\n  switch (unit) {\n    case 'year':\n      return date[fullYearGetterName(isUTC)]();\n    case 'half-year':\n      return date[monthGetterName(isUTC)]() >= 6 ? 1 : 0;\n    case 'quarter':\n      return Math.floor((date[monthGetterName(isUTC)]() + 1) / 4);\n    case 'month':\n      return date[monthGetterName(isUTC)]();\n    case 'day':\n      return date[dateGetterName(isUTC)]();\n    case 'half-day':\n      return date[hoursGetterName(isUTC)]() / 24;\n    case 'hour':\n      return date[hoursGetterName(isUTC)]();\n    case 'minute':\n      return date[minutesGetterName(isUTC)]();\n    case 'second':\n      return date[secondsGetterName(isUTC)]();\n    case 'millisecond':\n      return date[millisecondsGetterName(isUTC)]();\n  }\n}\nexport function fullYearGetterName(isUTC) {\n  return isUTC ? 'getUTCFullYear' : 'getFullYear';\n}\nexport function monthGetterName(isUTC) {\n  return isUTC ? 'getUTCMonth' : 'getMonth';\n}\nexport function dateGetterName(isUTC) {\n  return isUTC ? 'getUTCDate' : 'getDate';\n}\nexport function hoursGetterName(isUTC) {\n  return isUTC ? 'getUTCHours' : 'getHours';\n}\nexport function minutesGetterName(isUTC) {\n  return isUTC ? 'getUTCMinutes' : 'getMinutes';\n}\nexport function secondsGetterName(isUTC) {\n  return isUTC ? 'getUTCSeconds' : 'getSeconds';\n}\nexport function millisecondsGetterName(isUTC) {\n  return isUTC ? 'getUTCMilliseconds' : 'getMilliseconds';\n}\nexport function fullYearSetterName(isUTC) {\n  return isUTC ? 'setUTCFullYear' : 'setFullYear';\n}\nexport function monthSetterName(isUTC) {\n  return isUTC ? 'setUTCMonth' : 'setMonth';\n}\nexport function dateSetterName(isUTC) {\n  return isUTC ? 'setUTCDate' : 'setDate';\n}\nexport function hoursSetterName(isUTC) {\n  return isUTC ? 'setUTCHours' : 'setHours';\n}\nexport function minutesSetterName(isUTC) {\n  return isUTC ? 'setUTCMinutes' : 'setMinutes';\n}\nexport function secondsSetterName(isUTC) {\n  return isUTC ? 'setUTCSeconds' : 'setSeconds';\n}\nexport function millisecondsSetterName(isUTC) {\n  return isUTC ? 'setUTCMilliseconds' : 'setMilliseconds';\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap } from 'zrender/lib/core/util.js';\n;\n;\n;\nexport var VISUAL_DIMENSIONS = createHashMap(['tooltip', 'label', 'itemName', 'itemId', 'itemGroupId', 'itemChildGroupId', 'seriesName']);\nexport var SOURCE_FORMAT_ORIGINAL = 'original';\nexport var SOURCE_FORMAT_ARRAY_ROWS = 'arrayRows';\nexport var SOURCE_FORMAT_OBJECT_ROWS = 'objectRows';\nexport var SOURCE_FORMAT_KEYED_COLUMNS = 'keyedColumns';\nexport var SOURCE_FORMAT_TYPED_ARRAY = 'typedArray';\nexport var SOURCE_FORMAT_UNKNOWN = 'unknown';\nexport var SERIES_LAYOUT_BY_COLUMN = 'column';\nexport var SERIES_LAYOUT_BY_ROW = 'row';\n;\n;\n;\n;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isArray } from 'zrender/lib/core/util.js';\n/* global Float32Array */\nvar supportFloat32Array = typeof Float32Array !== 'undefined';\nvar Float32ArrayCtor = !supportFloat32Array ? Array : Float32Array;\nexport function createFloat32Array(arg) {\n  if (isArray(arg)) {\n    // Return self directly if don't support TypedArray.\n    return supportFloat32Array ? new Float32Array(arg) : arg;\n  }\n  // Else is number\n  return new Float32ArrayCtor(arg);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each } from 'zrender/lib/core/util.js';\nimport Group from 'zrender/lib/graphic/Group.js';\nimport * as componentUtil from '../util/component.js';\nimport * as clazzUtil from '../util/clazz.js';\nimport * as modelUtil from '../util/model.js';\nimport { enterEmphasis, leaveEmphasis, getHighlightDigit, isHighDownDispatcher } from '../util/states.js';\nimport { createTask } from '../core/task.js';\nimport createRenderPlanner from '../chart/helper/createRenderPlanner.js';\nimport { traverseElements } from '../util/graphic.js';\nimport { error } from '../util/log.js';\nvar inner = modelUtil.makeInner();\nvar renderPlanner = createRenderPlanner();\nvar ChartView = /** @class */function () {\n  function ChartView() {\n    this.group = new Group();\n    this.uid = componentUtil.getUID('viewChart');\n    this.renderTask = createTask({\n      plan: renderTaskPlan,\n      reset: renderTaskReset\n    });\n    this.renderTask.context = {\n      view: this\n    };\n  }\n  ChartView.prototype.init = function (ecModel, api) {};\n  ChartView.prototype.render = function (seriesModel, ecModel, api, payload) {\n    if (process.env.NODE_ENV !== 'production') {\n      throw new Error('render method must been implemented');\n    }\n  };\n  /**\n   * Highlight series or specified data item.\n   */\n  ChartView.prototype.highlight = function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData(payload && payload.dataType);\n    if (!data) {\n      if (process.env.NODE_ENV !== 'production') {\n        error(\"Unknown dataType \" + payload.dataType);\n      }\n      return;\n    }\n    toggleHighlight(data, payload, 'emphasis');\n  };\n  /**\n   * Downplay series or specified data item.\n   */\n  ChartView.prototype.downplay = function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData(payload && payload.dataType);\n    if (!data) {\n      if (process.env.NODE_ENV !== 'production') {\n        error(\"Unknown dataType \" + payload.dataType);\n      }\n      return;\n    }\n    toggleHighlight(data, payload, 'normal');\n  };\n  /**\n   * Remove self.\n   */\n  ChartView.prototype.remove = function (ecModel, api) {\n    this.group.removeAll();\n  };\n  /**\n   * Dispose self.\n   */\n  ChartView.prototype.dispose = function (ecModel, api) {};\n  ChartView.prototype.updateView = function (seriesModel, ecModel, api, payload) {\n    this.render(seriesModel, ecModel, api, payload);\n  };\n  // FIXME never used?\n  ChartView.prototype.updateLayout = function (seriesModel, ecModel, api, payload) {\n    this.render(seriesModel, ecModel, api, payload);\n  };\n  // FIXME never used?\n  ChartView.prototype.updateVisual = function (seriesModel, ecModel, api, payload) {\n    this.render(seriesModel, ecModel, api, payload);\n  };\n  /**\n   * Traverse the new rendered elements.\n   *\n   * It will traverse the new added element in progressive rendering.\n   * And traverse all in normal rendering.\n   */\n  ChartView.prototype.eachRendered = function (cb) {\n    traverseElements(this.group, cb);\n  };\n  ChartView.markUpdateMethod = function (payload, methodName) {\n    inner(payload).updateMethod = methodName;\n  };\n  ChartView.protoInitialize = function () {\n    var proto = ChartView.prototype;\n    proto.type = 'chart';\n  }();\n  return ChartView;\n}();\n;\n/**\n * Set state of single element\n */\nfunction elSetState(el, state, highlightDigit) {\n  if (el && isHighDownDispatcher(el)) {\n    (state === 'emphasis' ? enterEmphasis : leaveEmphasis)(el, highlightDigit);\n  }\n}\nfunction toggleHighlight(data, payload, state) {\n  var dataIndex = modelUtil.queryDataIndex(data, payload);\n  var highlightDigit = payload && payload.highlightKey != null ? getHighlightDigit(payload.highlightKey) : null;\n  if (dataIndex != null) {\n    each(modelUtil.normalizeToArray(dataIndex), function (dataIdx) {\n      elSetState(data.getItemGraphicEl(dataIdx), state, highlightDigit);\n    });\n  } else {\n    data.eachItemGraphicEl(function (el) {\n      elSetState(el, state, highlightDigit);\n    });\n  }\n}\nclazzUtil.enableClassExtend(ChartView, ['dispose']);\nclazzUtil.enableClassManagement(ChartView);\nfunction renderTaskPlan(context) {\n  return renderPlanner(context.model);\n}\nfunction renderTaskReset(context) {\n  var seriesModel = context.model;\n  var ecModel = context.ecModel;\n  var api = context.api;\n  var payload = context.payload;\n  // FIXME: remove updateView updateVisual\n  var progressiveRender = seriesModel.pipelineContext.progressiveRender;\n  var view = context.view;\n  var updateMethod = payload && inner(payload).updateMethod;\n  var methodName = progressiveRender ? 'incrementalPrepareRender' : updateMethod && view[updateMethod] ? updateMethod\n  // `appendData` is also supported when data amount\n  // is less than progressive threshold.\n  : 'render';\n  if (methodName !== 'render') {\n    view[methodName](seriesModel, ecModel, api, payload);\n  }\n  return progressMethodMap[methodName];\n}\nvar progressMethodMap = {\n  incrementalPrepareRender: {\n    progress: function (params, context) {\n      context.view.incrementalRender(params, context.model, context.ecModel, context.api, context.payload);\n    }\n  },\n  render: {\n    // Put view.render in `progress` to support appendData. But in this case\n    // view.render should not be called in reset, otherwise it will be called\n    // twise. Use `forceFirstProgress` to make sure that view.render is called\n    // in any cases.\n    forceFirstProgress: true,\n    progress: function (params, context) {\n      context.view.render(context.model, context.ecModel, context.api, context.payload);\n    }\n  }\n};\nexport default ChartView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport Group from 'zrender/lib/graphic/Group.js';\nimport * as componentUtil from '../util/component.js';\nimport * as clazzUtil from '../util/clazz.js';\nvar ComponentView = /** @class */function () {\n  function ComponentView() {\n    this.group = new Group();\n    this.uid = componentUtil.getUID('viewComponent');\n  }\n  ComponentView.prototype.init = function (ecModel, api) {};\n  ComponentView.prototype.render = function (model, ecModel, api, payload) {};\n  ComponentView.prototype.dispose = function (ecModel, api) {};\n  ComponentView.prototype.updateView = function (model, ecModel, api, payload) {\n    // Do nothing;\n  };\n  ComponentView.prototype.updateLayout = function (model, ecModel, api, payload) {\n    // Do nothing;\n  };\n  ComponentView.prototype.updateVisual = function (model, ecModel, api, payload) {\n    // Do nothing;\n  };\n  /**\n   * Hook for toggle blur target series.\n   * Can be used in marker for blur or leave blur the markers\n   */\n  ComponentView.prototype.toggleBlurSeries = function (seriesModels, isBlur, ecModel) {\n    // Do nothing;\n  };\n  /**\n   * Traverse the new rendered elements.\n   *\n   * It will traverse the new added element in progressive rendering.\n   * And traverse all in normal rendering.\n   */\n  ComponentView.prototype.eachRendered = function (cb) {\n    var group = this.group;\n    if (group) {\n      group.traverse(cb);\n    }\n  };\n  return ComponentView;\n}();\n;\nclazzUtil.enableClassExtend(ComponentView);\nclazzUtil.enableClassManagement(ComponentView);\nexport default ComponentView;"],"names":["createLegacyDataSelectAction","seriesType","ecRegisterAction","getSeriesIndices","ecModel","payload","seriesIndices","eachComponent","mainType","subType","query","seriesModel","push","seriesIndex","each","eventsMap","api","extend","dispatchAction","type","handleSeriesLegacySelectEvents","eventPostfix","ecIns","legacyEventName","isSilent","selectedMap","option","selected","i","length","data","getData","dataIndex","queryDataIndex","fromActionPayload","trigger","seriesId","id","name","isArray","getName","isString","handleLegacySelectEvents","messageCenter","on","params","getModel","isFromClick","fromAction","getTextRect","text","font","align","verticalAlign","padding","rich","truncate","lineHeight","textEl","Text","style","overflow","getBoundingRect","PI","Math","defaultLoading","opts","zrUtil","textColor","fontSize","fontWeight","fontStyle","fontFamily","maskColor","showSpinner","color","spinnerRadius","lineWidth","zlevel","group","graphic","mask","fill","z","add","arc","textContent","labelRect","textConfig","position","distance","shape","startAngle","endAngle","r","stroke","lineCap","animateShape","when","start","delay","resize","textWidth","width","cx","getWidth","cy","getHeight","setShape","x","y","height","inner","makeInner","ComponentModel","_super","parentModel","_this","call","this","uid","componentUtil","__extends","prototype","init","mergeDefaultAndTheme","layoutMode","layout","inputPositionParams","themeModel","getTheme","get","getDefaultOption","mergeOption","optionUpdated","newCptOption","isInit","ctor","constructor","isExtendedClass","defaultOption","fields","optList","clz","opt","superClass","getReferringComponents","indexKey","idKey","queryReferringComponents","index","getBoxLayoutParams","boxLayoutModel","left","top","right","bottom","getZLevelKey","setZLevel","protoInitialize","proto","componentIndex","Model","getDependencies","componentType","deps","getClassesByMainType","concat","dependencies","parseClassType","main","unshift","mountExtend","enableClassManagement","platform","navigator","reCreateSeriesIndices","assertSeriesInitialized","initBase","decalColor","darkMode","colorBy","gradientColor","aria","decal","decals","dashArrayX","dashArrayY","symbolSize","rotation","symbol","textStyle","match","blendMode","stateAnimation","duration","easing","animation","animationDuration","animationDurationUpdate","animationEasing","animationEasingUpdate","animationThreshold","progressiveThreshold","progressive","hoverLayerThreshold","useUTC","OPTION_INNER_KEY","OPTION_INNER_VALUE","GlobalModel","apply","arguments","theme","locale","optionManager","_theme","_locale","_optionManager","setOption","optionPreprocessorFuncs","innerOpt","normalizeSetOptionInput","_resetOption","resetOption","optionChanged","baseOption","mountOption","process","restoreData","_mergeOption","timelineOption","getTimelineOption","mediaOptions","getMediaOption","mediaOption","newOption","componentsMap","_componentsMap","componentsCount","_componentsCount","newCmptTypes","newCmptTypeMap","createHashMap","replaceMergeMainTypeMap","visitComponent","newCmptOptionList","concatInternalOptions","modelUtil","oldCmptList","mergeMode","mappingResult","set","tooltipExists","optionsByMainType","cmptsByMainType","cmptsCountByMainType","resultItem","componentModel","existing","newCmptOption","isSeriesType","ComponentModelClass","getClass","keyInfo","extraOpt","brandNew","__requireNewView","resetSourceDefaulter","componentOption","hasClass","clone","merge","val","mainTypeInReplaceMerge","topologicalTravel","getAllClassMainTypes","_seriesIndices","getOption","optInMainType","realLen","metNonInner","getLocaleModel","setUpdatePayload","_payload","getUpdatePayload","getComponent","idx","list","cmpt","queryComponents","condition","result","cmpts","queryByIdOrName","filter","filterBySubType","findComponents","queryCond","getQueryCond","doFilter","q","indexAttr","idAttr","nameAttr","res","cb","context","isFunction","ctxForAll_1","cbForAll_1","isObject","getSeriesByName","nameStr","oneSeries","getSeriesByIndex","getSeriesByType","getSeries","getSeriesCount","eachSeries","rawSeriesIndex","series","eachRawSeries","eachSeriesByType","eachRawSeriesByType","isSeriesFiltered","_seriesIndicesMap","getCurrentSeriesIndices","slice","filterSeries","newSeriesIndices","seriesRawIdx","componentTypes","components","component","isNotTargetSeries","internalField","airaOption","enabled","mergeTheme","globalDefault","name_1","seriesName","notMergeColorLayer","colorLayer","themeItem","attr","idOrName","keyMap_1","idOrNameItem","idName","idName_1","hasOwnProperty","replaceMerge","mixin","PaletteMixin","AREA_STYLE_KEY_MAP","getAreaStyle","makeStyleMapper","AreaStyleMixin","excludes","includes","PATH_COLOR","textStyleParams","tmpText","ZRText","TextStyleMixin","getTextColor","isEmphasis","getShallow","getFont","useStyle","update","rest","_i","path","ignoreParent","_doGet","parsePath","key","hasPath","pathFinal","obj","resolveParentPath","isEmpty","Ctor","split","isAnimationEnabled","env","node","pathArr","enableClassExtend","enableClassCheck","LineStyleMixin","ItemStyleMixin","QUERY_REG","OptionManager","_timelineOptions","_mediaList","_currentMediaIndices","_api","rawOption","normalizeToArray","isTypedArray","setAsPrimitive","dataset","source","optionBackup","_optionBackup","newParsedOption","parseRawOption","_newBaseOption","timelineOptions","mediaList","mediaDefault","isRecreate","_mediaDefault","timelineModel","getCurrentIndex","ecWidth","ecHeight","indices","len","applyMediaQuery","indicesEquals","map","isNew","declaredBaseOption","timelineOnRoot","timeline","timelineOptionsOnRoot","options","mediaOnRoot","media","hasMedia","hasTimeline","doPreprocess","preProcess","singleMedia","realMap","aspectratio","applicable","value","matched","operator","realAttr","toLowerCase","compare","real","expect","indices1","indices2","join","getSelectionKey","getId","SERIES_UNIVERSAL_TRANSITION_PROP","SeriesModel","_selectedDataIndicesMap","dataTask","createTask","count","dataTaskCount","reset","dataTaskReset","model","sourceManager","SourceManager","prepareSource","getInitialData","wrapData","dataBeforeProcessed","autoSeriesName","_initSelectedMapFromData","fetchLayoutMode","getLayoutParams","themeSubType","fillDataTextStyle","mergeLayoutParam","newSeriesOption","dirty","props","label","appendData","getRawData","dataType","task","getCurrentTask","getLinkedData","getAllData","mainData","getLinkedDataAll","setData","outputData","getEncode","encode","getSourceManager","getSource","getColorBy","isColorBySeries","getBaseAxis","coordSys","coordinateSystem","formatTooltip","multipleSeries","defaultSeriesFormatTooltip","ssr","animationEnabled","getColorFromPalette","scope","requestColorNum","coordDimToDataDim","coordDim","mapDimensionsAll","getProgressive","getProgressiveThreshold","select","innerDataIndices","_innerSelect","unselect","selectedMode","nameOrId","toggleSelect","tmpArr","isSelected","getSelectedDataIndices","getIndices","selectedDataIndicesMap","nameOrIds","dataIndices","getItemModel","isUniversalTransitionEnabled","universalTransitionOpt","universalTransition","_a","_b","getRawIndex","lastDataIndex","hasItemOption","rawItem","getRawDataItem","registerClass","ignoreStyleOnData","hasSymbolVisual","defaultSymbol","visualStyleAccessPath","visualDrawType","getSeriesAutoName","dataDims","nameArr","dataDim","dimInfo","getDimensionInfo","displayName","cloneShallow","dataTaskProgress","param","end","CHANGABLE_METHODS","DOWNSAMPLE_METHODS","methodName","wrapMethod","onDataChange","newList","setOutputEnd","scheduler","pipeline","getPipeline","currentTask","agentStubMap","DataFormatMixin","internalOptionCreatorMap","registerInternalOptionCreator","creator","assert","internalOptionCreator","internalOptions","DIMENSION_LABEL_REG","getDataParams","rawValue","getRawValue","rawDataIndex","itemOpt","getItemVisual","borderColor","isSeries","userOutput","componentSubType","dimensionNames","fullDimensions","$vars","getFormattedLabel","status","labelDimIndex","formatter","extendParams","interpolatedValue","itemModel","dimensionIndex","str","formatTpl","replace","origin","dimStr","dimLoose","charAt","retrieveRawValue","dimIndex","getDimensionIndex","normalizeTooltipFormatResult","markupText","markupFragment","frag","ITEM_STYLE_KEY_MAP","getItemStyle","LINE_STYLE_KEY_MAP","getLineStyle","properties","propName","innerColor","innerDecal","requestNum","defaultPalette","layeredPalette","getFromPalette","clearColorPalette","clearPalette","getDecalFromPalette","defaultDecals","getNearestPalette","palettes","paletteNum","that","scopeFields","paletteIdx","paletteNameMap","palette","pickedPaletteItem","CoordSysInfo","coordSysName","coordSysDims","axisMap","categoryAxisMap","getCoordSysInfoBySeries","fetch","fetchers","cartesian2d","xAxisModel","SINGLE_REFERRING","models","yAxisModel","isCategory","firstCategoryDimIndex","singleAxis","singleAxisModel","polar","polarModel","radiusAxisModel","findAxisModel","angleAxisModel","geo","parallel","parallelModel","dimensions","parallelAxisIndex","axisIndex","axisModel","axisDim","POSSIBLE_STYLES","compatEC2ItemStyle","itemStyleOpt","itemStyle","styleName","normalItemStyleOpt","normal","emphasisItemStyleOpt","emphasis","convertNormalEmphasis","optType","useExtend","normalOpt","emphasisOpt","focus","blurScope","removeEC3NormalStatus","compatTextStyle","labelOptSingle","textPropName","compatEC3CommonStyles","processSeries","seriesOpt","markPoint","markLine","markArea","nodes","edgeData","links","edges","categories","mpData","mlData","breadcrumb","levels","leaves","toArr","o","toObj","globalCompatStyle","isTheme","axes","axisName","axisOpt","axisPointer","parallelOpt","parallelAxisDefault","calendar","calendarOpt","radar","radarOpt","nameGap","axisNameGap","geoOpt","regions","regionObj","timelineOpt","item","toolbox","toolboxOpt","feature","featureOpt","tooltip","overwrite","compatLayoutProperties","LAYOUT_PROPERTIES","prop","COMPATITABLE_COMPONENTS","BAR_ITEM_STYLE_MAP","compatBarItemStyle","oldName","newName","compatPieLabel","alignTo","margin","edgeDistance","compatSunburstState","downplay","blur","compatGraphFocus","focusNodeAdjacency","traverseTree","children","globalBackwardCompat","compatStyle","clipOverflow","clip","clockWise","clockwise","hoverOffset","scaleSize","pointerColor","backgroundStyle","highlightPolicy","mapType","mapLocation","defaults","hoverAnimation","scale","dataRange","visualMap","componentName","dataFilter","legendModels","filterSelf","samplers","average","frame","sum","isNaN","NaN","max","Infinity","isFinite","min","minmax","turningPointAbsoluteValue","turningPointOriginalValue","originalValue","absoluteValue","abs","nearest","indexSampler","round","dataSample","sampling","baseAxis","valueAxis","getOtherAxis","extent","getExtent","dpr","getDevicePixelRatio","size","rate","lttbDownSample","mapDimension","dim","sampler","downSample","dataStack","stackInfoMap","stack","stackInfoList","stackInfo","stackResultDimension","getCalculationInfo","stackedOverDimension","stackedDimension","stackedByDimension","isStackedByIndex","setCalculationInfo","calculateStack","targetStackInfo","idxInStack","resultVal","resultNaN","dims","targetData","stackStrategy","modify","v0","v1","byValue","stackedDataRawIndex","stackedOver","j","rawIndexOf","getByRawIndex","addSafe","negativeDataFilter","valueDim","curValue","isNumber","install","registers","registerPainter","CanvasPainter","SVGPainter","roundNumber","numberUtil","IntervalScale","_interval","_intervalPrecision","parse","contain","helper","_extent","normalize","setExtent","thisExtent","parseFloat","unionExtent","other","getInterval","setInterval","interval","_niceExtent","getTicks","expandToNicedExtent","niceTickExtent","intervalPrecision","ticks","safeLimit","tick","lastNiceTick","getMinorTicks","splitNumber","minorTicks","nextTick","prevTick","minorTicksGroup","minorInterval","minorTick","getLabel","precision","dataNum","formatUtil","calcNiceTicks","minInterval","maxInterval","span","reverse","calcNiceExtent","expandSize","fixMax","fixMin","floor","ceil","setNiceExtent","Scale","scaleProto","intervalScaleProto","roundingErrorFix","mathFloor","mathCeil","mathPow","pow","mathLog","log","LogScale","base","_originalScale","originalScale","originalExtent","powVal","_fixMin","fixRoundingError","_fixMax","unionExtentFromData","getApproximateExtent","approxTickNum","err","niceExtent","scaleHelper","originalVal","OrdinalScale","setting","ordinalMeta","getSetting","OrdinalMeta","_ordinalMeta","getOrdinal","rank","_getTickNumber","getRawOrdinalNumber","setSortInfo","info","infoOrdinalNumbers","ordinalNumbers","ordinalsByTick","_ordinalNumbersByTick","ticksByOrdinal","_ticksByOrdinalNumber","tickNum","allCategoryLen","ordinalNumber","unusedOrdinal","ordinal","ticksByOrdinalNumber","tickNumber","ordinalNumbersByTick","isBlank","cateogry","isInExtentRange","getOrdinalMeta","_setting","_isBlank","setBlank","clazzUtil","bisect","a","lo","hi","mid","TimeScale","settings","format","fullLeveledFormatter","getDefaultFormatPrecisionOfInterval","getPrimaryTimeUnit","_minLevelUnit","second","labelFormatter","isUTC","lang","leveledFormat","level","innerTicks","getIntervalTicks","_approxInterval","ONE_DAY","d","Date","getFullYear","getMonth","getDate","scaleIntervalsLen","scaleIntervals","ONE_SECOND","ONE_MINUTE","ONE_HOUR","ONE_YEAR","isUnitValueSame","unit","valueA","valueB","dateA","dateB","isSame","getUnitValue","isSameYear","isSameMonth","isSameDay","isSameHour","isSameMinute","isSameSecond","isSameMilliSecond","getDateInterval","approxInterval","daysInMonth","getMonthInterval","APPROX_ONE_MONTH","getHourInterval","getMinutesAndSecondsInterval","isMinutes","getMillisecondsInterval","getFirstTimestampOfUnit","date","unitName","outDate","monthSetterName","dateSetterName","hoursSetterName","minutesSetterName","secondsSetterName","millisecondsSetterName","getTime","bottomUnitName","unitNames","timeUnits","iter","addTicksInSpan","minTimestamp","maxTimestamp","getMethodName","setMethodName","isDate","out","dateTime","notAdd","addLevelTicks","lastLevelTicks","levelTicks","newAddedTicks","isFirstLevel","startTick","endTick","getterName","setterName","fullYearGetterName","fullYearSetterName","monthGetterName","dateGetterName","hoursGetterName","minutesGetterName","secondsGetterName","millisecondsGetterName","levelsTicks","currentLevelTicks","tickCount","lastLevelTickCount","primaryTimeUnit","isPrimaryTimeUnit","nextPrimaryTimeUnit","sort","b","levelTicksRemoveDuplicated","i_1","tickValue","targetTickNum","levelsTicksInExtent","maxLevel","k","isIntervalOrLogScale","intervalScaleNiceTicks","nice","getIntervalPrecision","fixExtent","increaseInterval","exp10","quantityExponent","f","getPrecision","clamp","contrastColor","backgroundColor","axisCommon","axisLine","lineStyle","splitLine","splitArea","areaStyle","minorSplitLine","colorPalette","crossStyle","legend","title","subtextStyle","iconStyle","dataZoom","brushStyle","handleStyle","moveHandleStyle","opacity","fillerColor","dataBackground","selectedDataBackground","controlStyle","dayLabel","monthLabel","yearLabel","timeAxis","logAxis","categoryAxis","line","graph","gauge","axisLabel","detail","candlestick","color0","borderColor0","show","colorAll","ECEventProcessor","normalizeQuery","cptQuery","dataQuery","otherQuery","condCptType","sub","suffixes_1","dataKeys_1","reserved","propSuffix","suffixPos","lastIndexOf","eventType","eventInfo","targetEl","packedEvent","view","check","filterForExposedEvent","host","propOnHost","afterTrigger","AnimationWrap","_storage","_elExistsMap","el","target","finished","callback","_finishedCallback","checkTerminate","animateTo","setToFinal","done","aborted","createWrap","TYPE_DELIMITER","IS_CONTAINER","IS_EXTENDED_CLASS","ret","typeArr","checkClassType","test","rootClz","mandatoryMethods","$constructor","ExtendedClass","isESClass","class_1","superCall","superApply","fn","Function","toString","SubClz","SupperClz","classBase","random","classAttr","isInstance","args","storage","makeContainer","componentTypeInfo","container","componentFullType","throwWhenNotFound","Error","types","hasSubTypes","getUID","enableSubTypeDefaulter","subTypeDefaulters","registerSubTypeDefaulter","defaulter","determineSubType","componentTypeMain","enableTopologicalTravel","entity","dependencyGetter","makeDepndencyGraph","fullNameList","noEntryList","thisItem","createDependencyGraphItem","originalDeps","availableDeps","getAvailableDependencies","entryCount","dependentName","predecessor","thatItem","successor","dep","targetNameList","targetNameSet","currComponentType","pop","currVertex","isInTargetNameSet","removeEdgeAndAdd","removeEdge","errMsg","succComponentType","inheritDefaultOption","superOption","subOption","RELATIONAL_EXPRESSION_OP_ALIAS_MAP","RegExpEvaluator","rVal","condValue","_condVal","RegExp","isRegExp","throwError","evaluate","lVal","ConstConditionInternal","AndConditionInternal","OrConditionInternal","NotConditionInternal","child","RelationalConditionInternal","needParse","valueParser","getValue","tarValRaw","valueGetterParam","tarValParsed","subCondList","parseOption","exprOption","getters","cond","isObjectNotArray","and","parseAndOrOption","or","not","parseNotOption","parseRelationalOption","op","subOptionArr","prepareGetValue","exprKeys","keys","parserName","parser","getRawValueParser","keyRaw","valueGetterAttrMap","hasOwn","condValueRaw","condValueParsed","evaluator","createFilterComparator","isArrayLike","ConditionalExpressionParsed","_cond","parseConditionalExpression","decalMap","WeakMap","decalCache","LRU","decalKeys","createOrUpdatePatternFromDecal","decalObject","zr","getZr","isSVG","painter","oldPattern","decalOpt","symbolKeepAspect","maxTileWidth","maxTileHeight","pattern","repeat","setPatternnSource","scaleX","scaleY","cacheKey","isValidKey","cache","svgElement","image","ctx","normalizeDashArrayX","normalizeDashArrayY","symbolArray","normalizeSymbolArray","lineBlockLengthsX","getLineBlockLengthX","lineBlockLengthY","getLineBlockLengthY","canvas","platformApi","createCanvas","svgRoot","tag","attrs","pSize","getPatternSize","xlen","getLeastCommonMultiple","symbolRepeats","brushDecal","clearRect","fillStyle","fillRect","ySum","yId","yIdTotal","xId0","symbolYId","xId1","xId1Total","xSum","top_1","symbolXId","brushSymbol","symbolType","createSymbol","symbolVNode","renderOneToVNode","brushSingle","getContext","put","svgWidth","svgHeight","isAllString","dash","dashValue","isAllNumber","n","dashValue_1","blockLength","findEventDispatcher","det","returnFirstMatch","found","__hostTarget","parent","addCommas","isNumeric","parts","toCamelCase","upperCaseFirst","group1","toUpperCase","normalizeCssArray","makeValueReadable","valueType","USER_READABLE_DEFUALT_TIME_PATTERN","stringToUserReadable","isNumberUserReadable","num","isTypeTime","isValueDate","parseDate","timeFormat","numericResult","numericToNumber","TPL_VAR_ALIAS","wrapVar","varName","seriesIdx","tpl","paramsList","seriesLen","alias","encodeHTML","formatTplSimple","getTooltipMarker","inOpt","extraCssText","renderMode","markerId","content","borderRadius","formatTime","getUTC","M","h","m","s","S","pad","capitalFirst","substr","convertToColorString","defaultColor","colorStops","windowOpen","link","blank","window","open","opener","location","href","mathMax","mathMin","_customShapeMap","extendShape","Path","extendPathFromString","pathTool","extendPath","pathData","registerShape","ShapeClass","getShapeClass","makePath","rect","centerGraphic","resizePath","makeImage","imageUrl","zrImg","ZRImage","onload","img","boundingRect","setStyle","aspect","mergePath","applyTransform","pathRect","calculateTransform","subPixelOptimizeLine","subPixelOptimizeUtil","subPixelOptimizeRect","subPixelOptimize","getTransform","ancestor","mat","matrix","getLocalTransform","transform","invert","Transformable","vector","transformDirection","direction","hBase","vBase","vertex","isNotGroup","isGroup","isPath","groupTransition","g1","g2","animatableModel","elMap1","getElMap","traverse","anid","oldEl","newProp","getAnimatableProps","updateProps","getECData","g","elMap","clipPointsByRect","points","point","clipRectByRect","targetRect","x2","y2","createIcon","iconStr","innerOpts","rectHover","strokeNoScale","indexOf","linePolygonIntersect","a1x","a1y","a2x","a2y","p2","p","lineLineIntersect","b1x","b1y","b2x","b2y","mx","my","nx","ny","nmCrossProduct","crossProduct2d","nearZero","b1a1x","b1a1y","x1","y1","setTooltipConfig","itemTooltipOption","itemName","itemTooltipOptionObj","formatterParams","formatterParamsExtra","ecData","componentMainType","tooltipConfig","encodeHTMLContent","traverseElement","stopped","traverseElements","els","Circle","Ellipse","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","setCommonECData","dataIdx","ssrType","childECData","LOCATION_PARAMS","HV_NAMES","boxLayout","orient","gap","maxWidth","maxHeight","currentLineMaxSize","eachChild","nextX","nextY","nextChild","childAt","nextChildRect","moveX","newline","moveY","markRedraw","box","getAvailableSize","positionInfo","containerRect","containerWidth","containerHeight","parsePercent","getLayoutRect","verticalMargin","horizontalMargin","BoundingRect","positionElement","hv","v","boundingMode","needLocalTransform","layoutRect","dx","dy","sizeCalculable","hvIdx","ins","targetOption","ignoreSize","hResult","vResult","names","newParams","newValueCount","merged","mergedValueCount","enoughParamNumber","hasProp","hasValue","copy","copyLayoutParams","ECHARTS_PREFIX","storedLogs","hasConsole","console","warn","outputLog","onlyOnce","deprecateLog","msg","interpolateNumber","p0","p1","percent","DUMMY_COMPONENT_NAME_PREFIX","INTERNAL_COMPONENT_ID_PREFIX","Array","defaultEmphasis","subOpts","subOptName","TEXT_STYLE_OPTIONS","getDataItemValue","dataItem","isDataItemOption","mappingToExists","existings","newCmptOptions","mode","isNormalMergeMode","isReplaceMergeMode","isReplaceAllMode","existingIdIdxMap","cmptOption","prepareResult","mappingById","mappingByName","mappingByIndex","mappingInReplaceAllMode","makeIdAndName","isComponentIdInternal","optionId","makeComparableKey","existingIdx","keyExistAndEqual","nextIdx","mapResult","idMap","idNum","obj1","obj2","key1","convertOptionIdName","key2","defaultValue","isStringSafe","isNameSpecified","makeInternalComponentId","idSuffix","setComponentTypeToKeyInfo","componentModelCtor","existComponent","compressBatches","batchA","batchB","mapA","mapB","makeMap","mapToArray","sourceBatch","otherMap","otherDataIndices","lenj","isData","dataIndexInside","indexOfRawIndex","indexOfName","innerUniqueIndex","hostObj","getRandomIdBase","parseFinder","finderInput","preParseFinder","mainTypeSpecified","queryOptionMap","others","defaultMainType","queryOption","queryResult","useDefault","enableAll","enableNone","finder","parsedKey","queryType","includeMainTypes","MULTIPLE_REFERRING","userOption","indexOption","idOption","nameOption","specified","firstCmpt","setAttribute","dom","getAttribute","getTooltipRenderMode","renderModeOption","domSupported","groupData","array","getKey","buckets","interpolateRawValues","sourceValue","targetValue","isAutoPrecision","interpolated","leftArr","rightArr","length_1","leftVal","rightVal","RADIAN_EPSILON","ROUND_SUPPORTED_PRECISION_MAX","_trim","linearMap","domain","range","d0","d1","r0","r1","subDomain","subRange","all","returnStr","toFixed","asc","arr","e","getPrecisionSafe","eIndex","exp","significandPartLen","dotIndex","decimalPartLen","getPixelPrecision","dataExtent","pixelExtent","LN10","dataQuantity","sizeQuantity","getPercentWithPrecision","valueList","seats","getPercentSeats","acc","digits","votesPerQuota","targetSeats","votes","currentSum","remainder","Number","NEGATIVE_INFINITY","maxId","seat","val0","val1","maxPrecision","MAX_SAFE_INTEGER","remRadian","radian","pi2","isRadianAroundZero","TIME_REG","exec","hour","UTC","substring","quantity","nf","exponent","quantile","ascArr","H","reformIntervals","littleThan","curr","currClose","close_1","close","lg","splice","valFloat","getGreatestCommonDividor","SausageShape","SausagePath","getDefaultShape","buildPath","dr","rCenter","PI2","lessThanCircle","unitStartX","cos","unitStartY","sin","unitEndX","unitEndY","moveTo","_highlightNextDigit","_highlightKeyMap","getSavedStates","getComponentStates","HOVER_STATE_NORMAL","HOVER_STATE_BLUR","HOVER_STATE_EMPHASIS","SPECIAL_STATES","DISPLAY_STATES","Z2_EMPHASIS_LIFT","Z2_SELECT_LIFT","HIGHLIGHT_ACTION_TYPE","DOWNPLAY_ACTION_TYPE","SELECT_ACTION_TYPE","UNSELECT_ACTION_TYPE","TOGGLE_SELECT_ACTION_TYPE","hasFillOrStroke","fillOrStroke","doChangeHoverState","stateName","hoverStateEnum","onHoverStateChange","hoverState","singleEnterEmphasis","singleLeaveEmphasis","singleEnterBlur","singleLeaveBlur","singleEnterSelect","singleLeaveSelect","updateElementState","updater","commonParam","traverseUpdateState","setStatesFlag","getFromStateStyle","toStateName","fromState","animators","animator","__fromStateTransition","targetName","saveTo","createEmphasisDefaultState","targetStates","state","hasSelect","cloned","store","fromFill","selectFill","normalFill","fromStroke","selectStroke","normalStroke","emphasisStyle","liftColor","z2","z2EmphasisLift","createSelectDefaultState","z2SelectLift","createBlurDefaultState","hasBlur","currentStates","currentOpacity","blurStyle","elementStateProxy","states","setDefaultStateProxy","stateProxy","getTextContent","textGuide","getTextGuideLine","enterEmphasisWhenMouseOver","shouldSilent","__highByOuter","leaveEmphasisWhenMouseOut","enterEmphasis","highlightDigit","leaveEmphasis","enterBlur","leaveBlur","enterSelect","leaveSelect","__highDownSilentOnTouch","zrByTouch","allLeaveBlur","leaveBlurredSeries","allComponentViews","componentStates","getViewOfSeriesModel","getViewOfComponentModel","isBlured","toggleBlurSeries","blurSeries","targetSeriesIndex","leaveBlurOfIndices","itemEl","getItemGraphicEl","targetSeriesModel","targetCoordSys","master","blurredSeries","sameSeries","sameCoordSys","dataTypes","blurComponent","focusBlurEnabled","blurSeriesFromHighlightPayload","current","focus_1","findComponentHighDownDispatchers","focusSelf","dispatchers","findHighDownDispatchers","handleGlobalMouseOverForHighDown","dispatcher","componentHighDownName","handleGlobalMouseOutForHighDown","toggleSelectionFromPayload","isSelectChangePayload","updateSeriesElementSelection","allData","eachItemGraphicEl","getAllSelectedIndices","enableHoverEmphasis","setAsHighDownDispatcher","enableHoverFocus","disableHoverEmphasis","toggleHoverEmphasis","isDisabled","OTHER_STATES","defaultStyleGetterMap","setStatesStylesFromModel","styleType","getter","ensureState","asDispatcher","disable","extendedEl","highDownSilentOnTouch","__highDownDispatcher","isHighDownDispatcher","enableComponentHighDownFeatures","getHighlightDigit","highlightKey","payloadType","isHighDownPayload","savePathStates","selectState","isEC4CompatibleStyle","elType","hasOwnTextContentOption","hasOwnTextConfig","legacy","convertFromEC4CompatibleStyle","hostStyle","isNormal","textContentStyle","srcStyle","textFill","textStroke","silent","hasOwnPos","textPosition","offset","textOffset","textRotation","textDistance","convertEC4CompatibleRichItem","richItem","textFont","textStrokeWidth","textAlign","textVerticalAlign","textLineHeight","textHeight","textBackgroundColor","textPadding","textBorderColor","borderWidth","textBorderWidth","textBorderRadius","shadowColor","textBoxShadowColor","shadowBlur","textBoxShadowBlur","shadowOffsetX","textBoxShadowOffsetX","shadowOffsetY","textBoxShadowOffsetY","convertToEC4StyleForCustomSerise","itemStl","txStl","txCfg","isInside","hostFill","convertToEC4RichItem","textFillNotSet","insideFill","insideStroke","outsideFill","outsideStroke","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","Triangle","lineTo","closePath","Diamond","Pin","w","angle","asin","tanX","tanY","cpLen","cpLen2","bezierCurveTo","Arrow","symbolCtors","roundRect","square","circle","diamond","pin","arrow","triangle","symbolShapeMakers","symbolBuildProxies","SymbolClz","calculateTextPosition","config","inBundle","proxySymbol","symbolPathSetColor","symbolStyle","__isEmptyBrush","keepAspect","symbolPath","setColor","normalizeSymbolSize","normalizeSymbolOffset","symbolOffset","retrieve2","ORIGIN_METHOD","RATE","THROTTLE_TYPE","throttle","debounce","currCall","diff","debounceNextCall","lastCall","lastExec","timer","cbArgs","thisDelay","thisDebounce","clearTimeout","setTimeout","clear","debounceDelay","createOrUpdate","fnAttr","throttleType","originFn","lastThrottleType","lastRate","defaultLeveledFormatter","year","month","day","minute","millisecond","none","fullDayFormatter","primaryTimeUnits","timeUnit","time","template","A","localeModel","SYSTEM_LANG","getDefaultLocaleModel","timeModel","monthAbbr","dayOfWeek","dayOfWeekAbbr","mergedFormatter","inherit","getUnitFromValue","targetId","levelId","isSecond","isMinute","isHour","isDay","isMonth","isYear","VISUAL_DIMENSIONS","SOURCE_FORMAT_ORIGINAL","SOURCE_FORMAT_ARRAY_ROWS","SOURCE_FORMAT_OBJECT_ROWS","SOURCE_FORMAT_KEYED_COLUMNS","SOURCE_FORMAT_TYPED_ARRAY","SOURCE_FORMAT_UNKNOWN","SERIES_LAYOUT_BY_COLUMN","SERIES_LAYOUT_BY_ROW","supportFloat32Array","Float32Array","Float32ArrayCtor","createFloat32Array","arg","renderPlanner","createRenderPlanner","ChartView","Group","renderTask","plan","renderTaskPlan","renderTaskReset","render","highlight","toggleHighlight","remove","removeAll","dispose","updateView","updateLayout","updateVisual","eachRendered","markUpdateMethod","updateMethod","elSetState","progressiveRender","pipelineContext","progressMethodMap","incrementalPrepareRender","progress","incrementalRender","forceFirstProgress","ComponentView","seriesModels","isBlur"],"sourceRoot":""}