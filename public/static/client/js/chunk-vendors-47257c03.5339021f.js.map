{"version":3,"file":"static/client/js/chunk-vendors-47257c03.5339021f.js","mappings":"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","sources":["webpack://d1/./node_modules/echarts/lib/coord/axisTickLabelBuilder.js","webpack://d1/./node_modules/echarts/lib/coord/Axis.js","webpack://d1/./node_modules/echarts/lib/coord/CoordinateSystem.js","webpack://d1/./node_modules/echarts/lib/coord/View.js","webpack://d1/./node_modules/echarts/lib/coord/axisAlignTicks.js","webpack://d1/./node_modules/echarts/lib/coord/axisDefault.js","webpack://d1/./node_modules/echarts/lib/coord/axisHelper.js","webpack://d1/./node_modules/echarts/lib/coord/axisModelCommonMixin.js","webpack://d1/./node_modules/echarts/lib/coord/axisCommonTypes.js","webpack://d1/./node_modules/echarts/lib/coord/axisModelCreator.js","webpack://d1/./node_modules/echarts/lib/coord/calendar/Calendar.js","webpack://d1/./node_modules/echarts/lib/coord/calendar/CalendarModel.js","webpack://d1/./node_modules/echarts/lib/coord/calendar/prepareCustom.js","webpack://d1/./node_modules/echarts/lib/coord/cartesian/AxisModel.js","webpack://d1/./node_modules/echarts/lib/coord/cartesian/Cartesian.js","webpack://d1/./node_modules/echarts/lib/coord/cartesian/Cartesian2D.js","webpack://d1/./node_modules/echarts/lib/coord/cartesian/Axis2D.js","webpack://d1/./node_modules/echarts/lib/coord/cartesian/Grid.js","webpack://d1/./node_modules/echarts/lib/coord/cartesian/GridModel.js","webpack://d1/./node_modules/echarts/lib/coord/cartesian/cartesianAxisHelper.js","webpack://d1/./node_modules/echarts/lib/coord/cartesian/prepareCustom.js","webpack://d1/./node_modules/echarts/lib/coord/geo/GeoModel.js","webpack://d1/./node_modules/echarts/lib/coord/geo/Region.js","webpack://d1/./node_modules/echarts/lib/coord/geo/fix/geoCoord.js","webpack://d1/./node_modules/echarts/lib/coord/geo/fix/textCoord.js","webpack://d1/./node_modules/echarts/lib/coord/geo/Geo.js","webpack://d1/./node_modules/echarts/lib/coord/geo/geoCreator.js","webpack://d1/./node_modules/echarts/lib/coord/geo/GeoSVGResource.js","webpack://d1/./node_modules/echarts/lib/coord/geo/fix/nanhai.js","webpack://d1/./node_modules/echarts/lib/coord/geo/fix/diaoyuIsland.js","webpack://d1/./node_modules/echarts/lib/coord/geo/GeoJSONResource.js","webpack://d1/./node_modules/echarts/lib/coord/geo/geoSourceManager.js","webpack://d1/./node_modules/echarts/lib/coord/geo/parseGeoJson.js","webpack://d1/./node_modules/echarts/lib/coord/geo/prepareCustom.js","webpack://d1/./node_modules/echarts/lib/coord/parallel/AxisModel.js","webpack://d1/./node_modules/echarts/lib/coord/parallel/ParallelModel.js","webpack://d1/./node_modules/echarts/lib/coord/parallel/ParallelAxis.js","webpack://d1/./node_modules/echarts/lib/coord/parallel/Parallel.js","webpack://d1/./node_modules/echarts/lib/coord/parallel/parallelCreator.js","webpack://d1/./node_modules/echarts/lib/coord/parallel/parallelPreprocessor.js","webpack://d1/./node_modules/echarts/lib/coord/polar/AxisModel.js","webpack://d1/./node_modules/echarts/lib/coord/polar/PolarModel.js","webpack://d1/./node_modules/echarts/lib/coord/polar/RadiusAxis.js","webpack://d1/./node_modules/echarts/lib/coord/polar/AngleAxis.js","webpack://d1/./node_modules/echarts/lib/coord/polar/Polar.js","webpack://d1/./node_modules/echarts/lib/coord/polar/polarCreator.js","webpack://d1/./node_modules/echarts/lib/coord/polar/prepareCustom.js","webpack://d1/./node_modules/echarts/lib/coord/radar/IndicatorAxis.js","webpack://d1/./node_modules/echarts/lib/coord/radar/Radar.js","webpack://d1/./node_modules/echarts/lib/coord/radar/RadarModel.js","webpack://d1/./node_modules/echarts/lib/coord/scaleRawExtentInfo.js","webpack://d1/./node_modules/echarts/lib/coord/single/AxisModel.js","webpack://d1/./node_modules/echarts/lib/coord/single/prepareCustom.js","webpack://d1/./node_modules/echarts/lib/coord/single/singleAxisHelper.js","webpack://d1/./node_modules/echarts/lib/coord/single/SingleAxis.js","webpack://d1/./node_modules/echarts/lib/coord/single/Single.js","webpack://d1/./node_modules/echarts/lib/coord/single/singleCreator.js","webpack://d1/./node_modules/echarts/lib/core/CoordinateSystem.js","webpack://d1/./node_modules/echarts/lib/core/ExtensionAPI.js","webpack://d1/./node_modules/echarts/lib/core/Scheduler.js","webpack://d1/./node_modules/echarts/lib/core/lifecycle.js","webpack://d1/./node_modules/echarts/lib/core/echarts.js","webpack://d1/./node_modules/echarts/lib/core/impl.js","webpack://d1/./node_modules/echarts/lib/core/locale.js","webpack://d1/./node_modules/echarts/lib/core/task.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as textContain from 'zrender/lib/contain/text.js';\nimport { makeInner } from '../util/model.js';\nimport { makeLabelFormatter, getOptionCategoryInterval, shouldShowAllLabels } from './axisHelper.js';\nvar inner = makeInner();\nfunction tickValuesToNumbers(axis, values) {\n  var nums = zrUtil.map(values, function (val) {\n    return axis.scale.parse(val);\n  });\n  if (axis.type === 'time' && nums.length > 0) {\n    // Time axis needs duplicate first/last tick (see TimeScale.getTicks())\n    // The first and last tick/label don't get drawn\n    nums.sort();\n    nums.unshift(nums[0]);\n    nums.push(nums[nums.length - 1]);\n  }\n  return nums;\n}\nexport function createAxisLabels(axis) {\n  var custom = axis.getLabelModel().get('customValues');\n  if (custom) {\n    var labelFormatter_1 = makeLabelFormatter(axis);\n    return {\n      labels: tickValuesToNumbers(axis, custom).map(function (numval) {\n        var tick = {\n          value: numval\n        };\n        return {\n          formattedLabel: labelFormatter_1(tick),\n          rawLabel: axis.scale.getLabel(tick),\n          tickValue: numval\n        };\n      })\n    };\n  }\n  // Only ordinal scale support tick interval\n  return axis.type === 'category' ? makeCategoryLabels(axis) : makeRealNumberLabels(axis);\n}\n/**\n * @param {module:echats/coord/Axis} axis\n * @param {module:echarts/model/Model} tickModel For example, can be axisTick, splitLine, splitArea.\n * @return {Object} {\n *     ticks: Array.<number>\n *     tickCategoryInterval: number\n * }\n */\nexport function createAxisTicks(axis, tickModel) {\n  var custom = axis.getTickModel().get('customValues');\n  if (custom) {\n    return {\n      ticks: tickValuesToNumbers(axis, custom)\n    };\n  }\n  // Only ordinal scale support tick interval\n  return axis.type === 'category' ? makeCategoryTicks(axis, tickModel) : {\n    ticks: zrUtil.map(axis.scale.getTicks(), function (tick) {\n      return tick.value;\n    })\n  };\n}\nfunction makeCategoryLabels(axis) {\n  var labelModel = axis.getLabelModel();\n  var result = makeCategoryLabelsActually(axis, labelModel);\n  return !labelModel.get('show') || axis.scale.isBlank() ? {\n    labels: [],\n    labelCategoryInterval: result.labelCategoryInterval\n  } : result;\n}\nfunction makeCategoryLabelsActually(axis, labelModel) {\n  var labelsCache = getListCache(axis, 'labels');\n  var optionLabelInterval = getOptionCategoryInterval(labelModel);\n  var result = listCacheGet(labelsCache, optionLabelInterval);\n  if (result) {\n    return result;\n  }\n  var labels;\n  var numericLabelInterval;\n  if (zrUtil.isFunction(optionLabelInterval)) {\n    labels = makeLabelsByCustomizedCategoryInterval(axis, optionLabelInterval);\n  } else {\n    numericLabelInterval = optionLabelInterval === 'auto' ? makeAutoCategoryInterval(axis) : optionLabelInterval;\n    labels = makeLabelsByNumericCategoryInterval(axis, numericLabelInterval);\n  }\n  // Cache to avoid calling interval function repeatedly.\n  return listCacheSet(labelsCache, optionLabelInterval, {\n    labels: labels,\n    labelCategoryInterval: numericLabelInterval\n  });\n}\nfunction makeCategoryTicks(axis, tickModel) {\n  var ticksCache = getListCache(axis, 'ticks');\n  var optionTickInterval = getOptionCategoryInterval(tickModel);\n  var result = listCacheGet(ticksCache, optionTickInterval);\n  if (result) {\n    return result;\n  }\n  var ticks;\n  var tickCategoryInterval;\n  // Optimize for the case that large category data and no label displayed,\n  // we should not return all ticks.\n  if (!tickModel.get('show') || axis.scale.isBlank()) {\n    ticks = [];\n  }\n  if (zrUtil.isFunction(optionTickInterval)) {\n    ticks = makeLabelsByCustomizedCategoryInterval(axis, optionTickInterval, true);\n  }\n  // Always use label interval by default despite label show. Consider this\n  // scenario, Use multiple grid with the xAxis sync, and only one xAxis shows\n  // labels. `splitLine` and `axisTick` should be consistent in this case.\n  else if (optionTickInterval === 'auto') {\n    var labelsResult = makeCategoryLabelsActually(axis, axis.getLabelModel());\n    tickCategoryInterval = labelsResult.labelCategoryInterval;\n    ticks = zrUtil.map(labelsResult.labels, function (labelItem) {\n      return labelItem.tickValue;\n    });\n  } else {\n    tickCategoryInterval = optionTickInterval;\n    ticks = makeLabelsByNumericCategoryInterval(axis, tickCategoryInterval, true);\n  }\n  // Cache to avoid calling interval function repeatedly.\n  return listCacheSet(ticksCache, optionTickInterval, {\n    ticks: ticks,\n    tickCategoryInterval: tickCategoryInterval\n  });\n}\nfunction makeRealNumberLabels(axis) {\n  var ticks = axis.scale.getTicks();\n  var labelFormatter = makeLabelFormatter(axis);\n  return {\n    labels: zrUtil.map(ticks, function (tick, idx) {\n      return {\n        level: tick.level,\n        formattedLabel: labelFormatter(tick, idx),\n        rawLabel: axis.scale.getLabel(tick),\n        tickValue: tick.value\n      };\n    })\n  };\n}\nfunction getListCache(axis, prop) {\n  // Because key can be a function, and cache size always is small, we use array cache.\n  return inner(axis)[prop] || (inner(axis)[prop] = []);\n}\nfunction listCacheGet(cache, key) {\n  for (var i = 0; i < cache.length; i++) {\n    if (cache[i].key === key) {\n      return cache[i].value;\n    }\n  }\n}\nfunction listCacheSet(cache, key, value) {\n  cache.push({\n    key: key,\n    value: value\n  });\n  return value;\n}\nfunction makeAutoCategoryInterval(axis) {\n  var result = inner(axis).autoInterval;\n  return result != null ? result : inner(axis).autoInterval = axis.calculateCategoryInterval();\n}\n/**\n * Calculate interval for category axis ticks and labels.\n * To get precise result, at least one of `getRotate` and `isHorizontal`\n * should be implemented in axis.\n */\nexport function calculateCategoryInterval(axis) {\n  var params = fetchAutoCategoryIntervalCalculationParams(axis);\n  var labelFormatter = makeLabelFormatter(axis);\n  var rotation = (params.axisRotate - params.labelRotate) / 180 * Math.PI;\n  var ordinalScale = axis.scale;\n  var ordinalExtent = ordinalScale.getExtent();\n  // Providing this method is for optimization:\n  // avoid generating a long array by `getTicks`\n  // in large category data case.\n  var tickCount = ordinalScale.count();\n  if (ordinalExtent[1] - ordinalExtent[0] < 1) {\n    return 0;\n  }\n  var step = 1;\n  // Simple optimization. Empirical value: tick count should less than 40.\n  if (tickCount > 40) {\n    step = Math.max(1, Math.floor(tickCount / 40));\n  }\n  var tickValue = ordinalExtent[0];\n  var unitSpan = axis.dataToCoord(tickValue + 1) - axis.dataToCoord(tickValue);\n  var unitW = Math.abs(unitSpan * Math.cos(rotation));\n  var unitH = Math.abs(unitSpan * Math.sin(rotation));\n  var maxW = 0;\n  var maxH = 0;\n  // Caution: Performance sensitive for large category data.\n  // Consider dataZoom, we should make appropriate step to avoid O(n) loop.\n  for (; tickValue <= ordinalExtent[1]; tickValue += step) {\n    var width = 0;\n    var height = 0;\n    // Not precise, do not consider align and vertical align\n    // and each distance from axis line yet.\n    var rect = textContain.getBoundingRect(labelFormatter({\n      value: tickValue\n    }), params.font, 'center', 'top');\n    // Magic number\n    width = rect.width * 1.3;\n    height = rect.height * 1.3;\n    // Min size, void long loop.\n    maxW = Math.max(maxW, width, 7);\n    maxH = Math.max(maxH, height, 7);\n  }\n  var dw = maxW / unitW;\n  var dh = maxH / unitH;\n  // 0/0 is NaN, 1/0 is Infinity.\n  isNaN(dw) && (dw = Infinity);\n  isNaN(dh) && (dh = Infinity);\n  var interval = Math.max(0, Math.floor(Math.min(dw, dh)));\n  var cache = inner(axis.model);\n  var axisExtent = axis.getExtent();\n  var lastAutoInterval = cache.lastAutoInterval;\n  var lastTickCount = cache.lastTickCount;\n  // Use cache to keep interval stable while moving zoom window,\n  // otherwise the calculated interval might jitter when the zoom\n  // window size is close to the interval-changing size.\n  // For example, if all of the axis labels are `a, b, c, d, e, f, g`.\n  // The jitter will cause that sometimes the displayed labels are\n  // `a, d, g` (interval: 2) sometimes `a, c, e`(interval: 1).\n  if (lastAutoInterval != null && lastTickCount != null && Math.abs(lastAutoInterval - interval) <= 1 && Math.abs(lastTickCount - tickCount) <= 1\n  // Always choose the bigger one, otherwise the critical\n  // point is not the same when zooming in or zooming out.\n  && lastAutoInterval > interval\n  // If the axis change is caused by chart resize, the cache should not\n  // be used. Otherwise some hidden labels might not be shown again.\n  && cache.axisExtent0 === axisExtent[0] && cache.axisExtent1 === axisExtent[1]) {\n    interval = lastAutoInterval;\n  }\n  // Only update cache if cache not used, otherwise the\n  // changing of interval is too insensitive.\n  else {\n    cache.lastTickCount = tickCount;\n    cache.lastAutoInterval = interval;\n    cache.axisExtent0 = axisExtent[0];\n    cache.axisExtent1 = axisExtent[1];\n  }\n  return interval;\n}\nfunction fetchAutoCategoryIntervalCalculationParams(axis) {\n  var labelModel = axis.getLabelModel();\n  return {\n    axisRotate: axis.getRotate ? axis.getRotate() : axis.isHorizontal && !axis.isHorizontal() ? 90 : 0,\n    labelRotate: labelModel.get('rotate') || 0,\n    font: labelModel.getFont()\n  };\n}\nfunction makeLabelsByNumericCategoryInterval(axis, categoryInterval, onlyTick) {\n  var labelFormatter = makeLabelFormatter(axis);\n  var ordinalScale = axis.scale;\n  var ordinalExtent = ordinalScale.getExtent();\n  var labelModel = axis.getLabelModel();\n  var result = [];\n  // TODO: axisType: ordinalTime, pick the tick from each month/day/year/...\n  var step = Math.max((categoryInterval || 0) + 1, 1);\n  var startTick = ordinalExtent[0];\n  var tickCount = ordinalScale.count();\n  // Calculate start tick based on zero if possible to keep label consistent\n  // while zooming and moving while interval > 0. Otherwise the selection\n  // of displayable ticks and symbols probably keep changing.\n  // 3 is empirical value.\n  if (startTick !== 0 && step > 1 && tickCount / step > 2) {\n    startTick = Math.round(Math.ceil(startTick / step) * step);\n  }\n  // (1) Only add min max label here but leave overlap checking\n  // to render stage, which also ensure the returned list\n  // suitable for splitLine and splitArea rendering.\n  // (2) Scales except category always contain min max label so\n  // do not need to perform this process.\n  var showAllLabel = shouldShowAllLabels(axis);\n  var includeMinLabel = labelModel.get('showMinLabel') || showAllLabel;\n  var includeMaxLabel = labelModel.get('showMaxLabel') || showAllLabel;\n  if (includeMinLabel && startTick !== ordinalExtent[0]) {\n    addItem(ordinalExtent[0]);\n  }\n  // Optimize: avoid generating large array by `ordinalScale.getTicks()`.\n  var tickValue = startTick;\n  for (; tickValue <= ordinalExtent[1]; tickValue += step) {\n    addItem(tickValue);\n  }\n  if (includeMaxLabel && tickValue - step !== ordinalExtent[1]) {\n    addItem(ordinalExtent[1]);\n  }\n  function addItem(tickValue) {\n    var tickObj = {\n      value: tickValue\n    };\n    result.push(onlyTick ? tickValue : {\n      formattedLabel: labelFormatter(tickObj),\n      rawLabel: ordinalScale.getLabel(tickObj),\n      tickValue: tickValue\n    });\n  }\n  return result;\n}\nfunction makeLabelsByCustomizedCategoryInterval(axis, categoryInterval, onlyTick) {\n  var ordinalScale = axis.scale;\n  var labelFormatter = makeLabelFormatter(axis);\n  var result = [];\n  zrUtil.each(ordinalScale.getTicks(), function (tick) {\n    var rawLabel = ordinalScale.getLabel(tick);\n    var tickValue = tick.value;\n    if (categoryInterval(tick.value, rawLabel)) {\n      result.push(onlyTick ? tickValue : {\n        formattedLabel: labelFormatter(tick),\n        rawLabel: rawLabel,\n        tickValue: tickValue\n      });\n    }\n  });\n  return result;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, map } from 'zrender/lib/core/util.js';\nimport { linearMap, getPixelPrecision, round } from '../util/number.js';\nimport { createAxisTicks, createAxisLabels, calculateCategoryInterval } from './axisTickLabelBuilder.js';\nvar NORMALIZED_EXTENT = [0, 1];\n/**\n * Base class of Axis.\n */\nvar Axis = /** @class */function () {\n  function Axis(dim, scale, extent) {\n    this.onBand = false;\n    this.inverse = false;\n    this.dim = dim;\n    this.scale = scale;\n    this._extent = extent || [0, 0];\n  }\n  /**\n   * If axis extent contain given coord\n   */\n  Axis.prototype.contain = function (coord) {\n    var extent = this._extent;\n    var min = Math.min(extent[0], extent[1]);\n    var max = Math.max(extent[0], extent[1]);\n    return coord >= min && coord <= max;\n  };\n  /**\n   * If axis extent contain given data\n   */\n  Axis.prototype.containData = function (data) {\n    return this.scale.contain(data);\n  };\n  /**\n   * Get coord extent.\n   */\n  Axis.prototype.getExtent = function () {\n    return this._extent.slice();\n  };\n  /**\n   * Get precision used for formatting\n   */\n  Axis.prototype.getPixelPrecision = function (dataExtent) {\n    return getPixelPrecision(dataExtent || this.scale.getExtent(), this._extent);\n  };\n  /**\n   * Set coord extent\n   */\n  Axis.prototype.setExtent = function (start, end) {\n    var extent = this._extent;\n    extent[0] = start;\n    extent[1] = end;\n  };\n  /**\n   * Convert data to coord. Data is the rank if it has an ordinal scale\n   */\n  Axis.prototype.dataToCoord = function (data, clamp) {\n    var extent = this._extent;\n    var scale = this.scale;\n    data = scale.normalize(data);\n    if (this.onBand && scale.type === 'ordinal') {\n      extent = extent.slice();\n      fixExtentWithBands(extent, scale.count());\n    }\n    return linearMap(data, NORMALIZED_EXTENT, extent, clamp);\n  };\n  /**\n   * Convert coord to data. Data is the rank if it has an ordinal scale\n   */\n  Axis.prototype.coordToData = function (coord, clamp) {\n    var extent = this._extent;\n    var scale = this.scale;\n    if (this.onBand && scale.type === 'ordinal') {\n      extent = extent.slice();\n      fixExtentWithBands(extent, scale.count());\n    }\n    var t = linearMap(coord, extent, NORMALIZED_EXTENT, clamp);\n    return this.scale.scale(t);\n  };\n  /**\n   * Convert pixel point to data in axis\n   */\n  Axis.prototype.pointToData = function (point, clamp) {\n    // Should be implemented in derived class if necessary.\n    return;\n  };\n  /**\n   * Different from `zrUtil.map(axis.getTicks(), axis.dataToCoord, axis)`,\n   * `axis.getTicksCoords` considers `onBand`, which is used by\n   * `boundaryGap:true` of category axis and splitLine and splitArea.\n   * @param opt.tickModel default: axis.model.getModel('axisTick')\n   * @param opt.clamp If `true`, the first and the last\n   *        tick must be at the axis end points. Otherwise, clip ticks\n   *        that outside the axis extent.\n   */\n  Axis.prototype.getTicksCoords = function (opt) {\n    opt = opt || {};\n    var tickModel = opt.tickModel || this.getTickModel();\n    var result = createAxisTicks(this, tickModel);\n    var ticks = result.ticks;\n    var ticksCoords = map(ticks, function (tickVal) {\n      return {\n        coord: this.dataToCoord(this.scale.type === 'ordinal' ? this.scale.getRawOrdinalNumber(tickVal) : tickVal),\n        tickValue: tickVal\n      };\n    }, this);\n    var alignWithLabel = tickModel.get('alignWithLabel');\n    fixOnBandTicksCoords(this, ticksCoords, alignWithLabel, opt.clamp);\n    return ticksCoords;\n  };\n  Axis.prototype.getMinorTicksCoords = function () {\n    if (this.scale.type === 'ordinal') {\n      // Category axis doesn't support minor ticks\n      return [];\n    }\n    var minorTickModel = this.model.getModel('minorTick');\n    var splitNumber = minorTickModel.get('splitNumber');\n    // Protection.\n    if (!(splitNumber > 0 && splitNumber < 100)) {\n      splitNumber = 5;\n    }\n    var minorTicks = this.scale.getMinorTicks(splitNumber);\n    var minorTicksCoords = map(minorTicks, function (minorTicksGroup) {\n      return map(minorTicksGroup, function (minorTick) {\n        return {\n          coord: this.dataToCoord(minorTick),\n          tickValue: minorTick\n        };\n      }, this);\n    }, this);\n    return minorTicksCoords;\n  };\n  Axis.prototype.getViewLabels = function () {\n    return createAxisLabels(this).labels;\n  };\n  Axis.prototype.getLabelModel = function () {\n    return this.model.getModel('axisLabel');\n  };\n  /**\n   * Notice here we only get the default tick model. For splitLine\n   * or splitArea, we should pass the splitLineModel or splitAreaModel\n   * manually when calling `getTicksCoords`.\n   * In GL, this method may be overridden to:\n   * `axisModel.getModel('axisTick', grid3DModel.getModel('axisTick'));`\n   */\n  Axis.prototype.getTickModel = function () {\n    return this.model.getModel('axisTick');\n  };\n  /**\n   * Get width of band\n   */\n  Axis.prototype.getBandWidth = function () {\n    var axisExtent = this._extent;\n    var dataExtent = this.scale.getExtent();\n    var len = dataExtent[1] - dataExtent[0] + (this.onBand ? 1 : 0);\n    // Fix #2728, avoid NaN when only one data.\n    len === 0 && (len = 1);\n    var size = Math.abs(axisExtent[1] - axisExtent[0]);\n    return Math.abs(size) / len;\n  };\n  /**\n   * Only be called in category axis.\n   * Can be overridden, consider other axes like in 3D.\n   * @return Auto interval for cateogry axis tick and label\n   */\n  Axis.prototype.calculateCategoryInterval = function () {\n    return calculateCategoryInterval(this);\n  };\n  return Axis;\n}();\nfunction fixExtentWithBands(extent, nTick) {\n  var size = extent[1] - extent[0];\n  var len = nTick;\n  var margin = size / len / 2;\n  extent[0] += margin;\n  extent[1] -= margin;\n}\n// If axis has labels [1, 2, 3, 4]. Bands on the axis are\n// |---1---|---2---|---3---|---4---|.\n// So the displayed ticks and splitLine/splitArea should between\n// each data item, otherwise cause misleading (e.g., split tow bars\n// of a single data item when there are two bar series).\n// Also consider if tickCategoryInterval > 0 and onBand, ticks and\n// splitLine/spliteArea should layout appropriately corresponding\n// to displayed labels. (So we should not use `getBandWidth` in this\n// case).\nfunction fixOnBandTicksCoords(axis, ticksCoords, alignWithLabel, clamp) {\n  var ticksLen = ticksCoords.length;\n  if (!axis.onBand || alignWithLabel || !ticksLen) {\n    return;\n  }\n  var axisExtent = axis.getExtent();\n  var last;\n  var diffSize;\n  if (ticksLen === 1) {\n    ticksCoords[0].coord = axisExtent[0];\n    last = ticksCoords[1] = {\n      coord: axisExtent[1]\n    };\n  } else {\n    var crossLen = ticksCoords[ticksLen - 1].tickValue - ticksCoords[0].tickValue;\n    var shift_1 = (ticksCoords[ticksLen - 1].coord - ticksCoords[0].coord) / crossLen;\n    each(ticksCoords, function (ticksItem) {\n      ticksItem.coord -= shift_1 / 2;\n    });\n    var dataExtent = axis.scale.getExtent();\n    diffSize = 1 + dataExtent[1] - ticksCoords[ticksLen - 1].tickValue;\n    last = {\n      coord: ticksCoords[ticksLen - 1].coord + shift_1 * diffSize\n    };\n    ticksCoords.push(last);\n  }\n  var inverse = axisExtent[0] > axisExtent[1];\n  // Handling clamp.\n  if (littleThan(ticksCoords[0].coord, axisExtent[0])) {\n    clamp ? ticksCoords[0].coord = axisExtent[0] : ticksCoords.shift();\n  }\n  if (clamp && littleThan(axisExtent[0], ticksCoords[0].coord)) {\n    ticksCoords.unshift({\n      coord: axisExtent[0]\n    });\n  }\n  if (littleThan(axisExtent[1], last.coord)) {\n    clamp ? last.coord = axisExtent[1] : ticksCoords.pop();\n  }\n  if (clamp && littleThan(last.coord, axisExtent[1])) {\n    ticksCoords.push({\n      coord: axisExtent[1]\n    });\n  }\n  function littleThan(a, b) {\n    // Avoid rounding error cause calculated tick coord different with extent.\n    // It may cause an extra unnecessary tick added.\n    a = round(a);\n    b = round(b);\n    return inverse ? a > b : a < b;\n  }\n}\nexport default Axis;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport function isCoordinateSystemType(coordSys, type) {\n  return coordSys.type === type;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Simple view coordinate system\n * Mapping given x, y to transformd view x, y\n */\nimport * as vector from 'zrender/lib/core/vector.js';\nimport * as matrix from 'zrender/lib/core/matrix.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport Transformable from 'zrender/lib/core/Transformable.js';\nimport { parsePercent } from '../util/number.js';\nvar v2ApplyTransform = vector.applyTransform;\nvar View = /** @class */function (_super) {\n  __extends(View, _super);\n  function View(name) {\n    var _this = _super.call(this) || this;\n    _this.type = 'view';\n    _this.dimensions = ['x', 'y'];\n    /**\n     * Represents the transform brought by roam/zoom.\n     * If `View['_viewRect']` applies roam transform,\n     * we can get the final displayed rect.\n     */\n    _this._roamTransformable = new Transformable();\n    /**\n     * Represents the transform from `View['_rect']` to `View['_viewRect']`.\n     */\n    _this._rawTransformable = new Transformable();\n    _this.name = name;\n    return _this;\n  }\n  View.prototype.setBoundingRect = function (x, y, width, height) {\n    this._rect = new BoundingRect(x, y, width, height);\n    return this._rect;\n  };\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n  View.prototype.getBoundingRect = function () {\n    return this._rect;\n  };\n  View.prototype.setViewRect = function (x, y, width, height) {\n    this._transformTo(x, y, width, height);\n    this._viewRect = new BoundingRect(x, y, width, height);\n  };\n  /**\n   * Transformed to particular position and size\n   */\n  View.prototype._transformTo = function (x, y, width, height) {\n    var rect = this.getBoundingRect();\n    var rawTransform = this._rawTransformable;\n    rawTransform.transform = rect.calculateTransform(new BoundingRect(x, y, width, height));\n    var rawParent = rawTransform.parent;\n    rawTransform.parent = null;\n    rawTransform.decomposeTransform();\n    rawTransform.parent = rawParent;\n    this._updateTransform();\n  };\n  /**\n   * Set center of view\n   */\n  View.prototype.setCenter = function (centerCoord, api) {\n    if (!centerCoord) {\n      return;\n    }\n    this._center = [parsePercent(centerCoord[0], api.getWidth()), parsePercent(centerCoord[1], api.getHeight())];\n    this._updateCenterAndZoom();\n  };\n  View.prototype.setZoom = function (zoom) {\n    zoom = zoom || 1;\n    var zoomLimit = this.zoomLimit;\n    if (zoomLimit) {\n      if (zoomLimit.max != null) {\n        zoom = Math.min(zoomLimit.max, zoom);\n      }\n      if (zoomLimit.min != null) {\n        zoom = Math.max(zoomLimit.min, zoom);\n      }\n    }\n    this._zoom = zoom;\n    this._updateCenterAndZoom();\n  };\n  /**\n   * Get default center without roam\n   */\n  View.prototype.getDefaultCenter = function () {\n    // Rect before any transform\n    var rawRect = this.getBoundingRect();\n    var cx = rawRect.x + rawRect.width / 2;\n    var cy = rawRect.y + rawRect.height / 2;\n    return [cx, cy];\n  };\n  View.prototype.getCenter = function () {\n    return this._center || this.getDefaultCenter();\n  };\n  View.prototype.getZoom = function () {\n    return this._zoom || 1;\n  };\n  View.prototype.getRoamTransform = function () {\n    return this._roamTransformable.getLocalTransform();\n  };\n  /**\n   * Remove roam\n   */\n  View.prototype._updateCenterAndZoom = function () {\n    // Must update after view transform updated\n    var rawTransformMatrix = this._rawTransformable.getLocalTransform();\n    var roamTransform = this._roamTransformable;\n    var defaultCenter = this.getDefaultCenter();\n    var center = this.getCenter();\n    var zoom = this.getZoom();\n    center = vector.applyTransform([], center, rawTransformMatrix);\n    defaultCenter = vector.applyTransform([], defaultCenter, rawTransformMatrix);\n    roamTransform.originX = center[0];\n    roamTransform.originY = center[1];\n    roamTransform.x = defaultCenter[0] - center[0];\n    roamTransform.y = defaultCenter[1] - center[1];\n    roamTransform.scaleX = roamTransform.scaleY = zoom;\n    this._updateTransform();\n  };\n  /**\n   * Update transform props on `this` based on the current\n   * `this._roamTransformable` and `this._rawTransformable`.\n   */\n  View.prototype._updateTransform = function () {\n    var roamTransformable = this._roamTransformable;\n    var rawTransformable = this._rawTransformable;\n    rawTransformable.parent = roamTransformable;\n    roamTransformable.updateTransform();\n    rawTransformable.updateTransform();\n    matrix.copy(this.transform || (this.transform = []), rawTransformable.transform || matrix.create());\n    this._rawTransform = rawTransformable.getLocalTransform();\n    this.invTransform = this.invTransform || [];\n    matrix.invert(this.invTransform, this.transform);\n    this.decomposeTransform();\n  };\n  View.prototype.getTransformInfo = function () {\n    var rawTransformable = this._rawTransformable;\n    var roamTransformable = this._roamTransformable;\n    // Because roamTransformabel has `originX/originY` modified,\n    // but the caller of `getTransformInfo` can not handle `originX/originY`,\n    // so need to recalculate them.\n    var dummyTransformable = new Transformable();\n    dummyTransformable.transform = roamTransformable.transform;\n    dummyTransformable.decomposeTransform();\n    return {\n      roam: {\n        x: dummyTransformable.x,\n        y: dummyTransformable.y,\n        scaleX: dummyTransformable.scaleX,\n        scaleY: dummyTransformable.scaleY\n      },\n      raw: {\n        x: rawTransformable.x,\n        y: rawTransformable.y,\n        scaleX: rawTransformable.scaleX,\n        scaleY: rawTransformable.scaleY\n      }\n    };\n  };\n  View.prototype.getViewRect = function () {\n    return this._viewRect;\n  };\n  /**\n   * Get view rect after roam transform\n   */\n  View.prototype.getViewRectAfterRoam = function () {\n    var rect = this.getBoundingRect().clone();\n    rect.applyTransform(this.transform);\n    return rect;\n  };\n  /**\n   * Convert a single (lon, lat) data item to (x, y) point.\n   */\n  View.prototype.dataToPoint = function (data, noRoam, out) {\n    var transform = noRoam ? this._rawTransform : this.transform;\n    out = out || [];\n    return transform ? v2ApplyTransform(out, data, transform) : vector.copy(out, data);\n  };\n  /**\n   * Convert a (x, y) point to (lon, lat) data\n   */\n  View.prototype.pointToData = function (point) {\n    var invTransform = this.invTransform;\n    return invTransform ? v2ApplyTransform([], point, invTransform) : [point[0], point[1]];\n  };\n  View.prototype.convertToPixel = function (ecModel, finder, value) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.dataToPoint(value) : null;\n  };\n  View.prototype.convertFromPixel = function (ecModel, finder, pixel) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.pointToData(pixel) : null;\n  };\n  /**\n   * @implements\n   */\n  View.prototype.containPoint = function (point) {\n    return this.getViewRectAfterRoam().contain(point[0], point[1]);\n  };\n  View.dimensions = ['x', 'y'];\n  return View;\n}(Transformable);\nfunction getCoordSys(finder) {\n  var seriesModel = finder.seriesModel;\n  return seriesModel ? seriesModel.coordinateSystem : null; // e.g., graph.\n}\n\nexport default View;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { getPrecisionSafe, round } from '../util/number.js';\nimport IntervalScale from '../scale/Interval.js';\nimport { getScaleExtent } from './axisHelper.js';\nimport { warn } from '../util/log.js';\nimport { increaseInterval, isValueNice } from '../scale/helper.js';\nvar mathLog = Math.log;\nexport function alignScaleTicks(scale, axisModel, alignToScale) {\n  var intervalScaleProto = IntervalScale.prototype;\n  // NOTE: There is a precondition for log scale  here:\n  // In log scale we store _interval and _extent of exponent value.\n  // So if we use the method of InternalScale to set/get these data.\n  // It process the exponent value, which is linear and what we want here.\n  var alignToTicks = intervalScaleProto.getTicks.call(alignToScale);\n  var alignToNicedTicks = intervalScaleProto.getTicks.call(alignToScale, true);\n  var alignToSplitNumber = alignToTicks.length - 1;\n  var alignToInterval = intervalScaleProto.getInterval.call(alignToScale);\n  var scaleExtent = getScaleExtent(scale, axisModel);\n  var rawExtent = scaleExtent.extent;\n  var isMinFixed = scaleExtent.fixMin;\n  var isMaxFixed = scaleExtent.fixMax;\n  if (scale.type === 'log') {\n    var logBase = mathLog(scale.base);\n    rawExtent = [mathLog(rawExtent[0]) / logBase, mathLog(rawExtent[1]) / logBase];\n  }\n  scale.setExtent(rawExtent[0], rawExtent[1]);\n  scale.calcNiceExtent({\n    splitNumber: alignToSplitNumber,\n    fixMin: isMinFixed,\n    fixMax: isMaxFixed\n  });\n  var extent = intervalScaleProto.getExtent.call(scale);\n  // Need to update the rawExtent.\n  // Because value in rawExtent may be not parsed. e.g. 'dataMin', 'dataMax'\n  if (isMinFixed) {\n    rawExtent[0] = extent[0];\n  }\n  if (isMaxFixed) {\n    rawExtent[1] = extent[1];\n  }\n  var interval = intervalScaleProto.getInterval.call(scale);\n  var min = rawExtent[0];\n  var max = rawExtent[1];\n  if (isMinFixed && isMaxFixed) {\n    // User set min, max, divide to get new interval\n    interval = (max - min) / alignToSplitNumber;\n  } else if (isMinFixed) {\n    max = rawExtent[0] + interval * alignToSplitNumber;\n    // User set min, expand extent on the other side\n    while (max < rawExtent[1] && isFinite(max) && isFinite(rawExtent[1])) {\n      interval = increaseInterval(interval);\n      max = rawExtent[0] + interval * alignToSplitNumber;\n    }\n  } else if (isMaxFixed) {\n    // User set max, expand extent on the other side\n    min = rawExtent[1] - interval * alignToSplitNumber;\n    while (min > rawExtent[0] && isFinite(min) && isFinite(rawExtent[0])) {\n      interval = increaseInterval(interval);\n      min = rawExtent[1] - interval * alignToSplitNumber;\n    }\n  } else {\n    var nicedSplitNumber = scale.getTicks().length - 1;\n    if (nicedSplitNumber > alignToSplitNumber) {\n      interval = increaseInterval(interval);\n    }\n    var range = interval * alignToSplitNumber;\n    max = Math.ceil(rawExtent[1] / interval) * interval;\n    min = round(max - range);\n    // Not change the result that crossing zero.\n    if (min < 0 && rawExtent[0] >= 0) {\n      min = 0;\n      max = round(range);\n    } else if (max > 0 && rawExtent[1] <= 0) {\n      max = 0;\n      min = -round(range);\n    }\n  }\n  // Adjust min, max based on the extent of alignTo. When min or max is set in alignTo scale\n  var t0 = (alignToTicks[0].value - alignToNicedTicks[0].value) / alignToInterval;\n  var t1 = (alignToTicks[alignToSplitNumber].value - alignToNicedTicks[alignToSplitNumber].value) / alignToInterval;\n  // NOTE: Must in setExtent -> setInterval -> setNiceExtent order.\n  intervalScaleProto.setExtent.call(scale, min + interval * t0, max + interval * t1);\n  intervalScaleProto.setInterval.call(scale, interval);\n  if (t0 || t1) {\n    intervalScaleProto.setNiceExtent.call(scale, min + interval, max - interval);\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    var ticks = intervalScaleProto.getTicks.call(scale);\n    if (ticks[1] && (!isValueNice(interval) || getPrecisionSafe(ticks[1].value) > getPrecisionSafe(interval))) {\n      warn(\n      // eslint-disable-next-line\n      \"The ticks may be not readable when set min: \" + axisModel.get('min') + \", max: \" + axisModel.get('max') + \" and alignTicks: true\");\n    }\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar defaultOption = {\n  show: true,\n  // zlevel: 0,\n  z: 0,\n  // Inverse the axis.\n  inverse: false,\n  // Axis name displayed.\n  name: '',\n  // 'start' | 'middle' | 'end'\n  nameLocation: 'end',\n  // By degree. By default auto rotate by nameLocation.\n  nameRotate: null,\n  nameTruncate: {\n    maxWidth: null,\n    ellipsis: '...',\n    placeholder: '.'\n  },\n  // Use global text style by default.\n  nameTextStyle: {},\n  // The gap between axisName and axisLine.\n  nameGap: 15,\n  // Default `false` to support tooltip.\n  silent: false,\n  // Default `false` to avoid legacy user event listener fail.\n  triggerEvent: false,\n  tooltip: {\n    show: false\n  },\n  axisPointer: {},\n  axisLine: {\n    show: true,\n    onZero: true,\n    onZeroAxisIndex: null,\n    lineStyle: {\n      color: '#6E7079',\n      width: 1,\n      type: 'solid'\n    },\n    // The arrow at both ends the the axis.\n    symbol: ['none', 'none'],\n    symbolSize: [10, 15]\n  },\n  axisTick: {\n    show: true,\n    // Whether axisTick is inside the grid or outside the grid.\n    inside: false,\n    // The length of axisTick.\n    length: 5,\n    lineStyle: {\n      width: 1\n    }\n  },\n  axisLabel: {\n    show: true,\n    // Whether axisLabel is inside the grid or outside the grid.\n    inside: false,\n    rotate: 0,\n    // true | false | null/undefined (auto)\n    showMinLabel: null,\n    // true | false | null/undefined (auto)\n    showMaxLabel: null,\n    margin: 8,\n    // formatter: null,\n    fontSize: 12\n  },\n  splitLine: {\n    show: true,\n    lineStyle: {\n      color: ['#E0E6F1'],\n      width: 1,\n      type: 'solid'\n    }\n  },\n  splitArea: {\n    show: false,\n    areaStyle: {\n      color: ['rgba(250,250,250,0.2)', 'rgba(210,219,238,0.2)']\n    }\n  }\n};\nvar categoryAxis = zrUtil.merge({\n  // The gap at both ends of the axis. For categoryAxis, boolean.\n  boundaryGap: true,\n  // Set false to faster category collection.\n  deduplication: null,\n  // splitArea: {\n  // show: false\n  // },\n  splitLine: {\n    show: false\n  },\n  axisTick: {\n    // If tick is align with label when boundaryGap is true\n    alignWithLabel: false,\n    interval: 'auto'\n  },\n  axisLabel: {\n    interval: 'auto'\n  }\n}, defaultOption);\nvar valueAxis = zrUtil.merge({\n  boundaryGap: [0, 0],\n  axisLine: {\n    // Not shown when other axis is categoryAxis in cartesian\n    show: 'auto'\n  },\n  axisTick: {\n    // Not shown when other axis is categoryAxis in cartesian\n    show: 'auto'\n  },\n  // TODO\n  // min/max: [30, datamin, 60] or [20, datamin] or [datamin, 60]\n  splitNumber: 5,\n  minorTick: {\n    // Minor tick, not available for cateogry axis.\n    show: false,\n    // Split number of minor ticks. The value should be in range of (0, 100)\n    splitNumber: 5,\n    // Length of minor tick\n    length: 3,\n    // Line style\n    lineStyle: {\n      // Default to be same with axisTick\n    }\n  },\n  minorSplitLine: {\n    show: false,\n    lineStyle: {\n      color: '#F4F7FD',\n      width: 1\n    }\n  }\n}, defaultOption);\nvar timeAxis = zrUtil.merge({\n  splitNumber: 6,\n  axisLabel: {\n    // To eliminate labels that are not nice\n    showMinLabel: false,\n    showMaxLabel: false,\n    rich: {\n      primary: {\n        fontWeight: 'bold'\n      }\n    }\n  },\n  splitLine: {\n    show: false\n  }\n}, valueAxis);\nvar logAxis = zrUtil.defaults({\n  logBase: 10\n}, valueAxis);\nexport default {\n  category: categoryAxis,\n  value: valueAxis,\n  time: timeAxis,\n  log: logAxis\n};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport OrdinalScale from '../scale/Ordinal.js';\nimport IntervalScale from '../scale/Interval.js';\nimport Scale from '../scale/Scale.js';\nimport { prepareLayoutBarSeries, makeColumnLayout, retrieveColumnLayout } from '../layout/barGrid.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport TimeScale from '../scale/Time.js';\nimport LogScale from '../scale/Log.js';\nimport { getStackedDimension } from '../data/helper/dataStackHelper.js';\nimport { ensureScaleRawExtentInfo } from './scaleRawExtentInfo.js';\n/**\n * Get axis scale extent before niced.\n * Item of returned array can only be number (including Infinity and NaN).\n *\n * Caution:\n * Precondition of calling this method:\n * The scale extent has been initialized using series data extent via\n * `scale.setExtent` or `scale.unionExtentFromData`;\n */\nexport function getScaleExtent(scale, model) {\n  var scaleType = scale.type;\n  var rawExtentResult = ensureScaleRawExtentInfo(scale, model, scale.getExtent()).calculate();\n  scale.setBlank(rawExtentResult.isBlank);\n  var min = rawExtentResult.min;\n  var max = rawExtentResult.max;\n  // If bars are placed on a base axis of type time or interval account for axis boundary overflow and current axis\n  // is base axis\n  // FIXME\n  // (1) Consider support value axis, where below zero and axis `onZero` should be handled properly.\n  // (2) Refactor the logic with `barGrid`. Is it not need to `makeBarWidthAndOffsetInfo` twice with different extent?\n  //     Should not depend on series type `bar`?\n  // (3) Fix that might overlap when using dataZoom.\n  // (4) Consider other chart types using `barGrid`?\n  // See #6728, #4862, `test/bar-overflow-time-plot.html`\n  var ecModel = model.ecModel;\n  if (ecModel && scaleType === 'time' /* || scaleType === 'interval' */) {\n    var barSeriesModels = prepareLayoutBarSeries('bar', ecModel);\n    var isBaseAxisAndHasBarSeries_1 = false;\n    zrUtil.each(barSeriesModels, function (seriesModel) {\n      isBaseAxisAndHasBarSeries_1 = isBaseAxisAndHasBarSeries_1 || seriesModel.getBaseAxis() === model.axis;\n    });\n    if (isBaseAxisAndHasBarSeries_1) {\n      // Calculate placement of bars on axis. TODO should be decoupled\n      // with barLayout\n      var barWidthAndOffset = makeColumnLayout(barSeriesModels);\n      // Adjust axis min and max to account for overflow\n      var adjustedScale = adjustScaleForOverflow(min, max, model, barWidthAndOffset);\n      min = adjustedScale.min;\n      max = adjustedScale.max;\n    }\n  }\n  return {\n    extent: [min, max],\n    // \"fix\" means \"fixed\", the value should not be\n    // changed in the subsequent steps.\n    fixMin: rawExtentResult.minFixed,\n    fixMax: rawExtentResult.maxFixed\n  };\n}\nfunction adjustScaleForOverflow(min, max, model,\n// Only support cartesian coord yet.\nbarWidthAndOffset) {\n  // Get Axis Length\n  var axisExtent = model.axis.getExtent();\n  var axisLength = axisExtent[1] - axisExtent[0];\n  // Get bars on current base axis and calculate min and max overflow\n  var barsOnCurrentAxis = retrieveColumnLayout(barWidthAndOffset, model.axis);\n  if (barsOnCurrentAxis === undefined) {\n    return {\n      min: min,\n      max: max\n    };\n  }\n  var minOverflow = Infinity;\n  zrUtil.each(barsOnCurrentAxis, function (item) {\n    minOverflow = Math.min(item.offset, minOverflow);\n  });\n  var maxOverflow = -Infinity;\n  zrUtil.each(barsOnCurrentAxis, function (item) {\n    maxOverflow = Math.max(item.offset + item.width, maxOverflow);\n  });\n  minOverflow = Math.abs(minOverflow);\n  maxOverflow = Math.abs(maxOverflow);\n  var totalOverFlow = minOverflow + maxOverflow;\n  // Calculate required buffer based on old range and overflow\n  var oldRange = max - min;\n  var oldRangePercentOfNew = 1 - (minOverflow + maxOverflow) / axisLength;\n  var overflowBuffer = oldRange / oldRangePercentOfNew - oldRange;\n  max += overflowBuffer * (maxOverflow / totalOverFlow);\n  min -= overflowBuffer * (minOverflow / totalOverFlow);\n  return {\n    min: min,\n    max: max\n  };\n}\n// Precondition of calling this method:\n// The scale extent has been initialized using series data extent via\n// `scale.setExtent` or `scale.unionExtentFromData`;\nexport function niceScaleExtent(scale, inModel) {\n  var model = inModel;\n  var extentInfo = getScaleExtent(scale, model);\n  var extent = extentInfo.extent;\n  var splitNumber = model.get('splitNumber');\n  if (scale instanceof LogScale) {\n    scale.base = model.get('logBase');\n  }\n  var scaleType = scale.type;\n  var interval = model.get('interval');\n  var isIntervalOrTime = scaleType === 'interval' || scaleType === 'time';\n  scale.setExtent(extent[0], extent[1]);\n  scale.calcNiceExtent({\n    splitNumber: splitNumber,\n    fixMin: extentInfo.fixMin,\n    fixMax: extentInfo.fixMax,\n    minInterval: isIntervalOrTime ? model.get('minInterval') : null,\n    maxInterval: isIntervalOrTime ? model.get('maxInterval') : null\n  });\n  // If some one specified the min, max. And the default calculated interval\n  // is not good enough. He can specify the interval. It is often appeared\n  // in angle axis with angle 0 - 360. Interval calculated in interval scale is hard\n  // to be 60.\n  // FIXME\n  if (interval != null) {\n    scale.setInterval && scale.setInterval(interval);\n  }\n}\n/**\n * @param axisType Default retrieve from model.type\n */\nexport function createScaleByModel(model, axisType) {\n  axisType = axisType || model.get('type');\n  if (axisType) {\n    switch (axisType) {\n      // Buildin scale\n      case 'category':\n        return new OrdinalScale({\n          ordinalMeta: model.getOrdinalMeta ? model.getOrdinalMeta() : model.getCategories(),\n          extent: [Infinity, -Infinity]\n        });\n      case 'time':\n        return new TimeScale({\n          locale: model.ecModel.getLocaleModel(),\n          useUTC: model.ecModel.get('useUTC')\n        });\n      default:\n        // case 'value'/'interval', 'log', or others.\n        return new (Scale.getClass(axisType) || IntervalScale)();\n    }\n  }\n}\n/**\n * Check if the axis cross 0\n */\nexport function ifAxisCrossZero(axis) {\n  var dataExtent = axis.scale.getExtent();\n  var min = dataExtent[0];\n  var max = dataExtent[1];\n  return !(min > 0 && max > 0 || min < 0 && max < 0);\n}\n/**\n * @param axis\n * @return Label formatter function.\n *         param: {number} tickValue,\n *         param: {number} idx, the index in all ticks.\n *                         If category axis, this param is not required.\n *         return: {string} label string.\n */\nexport function makeLabelFormatter(axis) {\n  var labelFormatter = axis.getLabelModel().get('formatter');\n  var categoryTickStart = axis.type === 'category' ? axis.scale.getExtent()[0] : null;\n  if (axis.scale.type === 'time') {\n    return function (tpl) {\n      return function (tick, idx) {\n        return axis.scale.getFormattedLabel(tick, idx, tpl);\n      };\n    }(labelFormatter);\n  } else if (zrUtil.isString(labelFormatter)) {\n    return function (tpl) {\n      return function (tick) {\n        // For category axis, get raw value; for numeric axis,\n        // get formatted label like '1,333,444'.\n        var label = axis.scale.getLabel(tick);\n        var text = tpl.replace('{value}', label != null ? label : '');\n        return text;\n      };\n    }(labelFormatter);\n  } else if (zrUtil.isFunction(labelFormatter)) {\n    return function (cb) {\n      return function (tick, idx) {\n        // The original intention of `idx` is \"the index of the tick in all ticks\".\n        // But the previous implementation of category axis do not consider the\n        // `axisLabel.interval`, which cause that, for example, the `interval` is\n        // `1`, then the ticks \"name5\", \"name7\", \"name9\" are displayed, where the\n        // corresponding `idx` are `0`, `2`, `4`, but not `0`, `1`, `2`. So we keep\n        // the definition here for back compatibility.\n        if (categoryTickStart != null) {\n          idx = tick.value - categoryTickStart;\n        }\n        return cb(getAxisRawValue(axis, tick), idx, tick.level != null ? {\n          level: tick.level\n        } : null);\n      };\n    }(labelFormatter);\n  } else {\n    return function (tick) {\n      return axis.scale.getLabel(tick);\n    };\n  }\n}\nexport function getAxisRawValue(axis, tick) {\n  // In category axis with data zoom, tick is not the original\n  // index of axis.data. So tick should not be exposed to user\n  // in category axis.\n  return axis.type === 'category' ? axis.scale.getLabel(tick) : tick.value;\n}\n/**\n * @param axis\n * @return Be null/undefined if no labels.\n */\nexport function estimateLabelUnionRect(axis) {\n  var axisModel = axis.model;\n  var scale = axis.scale;\n  if (!axisModel.get(['axisLabel', 'show']) || scale.isBlank()) {\n    return;\n  }\n  var realNumberScaleTicks;\n  var tickCount;\n  var categoryScaleExtent = scale.getExtent();\n  // Optimize for large category data, avoid call `getTicks()`.\n  if (scale instanceof OrdinalScale) {\n    tickCount = scale.count();\n  } else {\n    realNumberScaleTicks = scale.getTicks();\n    tickCount = realNumberScaleTicks.length;\n  }\n  var axisLabelModel = axis.getLabelModel();\n  var labelFormatter = makeLabelFormatter(axis);\n  var rect;\n  var step = 1;\n  // Simple optimization for large amount of labels\n  if (tickCount > 40) {\n    step = Math.ceil(tickCount / 40);\n  }\n  for (var i = 0; i < tickCount; i += step) {\n    var tick = realNumberScaleTicks ? realNumberScaleTicks[i] : {\n      value: categoryScaleExtent[0] + i\n    };\n    var label = labelFormatter(tick, i);\n    var unrotatedSingleRect = axisLabelModel.getTextRect(label);\n    var singleRect = rotateTextRect(unrotatedSingleRect, axisLabelModel.get('rotate') || 0);\n    rect ? rect.union(singleRect) : rect = singleRect;\n  }\n  return rect;\n}\nfunction rotateTextRect(textRect, rotate) {\n  var rotateRadians = rotate * Math.PI / 180;\n  var beforeWidth = textRect.width;\n  var beforeHeight = textRect.height;\n  var afterWidth = beforeWidth * Math.abs(Math.cos(rotateRadians)) + Math.abs(beforeHeight * Math.sin(rotateRadians));\n  var afterHeight = beforeWidth * Math.abs(Math.sin(rotateRadians)) + Math.abs(beforeHeight * Math.cos(rotateRadians));\n  var rotatedRect = new BoundingRect(textRect.x, textRect.y, afterWidth, afterHeight);\n  return rotatedRect;\n}\n/**\n * @param model axisLabelModel or axisTickModel\n * @return {number|String} Can be null|'auto'|number|function\n */\nexport function getOptionCategoryInterval(model) {\n  var interval = model.get('interval');\n  return interval == null ? 'auto' : interval;\n}\n/**\n * Set `categoryInterval` as 0 implicitly indicates that\n * show all labels regardless of overlap.\n * @param {Object} axis axisModel.axis\n */\nexport function shouldShowAllLabels(axis) {\n  return axis.type === 'category' && getOptionCategoryInterval(axis.getLabelModel()) === 0;\n}\nexport function getDataDimensionsOnAxis(data, axisDim) {\n  // Remove duplicated dat dimensions caused by `getStackedDimension`.\n  var dataDimMap = {};\n  // Currently `mapDimensionsAll` will contain stack result dimension ('__\\0ecstackresult').\n  // PENDING: is it reasonable? Do we need to remove the original dim from \"coord dim\" since\n  // there has been stacked result dim?\n  zrUtil.each(data.mapDimensionsAll(axisDim), function (dataDim) {\n    // For example, the extent of the original dimension\n    // is [0.1, 0.5], the extent of the `stackResultDimension`\n    // is [7, 9], the final extent should NOT include [0.1, 0.5],\n    // because there is no graphic corresponding to [0.1, 0.5].\n    // See the case in `test/area-stack.html` `main1`, where area line\n    // stack needs `yAxis` not start from 0.\n    dataDimMap[getStackedDimension(data, dataDim)] = true;\n  });\n  return zrUtil.keys(dataDimMap);\n}\nexport function unionAxisExtentFromData(dataExtent, data, axisDim) {\n  if (data) {\n    zrUtil.each(getDataDimensionsOnAxis(data, axisDim), function (dim) {\n      var seriesExtent = data.getApproximateExtent(dim);\n      seriesExtent[0] < dataExtent[0] && (dataExtent[0] = seriesExtent[0]);\n      seriesExtent[1] > dataExtent[1] && (dataExtent[1] = seriesExtent[1]);\n    });\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nvar AxisModelCommonMixin = /** @class */function () {\n  function AxisModelCommonMixin() {}\n  AxisModelCommonMixin.prototype.getNeedCrossZero = function () {\n    var option = this.option;\n    return !option.scale;\n  };\n  /**\n   * Should be implemented by each axis model if necessary.\n   * @return coordinate system model\n   */\n  AxisModelCommonMixin.prototype.getCoordSysModel = function () {\n    return;\n  };\n  return AxisModelCommonMixin;\n}();\nexport { AxisModelCommonMixin };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport var AXIS_TYPES = {\n  value: 1,\n  category: 1,\n  time: 1,\n  log: 1\n};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport axisDefault from './axisDefault.js';\nimport { getLayoutParams, mergeLayoutParam, fetchLayoutMode } from '../util/layout.js';\nimport OrdinalMeta from '../data/OrdinalMeta.js';\nimport { AXIS_TYPES } from './axisCommonTypes.js';\nimport { each, merge } from 'zrender/lib/core/util.js';\n/**\n * Generate sub axis model class\n * @param axisName 'x' 'y' 'radius' 'angle' 'parallel' ...\n */\nexport default function axisModelCreator(registers, axisName, BaseAxisModelClass, extraDefaultOption) {\n  each(AXIS_TYPES, function (v, axisType) {\n    var defaultOption = merge(merge({}, axisDefault[axisType], true), extraDefaultOption, true);\n    var AxisModel = /** @class */function (_super) {\n      __extends(AxisModel, _super);\n      function AxisModel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = axisName + 'Axis.' + axisType;\n        return _this;\n      }\n      AxisModel.prototype.mergeDefaultAndTheme = function (option, ecModel) {\n        var layoutMode = fetchLayoutMode(this);\n        var inputPositionParams = layoutMode ? getLayoutParams(option) : {};\n        var themeModel = ecModel.getTheme();\n        merge(option, themeModel.get(axisType + 'Axis'));\n        merge(option, this.getDefaultOption());\n        option.type = getAxisType(option);\n        if (layoutMode) {\n          mergeLayoutParam(option, inputPositionParams, layoutMode);\n        }\n      };\n      AxisModel.prototype.optionUpdated = function () {\n        var thisOption = this.option;\n        if (thisOption.type === 'category') {\n          this.__ordinalMeta = OrdinalMeta.createByAxisModel(this);\n        }\n      };\n      /**\n       * Should not be called before all of 'getInitailData' finished.\n       * Because categories are collected during initializing data.\n       */\n      AxisModel.prototype.getCategories = function (rawData) {\n        var option = this.option;\n        // FIXME\n        // warning if called before all of 'getInitailData' finished.\n        if (option.type === 'category') {\n          if (rawData) {\n            return option.data;\n          }\n          return this.__ordinalMeta.categories;\n        }\n      };\n      AxisModel.prototype.getOrdinalMeta = function () {\n        return this.__ordinalMeta;\n      };\n      AxisModel.type = axisName + 'Axis.' + axisType;\n      AxisModel.defaultOption = defaultOption;\n      return AxisModel;\n    }(BaseAxisModelClass);\n    registers.registerComponentModel(AxisModel);\n  });\n  registers.registerSubTypeDefaulter(axisName + 'Axis', getAxisType);\n}\nfunction getAxisType(option) {\n  // Default axis with data is category axis\n  return option.type || (option.data ? 'category' : 'value');\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as layout from '../../util/layout.js';\nimport * as numberUtil from '../../util/number.js';\n// (24*60*60*1000)\nvar PROXIMATE_ONE_DAY = 86400000;\nvar Calendar = /** @class */function () {\n  function Calendar(calendarModel, ecModel, api) {\n    this.type = 'calendar';\n    this.dimensions = Calendar.dimensions;\n    // Required in createListFromData\n    this.getDimensionsInfo = Calendar.getDimensionsInfo;\n    this._model = calendarModel;\n  }\n  Calendar.getDimensionsInfo = function () {\n    return [{\n      name: 'time',\n      type: 'time'\n    }, 'value'];\n  };\n  Calendar.prototype.getRangeInfo = function () {\n    return this._rangeInfo;\n  };\n  Calendar.prototype.getModel = function () {\n    return this._model;\n  };\n  Calendar.prototype.getRect = function () {\n    return this._rect;\n  };\n  Calendar.prototype.getCellWidth = function () {\n    return this._sw;\n  };\n  Calendar.prototype.getCellHeight = function () {\n    return this._sh;\n  };\n  Calendar.prototype.getOrient = function () {\n    return this._orient;\n  };\n  /**\n   * getFirstDayOfWeek\n   *\n   * @example\n   *     0 : start at Sunday\n   *     1 : start at Monday\n   *\n   * @return {number}\n   */\n  Calendar.prototype.getFirstDayOfWeek = function () {\n    return this._firstDayOfWeek;\n  };\n  /**\n   * get date info\n   * }\n   */\n  Calendar.prototype.getDateInfo = function (date) {\n    date = numberUtil.parseDate(date);\n    var y = date.getFullYear();\n    var m = date.getMonth() + 1;\n    var mStr = m < 10 ? '0' + m : '' + m;\n    var d = date.getDate();\n    var dStr = d < 10 ? '0' + d : '' + d;\n    var day = date.getDay();\n    day = Math.abs((day + 7 - this.getFirstDayOfWeek()) % 7);\n    return {\n      y: y + '',\n      m: mStr,\n      d: dStr,\n      day: day,\n      time: date.getTime(),\n      formatedDate: y + '-' + mStr + '-' + dStr,\n      date: date\n    };\n  };\n  Calendar.prototype.getNextNDay = function (date, n) {\n    n = n || 0;\n    if (n === 0) {\n      return this.getDateInfo(date);\n    }\n    date = new Date(this.getDateInfo(date).time);\n    date.setDate(date.getDate() + n);\n    return this.getDateInfo(date);\n  };\n  Calendar.prototype.update = function (ecModel, api) {\n    this._firstDayOfWeek = +this._model.getModel('dayLabel').get('firstDay');\n    this._orient = this._model.get('orient');\n    this._lineWidth = this._model.getModel('itemStyle').getItemStyle().lineWidth || 0;\n    this._rangeInfo = this._getRangeInfo(this._initRangeOption());\n    var weeks = this._rangeInfo.weeks || 1;\n    var whNames = ['width', 'height'];\n    var cellSize = this._model.getCellSize().slice();\n    var layoutParams = this._model.getBoxLayoutParams();\n    var cellNumbers = this._orient === 'horizontal' ? [weeks, 7] : [7, weeks];\n    zrUtil.each([0, 1], function (idx) {\n      if (cellSizeSpecified(cellSize, idx)) {\n        layoutParams[whNames[idx]] = cellSize[idx] * cellNumbers[idx];\n      }\n    });\n    var whGlobal = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var calendarRect = this._rect = layout.getLayoutRect(layoutParams, whGlobal);\n    zrUtil.each([0, 1], function (idx) {\n      if (!cellSizeSpecified(cellSize, idx)) {\n        cellSize[idx] = calendarRect[whNames[idx]] / cellNumbers[idx];\n      }\n    });\n    function cellSizeSpecified(cellSize, idx) {\n      return cellSize[idx] != null && cellSize[idx] !== 'auto';\n    }\n    // Has been calculated out number.\n    this._sw = cellSize[0];\n    this._sh = cellSize[1];\n  };\n  /**\n   * Convert a time data(time, value) item to (x, y) point.\n   */\n  // TODO Clamp of calendar is not same with cartesian coordinate systems.\n  // It will return NaN if data exceeds.\n  Calendar.prototype.dataToPoint = function (data, clamp) {\n    zrUtil.isArray(data) && (data = data[0]);\n    clamp == null && (clamp = true);\n    var dayInfo = this.getDateInfo(data);\n    var range = this._rangeInfo;\n    var date = dayInfo.formatedDate;\n    // if not in range return [NaN, NaN]\n    if (clamp && !(dayInfo.time >= range.start.time && dayInfo.time < range.end.time + PROXIMATE_ONE_DAY)) {\n      return [NaN, NaN];\n    }\n    var week = dayInfo.day;\n    var nthWeek = this._getRangeInfo([range.start.time, date]).nthWeek;\n    if (this._orient === 'vertical') {\n      return [this._rect.x + week * this._sw + this._sw / 2, this._rect.y + nthWeek * this._sh + this._sh / 2];\n    }\n    return [this._rect.x + nthWeek * this._sw + this._sw / 2, this._rect.y + week * this._sh + this._sh / 2];\n  };\n  /**\n   * Convert a (x, y) point to time data\n   */\n  Calendar.prototype.pointToData = function (point) {\n    var date = this.pointToDate(point);\n    return date && date.time;\n  };\n  /**\n   * Convert a time date item to (x, y) four point.\n   */\n  Calendar.prototype.dataToRect = function (data, clamp) {\n    var point = this.dataToPoint(data, clamp);\n    return {\n      contentShape: {\n        x: point[0] - (this._sw - this._lineWidth) / 2,\n        y: point[1] - (this._sh - this._lineWidth) / 2,\n        width: this._sw - this._lineWidth,\n        height: this._sh - this._lineWidth\n      },\n      center: point,\n      tl: [point[0] - this._sw / 2, point[1] - this._sh / 2],\n      tr: [point[0] + this._sw / 2, point[1] - this._sh / 2],\n      br: [point[0] + this._sw / 2, point[1] + this._sh / 2],\n      bl: [point[0] - this._sw / 2, point[1] + this._sh / 2]\n    };\n  };\n  /**\n   * Convert a (x, y) point to time date\n   *\n   * @param  {Array} point point\n   * @return {Object}       date\n   */\n  Calendar.prototype.pointToDate = function (point) {\n    var nthX = Math.floor((point[0] - this._rect.x) / this._sw) + 1;\n    var nthY = Math.floor((point[1] - this._rect.y) / this._sh) + 1;\n    var range = this._rangeInfo.range;\n    if (this._orient === 'vertical') {\n      return this._getDateByWeeksAndDay(nthY, nthX - 1, range);\n    }\n    return this._getDateByWeeksAndDay(nthX, nthY - 1, range);\n  };\n  Calendar.prototype.convertToPixel = function (ecModel, finder, value) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.dataToPoint(value) : null;\n  };\n  Calendar.prototype.convertFromPixel = function (ecModel, finder, pixel) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.pointToData(pixel) : null;\n  };\n  Calendar.prototype.containPoint = function (point) {\n    console.warn('Not implemented.');\n    return false;\n  };\n  /**\n   * initRange\n   * Normalize to an [start, end] array\n   */\n  Calendar.prototype._initRangeOption = function () {\n    var range = this._model.get('range');\n    var normalizedRange;\n    // Convert [1990] to 1990\n    if (zrUtil.isArray(range) && range.length === 1) {\n      range = range[0];\n    }\n    if (!zrUtil.isArray(range)) {\n      var rangeStr = range.toString();\n      // One year.\n      if (/^\\d{4}$/.test(rangeStr)) {\n        normalizedRange = [rangeStr + '-01-01', rangeStr + '-12-31'];\n      }\n      // One month\n      if (/^\\d{4}[\\/|-]\\d{1,2}$/.test(rangeStr)) {\n        var start = this.getDateInfo(rangeStr);\n        var firstDay = start.date;\n        firstDay.setMonth(firstDay.getMonth() + 1);\n        var end = this.getNextNDay(firstDay, -1);\n        normalizedRange = [start.formatedDate, end.formatedDate];\n      }\n      // One day\n      if (/^\\d{4}[\\/|-]\\d{1,2}[\\/|-]\\d{1,2}$/.test(rangeStr)) {\n        normalizedRange = [rangeStr, rangeStr];\n      }\n    } else {\n      normalizedRange = range;\n    }\n    if (!normalizedRange) {\n      if (process.env.NODE_ENV !== 'production') {\n        zrUtil.logError('Invalid date range.');\n      }\n      // Not handling it.\n      return range;\n    }\n    var tmp = this._getRangeInfo(normalizedRange);\n    if (tmp.start.time > tmp.end.time) {\n      normalizedRange.reverse();\n    }\n    return normalizedRange;\n  };\n  /**\n   * range info\n   *\n   * @private\n   * @param  {Array} range range ['2017-01-01', '2017-07-08']\n   *  If range[0] > range[1], they will not be reversed.\n   * @return {Object}       obj\n   */\n  Calendar.prototype._getRangeInfo = function (range) {\n    var parsedRange = [this.getDateInfo(range[0]), this.getDateInfo(range[1])];\n    var reversed;\n    if (parsedRange[0].time > parsedRange[1].time) {\n      reversed = true;\n      parsedRange.reverse();\n    }\n    var allDay = Math.floor(parsedRange[1].time / PROXIMATE_ONE_DAY) - Math.floor(parsedRange[0].time / PROXIMATE_ONE_DAY) + 1;\n    // Consider case1 (#11677 #10430):\n    // Set the system timezone as \"UK\", set the range to `['2016-07-01', '2016-12-31']`\n    // Consider case2:\n    // Firstly set system timezone as \"Time Zone: America/Toronto\",\n    // ```\n    // let first = new Date(1478412000000 - 3600 * 1000 * 2.5);\n    // let second = new Date(1478412000000);\n    // let allDays = Math.floor(second / ONE_DAY) - Math.floor(first / ONE_DAY) + 1;\n    // ```\n    // will get wrong result because of DST. So we should fix it.\n    var date = new Date(parsedRange[0].time);\n    var startDateNum = date.getDate();\n    var endDateNum = parsedRange[1].date.getDate();\n    date.setDate(startDateNum + allDay - 1);\n    // The bias can not over a month, so just compare date.\n    var dateNum = date.getDate();\n    if (dateNum !== endDateNum) {\n      var sign = date.getTime() - parsedRange[1].time > 0 ? 1 : -1;\n      while ((dateNum = date.getDate()) !== endDateNum && (date.getTime() - parsedRange[1].time) * sign > 0) {\n        allDay -= sign;\n        date.setDate(dateNum - sign);\n      }\n    }\n    var weeks = Math.floor((allDay + parsedRange[0].day + 6) / 7);\n    var nthWeek = reversed ? -weeks + 1 : weeks - 1;\n    reversed && parsedRange.reverse();\n    return {\n      range: [parsedRange[0].formatedDate, parsedRange[1].formatedDate],\n      start: parsedRange[0],\n      end: parsedRange[1],\n      allDay: allDay,\n      weeks: weeks,\n      // From 0.\n      nthWeek: nthWeek,\n      fweek: parsedRange[0].day,\n      lweek: parsedRange[1].day\n    };\n  };\n  /**\n   * get date by nthWeeks and week day in range\n   *\n   * @private\n   * @param  {number} nthWeek the week\n   * @param  {number} day   the week day\n   * @param  {Array} range [d1, d2]\n   * @return {Object}\n   */\n  Calendar.prototype._getDateByWeeksAndDay = function (nthWeek, day, range) {\n    var rangeInfo = this._getRangeInfo(range);\n    if (nthWeek > rangeInfo.weeks || nthWeek === 0 && day < rangeInfo.fweek || nthWeek === rangeInfo.weeks && day > rangeInfo.lweek) {\n      return null;\n    }\n    var nthDay = (nthWeek - 1) * 7 - rangeInfo.fweek + day;\n    var date = new Date(rangeInfo.start.time);\n    date.setDate(+rangeInfo.start.d + nthDay);\n    return this.getDateInfo(date);\n  };\n  Calendar.create = function (ecModel, api) {\n    var calendarList = [];\n    ecModel.eachComponent('calendar', function (calendarModel) {\n      var calendar = new Calendar(calendarModel, ecModel, api);\n      calendarList.push(calendar);\n      calendarModel.coordinateSystem = calendar;\n    });\n    ecModel.eachSeries(function (calendarSeries) {\n      if (calendarSeries.get('coordinateSystem') === 'calendar') {\n        // Inject coordinate system\n        calendarSeries.coordinateSystem = calendarList[calendarSeries.get('calendarIndex') || 0];\n      }\n    });\n    return calendarList;\n  };\n  Calendar.dimensions = ['time', 'value'];\n  return Calendar;\n}();\nfunction getCoordSys(finder) {\n  var calendarModel = finder.calendarModel;\n  var seriesModel = finder.seriesModel;\n  var coordSys = calendarModel ? calendarModel.coordinateSystem : seriesModel ? seriesModel.coordinateSystem : null;\n  return coordSys;\n}\nexport default Calendar;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ComponentModel from '../../model/Component.js';\nimport { getLayoutParams, sizeCalculable, mergeLayoutParam } from '../../util/layout.js';\nvar CalendarModel = /** @class */function (_super) {\n  __extends(CalendarModel, _super);\n  function CalendarModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = CalendarModel.type;\n    return _this;\n  }\n  /**\n   * @override\n   */\n  CalendarModel.prototype.init = function (option, parentModel, ecModel) {\n    var inputPositionParams = getLayoutParams(option);\n    _super.prototype.init.apply(this, arguments);\n    mergeAndNormalizeLayoutParams(option, inputPositionParams);\n  };\n  /**\n   * @override\n   */\n  CalendarModel.prototype.mergeOption = function (option) {\n    _super.prototype.mergeOption.apply(this, arguments);\n    mergeAndNormalizeLayoutParams(this.option, option);\n  };\n  CalendarModel.prototype.getCellSize = function () {\n    // Has been normalized\n    return this.option.cellSize;\n  };\n  CalendarModel.type = 'calendar';\n  CalendarModel.defaultOption = {\n    // zlevel: 0,\n    z: 2,\n    left: 80,\n    top: 60,\n    cellSize: 20,\n    // horizontal vertical\n    orient: 'horizontal',\n    // month separate line style\n    splitLine: {\n      show: true,\n      lineStyle: {\n        color: '#000',\n        width: 1,\n        type: 'solid'\n      }\n    },\n    // rect style  temporarily unused emphasis\n    itemStyle: {\n      color: '#fff',\n      borderWidth: 1,\n      borderColor: '#ccc'\n    },\n    // week text style\n    dayLabel: {\n      show: true,\n      firstDay: 0,\n      // start end\n      position: 'start',\n      margin: '50%',\n      color: '#000'\n    },\n    // month text style\n    monthLabel: {\n      show: true,\n      // start end\n      position: 'start',\n      margin: 5,\n      // center or left\n      align: 'center',\n      formatter: null,\n      color: '#000'\n    },\n    // year text style\n    yearLabel: {\n      show: true,\n      // top bottom left right\n      position: null,\n      margin: 30,\n      formatter: null,\n      color: '#ccc',\n      fontFamily: 'sans-serif',\n      fontWeight: 'bolder',\n      fontSize: 20\n    }\n  };\n  return CalendarModel;\n}(ComponentModel);\nfunction mergeAndNormalizeLayoutParams(target, raw) {\n  // Normalize cellSize\n  var cellSize = target.cellSize;\n  var cellSizeArr;\n  if (!zrUtil.isArray(cellSize)) {\n    cellSizeArr = target.cellSize = [cellSize, cellSize];\n  } else {\n    cellSizeArr = cellSize;\n  }\n  if (cellSizeArr.length === 1) {\n    cellSizeArr[1] = cellSizeArr[0];\n  }\n  var ignoreSize = zrUtil.map([0, 1], function (hvIdx) {\n    // If user have set `width` or both `left` and `right`, cellSizeArr\n    // will be automatically set to 'auto', otherwise the default\n    // setting of cellSizeArr will make `width` setting not work.\n    if (sizeCalculable(raw, hvIdx)) {\n      cellSizeArr[hvIdx] = 'auto';\n    }\n    return cellSizeArr[hvIdx] != null && cellSizeArr[hvIdx] !== 'auto';\n  });\n  mergeLayoutParam(target, raw, {\n    type: 'box',\n    ignoreSize: ignoreSize\n  });\n}\nexport default CalendarModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function calendarPrepareCustom(coordSys) {\n  var rect = coordSys.getRect();\n  var rangeInfo = coordSys.getRangeInfo();\n  return {\n    coordSys: {\n      type: 'calendar',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height,\n      cellWidth: coordSys.getCellWidth(),\n      cellHeight: coordSys.getCellHeight(),\n      rangeInfo: {\n        start: rangeInfo.start,\n        end: rangeInfo.end,\n        weeks: rangeInfo.weeks,\n        dayCount: rangeInfo.allDay\n      }\n    },\n    api: {\n      coord: function (data, clamp) {\n        return coordSys.dataToPoint(data, clamp);\n      }\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ComponentModel from '../../model/Component.js';\nimport { AxisModelCommonMixin } from '../axisModelCommonMixin.js';\nimport { SINGLE_REFERRING } from '../../util/model.js';\nvar CartesianAxisModel = /** @class */function (_super) {\n  __extends(CartesianAxisModel, _super);\n  function CartesianAxisModel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  CartesianAxisModel.prototype.getCoordSysModel = function () {\n    return this.getReferringComponents('grid', SINGLE_REFERRING).models[0];\n  };\n  CartesianAxisModel.type = 'cartesian2dAxis';\n  return CartesianAxisModel;\n}(ComponentModel);\nexport { CartesianAxisModel };\nzrUtil.mixin(CartesianAxisModel, AxisModelCommonMixin);\nexport default CartesianAxisModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar Cartesian = /** @class */function () {\n  function Cartesian(name) {\n    this.type = 'cartesian';\n    this._dimList = [];\n    this._axes = {};\n    this.name = name || '';\n  }\n  Cartesian.prototype.getAxis = function (dim) {\n    return this._axes[dim];\n  };\n  Cartesian.prototype.getAxes = function () {\n    return zrUtil.map(this._dimList, function (dim) {\n      return this._axes[dim];\n    }, this);\n  };\n  Cartesian.prototype.getAxesByScale = function (scaleType) {\n    scaleType = scaleType.toLowerCase();\n    return zrUtil.filter(this.getAxes(), function (axis) {\n      return axis.scale.type === scaleType;\n    });\n  };\n  Cartesian.prototype.addAxis = function (axis) {\n    var dim = axis.dim;\n    this._axes[dim] = axis;\n    this._dimList.push(dim);\n  };\n  return Cartesian;\n}();\n;\nexport default Cartesian;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport Cartesian from './Cartesian.js';\nimport { invert } from 'zrender/lib/core/matrix.js';\nimport { applyTransform } from 'zrender/lib/core/vector.js';\nexport var cartesian2DDimensions = ['x', 'y'];\nfunction canCalculateAffineTransform(scale) {\n  return scale.type === 'interval' || scale.type === 'time';\n}\nvar Cartesian2D = /** @class */function (_super) {\n  __extends(Cartesian2D, _super);\n  function Cartesian2D() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = 'cartesian2d';\n    _this.dimensions = cartesian2DDimensions;\n    return _this;\n  }\n  /**\n   * Calculate an affine transform matrix if two axes are time or value.\n   * It's mainly for accelartion on the large time series data.\n   */\n  Cartesian2D.prototype.calcAffineTransform = function () {\n    this._transform = this._invTransform = null;\n    var xAxisScale = this.getAxis('x').scale;\n    var yAxisScale = this.getAxis('y').scale;\n    if (!canCalculateAffineTransform(xAxisScale) || !canCalculateAffineTransform(yAxisScale)) {\n      return;\n    }\n    var xScaleExtent = xAxisScale.getExtent();\n    var yScaleExtent = yAxisScale.getExtent();\n    var start = this.dataToPoint([xScaleExtent[0], yScaleExtent[0]]);\n    var end = this.dataToPoint([xScaleExtent[1], yScaleExtent[1]]);\n    var xScaleSpan = xScaleExtent[1] - xScaleExtent[0];\n    var yScaleSpan = yScaleExtent[1] - yScaleExtent[0];\n    if (!xScaleSpan || !yScaleSpan) {\n      return;\n    }\n    // Accelerate data to point calculation on the special large time series data.\n    var scaleX = (end[0] - start[0]) / xScaleSpan;\n    var scaleY = (end[1] - start[1]) / yScaleSpan;\n    var translateX = start[0] - xScaleExtent[0] * scaleX;\n    var translateY = start[1] - yScaleExtent[0] * scaleY;\n    var m = this._transform = [scaleX, 0, 0, scaleY, translateX, translateY];\n    this._invTransform = invert([], m);\n  };\n  /**\n   * Base axis will be used on stacking.\n   */\n  Cartesian2D.prototype.getBaseAxis = function () {\n    return this.getAxesByScale('ordinal')[0] || this.getAxesByScale('time')[0] || this.getAxis('x');\n  };\n  Cartesian2D.prototype.containPoint = function (point) {\n    var axisX = this.getAxis('x');\n    var axisY = this.getAxis('y');\n    return axisX.contain(axisX.toLocalCoord(point[0])) && axisY.contain(axisY.toLocalCoord(point[1]));\n  };\n  Cartesian2D.prototype.containData = function (data) {\n    return this.getAxis('x').containData(data[0]) && this.getAxis('y').containData(data[1]);\n  };\n  Cartesian2D.prototype.containZone = function (data1, data2) {\n    var zoneDiag1 = this.dataToPoint(data1);\n    var zoneDiag2 = this.dataToPoint(data2);\n    var area = this.getArea();\n    var zone = new BoundingRect(zoneDiag1[0], zoneDiag1[1], zoneDiag2[0] - zoneDiag1[0], zoneDiag2[1] - zoneDiag1[1]);\n    return area.intersect(zone);\n  };\n  Cartesian2D.prototype.dataToPoint = function (data, clamp, out) {\n    out = out || [];\n    var xVal = data[0];\n    var yVal = data[1];\n    // Fast path\n    if (this._transform\n    // It's supported that if data is like `[Inifity, 123]`, where only Y pixel calculated.\n    && xVal != null && isFinite(xVal) && yVal != null && isFinite(yVal)) {\n      return applyTransform(out, data, this._transform);\n    }\n    var xAxis = this.getAxis('x');\n    var yAxis = this.getAxis('y');\n    out[0] = xAxis.toGlobalCoord(xAxis.dataToCoord(xVal, clamp));\n    out[1] = yAxis.toGlobalCoord(yAxis.dataToCoord(yVal, clamp));\n    return out;\n  };\n  Cartesian2D.prototype.clampData = function (data, out) {\n    var xScale = this.getAxis('x').scale;\n    var yScale = this.getAxis('y').scale;\n    var xAxisExtent = xScale.getExtent();\n    var yAxisExtent = yScale.getExtent();\n    var x = xScale.parse(data[0]);\n    var y = yScale.parse(data[1]);\n    out = out || [];\n    out[0] = Math.min(Math.max(Math.min(xAxisExtent[0], xAxisExtent[1]), x), Math.max(xAxisExtent[0], xAxisExtent[1]));\n    out[1] = Math.min(Math.max(Math.min(yAxisExtent[0], yAxisExtent[1]), y), Math.max(yAxisExtent[0], yAxisExtent[1]));\n    return out;\n  };\n  Cartesian2D.prototype.pointToData = function (point, clamp) {\n    var out = [];\n    if (this._invTransform) {\n      return applyTransform(out, point, this._invTransform);\n    }\n    var xAxis = this.getAxis('x');\n    var yAxis = this.getAxis('y');\n    out[0] = xAxis.coordToData(xAxis.toLocalCoord(point[0]), clamp);\n    out[1] = yAxis.coordToData(yAxis.toLocalCoord(point[1]), clamp);\n    return out;\n  };\n  Cartesian2D.prototype.getOtherAxis = function (axis) {\n    return this.getAxis(axis.dim === 'x' ? 'y' : 'x');\n  };\n  /**\n   * Get rect area of cartesian.\n   * Area will have a contain function to determine if a point is in the coordinate system.\n   */\n  Cartesian2D.prototype.getArea = function (tolerance) {\n    tolerance = tolerance || 0;\n    var xExtent = this.getAxis('x').getGlobalExtent();\n    var yExtent = this.getAxis('y').getGlobalExtent();\n    var x = Math.min(xExtent[0], xExtent[1]) - tolerance;\n    var y = Math.min(yExtent[0], yExtent[1]) - tolerance;\n    var width = Math.max(xExtent[0], xExtent[1]) - x + tolerance;\n    var height = Math.max(yExtent[0], yExtent[1]) - y + tolerance;\n    return new BoundingRect(x, y, width, height);\n  };\n  return Cartesian2D;\n}(Cartesian);\n;\nexport default Cartesian2D;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Axis from '../Axis.js';\nvar Axis2D = /** @class */function (_super) {\n  __extends(Axis2D, _super);\n  function Axis2D(dim, scale, coordExtent, axisType, position) {\n    var _this = _super.call(this, dim, scale, coordExtent) || this;\n    /**\n     * Index of axis, can be used as key\n     * Injected outside.\n     */\n    _this.index = 0;\n    _this.type = axisType || 'value';\n    _this.position = position || 'bottom';\n    return _this;\n  }\n  Axis2D.prototype.isHorizontal = function () {\n    var position = this.position;\n    return position === 'top' || position === 'bottom';\n  };\n  /**\n   * Each item cooresponds to this.getExtent(), which\n   * means globalExtent[0] may greater than globalExtent[1],\n   * unless `asc` is input.\n   *\n   * @param {boolean} [asc]\n   * @return {Array.<number>}\n   */\n  Axis2D.prototype.getGlobalExtent = function (asc) {\n    var ret = this.getExtent();\n    ret[0] = this.toGlobalCoord(ret[0]);\n    ret[1] = this.toGlobalCoord(ret[1]);\n    asc && ret[0] > ret[1] && ret.reverse();\n    return ret;\n  };\n  Axis2D.prototype.pointToData = function (point, clamp) {\n    return this.coordToData(this.toLocalCoord(point[this.dim === 'x' ? 0 : 1]), clamp);\n  };\n  /**\n   * Set ordinalSortInfo\n   * @param info new OrdinalSortInfo\n   */\n  Axis2D.prototype.setCategorySortInfo = function (info) {\n    if (this.type !== 'category') {\n      return false;\n    }\n    this.model.option.categorySortInfo = info;\n    this.scale.setSortInfo(info);\n  };\n  return Axis2D;\n}(Axis);\nexport default Axis2D;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * Grid is a region which contains at most 4 cartesian systems\n *\n * TODO Default cartesian\n */\nimport { isObject, each, indexOf, retrieve3, keys } from 'zrender/lib/core/util.js';\nimport { getLayoutRect } from '../../util/layout.js';\nimport { createScaleByModel, ifAxisCrossZero, niceScaleExtent, estimateLabelUnionRect, getDataDimensionsOnAxis } from '../../coord/axisHelper.js';\nimport Cartesian2D, { cartesian2DDimensions } from './Cartesian2D.js';\nimport Axis2D from './Axis2D.js';\nimport { SINGLE_REFERRING } from '../../util/model.js';\nimport { isCartesian2DSeries, findAxisModels } from './cartesianAxisHelper.js';\nimport { isIntervalOrLogScale } from '../../scale/helper.js';\nimport { alignScaleTicks } from '../axisAlignTicks.js';\nvar Grid = /** @class */function () {\n  function Grid(gridModel, ecModel, api) {\n    // FIXME:TS where used (different from registered type 'cartesian2d')?\n    this.type = 'grid';\n    this._coordsMap = {};\n    this._coordsList = [];\n    this._axesMap = {};\n    this._axesList = [];\n    this.axisPointerEnabled = true;\n    this.dimensions = cartesian2DDimensions;\n    this._initCartesian(gridModel, ecModel, api);\n    this.model = gridModel;\n  }\n  Grid.prototype.getRect = function () {\n    return this._rect;\n  };\n  Grid.prototype.update = function (ecModel, api) {\n    var axesMap = this._axesMap;\n    this._updateScale(ecModel, this.model);\n    function updateAxisTicks(axes) {\n      var alignTo;\n      // Axis is added in order of axisIndex.\n      var axesIndices = keys(axes);\n      var len = axesIndices.length;\n      if (!len) {\n        return;\n      }\n      var axisNeedsAlign = [];\n      // Process once and calculate the ticks for those don't use alignTicks.\n      for (var i = len - 1; i >= 0; i--) {\n        var idx = +axesIndices[i]; // Convert to number.\n        var axis = axes[idx];\n        var model = axis.model;\n        var scale = axis.scale;\n        if (\n        // Only value and log axis without interval support alignTicks.\n        isIntervalOrLogScale(scale) && model.get('alignTicks') && model.get('interval') == null) {\n          axisNeedsAlign.push(axis);\n        } else {\n          niceScaleExtent(scale, model);\n          if (isIntervalOrLogScale(scale)) {\n            // Can only align to interval or log axis.\n            alignTo = axis;\n          }\n        }\n      }\n      ;\n      // All axes has set alignTicks. Pick the first one.\n      // PENDING. Should we find the axis that both set interval, min, max and align to this one?\n      if (axisNeedsAlign.length) {\n        if (!alignTo) {\n          alignTo = axisNeedsAlign.pop();\n          niceScaleExtent(alignTo.scale, alignTo.model);\n        }\n        each(axisNeedsAlign, function (axis) {\n          alignScaleTicks(axis.scale, axis.model, alignTo.scale);\n        });\n      }\n    }\n    updateAxisTicks(axesMap.x);\n    updateAxisTicks(axesMap.y);\n    // Key: axisDim_axisIndex, value: boolean, whether onZero target.\n    var onZeroRecords = {};\n    each(axesMap.x, function (xAxis) {\n      fixAxisOnZero(axesMap, 'y', xAxis, onZeroRecords);\n    });\n    each(axesMap.y, function (yAxis) {\n      fixAxisOnZero(axesMap, 'x', yAxis, onZeroRecords);\n    });\n    // Resize again if containLabel is enabled\n    // FIXME It may cause getting wrong grid size in data processing stage\n    this.resize(this.model, api);\n  };\n  /**\n   * Resize the grid\n   */\n  Grid.prototype.resize = function (gridModel, api, ignoreContainLabel) {\n    var boxLayoutParams = gridModel.getBoxLayoutParams();\n    var isContainLabel = !ignoreContainLabel && gridModel.get('containLabel');\n    var gridRect = getLayoutRect(boxLayoutParams, {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n    this._rect = gridRect;\n    var axesList = this._axesList;\n    adjustAxes();\n    // Minus label size\n    if (isContainLabel) {\n      each(axesList, function (axis) {\n        if (!axis.model.get(['axisLabel', 'inside'])) {\n          var labelUnionRect = estimateLabelUnionRect(axis);\n          if (labelUnionRect) {\n            var dim = axis.isHorizontal() ? 'height' : 'width';\n            var margin = axis.model.get(['axisLabel', 'margin']);\n            gridRect[dim] -= labelUnionRect[dim] + margin;\n            if (axis.position === 'top') {\n              gridRect.y += labelUnionRect.height + margin;\n            } else if (axis.position === 'left') {\n              gridRect.x += labelUnionRect.width + margin;\n            }\n          }\n        }\n      });\n      adjustAxes();\n    }\n    each(this._coordsList, function (coord) {\n      // Calculate affine matrix to accelerate the data to point transform.\n      // If all the axes scales are time or value.\n      coord.calcAffineTransform();\n    });\n    function adjustAxes() {\n      each(axesList, function (axis) {\n        var isHorizontal = axis.isHorizontal();\n        var extent = isHorizontal ? [0, gridRect.width] : [0, gridRect.height];\n        var idx = axis.inverse ? 1 : 0;\n        axis.setExtent(extent[idx], extent[1 - idx]);\n        updateAxisTransform(axis, isHorizontal ? gridRect.x : gridRect.y);\n      });\n    }\n  };\n  Grid.prototype.getAxis = function (dim, axisIndex) {\n    var axesMapOnDim = this._axesMap[dim];\n    if (axesMapOnDim != null) {\n      return axesMapOnDim[axisIndex || 0];\n    }\n  };\n  Grid.prototype.getAxes = function () {\n    return this._axesList.slice();\n  };\n  Grid.prototype.getCartesian = function (xAxisIndex, yAxisIndex) {\n    if (xAxisIndex != null && yAxisIndex != null) {\n      var key = 'x' + xAxisIndex + 'y' + yAxisIndex;\n      return this._coordsMap[key];\n    }\n    if (isObject(xAxisIndex)) {\n      yAxisIndex = xAxisIndex.yAxisIndex;\n      xAxisIndex = xAxisIndex.xAxisIndex;\n    }\n    for (var i = 0, coordList = this._coordsList; i < coordList.length; i++) {\n      if (coordList[i].getAxis('x').index === xAxisIndex || coordList[i].getAxis('y').index === yAxisIndex) {\n        return coordList[i];\n      }\n    }\n  };\n  Grid.prototype.getCartesians = function () {\n    return this._coordsList.slice();\n  };\n  /**\n   * @implements\n   */\n  Grid.prototype.convertToPixel = function (ecModel, finder, value) {\n    var target = this._findConvertTarget(finder);\n    return target.cartesian ? target.cartesian.dataToPoint(value) : target.axis ? target.axis.toGlobalCoord(target.axis.dataToCoord(value)) : null;\n  };\n  /**\n   * @implements\n   */\n  Grid.prototype.convertFromPixel = function (ecModel, finder, value) {\n    var target = this._findConvertTarget(finder);\n    return target.cartesian ? target.cartesian.pointToData(value) : target.axis ? target.axis.coordToData(target.axis.toLocalCoord(value)) : null;\n  };\n  Grid.prototype._findConvertTarget = function (finder) {\n    var seriesModel = finder.seriesModel;\n    var xAxisModel = finder.xAxisModel || seriesModel && seriesModel.getReferringComponents('xAxis', SINGLE_REFERRING).models[0];\n    var yAxisModel = finder.yAxisModel || seriesModel && seriesModel.getReferringComponents('yAxis', SINGLE_REFERRING).models[0];\n    var gridModel = finder.gridModel;\n    var coordsList = this._coordsList;\n    var cartesian;\n    var axis;\n    if (seriesModel) {\n      cartesian = seriesModel.coordinateSystem;\n      indexOf(coordsList, cartesian) < 0 && (cartesian = null);\n    } else if (xAxisModel && yAxisModel) {\n      cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n    } else if (xAxisModel) {\n      axis = this.getAxis('x', xAxisModel.componentIndex);\n    } else if (yAxisModel) {\n      axis = this.getAxis('y', yAxisModel.componentIndex);\n    }\n    // Lowest priority.\n    else if (gridModel) {\n      var grid = gridModel.coordinateSystem;\n      if (grid === this) {\n        cartesian = this._coordsList[0];\n      }\n    }\n    return {\n      cartesian: cartesian,\n      axis: axis\n    };\n  };\n  /**\n   * @implements\n   */\n  Grid.prototype.containPoint = function (point) {\n    var coord = this._coordsList[0];\n    if (coord) {\n      return coord.containPoint(point);\n    }\n  };\n  /**\n   * Initialize cartesian coordinate systems\n   */\n  Grid.prototype._initCartesian = function (gridModel, ecModel, api) {\n    var _this = this;\n    var grid = this;\n    var axisPositionUsed = {\n      left: false,\n      right: false,\n      top: false,\n      bottom: false\n    };\n    var axesMap = {\n      x: {},\n      y: {}\n    };\n    var axesCount = {\n      x: 0,\n      y: 0\n    };\n    // Create axis\n    ecModel.eachComponent('xAxis', createAxisCreator('x'), this);\n    ecModel.eachComponent('yAxis', createAxisCreator('y'), this);\n    if (!axesCount.x || !axesCount.y) {\n      // Roll back when there no either x or y axis\n      this._axesMap = {};\n      this._axesList = [];\n      return;\n    }\n    this._axesMap = axesMap;\n    // Create cartesian2d\n    each(axesMap.x, function (xAxis, xAxisIndex) {\n      each(axesMap.y, function (yAxis, yAxisIndex) {\n        var key = 'x' + xAxisIndex + 'y' + yAxisIndex;\n        var cartesian = new Cartesian2D(key);\n        cartesian.master = _this;\n        cartesian.model = gridModel;\n        _this._coordsMap[key] = cartesian;\n        _this._coordsList.push(cartesian);\n        cartesian.addAxis(xAxis);\n        cartesian.addAxis(yAxis);\n      });\n    });\n    function createAxisCreator(dimName) {\n      return function (axisModel, idx) {\n        if (!isAxisUsedInTheGrid(axisModel, gridModel)) {\n          return;\n        }\n        var axisPosition = axisModel.get('position');\n        if (dimName === 'x') {\n          // Fix position\n          if (axisPosition !== 'top' && axisPosition !== 'bottom') {\n            // Default bottom of X\n            axisPosition = axisPositionUsed.bottom ? 'top' : 'bottom';\n          }\n        } else {\n          // Fix position\n          if (axisPosition !== 'left' && axisPosition !== 'right') {\n            // Default left of Y\n            axisPosition = axisPositionUsed.left ? 'right' : 'left';\n          }\n        }\n        axisPositionUsed[axisPosition] = true;\n        var axis = new Axis2D(dimName, createScaleByModel(axisModel), [0, 0], axisModel.get('type'), axisPosition);\n        var isCategory = axis.type === 'category';\n        axis.onBand = isCategory && axisModel.get('boundaryGap');\n        axis.inverse = axisModel.get('inverse');\n        // Inject axis into axisModel\n        axisModel.axis = axis;\n        // Inject axisModel into axis\n        axis.model = axisModel;\n        // Inject grid info axis\n        axis.grid = grid;\n        // Index of axis, can be used as key\n        axis.index = idx;\n        grid._axesList.push(axis);\n        axesMap[dimName][idx] = axis;\n        axesCount[dimName]++;\n      };\n    }\n  };\n  /**\n   * Update cartesian properties from series.\n   */\n  Grid.prototype._updateScale = function (ecModel, gridModel) {\n    // Reset scale\n    each(this._axesList, function (axis) {\n      axis.scale.setExtent(Infinity, -Infinity);\n      if (axis.type === 'category') {\n        var categorySortInfo = axis.model.get('categorySortInfo');\n        axis.scale.setSortInfo(categorySortInfo);\n      }\n    });\n    ecModel.eachSeries(function (seriesModel) {\n      if (isCartesian2DSeries(seriesModel)) {\n        var axesModelMap = findAxisModels(seriesModel);\n        var xAxisModel = axesModelMap.xAxisModel;\n        var yAxisModel = axesModelMap.yAxisModel;\n        if (!isAxisUsedInTheGrid(xAxisModel, gridModel) || !isAxisUsedInTheGrid(yAxisModel, gridModel)) {\n          return;\n        }\n        var cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n        var data = seriesModel.getData();\n        var xAxis = cartesian.getAxis('x');\n        var yAxis = cartesian.getAxis('y');\n        unionExtent(data, xAxis);\n        unionExtent(data, yAxis);\n      }\n    }, this);\n    function unionExtent(data, axis) {\n      each(getDataDimensionsOnAxis(data, axis.dim), function (dim) {\n        axis.scale.unionExtentFromData(data, dim);\n      });\n    }\n  };\n  /**\n   * @param dim 'x' or 'y' or 'auto' or null/undefined\n   */\n  Grid.prototype.getTooltipAxes = function (dim) {\n    var baseAxes = [];\n    var otherAxes = [];\n    each(this.getCartesians(), function (cartesian) {\n      var baseAxis = dim != null && dim !== 'auto' ? cartesian.getAxis(dim) : cartesian.getBaseAxis();\n      var otherAxis = cartesian.getOtherAxis(baseAxis);\n      indexOf(baseAxes, baseAxis) < 0 && baseAxes.push(baseAxis);\n      indexOf(otherAxes, otherAxis) < 0 && otherAxes.push(otherAxis);\n    });\n    return {\n      baseAxes: baseAxes,\n      otherAxes: otherAxes\n    };\n  };\n  Grid.create = function (ecModel, api) {\n    var grids = [];\n    ecModel.eachComponent('grid', function (gridModel, idx) {\n      var grid = new Grid(gridModel, ecModel, api);\n      grid.name = 'grid_' + idx;\n      // dataSampling requires axis extent, so resize\n      // should be performed in create stage.\n      grid.resize(gridModel, api, true);\n      gridModel.coordinateSystem = grid;\n      grids.push(grid);\n    });\n    // Inject the coordinateSystems into seriesModel\n    ecModel.eachSeries(function (seriesModel) {\n      if (!isCartesian2DSeries(seriesModel)) {\n        return;\n      }\n      var axesModelMap = findAxisModels(seriesModel);\n      var xAxisModel = axesModelMap.xAxisModel;\n      var yAxisModel = axesModelMap.yAxisModel;\n      var gridModel = xAxisModel.getCoordSysModel();\n      if (process.env.NODE_ENV !== 'production') {\n        if (!gridModel) {\n          throw new Error('Grid \"' + retrieve3(xAxisModel.get('gridIndex'), xAxisModel.get('gridId'), 0) + '\" not found');\n        }\n        if (xAxisModel.getCoordSysModel() !== yAxisModel.getCoordSysModel()) {\n          throw new Error('xAxis and yAxis must use the same grid');\n        }\n      }\n      var grid = gridModel.coordinateSystem;\n      seriesModel.coordinateSystem = grid.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n    });\n    return grids;\n  };\n  // For deciding which dimensions to use when creating list data\n  Grid.dimensions = cartesian2DDimensions;\n  return Grid;\n}();\n/**\n * Check if the axis is used in the specified grid.\n */\nfunction isAxisUsedInTheGrid(axisModel, gridModel) {\n  return axisModel.getCoordSysModel() === gridModel;\n}\nfunction fixAxisOnZero(axesMap, otherAxisDim, axis,\n// Key: see `getOnZeroRecordKey`\nonZeroRecords) {\n  axis.getAxesOnZeroOf = function () {\n    // TODO: onZero of multiple axes.\n    return otherAxisOnZeroOf ? [otherAxisOnZeroOf] : [];\n  };\n  // onZero can not be enabled in these two situations:\n  // 1. When any other axis is a category axis.\n  // 2. When no axis is cross 0 point.\n  var otherAxes = axesMap[otherAxisDim];\n  var otherAxisOnZeroOf;\n  var axisModel = axis.model;\n  var onZero = axisModel.get(['axisLine', 'onZero']);\n  var onZeroAxisIndex = axisModel.get(['axisLine', 'onZeroAxisIndex']);\n  if (!onZero) {\n    return;\n  }\n  // If target axis is specified.\n  if (onZeroAxisIndex != null) {\n    if (canOnZeroToAxis(otherAxes[onZeroAxisIndex])) {\n      otherAxisOnZeroOf = otherAxes[onZeroAxisIndex];\n    }\n  } else {\n    // Find the first available other axis.\n    for (var idx in otherAxes) {\n      if (otherAxes.hasOwnProperty(idx) && canOnZeroToAxis(otherAxes[idx])\n      // Consider that two Y axes on one value axis,\n      // if both onZero, the two Y axes overlap.\n      && !onZeroRecords[getOnZeroRecordKey(otherAxes[idx])]) {\n        otherAxisOnZeroOf = otherAxes[idx];\n        break;\n      }\n    }\n  }\n  if (otherAxisOnZeroOf) {\n    onZeroRecords[getOnZeroRecordKey(otherAxisOnZeroOf)] = true;\n  }\n  function getOnZeroRecordKey(axis) {\n    return axis.dim + '_' + axis.index;\n  }\n}\nfunction canOnZeroToAxis(axis) {\n  return axis && axis.type !== 'category' && axis.type !== 'time' && ifAxisCrossZero(axis);\n}\nfunction updateAxisTransform(axis, coordBase) {\n  var axisExtent = axis.getExtent();\n  var axisExtentSum = axisExtent[0] + axisExtent[1];\n  // Fast transform\n  axis.toGlobalCoord = axis.dim === 'x' ? function (coord) {\n    return coord + coordBase;\n  } : function (coord) {\n    return axisExtentSum - coord + coordBase;\n  };\n  axis.toLocalCoord = axis.dim === 'x' ? function (coord) {\n    return coord - coordBase;\n  } : function (coord) {\n    return axisExtentSum - coord + coordBase;\n  };\n}\nexport default Grid;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentModel from '../../model/Component.js';\nvar GridModel = /** @class */function (_super) {\n  __extends(GridModel, _super);\n  function GridModel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  GridModel.type = 'grid';\n  GridModel.dependencies = ['xAxis', 'yAxis'];\n  GridModel.layoutMode = 'box';\n  GridModel.defaultOption = {\n    show: false,\n    // zlevel: 0,\n    z: 0,\n    left: '10%',\n    top: 60,\n    right: '10%',\n    bottom: 70,\n    // If grid size contain label\n    containLabel: false,\n    // width: {totalWidth} - left - right,\n    // height: {totalHeight} - top - bottom,\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderWidth: 1,\n    borderColor: '#ccc'\n  };\n  return GridModel;\n}(ComponentModel);\nexport default GridModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { SINGLE_REFERRING } from '../../util/model.js';\n/**\n * Can only be called after coordinate system creation stage.\n * (Can be called before coordinate system update stage).\n */\nexport function layout(gridModel, axisModel, opt) {\n  opt = opt || {};\n  var grid = gridModel.coordinateSystem;\n  var axis = axisModel.axis;\n  var layout = {};\n  var otherAxisOnZeroOf = axis.getAxesOnZeroOf()[0];\n  var rawAxisPosition = axis.position;\n  var axisPosition = otherAxisOnZeroOf ? 'onZero' : rawAxisPosition;\n  var axisDim = axis.dim;\n  var rect = grid.getRect();\n  var rectBound = [rect.x, rect.x + rect.width, rect.y, rect.y + rect.height];\n  var idx = {\n    left: 0,\n    right: 1,\n    top: 0,\n    bottom: 1,\n    onZero: 2\n  };\n  var axisOffset = axisModel.get('offset') || 0;\n  var posBound = axisDim === 'x' ? [rectBound[2] - axisOffset, rectBound[3] + axisOffset] : [rectBound[0] - axisOffset, rectBound[1] + axisOffset];\n  if (otherAxisOnZeroOf) {\n    var onZeroCoord = otherAxisOnZeroOf.toGlobalCoord(otherAxisOnZeroOf.dataToCoord(0));\n    posBound[idx.onZero] = Math.max(Math.min(onZeroCoord, posBound[1]), posBound[0]);\n  }\n  // Axis position\n  layout.position = [axisDim === 'y' ? posBound[idx[axisPosition]] : rectBound[0], axisDim === 'x' ? posBound[idx[axisPosition]] : rectBound[3]];\n  // Axis rotation\n  layout.rotation = Math.PI / 2 * (axisDim === 'x' ? 0 : 1);\n  // Tick and label direction, x y is axisDim\n  var dirMap = {\n    top: -1,\n    bottom: 1,\n    left: -1,\n    right: 1\n  };\n  layout.labelDirection = layout.tickDirection = layout.nameDirection = dirMap[rawAxisPosition];\n  layout.labelOffset = otherAxisOnZeroOf ? posBound[idx[rawAxisPosition]] - posBound[idx.onZero] : 0;\n  if (axisModel.get(['axisTick', 'inside'])) {\n    layout.tickDirection = -layout.tickDirection;\n  }\n  if (zrUtil.retrieve(opt.labelInside, axisModel.get(['axisLabel', 'inside']))) {\n    layout.labelDirection = -layout.labelDirection;\n  }\n  // Special label rotation\n  var labelRotate = axisModel.get(['axisLabel', 'rotate']);\n  layout.labelRotate = axisPosition === 'top' ? -labelRotate : labelRotate;\n  // Over splitLine and splitArea\n  layout.z2 = 1;\n  return layout;\n}\nexport function isCartesian2DSeries(seriesModel) {\n  return seriesModel.get('coordinateSystem') === 'cartesian2d';\n}\nexport function findAxisModels(seriesModel) {\n  var axisModelMap = {\n    xAxisModel: null,\n    yAxisModel: null\n  };\n  zrUtil.each(axisModelMap, function (v, key) {\n    var axisType = key.replace(/Model$/, '');\n    var axisModel = seriesModel.getReferringComponents(axisType, SINGLE_REFERRING).models[0];\n    if (process.env.NODE_ENV !== 'production') {\n      if (!axisModel) {\n        throw new Error(axisType + ' \"' + zrUtil.retrieve3(seriesModel.get(axisType + 'Index'), seriesModel.get(axisType + 'Id'), 0) + '\" not found');\n      }\n    }\n    axisModelMap[key] = axisModel;\n  });\n  return axisModelMap;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nfunction dataToCoordSize(dataSize, dataItem) {\n  // dataItem is necessary in log axis.\n  dataItem = dataItem || [0, 0];\n  return zrUtil.map(['x', 'y'], function (dim, dimIdx) {\n    var axis = this.getAxis(dim);\n    var val = dataItem[dimIdx];\n    var halfSize = dataSize[dimIdx] / 2;\n    return axis.type === 'category' ? axis.getBandWidth() : Math.abs(axis.dataToCoord(val - halfSize) - axis.dataToCoord(val + halfSize));\n  }, this);\n}\nexport default function cartesianPrepareCustom(coordSys) {\n  var rect = coordSys.master.getRect();\n  return {\n    coordSys: {\n      // The name exposed to user is always 'cartesian2d' but not 'grid'.\n      type: 'cartesian2d',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    },\n    api: {\n      coord: function (data) {\n        // do not provide \"out\" param\n        return coordSys.dataToPoint(data);\n      },\n      size: zrUtil.bind(dataToCoordSize, coordSys)\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as modelUtil from '../../util/model.js';\nimport ComponentModel from '../../model/Component.js';\nimport Model from '../../model/Model.js';\nimport geoCreator from './geoCreator.js';\nimport geoSourceManager from './geoSourceManager.js';\n;\nvar GeoModel = /** @class */function (_super) {\n  __extends(GeoModel, _super);\n  function GeoModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = GeoModel.type;\n    return _this;\n  }\n  GeoModel.prototype.init = function (option, parentModel, ecModel) {\n    var source = geoSourceManager.getGeoResource(option.map);\n    if (source && source.type === 'geoJSON') {\n      var itemStyle = option.itemStyle = option.itemStyle || {};\n      if (!('color' in itemStyle)) {\n        itemStyle.color = '#eee';\n      }\n    }\n    this.mergeDefaultAndTheme(option, ecModel);\n    // Default label emphasis `show`\n    modelUtil.defaultEmphasis(option, 'label', ['show']);\n  };\n  GeoModel.prototype.optionUpdated = function () {\n    var _this = this;\n    var option = this.option;\n    option.regions = geoCreator.getFilledRegions(option.regions, option.map, option.nameMap, option.nameProperty);\n    var selectedMap = {};\n    this._optionModelMap = zrUtil.reduce(option.regions || [], function (optionModelMap, regionOpt) {\n      var regionName = regionOpt.name;\n      if (regionName) {\n        optionModelMap.set(regionName, new Model(regionOpt, _this, _this.ecModel));\n        if (regionOpt.selected) {\n          selectedMap[regionName] = true;\n        }\n      }\n      return optionModelMap;\n    }, zrUtil.createHashMap());\n    if (!option.selectedMap) {\n      option.selectedMap = selectedMap;\n    }\n  };\n  /**\n   * Get model of region.\n   */\n  GeoModel.prototype.getRegionModel = function (name) {\n    return this._optionModelMap.get(name) || new Model(null, this, this.ecModel);\n  };\n  /**\n   * Format label\n   * @param name Region name\n   */\n  GeoModel.prototype.getFormattedLabel = function (name, status) {\n    var regionModel = this.getRegionModel(name);\n    var formatter = status === 'normal' ? regionModel.get(['label', 'formatter']) : regionModel.get(['emphasis', 'label', 'formatter']);\n    var params = {\n      name: name\n    };\n    if (zrUtil.isFunction(formatter)) {\n      params.status = status;\n      return formatter(params);\n    } else if (zrUtil.isString(formatter)) {\n      return formatter.replace('{a}', name != null ? name : '');\n    }\n  };\n  GeoModel.prototype.setZoom = function (zoom) {\n    this.option.zoom = zoom;\n  };\n  GeoModel.prototype.setCenter = function (center) {\n    this.option.center = center;\n  };\n  // PENGING If selectedMode is null ?\n  GeoModel.prototype.select = function (name) {\n    var option = this.option;\n    var selectedMode = option.selectedMode;\n    if (!selectedMode) {\n      return;\n    }\n    if (selectedMode !== 'multiple') {\n      option.selectedMap = null;\n    }\n    var selectedMap = option.selectedMap || (option.selectedMap = {});\n    selectedMap[name] = true;\n  };\n  GeoModel.prototype.unSelect = function (name) {\n    var selectedMap = this.option.selectedMap;\n    if (selectedMap) {\n      selectedMap[name] = false;\n    }\n  };\n  GeoModel.prototype.toggleSelected = function (name) {\n    this[this.isSelected(name) ? 'unSelect' : 'select'](name);\n  };\n  GeoModel.prototype.isSelected = function (name) {\n    var selectedMap = this.option.selectedMap;\n    return !!(selectedMap && selectedMap[name]);\n  };\n  GeoModel.type = 'geo';\n  GeoModel.layoutMode = 'box';\n  GeoModel.defaultOption = {\n    // zlevel: 0,\n    z: 0,\n    show: true,\n    left: 'center',\n    top: 'center',\n    // Default value:\n    // for geoSVG source: 1,\n    // for geoJSON source: 0.75.\n    aspectScale: null,\n    // /// Layout with center and size\n    // If you want to put map in a fixed size box with right aspect ratio\n    // This two properties may be more convenient\n    // layoutCenter: [50%, 50%]\n    // layoutSize: 100\n    silent: false,\n    // Map type\n    map: '',\n    // Define left-top, right-bottom coords to control view\n    // For example, [ [180, 90], [-180, -90] ]\n    boundingCoords: null,\n    // Default on center of map\n    center: null,\n    zoom: 1,\n    scaleLimit: null,\n    // selectedMode: false\n    label: {\n      show: false,\n      color: '#000'\n    },\n    itemStyle: {\n      borderWidth: 0.5,\n      borderColor: '#444'\n      // Default color:\n      // + geoJSON: #eee\n      // + geoSVG: null (use SVG original `fill`)\n      // color: '#eee'\n    },\n\n    emphasis: {\n      label: {\n        show: true,\n        color: 'rgb(100,0,0)'\n      },\n      itemStyle: {\n        color: 'rgba(255,215,0,0.8)'\n      }\n    },\n    select: {\n      label: {\n        show: true,\n        color: 'rgb(100,0,0)'\n      },\n      itemStyle: {\n        color: 'rgba(255,215,0,0.8)'\n      }\n    },\n    regions: []\n    // tooltip: {\n    //     show: false\n    // }\n  };\n\n  return GeoModel;\n}(ComponentModel);\nexport default GeoModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport * as vec2 from 'zrender/lib/core/vector.js';\nimport * as polygonContain from 'zrender/lib/contain/polygon.js';\nimport * as matrix from 'zrender/lib/core/matrix.js';\nimport { each } from 'zrender/lib/core/util.js';\nvar TMP_TRANSFORM = [];\nfunction transformPoints(points, transform) {\n  for (var p = 0; p < points.length; p++) {\n    vec2.applyTransform(points[p], points[p], transform);\n  }\n}\nfunction updateBBoxFromPoints(points, min, max, projection) {\n  for (var i = 0; i < points.length; i++) {\n    var p = points[i];\n    if (projection) {\n      // projection may return null point.\n      p = projection.project(p);\n    }\n    if (p && isFinite(p[0]) && isFinite(p[1])) {\n      vec2.min(min, min, p);\n      vec2.max(max, max, p);\n    }\n  }\n}\nfunction centroid(points) {\n  var signedArea = 0;\n  var cx = 0;\n  var cy = 0;\n  var len = points.length;\n  var x0 = points[len - 1][0];\n  var y0 = points[len - 1][1];\n  // Polygon should been closed.\n  for (var i = 0; i < len; i++) {\n    var x1 = points[i][0];\n    var y1 = points[i][1];\n    var a = x0 * y1 - x1 * y0;\n    signedArea += a;\n    cx += (x0 + x1) * a;\n    cy += (y0 + y1) * a;\n    x0 = x1;\n    y0 = y1;\n  }\n  return signedArea ? [cx / signedArea / 3, cy / signedArea / 3, signedArea] : [points[0][0] || 0, points[0][1] || 0];\n}\nvar Region = /** @class */function () {\n  function Region(name) {\n    this.name = name;\n  }\n  Region.prototype.setCenter = function (center) {\n    this._center = center;\n  };\n  /**\n   * Get center point in data unit. That is,\n   * for GeoJSONRegion, the unit is lat/lng,\n   * for GeoSVGRegion, the unit is SVG local coord.\n   */\n  Region.prototype.getCenter = function () {\n    var center = this._center;\n    if (!center) {\n      // In most cases there are no need to calculate this center.\n      // So calculate only when called.\n      center = this._center = this.calcCenter();\n    }\n    return center;\n  };\n  return Region;\n}();\nexport { Region };\nvar GeoJSONPolygonGeometry = /** @class */function () {\n  function GeoJSONPolygonGeometry(exterior, interiors) {\n    this.type = 'polygon';\n    this.exterior = exterior;\n    this.interiors = interiors;\n  }\n  return GeoJSONPolygonGeometry;\n}();\nexport { GeoJSONPolygonGeometry };\nvar GeoJSONLineStringGeometry = /** @class */function () {\n  function GeoJSONLineStringGeometry(points) {\n    this.type = 'linestring';\n    this.points = points;\n  }\n  return GeoJSONLineStringGeometry;\n}();\nexport { GeoJSONLineStringGeometry };\nvar GeoJSONRegion = /** @class */function (_super) {\n  __extends(GeoJSONRegion, _super);\n  function GeoJSONRegion(name, geometries, cp) {\n    var _this = _super.call(this, name) || this;\n    _this.type = 'geoJSON';\n    _this.geometries = geometries;\n    _this._center = cp && [cp[0], cp[1]];\n    return _this;\n  }\n  GeoJSONRegion.prototype.calcCenter = function () {\n    var geometries = this.geometries;\n    var largestGeo;\n    var largestGeoSize = 0;\n    for (var i = 0; i < geometries.length; i++) {\n      var geo = geometries[i];\n      var exterior = geo.exterior;\n      // Simple trick to use points count instead of polygon area as region size.\n      // Ignore linestring\n      var size = exterior && exterior.length;\n      if (size > largestGeoSize) {\n        largestGeo = geo;\n        largestGeoSize = size;\n      }\n    }\n    if (largestGeo) {\n      return centroid(largestGeo.exterior);\n    }\n    // from bounding rect by default.\n    var rect = this.getBoundingRect();\n    return [rect.x + rect.width / 2, rect.y + rect.height / 2];\n  };\n  GeoJSONRegion.prototype.getBoundingRect = function (projection) {\n    var rect = this._rect;\n    // Always recalculate if using projection.\n    if (rect && !projection) {\n      return rect;\n    }\n    var min = [Infinity, Infinity];\n    var max = [-Infinity, -Infinity];\n    var geometries = this.geometries;\n    each(geometries, function (geo) {\n      if (geo.type === 'polygon') {\n        // Doesn't consider hole\n        updateBBoxFromPoints(geo.exterior, min, max, projection);\n      } else {\n        each(geo.points, function (points) {\n          updateBBoxFromPoints(points, min, max, projection);\n        });\n      }\n    });\n    // Normalie invalid bounding.\n    if (!(isFinite(min[0]) && isFinite(min[1]) && isFinite(max[0]) && isFinite(max[1]))) {\n      min[0] = min[1] = max[0] = max[1] = 0;\n    }\n    rect = new BoundingRect(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n    if (!projection) {\n      this._rect = rect;\n    }\n    return rect;\n  };\n  GeoJSONRegion.prototype.contain = function (coord) {\n    var rect = this.getBoundingRect();\n    var geometries = this.geometries;\n    if (!rect.contain(coord[0], coord[1])) {\n      return false;\n    }\n    loopGeo: for (var i = 0, len = geometries.length; i < len; i++) {\n      var geo = geometries[i];\n      // Only support polygon.\n      if (geo.type !== 'polygon') {\n        continue;\n      }\n      var exterior = geo.exterior;\n      var interiors = geo.interiors;\n      if (polygonContain.contain(exterior, coord[0], coord[1])) {\n        // Not in the region if point is in the hole.\n        for (var k = 0; k < (interiors ? interiors.length : 0); k++) {\n          if (polygonContain.contain(interiors[k], coord[0], coord[1])) {\n            continue loopGeo;\n          }\n        }\n        return true;\n      }\n    }\n    return false;\n  };\n  /**\n   * Transform the raw coords to target bounding.\n   * @param x\n   * @param y\n   * @param width\n   * @param height\n   */\n  GeoJSONRegion.prototype.transformTo = function (x, y, width, height) {\n    var rect = this.getBoundingRect();\n    var aspect = rect.width / rect.height;\n    if (!width) {\n      width = aspect * height;\n    } else if (!height) {\n      height = width / aspect;\n    }\n    var target = new BoundingRect(x, y, width, height);\n    var transform = rect.calculateTransform(target);\n    var geometries = this.geometries;\n    for (var i = 0; i < geometries.length; i++) {\n      var geo = geometries[i];\n      if (geo.type === 'polygon') {\n        transformPoints(geo.exterior, transform);\n        each(geo.interiors, function (interior) {\n          transformPoints(interior, transform);\n        });\n      } else {\n        each(geo.points, function (points) {\n          transformPoints(points, transform);\n        });\n      }\n    }\n    rect = this._rect;\n    rect.copy(target);\n    // Update center\n    this._center = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n  };\n  GeoJSONRegion.prototype.cloneShallow = function (name) {\n    name == null && (name = this.name);\n    var newRegion = new GeoJSONRegion(name, this.geometries, this._center);\n    newRegion._rect = this._rect;\n    newRegion.transformTo = null; // Simply avoid to be called.\n    return newRegion;\n  };\n  return GeoJSONRegion;\n}(Region);\nexport { GeoJSONRegion };\nvar GeoSVGRegion = /** @class */function (_super) {\n  __extends(GeoSVGRegion, _super);\n  function GeoSVGRegion(name, elOnlyForCalculate) {\n    var _this = _super.call(this, name) || this;\n    _this.type = 'geoSVG';\n    _this._elOnlyForCalculate = elOnlyForCalculate;\n    return _this;\n  }\n  GeoSVGRegion.prototype.calcCenter = function () {\n    var el = this._elOnlyForCalculate;\n    var rect = el.getBoundingRect();\n    var center = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n    var mat = matrix.identity(TMP_TRANSFORM);\n    var target = el;\n    while (target && !target.isGeoSVGGraphicRoot) {\n      matrix.mul(mat, target.getLocalTransform(), mat);\n      target = target.parent;\n    }\n    matrix.invert(mat, mat);\n    vec2.applyTransform(center, center, mat);\n    return center;\n  };\n  return GeoSVGRegion;\n}(Region);\nexport { GeoSVGRegion };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar geoCoordMap = {\n  'Russia': [100, 60],\n  'United States': [-99, 38],\n  'United States of America': [-99, 38]\n};\nexport default function fixGeoCoords(mapType, region) {\n  if (mapType === 'world') {\n    var geoCoord = geoCoordMap[region.name];\n    if (geoCoord) {\n      var cp = [geoCoord[0], geoCoord[1]];\n      region.setCenter(cp);\n    }\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar coordsOffsetMap = {\n  '南海诸岛': [32, 80],\n  // 全国\n  '广东': [0, -10],\n  '香港': [10, 5],\n  '澳门': [-10, 10],\n  // '北京': [-10, 0],\n  '天津': [5, 5]\n};\nexport default function fixTextCoords(mapType, region) {\n  if (mapType === 'china') {\n    var coordFix = coordsOffsetMap[region.name];\n    if (coordFix) {\n      var cp = region.getCenter();\n      cp[0] += coordFix[0] / 10.5;\n      cp[1] += -coordFix[1] / (10.5 / 0.75);\n      region.setCenter(cp);\n    }\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport View from '../View.js';\nimport geoSourceManager from './geoSourceManager.js';\nimport { SINGLE_REFERRING } from '../../util/model.js';\nimport { warn } from '../../util/log.js';\nvar GEO_DEFAULT_PARAMS = {\n  'geoJSON': {\n    aspectScale: 0.75,\n    invertLongitute: true\n  },\n  'geoSVG': {\n    aspectScale: 1,\n    invertLongitute: false\n  }\n};\nexport var geo2DDimensions = ['lng', 'lat'];\nvar Geo = /** @class */function (_super) {\n  __extends(Geo, _super);\n  function Geo(name, map, opt) {\n    var _this = _super.call(this, name) || this;\n    _this.dimensions = geo2DDimensions;\n    _this.type = 'geo';\n    // Only store specified name coord via `addGeoCoord`.\n    _this._nameCoordMap = zrUtil.createHashMap();\n    _this.map = map;\n    var projection = opt.projection;\n    var source = geoSourceManager.load(map, opt.nameMap, opt.nameProperty);\n    var resource = geoSourceManager.getGeoResource(map);\n    var resourceType = _this.resourceType = resource ? resource.type : null;\n    var regions = _this.regions = source.regions;\n    var defaultParams = GEO_DEFAULT_PARAMS[resource.type];\n    _this._regionsMap = source.regionsMap;\n    _this.regions = source.regions;\n    if (process.env.NODE_ENV !== 'production' && projection) {\n      // Do some check\n      if (resourceType === 'geoSVG') {\n        if (process.env.NODE_ENV !== 'production') {\n          warn(\"Map \" + map + \" with SVG source can't use projection. Only GeoJSON source supports projection.\");\n        }\n        projection = null;\n      }\n      if (!(projection.project && projection.unproject)) {\n        if (process.env.NODE_ENV !== 'production') {\n          warn('project and unproject must be both provided in the projeciton.');\n        }\n        projection = null;\n      }\n    }\n    _this.projection = projection;\n    var boundingRect;\n    if (projection) {\n      // Can't reuse the raw bounding rect\n      for (var i = 0; i < regions.length; i++) {\n        var regionRect = regions[i].getBoundingRect(projection);\n        boundingRect = boundingRect || regionRect.clone();\n        boundingRect.union(regionRect);\n      }\n    } else {\n      boundingRect = source.boundingRect;\n    }\n    _this.setBoundingRect(boundingRect.x, boundingRect.y, boundingRect.width, boundingRect.height);\n    // aspectScale and invertLongitute actually is the parameters default raw projection.\n    // So we ignore them if projection is given.\n    // Ignore default aspect scale if projection exits.\n    _this.aspectScale = projection ? 1 : zrUtil.retrieve2(opt.aspectScale, defaultParams.aspectScale);\n    // Not invert longitude if projection exits.\n    _this._invertLongitute = projection ? false : defaultParams.invertLongitute;\n    return _this;\n  }\n  Geo.prototype._transformTo = function (x, y, width, height) {\n    var rect = this.getBoundingRect();\n    var invertLongitute = this._invertLongitute;\n    rect = rect.clone();\n    if (invertLongitute) {\n      // Longitude is inverted.\n      rect.y = -rect.y - rect.height;\n    }\n    var rawTransformable = this._rawTransformable;\n    rawTransformable.transform = rect.calculateTransform(new BoundingRect(x, y, width, height));\n    var rawParent = rawTransformable.parent;\n    rawTransformable.parent = null;\n    rawTransformable.decomposeTransform();\n    rawTransformable.parent = rawParent;\n    if (invertLongitute) {\n      rawTransformable.scaleY = -rawTransformable.scaleY;\n    }\n    this._updateTransform();\n  };\n  Geo.prototype.getRegion = function (name) {\n    return this._regionsMap.get(name);\n  };\n  Geo.prototype.getRegionByCoord = function (coord) {\n    var regions = this.regions;\n    for (var i = 0; i < regions.length; i++) {\n      var region = regions[i];\n      if (region.type === 'geoJSON' && region.contain(coord)) {\n        return regions[i];\n      }\n    }\n  };\n  /**\n   * Add geoCoord for indexing by name\n   */\n  Geo.prototype.addGeoCoord = function (name, geoCoord) {\n    this._nameCoordMap.set(name, geoCoord);\n  };\n  /**\n   * Get geoCoord by name\n   */\n  Geo.prototype.getGeoCoord = function (name) {\n    var region = this._regionsMap.get(name);\n    // Calculate center only on demand.\n    return this._nameCoordMap.get(name) || region && region.getCenter();\n  };\n  Geo.prototype.dataToPoint = function (data, noRoam, out) {\n    if (zrUtil.isString(data)) {\n      // Map area name to geoCoord\n      data = this.getGeoCoord(data);\n    }\n    if (data) {\n      var projection = this.projection;\n      if (projection) {\n        // projection may return null point.\n        data = projection.project(data);\n      }\n      return data && this.projectedToPoint(data, noRoam, out);\n    }\n  };\n  Geo.prototype.pointToData = function (point) {\n    var projection = this.projection;\n    if (projection) {\n      // projection may return null point.\n      point = projection.unproject(point);\n    }\n    return point && this.pointToProjected(point);\n  };\n  /**\n   * Point to projected data. Same with pointToData when projection is used.\n   */\n  Geo.prototype.pointToProjected = function (point) {\n    return _super.prototype.pointToData.call(this, point);\n  };\n  Geo.prototype.projectedToPoint = function (projected, noRoam, out) {\n    return _super.prototype.dataToPoint.call(this, projected, noRoam, out);\n  };\n  Geo.prototype.convertToPixel = function (ecModel, finder, value) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.dataToPoint(value) : null;\n  };\n  Geo.prototype.convertFromPixel = function (ecModel, finder, pixel) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.pointToData(pixel) : null;\n  };\n  return Geo;\n}(View);\n;\nzrUtil.mixin(Geo, View);\nfunction getCoordSys(finder) {\n  var geoModel = finder.geoModel;\n  var seriesModel = finder.seriesModel;\n  return geoModel ? geoModel.coordinateSystem : seriesModel ? seriesModel.coordinateSystem // For map series.\n  || (seriesModel.getReferringComponents('geo', SINGLE_REFERRING).models[0] || {}).coordinateSystem : null;\n}\nexport default Geo;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport Geo, { geo2DDimensions } from './Geo.js';\nimport * as layout from '../../util/layout.js';\nimport * as numberUtil from '../../util/number.js';\nimport geoSourceManager from './geoSourceManager.js';\nimport * as vector from 'zrender/lib/core/vector.js';\n/**\n * Resize method bound to the geo\n */\nfunction resizeGeo(geoModel, api) {\n  var boundingCoords = geoModel.get('boundingCoords');\n  if (boundingCoords != null) {\n    var leftTop_1 = boundingCoords[0];\n    var rightBottom_1 = boundingCoords[1];\n    if (!(isFinite(leftTop_1[0]) && isFinite(leftTop_1[1]) && isFinite(rightBottom_1[0]) && isFinite(rightBottom_1[1]))) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.error('Invalid boundingCoords');\n      }\n    } else {\n      // Sample around the lng/lat rect and use projection to calculate actual bounding rect.\n      var projection_1 = this.projection;\n      if (projection_1) {\n        var xMin = leftTop_1[0];\n        var yMin = leftTop_1[1];\n        var xMax = rightBottom_1[0];\n        var yMax = rightBottom_1[1];\n        leftTop_1 = [Infinity, Infinity];\n        rightBottom_1 = [-Infinity, -Infinity];\n        // TODO better way?\n        var sampleLine = function (x0, y0, x1, y1) {\n          var dx = x1 - x0;\n          var dy = y1 - y0;\n          for (var i = 0; i <= 100; i++) {\n            var p = i / 100;\n            var pt = projection_1.project([x0 + dx * p, y0 + dy * p]);\n            vector.min(leftTop_1, leftTop_1, pt);\n            vector.max(rightBottom_1, rightBottom_1, pt);\n          }\n        };\n        // Top\n        sampleLine(xMin, yMin, xMax, yMin);\n        // Right\n        sampleLine(xMax, yMin, xMax, yMax);\n        // Bottom\n        sampleLine(xMax, yMax, xMin, yMax);\n        // Left\n        sampleLine(xMin, yMax, xMax, yMin);\n      }\n      this.setBoundingRect(leftTop_1[0], leftTop_1[1], rightBottom_1[0] - leftTop_1[0], rightBottom_1[1] - leftTop_1[1]);\n    }\n  }\n  var rect = this.getBoundingRect();\n  var centerOption = geoModel.get('layoutCenter');\n  var sizeOption = geoModel.get('layoutSize');\n  var viewWidth = api.getWidth();\n  var viewHeight = api.getHeight();\n  var aspect = rect.width / rect.height * this.aspectScale;\n  var useCenterAndSize = false;\n  var center;\n  var size;\n  if (centerOption && sizeOption) {\n    center = [numberUtil.parsePercent(centerOption[0], viewWidth), numberUtil.parsePercent(centerOption[1], viewHeight)];\n    size = numberUtil.parsePercent(sizeOption, Math.min(viewWidth, viewHeight));\n    if (!isNaN(center[0]) && !isNaN(center[1]) && !isNaN(size)) {\n      useCenterAndSize = true;\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn('Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead.');\n      }\n    }\n  }\n  var viewRect;\n  if (useCenterAndSize) {\n    viewRect = {};\n    if (aspect > 1) {\n      // Width is same with size\n      viewRect.width = size;\n      viewRect.height = size / aspect;\n    } else {\n      viewRect.height = size;\n      viewRect.width = size * aspect;\n    }\n    viewRect.y = center[1] - viewRect.height / 2;\n    viewRect.x = center[0] - viewRect.width / 2;\n  } else {\n    // Use left/top/width/height\n    var boxLayoutOption = geoModel.getBoxLayoutParams();\n    boxLayoutOption.aspect = aspect;\n    viewRect = layout.getLayoutRect(boxLayoutOption, {\n      width: viewWidth,\n      height: viewHeight\n    });\n  }\n  this.setViewRect(viewRect.x, viewRect.y, viewRect.width, viewRect.height);\n  this.setCenter(geoModel.get('center'), api);\n  this.setZoom(geoModel.get('zoom'));\n}\n// Back compat for ECharts2, where the coord map is set on map series:\n// {type: 'map', geoCoord: {'cityA': [116.46,39.92], 'cityA': [119.12,24.61]}},\nfunction setGeoCoords(geo, model) {\n  zrUtil.each(model.get('geoCoord'), function (geoCoord, name) {\n    geo.addGeoCoord(name, geoCoord);\n  });\n}\nvar GeoCreator = /** @class */function () {\n  function GeoCreator() {\n    // For deciding which dimensions to use when creating list data\n    this.dimensions = geo2DDimensions;\n  }\n  GeoCreator.prototype.create = function (ecModel, api) {\n    var geoList = [];\n    function getCommonGeoProperties(model) {\n      return {\n        nameProperty: model.get('nameProperty'),\n        aspectScale: model.get('aspectScale'),\n        projection: model.get('projection')\n      };\n    }\n    // FIXME Create each time may be slow\n    ecModel.eachComponent('geo', function (geoModel, idx) {\n      var mapName = geoModel.get('map');\n      var geo = new Geo(mapName + idx, mapName, zrUtil.extend({\n        nameMap: geoModel.get('nameMap')\n      }, getCommonGeoProperties(geoModel)));\n      geo.zoomLimit = geoModel.get('scaleLimit');\n      geoList.push(geo);\n      // setGeoCoords(geo, geoModel);\n      geoModel.coordinateSystem = geo;\n      geo.model = geoModel;\n      // Inject resize method\n      geo.resize = resizeGeo;\n      geo.resize(geoModel, api);\n    });\n    ecModel.eachSeries(function (seriesModel) {\n      var coordSys = seriesModel.get('coordinateSystem');\n      if (coordSys === 'geo') {\n        var geoIndex = seriesModel.get('geoIndex') || 0;\n        seriesModel.coordinateSystem = geoList[geoIndex];\n      }\n    });\n    // If has map series\n    var mapModelGroupBySeries = {};\n    ecModel.eachSeriesByType('map', function (seriesModel) {\n      if (!seriesModel.getHostGeoModel()) {\n        var mapType = seriesModel.getMapType();\n        mapModelGroupBySeries[mapType] = mapModelGroupBySeries[mapType] || [];\n        mapModelGroupBySeries[mapType].push(seriesModel);\n      }\n    });\n    zrUtil.each(mapModelGroupBySeries, function (mapSeries, mapType) {\n      var nameMapList = zrUtil.map(mapSeries, function (singleMapSeries) {\n        return singleMapSeries.get('nameMap');\n      });\n      var geo = new Geo(mapType, mapType, zrUtil.extend({\n        nameMap: zrUtil.mergeAll(nameMapList)\n      }, getCommonGeoProperties(mapSeries[0])));\n      geo.zoomLimit = zrUtil.retrieve.apply(null, zrUtil.map(mapSeries, function (singleMapSeries) {\n        return singleMapSeries.get('scaleLimit');\n      }));\n      geoList.push(geo);\n      // Inject resize method\n      geo.resize = resizeGeo;\n      geo.resize(mapSeries[0], api);\n      zrUtil.each(mapSeries, function (singleMapSeries) {\n        singleMapSeries.coordinateSystem = geo;\n        setGeoCoords(geo, singleMapSeries);\n      });\n    });\n    return geoList;\n  };\n  /**\n   * Fill given regions array\n   */\n  GeoCreator.prototype.getFilledRegions = function (originRegionArr, mapName, nameMap, nameProperty) {\n    // Not use the original\n    var regionsArr = (originRegionArr || []).slice();\n    var dataNameMap = zrUtil.createHashMap();\n    for (var i = 0; i < regionsArr.length; i++) {\n      dataNameMap.set(regionsArr[i].name, regionsArr[i]);\n    }\n    var source = geoSourceManager.load(mapName, nameMap, nameProperty);\n    zrUtil.each(source.regions, function (region) {\n      var name = region.name;\n      !dataNameMap.get(name) && regionsArr.push({\n        name: name\n      });\n    });\n    return regionsArr;\n  };\n  return GeoCreator;\n}();\nvar geoCreator = new GeoCreator();\nexport default geoCreator;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { parseSVG, makeViewBoxTransform } from 'zrender/lib/tool/parseSVG.js';\nimport Group from 'zrender/lib/graphic/Group.js';\nimport Rect from 'zrender/lib/graphic/shape/Rect.js';\nimport { assert, createHashMap, each } from 'zrender/lib/core/util.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport { parseXML } from 'zrender/lib/tool/parseXML.js';\nimport { GeoSVGRegion } from './Region.js';\n/**\n * \"region available\" means that: enable users to set attribute `name=\"xxx\"` on those tags\n * to make it be a region.\n * 1. region styles and its label styles can be defined in echarts opton:\n * ```js\n * geo: {\n *     regions: [{\n *         name: 'xxx',\n *         itemStyle: { ... },\n *         label: { ... }\n *     }, {\n *         ...\n *     },\n *     ...]\n * };\n * ```\n * 2. name can be duplicated in different SVG tag. All of the tags with the same name share\n * a region option. For exampel if there are two <path> representing two lung lobes. They have\n * no common parents but both of them need to display label \"lung\" inside.\n */\nvar REGION_AVAILABLE_SVG_TAG_MAP = createHashMap(['rect', 'circle', 'line', 'ellipse', 'polygon', 'polyline', 'path',\n// <text> <tspan> are also enabled because some SVG might paint text itself,\n// but still need to trigger events or tooltip.\n'text', 'tspan',\n// <g> is also enabled because this case: if multiple tags share one name\n// and need label displayed, every tags will display the name, which is not\n// expected. So we can put them into a <g name=\"xxx\">. Thereby only one label\n// displayed and located based on the bounding rect of the <g>.\n'g']);\nvar GeoSVGResource = /** @class */function () {\n  function GeoSVGResource(mapName, svg) {\n    this.type = 'geoSVG';\n    // All used graphics. key: hostKey, value: root\n    this._usedGraphicMap = createHashMap();\n    // All unused graphics.\n    this._freedGraphics = [];\n    this._mapName = mapName;\n    // Only perform parse to XML object here, which might be time\n    // consiming for large SVG.\n    // Although convert XML to zrender element is also time consiming,\n    // if we do it here, the clone of zrender elements has to be\n    // required. So we do it once for each geo instance, util real\n    // performance issues call for optimizing it.\n    this._parsedXML = parseXML(svg);\n  }\n  GeoSVGResource.prototype.load = function /* nameMap: NameMap */\n  () {\n    // In the \"load\" stage, graphic need to be built to\n    // get boundingRect for geo coordinate system.\n    var firstGraphic = this._firstGraphic;\n    // Create the return data structure only when first graphic created.\n    // Because they will be used in geo coordinate system update stage,\n    // and `regions` will be mounted at `geo` coordinate system,\n    // in which there is no \"view\" info, so that it should better not to\n    // make references to graphic elements.\n    if (!firstGraphic) {\n      firstGraphic = this._firstGraphic = this._buildGraphic(this._parsedXML);\n      this._freedGraphics.push(firstGraphic);\n      this._boundingRect = this._firstGraphic.boundingRect.clone();\n      // PENDING: `nameMap` will not be supported until some real requirement come.\n      // if (nameMap) {\n      //     named = applyNameMap(named, nameMap);\n      // }\n      var _a = createRegions(firstGraphic.named),\n        regions = _a.regions,\n        regionsMap = _a.regionsMap;\n      this._regions = regions;\n      this._regionsMap = regionsMap;\n    }\n    return {\n      boundingRect: this._boundingRect,\n      regions: this._regions,\n      regionsMap: this._regionsMap\n    };\n  };\n  GeoSVGResource.prototype._buildGraphic = function (svgXML) {\n    var result;\n    var rootFromParse;\n    try {\n      result = svgXML && parseSVG(svgXML, {\n        ignoreViewBox: true,\n        ignoreRootClip: true\n      }) || {};\n      rootFromParse = result.root;\n      assert(rootFromParse != null);\n    } catch (e) {\n      throw new Error('Invalid svg format\\n' + e.message);\n    }\n    // Note: we keep the covenant that the root has no transform. So always add an extra root.\n    var root = new Group();\n    root.add(rootFromParse);\n    root.isGeoSVGGraphicRoot = true;\n    // [THE_RULE_OF_VIEWPORT_AND_VIEWBOX]\n    //\n    // Consider: `<svg width=\"...\" height=\"...\" viewBox=\"...\">`\n    // - the `width/height` we call it `svgWidth/svgHeight` for short.\n    // - `(0, 0, svgWidth, svgHeight)` defines the viewport of the SVG, or say,\n    //   \"viewport boundingRect\", or `boundingRect` for short.\n    // - `viewBox` defines the transform from the real content ot the viewport.\n    //   `viewBox` has the same unit as the content of SVG.\n    //   If `viewBox` exists, a transform is defined, so the unit of `svgWidth/svgHeight` become\n    //   different from the content of SVG. Otherwise, they are the same.\n    //\n    // If both `svgWidth/svgHeight/viewBox` are specified in a SVG file, the transform rule will be:\n    // 0. `boundingRect` is `(0, 0, svgWidth, svgHeight)`. Set it to Geo['_rect'] (View['_rect']).\n    // 1. Make a transform from `viewBox` to `boundingRect`.\n    //    Note: only support `preserveAspectRatio 'xMidYMid'` here. That is, this transform will preserve\n    //    the aspect ratio.\n    // 2. Make a transform from boundingRect to Geo['_viewRect'] (View['_viewRect'])\n    //    (`Geo`/`View` will do this job).\n    //    Note: this transform might not preserve aspect radio, which depending on how users specify\n    //    viewRect in echarts option (e.g., `geo.left/top/width/height` will not preserve aspect ratio,\n    //    but `geo.layoutCenter/layoutSize` will preserve aspect ratio).\n    //\n    // If `svgWidth/svgHeight` not specified, we use `viewBox` as the `boundingRect` to make the SVG\n    // layout look good.\n    //\n    // If neither `svgWidth/svgHeight` nor `viewBox` are not specified, we calculate the boundingRect\n    // of the SVG content and use them to make SVG layout look good.\n    var svgWidth = result.width;\n    var svgHeight = result.height;\n    var viewBoxRect = result.viewBoxRect;\n    var boundingRect = this._boundingRect;\n    if (!boundingRect) {\n      var bRectX = void 0;\n      var bRectY = void 0;\n      var bRectWidth = void 0;\n      var bRectHeight = void 0;\n      if (svgWidth != null) {\n        bRectX = 0;\n        bRectWidth = svgWidth;\n      } else if (viewBoxRect) {\n        bRectX = viewBoxRect.x;\n        bRectWidth = viewBoxRect.width;\n      }\n      if (svgHeight != null) {\n        bRectY = 0;\n        bRectHeight = svgHeight;\n      } else if (viewBoxRect) {\n        bRectY = viewBoxRect.y;\n        bRectHeight = viewBoxRect.height;\n      }\n      // If both viewBox and svgWidth/svgHeight not specified,\n      // we have to determine how to layout those element to make them look good.\n      if (bRectX == null || bRectY == null) {\n        var calculatedBoundingRect = rootFromParse.getBoundingRect();\n        if (bRectX == null) {\n          bRectX = calculatedBoundingRect.x;\n          bRectWidth = calculatedBoundingRect.width;\n        }\n        if (bRectY == null) {\n          bRectY = calculatedBoundingRect.y;\n          bRectHeight = calculatedBoundingRect.height;\n        }\n      }\n      boundingRect = this._boundingRect = new BoundingRect(bRectX, bRectY, bRectWidth, bRectHeight);\n    }\n    if (viewBoxRect) {\n      var viewBoxTransform = makeViewBoxTransform(viewBoxRect, boundingRect);\n      // Only support `preserveAspectRatio 'xMidYMid'`\n      rootFromParse.scaleX = rootFromParse.scaleY = viewBoxTransform.scale;\n      rootFromParse.x = viewBoxTransform.x;\n      rootFromParse.y = viewBoxTransform.y;\n    }\n    // SVG needs to clip based on `viewBox`. And some SVG files really rely on this feature.\n    // They do not strictly confine all of the content inside a display rect, but deliberately\n    // use a `viewBox` to define a displayable rect.\n    // PENDING:\n    // The drawback of the `setClipPath` here is: the region label (genereted by echarts) near the\n    // edge might also be clipped, because region labels are put as `textContent` of the SVG path.\n    root.setClipPath(new Rect({\n      shape: boundingRect.plain()\n    }));\n    var named = [];\n    each(result.named, function (namedItem) {\n      if (REGION_AVAILABLE_SVG_TAG_MAP.get(namedItem.svgNodeTagLower) != null) {\n        named.push(namedItem);\n        setSilent(namedItem.el);\n      }\n    });\n    return {\n      root: root,\n      boundingRect: boundingRect,\n      named: named\n    };\n  };\n  /**\n   * Consider:\n   * (1) One graphic element can not be shared by different `geoView` running simultaneously.\n   *     Notice, also need to consider multiple echarts instances share a `mapRecord`.\n   * (2) Converting SVG to graphic elements is time consuming.\n   * (3) In the current architecture, `load` should be called frequently to get boundingRect,\n   *     and it is called without view info.\n   * So we maintain graphic elements in this module, and enables `view` to use/return these\n   * graphics from/to the pool with it's uid.\n   */\n  GeoSVGResource.prototype.useGraphic = function (hostKey /* , nameMap: NameMap */) {\n    var usedRootMap = this._usedGraphicMap;\n    var svgGraphic = usedRootMap.get(hostKey);\n    if (svgGraphic) {\n      return svgGraphic;\n    }\n    svgGraphic = this._freedGraphics.pop()\n    // use the first boundingRect to avoid duplicated boundingRect calculation.\n    || this._buildGraphic(this._parsedXML);\n    usedRootMap.set(hostKey, svgGraphic);\n    // PENDING: `nameMap` will not be supported until some real requirement come.\n    // `nameMap` can only be obtained from echarts option.\n    // The original `named` must not be modified.\n    // if (nameMap) {\n    //     svgGraphic = extend({}, svgGraphic);\n    //     svgGraphic.named = applyNameMap(svgGraphic.named, nameMap);\n    // }\n    return svgGraphic;\n  };\n  GeoSVGResource.prototype.freeGraphic = function (hostKey) {\n    var usedRootMap = this._usedGraphicMap;\n    var svgGraphic = usedRootMap.get(hostKey);\n    if (svgGraphic) {\n      usedRootMap.removeKey(hostKey);\n      this._freedGraphics.push(svgGraphic);\n    }\n  };\n  return GeoSVGResource;\n}();\nexport { GeoSVGResource };\nfunction setSilent(el) {\n  // Only named element has silent: false, other elements should\n  // act as background and has no user interaction.\n  el.silent = false;\n  // text|tspan will be converted to group.\n  if (el.isGroup) {\n    el.traverse(function (child) {\n      child.silent = false;\n    });\n  }\n}\nfunction createRegions(named) {\n  var regions = [];\n  var regionsMap = createHashMap();\n  // Create resions only for the first graphic.\n  each(named, function (namedItem) {\n    // Region has feature to calculate center for tooltip or other features.\n    // If there is a <g name=\"xxx\">, the center should be the center of the\n    // bounding rect of the g.\n    if (namedItem.namedFrom != null) {\n      return;\n    }\n    var region = new GeoSVGRegion(namedItem.name, namedItem.el);\n    // PENDING: if `nameMap` supported, this region can not be mounted on\n    // `this`, but can only be created each time `load()` called.\n    regions.push(region);\n    // PENDING: if multiple tag named with the same name, only one will be\n    // found by `_regionsMap`. `_regionsMap` is used to find a coordinate\n    // by name. We use `region.getCenter()` as the coordinate.\n    regionsMap.set(namedItem.name, region);\n  });\n  return {\n    regions: regions,\n    regionsMap: regionsMap\n  };\n}\n// PENDING: `nameMap` will not be supported until some real requirement come.\n// /**\n//  * Use the alias in geoNameMap.\n//  * The input `named` must not be modified.\n//  */\n// function applyNameMap(\n//     named: GeoSVGGraphicRecord['named'],\n//     nameMap: NameMap\n// ): GeoSVGGraphicRecord['named'] {\n//     const result = [] as GeoSVGGraphicRecord['named'];\n//     for (let i = 0; i < named.length; i++) {\n//         let regionGraphic = named[i];\n//         const name = regionGraphic.name;\n//         if (nameMap && nameMap.hasOwnProperty(name)) {\n//             regionGraphic = extend({}, regionGraphic);\n//             regionGraphic.name = name;\n//         }\n//         result.push(regionGraphic);\n//     }\n//     return result;\n// }","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Fix for 南海诸岛\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { GeoJSONRegion } from '../Region.js';\nvar geoCoord = [126, 25];\nvar nanhaiName = '南海诸岛';\nvar points = [[[0, 3.5], [7, 11.2], [15, 11.9], [30, 7], [42, 0.7], [52, 0.7], [56, 7.7], [59, 0.7], [64, 0.7], [64, 0], [5, 0], [0, 3.5]], [[13, 16.1], [19, 14.7], [16, 21.7], [11, 23.1], [13, 16.1]], [[12, 32.2], [14, 38.5], [15, 38.5], [13, 32.2], [12, 32.2]], [[16, 47.6], [12, 53.2], [13, 53.2], [18, 47.6], [16, 47.6]], [[6, 64.4], [8, 70], [9, 70], [8, 64.4], [6, 64.4]], [[23, 82.6], [29, 79.8], [30, 79.8], [25, 82.6], [23, 82.6]], [[37, 70.7], [43, 62.3], [44, 62.3], [39, 70.7], [37, 70.7]], [[48, 51.1], [51, 45.5], [53, 45.5], [50, 51.1], [48, 51.1]], [[51, 35], [51, 28.7], [53, 28.7], [53, 35], [51, 35]], [[52, 22.4], [55, 17.5], [56, 17.5], [53, 22.4], [52, 22.4]], [[58, 12.6], [62, 7], [63, 7], [60, 12.6], [58, 12.6]], [[0, 3.5], [0, 93.1], [64, 93.1], [64, 0], [63, 0], [63, 92.4], [1, 92.4], [1, 3.5], [0, 3.5]]];\nfor (var i = 0; i < points.length; i++) {\n  for (var k = 0; k < points[i].length; k++) {\n    points[i][k][0] /= 10.5;\n    points[i][k][1] /= -10.5 / 0.75;\n    points[i][k][0] += geoCoord[0];\n    points[i][k][1] += geoCoord[1];\n  }\n}\nexport default function fixNanhai(mapType, regions) {\n  if (mapType === 'china') {\n    for (var i = 0; i < regions.length; i++) {\n      // Already exists.\n      if (regions[i].name === nanhaiName) {\n        return;\n      }\n    }\n    regions.push(new GeoJSONRegion(nanhaiName, zrUtil.map(points, function (exterior) {\n      return {\n        type: 'polygon',\n        exterior: exterior\n      };\n    }), geoCoord));\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Fix for 钓鱼岛\n// let Region = require('../Region');\n// let zrUtil = require('zrender/lib/core/util');\n// let geoCoord = [126, 25];\nvar points = [[[123.45165252685547, 25.73527164402261], [123.49731445312499, 25.73527164402261], [123.49731445312499, 25.750734064600884], [123.45165252685547, 25.750734064600884], [123.45165252685547, 25.73527164402261]]];\nexport default function fixDiaoyuIsland(mapType, region) {\n  if (mapType === 'china' && region.name === '台湾') {\n    region.geometries.push({\n      type: 'polygon',\n      exterior: points[0]\n    });\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, isString, createHashMap, hasOwn } from 'zrender/lib/core/util.js';\nimport parseGeoJson from './parseGeoJson.js';\n// Built-in GEO fixer.\nimport fixNanhai from './fix/nanhai.js';\nimport fixTextCoord from './fix/textCoord.js';\nimport fixDiaoyuIsland from './fix/diaoyuIsland.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nvar DEFAULT_NAME_PROPERTY = 'name';\nvar GeoJSONResource = /** @class */function () {\n  function GeoJSONResource(mapName, geoJSON, specialAreas) {\n    this.type = 'geoJSON';\n    this._parsedMap = createHashMap();\n    this._mapName = mapName;\n    this._specialAreas = specialAreas;\n    // PENDING: delay the parse to the first usage to rapid up the FMP?\n    this._geoJSON = parseInput(geoJSON);\n  }\n  /**\n   * @param nameMap can be null/undefined\n   * @param nameProperty can be null/undefined\n   */\n  GeoJSONResource.prototype.load = function (nameMap, nameProperty) {\n    nameProperty = nameProperty || DEFAULT_NAME_PROPERTY;\n    var parsed = this._parsedMap.get(nameProperty);\n    if (!parsed) {\n      var rawRegions = this._parseToRegions(nameProperty);\n      parsed = this._parsedMap.set(nameProperty, {\n        regions: rawRegions,\n        boundingRect: calculateBoundingRect(rawRegions)\n      });\n    }\n    var regionsMap = createHashMap();\n    var finalRegions = [];\n    each(parsed.regions, function (region) {\n      var regionName = region.name;\n      // Try use the alias in geoNameMap\n      if (nameMap && hasOwn(nameMap, regionName)) {\n        region = region.cloneShallow(regionName = nameMap[regionName]);\n      }\n      finalRegions.push(region);\n      regionsMap.set(regionName, region);\n    });\n    return {\n      regions: finalRegions,\n      boundingRect: parsed.boundingRect || new BoundingRect(0, 0, 0, 0),\n      regionsMap: regionsMap\n    };\n  };\n  GeoJSONResource.prototype._parseToRegions = function (nameProperty) {\n    var mapName = this._mapName;\n    var geoJSON = this._geoJSON;\n    var rawRegions;\n    // https://jsperf.com/try-catch-performance-overhead\n    try {\n      rawRegions = geoJSON ? parseGeoJson(geoJSON, nameProperty) : [];\n    } catch (e) {\n      throw new Error('Invalid geoJson format\\n' + e.message);\n    }\n    fixNanhai(mapName, rawRegions);\n    each(rawRegions, function (region) {\n      var regionName = region.name;\n      fixTextCoord(mapName, region);\n      fixDiaoyuIsland(mapName, region);\n      // Some area like Alaska in USA map needs to be tansformed\n      // to look better\n      var specialArea = this._specialAreas && this._specialAreas[regionName];\n      if (specialArea) {\n        region.transformTo(specialArea.left, specialArea.top, specialArea.width, specialArea.height);\n      }\n    }, this);\n    return rawRegions;\n  };\n  /**\n   * Only for exporting to users.\n   * **MUST NOT** used internally.\n   */\n  GeoJSONResource.prototype.getMapForUser = function () {\n    return {\n      // For backward compatibility, use geoJson\n      // PENDING: it has been returning them without clone.\n      // do we need to avoid outsite modification?\n      geoJson: this._geoJSON,\n      geoJSON: this._geoJSON,\n      specialAreas: this._specialAreas\n    };\n  };\n  return GeoJSONResource;\n}();\nexport { GeoJSONResource };\nfunction calculateBoundingRect(regions) {\n  var rect;\n  for (var i = 0; i < regions.length; i++) {\n    var regionRect = regions[i].getBoundingRect();\n    rect = rect || regionRect.clone();\n    rect.union(regionRect);\n  }\n  return rect;\n}\nfunction parseInput(source) {\n  return !isString(source) ? source : typeof JSON !== 'undefined' && JSON.parse ? JSON.parse(source) : new Function('return (' + source + ');')();\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap } from 'zrender/lib/core/util.js';\nimport { GeoSVGResource } from './GeoSVGResource.js';\nimport { GeoJSONResource } from './GeoJSONResource.js';\nvar storage = createHashMap();\nexport default {\n  /**\n   * Compatible with previous `echarts.registerMap`.\n   *\n   * @usage\n   * ```js\n   *\n   * echarts.registerMap('USA', geoJson, specialAreas);\n   *\n   * echarts.registerMap('USA', {\n   *     geoJson: geoJson,\n   *     specialAreas: {...}\n   * });\n   * echarts.registerMap('USA', {\n   *     geoJSON: geoJson,\n   *     specialAreas: {...}\n   * });\n   *\n   * echarts.registerMap('airport', {\n   *     svg: svg\n   * }\n   * ```\n   *\n   * Note:\n   * Do not support that register multiple geoJSON or SVG\n   * one map name. Because different geoJSON and SVG have\n   * different unit. It's not easy to make sure how those\n   * units are mapping/normalize.\n   * If intending to use multiple geoJSON or SVG, we can\n   * use multiple geo coordinate system.\n   */\n  registerMap: function (mapName, rawDef, rawSpecialAreas) {\n    if (rawDef.svg) {\n      var resource = new GeoSVGResource(mapName, rawDef.svg);\n      storage.set(mapName, resource);\n    } else {\n      // Recommend:\n      //     echarts.registerMap('eu', { geoJSON: xxx, specialAreas: xxx });\n      // Backward compatibility:\n      //     echarts.registerMap('eu', geoJSON, specialAreas);\n      //     echarts.registerMap('eu', { geoJson: xxx, specialAreas: xxx });\n      var geoJSON = rawDef.geoJson || rawDef.geoJSON;\n      if (geoJSON && !rawDef.features) {\n        rawSpecialAreas = rawDef.specialAreas;\n      } else {\n        geoJSON = rawDef;\n      }\n      var resource = new GeoJSONResource(mapName, geoJSON, rawSpecialAreas);\n      storage.set(mapName, resource);\n    }\n  },\n  getGeoResource: function (mapName) {\n    return storage.get(mapName);\n  },\n  /**\n   * Only for exporting to users.\n   * **MUST NOT** used internally.\n   */\n  getMapForUser: function (mapName) {\n    var resource = storage.get(mapName);\n    // Do not support return SVG until some real requirement come.\n    return resource && resource.type === 'geoJSON' && resource.getMapForUser();\n  },\n  load: function (mapName, nameMap, nameProperty) {\n    var resource = storage.get(mapName);\n    if (!resource) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.error('Map ' + mapName + ' not exists. The GeoJSON of the map must be provided.');\n      }\n      return;\n    }\n    return resource.load(nameMap, nameProperty);\n  }\n};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * Parse and decode geo json\n */\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { GeoJSONLineStringGeometry, GeoJSONPolygonGeometry, GeoJSONRegion } from './Region.js';\nfunction decode(json) {\n  if (!json.UTF8Encoding) {\n    return json;\n  }\n  var jsonCompressed = json;\n  var encodeScale = jsonCompressed.UTF8Scale;\n  if (encodeScale == null) {\n    encodeScale = 1024;\n  }\n  var features = jsonCompressed.features;\n  zrUtil.each(features, function (feature) {\n    var geometry = feature.geometry;\n    var encodeOffsets = geometry.encodeOffsets;\n    var coordinates = geometry.coordinates;\n    // Geometry may be appeded manually in the script after json loaded.\n    // In this case this geometry is usually not encoded.\n    if (!encodeOffsets) {\n      return;\n    }\n    switch (geometry.type) {\n      case 'LineString':\n        geometry.coordinates = decodeRing(coordinates, encodeOffsets, encodeScale);\n        break;\n      case 'Polygon':\n        decodeRings(coordinates, encodeOffsets, encodeScale);\n        break;\n      case 'MultiLineString':\n        decodeRings(coordinates, encodeOffsets, encodeScale);\n        break;\n      case 'MultiPolygon':\n        zrUtil.each(coordinates, function (rings, idx) {\n          return decodeRings(rings, encodeOffsets[idx], encodeScale);\n        });\n    }\n  });\n  // Has been decoded\n  jsonCompressed.UTF8Encoding = false;\n  return jsonCompressed;\n}\nfunction decodeRings(rings, encodeOffsets, encodeScale) {\n  for (var c = 0; c < rings.length; c++) {\n    rings[c] = decodeRing(rings[c], encodeOffsets[c], encodeScale);\n  }\n}\nfunction decodeRing(coordinate, encodeOffsets, encodeScale) {\n  var result = [];\n  var prevX = encodeOffsets[0];\n  var prevY = encodeOffsets[1];\n  for (var i = 0; i < coordinate.length; i += 2) {\n    var x = coordinate.charCodeAt(i) - 64;\n    var y = coordinate.charCodeAt(i + 1) - 64;\n    // ZigZag decoding\n    x = x >> 1 ^ -(x & 1);\n    y = y >> 1 ^ -(y & 1);\n    // Delta deocding\n    x += prevX;\n    y += prevY;\n    prevX = x;\n    prevY = y;\n    // Dequantize\n    result.push([x / encodeScale, y / encodeScale]);\n  }\n  return result;\n}\nexport default function parseGeoJSON(geoJson, nameProperty) {\n  geoJson = decode(geoJson);\n  return zrUtil.map(zrUtil.filter(geoJson.features, function (featureObj) {\n    // Output of mapshaper may have geometry null\n    return featureObj.geometry && featureObj.properties && featureObj.geometry.coordinates.length > 0;\n  }), function (featureObj) {\n    var properties = featureObj.properties;\n    var geo = featureObj.geometry;\n    var geometries = [];\n    switch (geo.type) {\n      case 'Polygon':\n        var coordinates = geo.coordinates;\n        // According to the GeoJSON specification.\n        // First must be exterior, and the rest are all interior(holes).\n        geometries.push(new GeoJSONPolygonGeometry(coordinates[0], coordinates.slice(1)));\n        break;\n      case 'MultiPolygon':\n        zrUtil.each(geo.coordinates, function (item) {\n          if (item[0]) {\n            geometries.push(new GeoJSONPolygonGeometry(item[0], item.slice(1)));\n          }\n        });\n        break;\n      case 'LineString':\n        geometries.push(new GeoJSONLineStringGeometry([geo.coordinates]));\n        break;\n      case 'MultiLineString':\n        geometries.push(new GeoJSONLineStringGeometry(geo.coordinates));\n    }\n    var region = new GeoJSONRegion(properties[nameProperty || 'name'], geometries, properties.cp);\n    region.properties = properties;\n    return region;\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nfunction dataToCoordSize(dataSize, dataItem) {\n  dataItem = dataItem || [0, 0];\n  return zrUtil.map([0, 1], function (dimIdx) {\n    var val = dataItem[dimIdx];\n    var halfSize = dataSize[dimIdx] / 2;\n    var p1 = [];\n    var p2 = [];\n    p1[dimIdx] = val - halfSize;\n    p2[dimIdx] = val + halfSize;\n    p1[1 - dimIdx] = p2[1 - dimIdx] = dataItem[1 - dimIdx];\n    return Math.abs(this.dataToPoint(p1)[dimIdx] - this.dataToPoint(p2)[dimIdx]);\n  }, this);\n}\nexport default function geoPrepareCustom(coordSys) {\n  var rect = coordSys.getBoundingRect();\n  return {\n    coordSys: {\n      type: 'geo',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height,\n      zoom: coordSys.getZoom()\n    },\n    api: {\n      coord: function (data) {\n        // do not provide \"out\" and noRoam param,\n        // Compatible with this usage:\n        // echarts.util.map(item.points, api.coord)\n        return coordSys.dataToPoint(data);\n      },\n      size: zrUtil.bind(dataToCoordSize, coordSys)\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ComponentModel from '../../model/Component.js';\nimport makeStyleMapper from '../../model/mixin/makeStyleMapper.js';\nimport * as numberUtil from '../../util/number.js';\nimport { AxisModelCommonMixin } from '../axisModelCommonMixin.js';\nvar ParallelAxisModel = /** @class */function (_super) {\n  __extends(ParallelAxisModel, _super);\n  function ParallelAxisModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ParallelAxisModel.type;\n    /**\n     * @readOnly\n     */\n    _this.activeIntervals = [];\n    return _this;\n  }\n  ParallelAxisModel.prototype.getAreaSelectStyle = function () {\n    return makeStyleMapper([['fill', 'color'], ['lineWidth', 'borderWidth'], ['stroke', 'borderColor'], ['width', 'width'], ['opacity', 'opacity']\n    // Option decal is in `DecalObject` but style.decal is in `PatternObject`.\n    // So do not transfer decal directly.\n    ])(this.getModel('areaSelectStyle'));\n  };\n  /**\n   * The code of this feature is put on AxisModel but not ParallelAxis,\n   * because axisModel can be alive after echarts updating but instance of\n   * ParallelAxis having been disposed. this._activeInterval should be kept\n   * when action dispatched (i.e. legend click).\n   *\n   * @param intervals `interval.length === 0` means set all active.\n   */\n  ParallelAxisModel.prototype.setActiveIntervals = function (intervals) {\n    var activeIntervals = this.activeIntervals = zrUtil.clone(intervals);\n    // Normalize\n    if (activeIntervals) {\n      for (var i = activeIntervals.length - 1; i >= 0; i--) {\n        numberUtil.asc(activeIntervals[i]);\n      }\n    }\n  };\n  /**\n   * @param value When only attempting detect whether 'no activeIntervals set',\n   *        `value` is not needed to be input.\n   */\n  ParallelAxisModel.prototype.getActiveState = function (value) {\n    var activeIntervals = this.activeIntervals;\n    if (!activeIntervals.length) {\n      return 'normal';\n    }\n    if (value == null || isNaN(+value)) {\n      return 'inactive';\n    }\n    // Simple optimization\n    if (activeIntervals.length === 1) {\n      var interval = activeIntervals[0];\n      if (interval[0] <= value && value <= interval[1]) {\n        return 'active';\n      }\n    } else {\n      for (var i = 0, len = activeIntervals.length; i < len; i++) {\n        if (activeIntervals[i][0] <= value && value <= activeIntervals[i][1]) {\n          return 'active';\n        }\n      }\n    }\n    return 'inactive';\n  };\n  return ParallelAxisModel;\n}(ComponentModel);\nzrUtil.mixin(ParallelAxisModel, AxisModelCommonMixin);\nexport default ParallelAxisModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ComponentModel from '../../model/Component.js';\nvar ParallelModel = /** @class */function (_super) {\n  __extends(ParallelModel, _super);\n  function ParallelModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ParallelModel.type;\n    return _this;\n  }\n  ParallelModel.prototype.init = function () {\n    _super.prototype.init.apply(this, arguments);\n    this.mergeOption({});\n  };\n  ParallelModel.prototype.mergeOption = function (newOption) {\n    var thisOption = this.option;\n    newOption && zrUtil.merge(thisOption, newOption, true);\n    this._initDimensions();\n  };\n  /**\n   * Whether series or axis is in this coordinate system.\n   */\n  ParallelModel.prototype.contains = function (model, ecModel) {\n    var parallelIndex = model.get('parallelIndex');\n    return parallelIndex != null && ecModel.getComponent('parallel', parallelIndex) === this;\n  };\n  ParallelModel.prototype.setAxisExpand = function (opt) {\n    zrUtil.each(['axisExpandable', 'axisExpandCenter', 'axisExpandCount', 'axisExpandWidth', 'axisExpandWindow'], function (name) {\n      if (opt.hasOwnProperty(name)) {\n        // @ts-ignore FIXME: why \"never\" inferred in this.option[name]?\n        this.option[name] = opt[name];\n      }\n    }, this);\n  };\n  ParallelModel.prototype._initDimensions = function () {\n    var dimensions = this.dimensions = [];\n    var parallelAxisIndex = this.parallelAxisIndex = [];\n    var axisModels = zrUtil.filter(this.ecModel.queryComponents({\n      mainType: 'parallelAxis'\n    }), function (axisModel) {\n      // Can not use this.contains here, because\n      // initialization has not been completed yet.\n      return (axisModel.get('parallelIndex') || 0) === this.componentIndex;\n    }, this);\n    zrUtil.each(axisModels, function (axisModel) {\n      dimensions.push('dim' + axisModel.get('dim'));\n      parallelAxisIndex.push(axisModel.componentIndex);\n    });\n  };\n  ParallelModel.type = 'parallel';\n  ParallelModel.dependencies = ['parallelAxis'];\n  ParallelModel.layoutMode = 'box';\n  ParallelModel.defaultOption = {\n    // zlevel: 0,\n    z: 0,\n    left: 80,\n    top: 60,\n    right: 80,\n    bottom: 60,\n    // width: {totalWidth} - left - right,\n    // height: {totalHeight} - top - bottom,\n    layout: 'horizontal',\n    // FIXME\n    // naming?\n    axisExpandable: false,\n    axisExpandCenter: null,\n    axisExpandCount: 0,\n    axisExpandWidth: 50,\n    axisExpandRate: 17,\n    axisExpandDebounce: 50,\n    // [out, in, jumpTarget]. In percentage. If use [null, 0.05], null means full.\n    // Do not doc to user until necessary.\n    axisExpandSlideTriggerArea: [-0.15, 0.05, 0.4],\n    axisExpandTriggerOn: 'click',\n    parallelAxisDefault: null\n  };\n  return ParallelModel;\n}(ComponentModel);\nexport default ParallelModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Axis from '../Axis.js';\nvar ParallelAxis = /** @class */function (_super) {\n  __extends(ParallelAxis, _super);\n  function ParallelAxis(dim, scale, coordExtent, axisType, axisIndex) {\n    var _this = _super.call(this, dim, scale, coordExtent) || this;\n    _this.type = axisType || 'value';\n    _this.axisIndex = axisIndex;\n    return _this;\n  }\n  ParallelAxis.prototype.isHorizontal = function () {\n    return this.coordinateSystem.getModel().get('layout') !== 'horizontal';\n  };\n  return ParallelAxis;\n}(Axis);\nexport default ParallelAxis;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * Parallel Coordinates\n * <https://en.wikipedia.org/wiki/Parallel_coordinates>\n */\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as matrix from 'zrender/lib/core/matrix.js';\nimport * as layoutUtil from '../../util/layout.js';\nimport * as axisHelper from '../../coord/axisHelper.js';\nimport ParallelAxis from './ParallelAxis.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as numberUtil from '../../util/number.js';\nimport sliderMove from '../../component/helper/sliderMove.js';\nvar each = zrUtil.each;\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathFloor = Math.floor;\nvar mathCeil = Math.ceil;\nvar round = numberUtil.round;\nvar PI = Math.PI;\nvar Parallel = /** @class */function () {\n  function Parallel(parallelModel, ecModel, api) {\n    this.type = 'parallel';\n    /**\n     * key: dimension\n     */\n    this._axesMap = zrUtil.createHashMap();\n    /**\n     * key: dimension\n     * value: {position: [], rotation, }\n     */\n    this._axesLayout = {};\n    this.dimensions = parallelModel.dimensions;\n    this._model = parallelModel;\n    this._init(parallelModel, ecModel, api);\n  }\n  Parallel.prototype._init = function (parallelModel, ecModel, api) {\n    var dimensions = parallelModel.dimensions;\n    var parallelAxisIndex = parallelModel.parallelAxisIndex;\n    each(dimensions, function (dim, idx) {\n      var axisIndex = parallelAxisIndex[idx];\n      var axisModel = ecModel.getComponent('parallelAxis', axisIndex);\n      var axis = this._axesMap.set(dim, new ParallelAxis(dim, axisHelper.createScaleByModel(axisModel), [0, 0], axisModel.get('type'), axisIndex));\n      var isCategory = axis.type === 'category';\n      axis.onBand = isCategory && axisModel.get('boundaryGap');\n      axis.inverse = axisModel.get('inverse');\n      // Injection\n      axisModel.axis = axis;\n      axis.model = axisModel;\n      axis.coordinateSystem = axisModel.coordinateSystem = this;\n    }, this);\n  };\n  /**\n   * Update axis scale after data processed\n   */\n  Parallel.prototype.update = function (ecModel, api) {\n    this._updateAxesFromSeries(this._model, ecModel);\n  };\n  Parallel.prototype.containPoint = function (point) {\n    var layoutInfo = this._makeLayoutInfo();\n    var axisBase = layoutInfo.axisBase;\n    var layoutBase = layoutInfo.layoutBase;\n    var pixelDimIndex = layoutInfo.pixelDimIndex;\n    var pAxis = point[1 - pixelDimIndex];\n    var pLayout = point[pixelDimIndex];\n    return pAxis >= axisBase && pAxis <= axisBase + layoutInfo.axisLength && pLayout >= layoutBase && pLayout <= layoutBase + layoutInfo.layoutLength;\n  };\n  Parallel.prototype.getModel = function () {\n    return this._model;\n  };\n  /**\n   * Update properties from series\n   */\n  Parallel.prototype._updateAxesFromSeries = function (parallelModel, ecModel) {\n    ecModel.eachSeries(function (seriesModel) {\n      if (!parallelModel.contains(seriesModel, ecModel)) {\n        return;\n      }\n      var data = seriesModel.getData();\n      each(this.dimensions, function (dim) {\n        var axis = this._axesMap.get(dim);\n        axis.scale.unionExtentFromData(data, data.mapDimension(dim));\n        axisHelper.niceScaleExtent(axis.scale, axis.model);\n      }, this);\n    }, this);\n  };\n  /**\n   * Resize the parallel coordinate system.\n   */\n  Parallel.prototype.resize = function (parallelModel, api) {\n    this._rect = layoutUtil.getLayoutRect(parallelModel.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n    this._layoutAxes();\n  };\n  Parallel.prototype.getRect = function () {\n    return this._rect;\n  };\n  Parallel.prototype._makeLayoutInfo = function () {\n    var parallelModel = this._model;\n    var rect = this._rect;\n    var xy = ['x', 'y'];\n    var wh = ['width', 'height'];\n    var layout = parallelModel.get('layout');\n    var pixelDimIndex = layout === 'horizontal' ? 0 : 1;\n    var layoutLength = rect[wh[pixelDimIndex]];\n    var layoutExtent = [0, layoutLength];\n    var axisCount = this.dimensions.length;\n    var axisExpandWidth = restrict(parallelModel.get('axisExpandWidth'), layoutExtent);\n    var axisExpandCount = restrict(parallelModel.get('axisExpandCount') || 0, [0, axisCount]);\n    var axisExpandable = parallelModel.get('axisExpandable') && axisCount > 3 && axisCount > axisExpandCount && axisExpandCount > 1 && axisExpandWidth > 0 && layoutLength > 0;\n    // `axisExpandWindow` is According to the coordinates of [0, axisExpandLength],\n    // for sake of consider the case that axisCollapseWidth is 0 (when screen is narrow),\n    // where collapsed axes should be overlapped.\n    var axisExpandWindow = parallelModel.get('axisExpandWindow');\n    var winSize;\n    if (!axisExpandWindow) {\n      winSize = restrict(axisExpandWidth * (axisExpandCount - 1), layoutExtent);\n      var axisExpandCenter = parallelModel.get('axisExpandCenter') || mathFloor(axisCount / 2);\n      axisExpandWindow = [axisExpandWidth * axisExpandCenter - winSize / 2];\n      axisExpandWindow[1] = axisExpandWindow[0] + winSize;\n    } else {\n      winSize = restrict(axisExpandWindow[1] - axisExpandWindow[0], layoutExtent);\n      axisExpandWindow[1] = axisExpandWindow[0] + winSize;\n    }\n    var axisCollapseWidth = (layoutLength - winSize) / (axisCount - axisExpandCount);\n    // Avoid axisCollapseWidth is too small.\n    axisCollapseWidth < 3 && (axisCollapseWidth = 0);\n    // Find the first and last indices > ewin[0] and < ewin[1].\n    var winInnerIndices = [mathFloor(round(axisExpandWindow[0] / axisExpandWidth, 1)) + 1, mathCeil(round(axisExpandWindow[1] / axisExpandWidth, 1)) - 1];\n    // Pos in ec coordinates.\n    var axisExpandWindow0Pos = axisCollapseWidth / axisExpandWidth * axisExpandWindow[0];\n    return {\n      layout: layout,\n      pixelDimIndex: pixelDimIndex,\n      layoutBase: rect[xy[pixelDimIndex]],\n      layoutLength: layoutLength,\n      axisBase: rect[xy[1 - pixelDimIndex]],\n      axisLength: rect[wh[1 - pixelDimIndex]],\n      axisExpandable: axisExpandable,\n      axisExpandWidth: axisExpandWidth,\n      axisCollapseWidth: axisCollapseWidth,\n      axisExpandWindow: axisExpandWindow,\n      axisCount: axisCount,\n      winInnerIndices: winInnerIndices,\n      axisExpandWindow0Pos: axisExpandWindow0Pos\n    };\n  };\n  Parallel.prototype._layoutAxes = function () {\n    var rect = this._rect;\n    var axes = this._axesMap;\n    var dimensions = this.dimensions;\n    var layoutInfo = this._makeLayoutInfo();\n    var layout = layoutInfo.layout;\n    axes.each(function (axis) {\n      var axisExtent = [0, layoutInfo.axisLength];\n      var idx = axis.inverse ? 1 : 0;\n      axis.setExtent(axisExtent[idx], axisExtent[1 - idx]);\n    });\n    each(dimensions, function (dim, idx) {\n      var posInfo = (layoutInfo.axisExpandable ? layoutAxisWithExpand : layoutAxisWithoutExpand)(idx, layoutInfo);\n      var positionTable = {\n        horizontal: {\n          x: posInfo.position,\n          y: layoutInfo.axisLength\n        },\n        vertical: {\n          x: 0,\n          y: posInfo.position\n        }\n      };\n      var rotationTable = {\n        horizontal: PI / 2,\n        vertical: 0\n      };\n      var position = [positionTable[layout].x + rect.x, positionTable[layout].y + rect.y];\n      var rotation = rotationTable[layout];\n      var transform = matrix.create();\n      matrix.rotate(transform, transform, rotation);\n      matrix.translate(transform, transform, position);\n      // TODO\n      // tick layout info\n      // TODO\n      // update dimensions info based on axis order.\n      this._axesLayout[dim] = {\n        position: position,\n        rotation: rotation,\n        transform: transform,\n        axisNameAvailableWidth: posInfo.axisNameAvailableWidth,\n        axisLabelShow: posInfo.axisLabelShow,\n        nameTruncateMaxWidth: posInfo.nameTruncateMaxWidth,\n        tickDirection: 1,\n        labelDirection: 1\n      };\n    }, this);\n  };\n  /**\n   * Get axis by dim.\n   */\n  Parallel.prototype.getAxis = function (dim) {\n    return this._axesMap.get(dim);\n  };\n  /**\n   * Convert a dim value of a single item of series data to Point.\n   */\n  Parallel.prototype.dataToPoint = function (value, dim) {\n    return this.axisCoordToPoint(this._axesMap.get(dim).dataToCoord(value), dim);\n  };\n  /**\n   * Travel data for one time, get activeState of each data item.\n   * @param start the start dataIndex that travel from.\n   * @param end the next dataIndex of the last dataIndex will be travel.\n   */\n  Parallel.prototype.eachActiveState = function (data, callback, start, end) {\n    start == null && (start = 0);\n    end == null && (end = data.count());\n    var axesMap = this._axesMap;\n    var dimensions = this.dimensions;\n    var dataDimensions = [];\n    var axisModels = [];\n    zrUtil.each(dimensions, function (axisDim) {\n      dataDimensions.push(data.mapDimension(axisDim));\n      axisModels.push(axesMap.get(axisDim).model);\n    });\n    var hasActiveSet = this.hasAxisBrushed();\n    for (var dataIndex = start; dataIndex < end; dataIndex++) {\n      var activeState = void 0;\n      if (!hasActiveSet) {\n        activeState = 'normal';\n      } else {\n        activeState = 'active';\n        var values = data.getValues(dataDimensions, dataIndex);\n        for (var j = 0, lenj = dimensions.length; j < lenj; j++) {\n          var state = axisModels[j].getActiveState(values[j]);\n          if (state === 'inactive') {\n            activeState = 'inactive';\n            break;\n          }\n        }\n      }\n      callback(activeState, dataIndex);\n    }\n  };\n  /**\n   * Whether has any activeSet.\n   */\n  Parallel.prototype.hasAxisBrushed = function () {\n    var dimensions = this.dimensions;\n    var axesMap = this._axesMap;\n    var hasActiveSet = false;\n    for (var j = 0, lenj = dimensions.length; j < lenj; j++) {\n      if (axesMap.get(dimensions[j]).model.getActiveState() !== 'normal') {\n        hasActiveSet = true;\n      }\n    }\n    return hasActiveSet;\n  };\n  /**\n   * Convert coords of each axis to Point.\n   *  Return point. For example: [10, 20]\n   */\n  Parallel.prototype.axisCoordToPoint = function (coord, dim) {\n    var axisLayout = this._axesLayout[dim];\n    return graphic.applyTransform([coord, 0], axisLayout.transform);\n  };\n  /**\n   * Get axis layout.\n   */\n  Parallel.prototype.getAxisLayout = function (dim) {\n    return zrUtil.clone(this._axesLayout[dim]);\n  };\n  /**\n   * @return {Object} {axisExpandWindow, delta, behavior: 'jump' | 'slide' | 'none'}.\n   */\n  Parallel.prototype.getSlidedAxisExpandWindow = function (point) {\n    var layoutInfo = this._makeLayoutInfo();\n    var pixelDimIndex = layoutInfo.pixelDimIndex;\n    var axisExpandWindow = layoutInfo.axisExpandWindow.slice();\n    var winSize = axisExpandWindow[1] - axisExpandWindow[0];\n    var extent = [0, layoutInfo.axisExpandWidth * (layoutInfo.axisCount - 1)];\n    // Out of the area of coordinate system.\n    if (!this.containPoint(point)) {\n      return {\n        behavior: 'none',\n        axisExpandWindow: axisExpandWindow\n      };\n    }\n    // Convert the point from global to expand coordinates.\n    var pointCoord = point[pixelDimIndex] - layoutInfo.layoutBase - layoutInfo.axisExpandWindow0Pos;\n    // For dragging operation convenience, the window should not be\n    // slided when mouse is the center area of the window.\n    var delta;\n    var behavior = 'slide';\n    var axisCollapseWidth = layoutInfo.axisCollapseWidth;\n    var triggerArea = this._model.get('axisExpandSlideTriggerArea');\n    // But consider touch device, jump is necessary.\n    var useJump = triggerArea[0] != null;\n    if (axisCollapseWidth) {\n      if (useJump && axisCollapseWidth && pointCoord < winSize * triggerArea[0]) {\n        behavior = 'jump';\n        delta = pointCoord - winSize * triggerArea[2];\n      } else if (useJump && axisCollapseWidth && pointCoord > winSize * (1 - triggerArea[0])) {\n        behavior = 'jump';\n        delta = pointCoord - winSize * (1 - triggerArea[2]);\n      } else {\n        (delta = pointCoord - winSize * triggerArea[1]) >= 0 && (delta = pointCoord - winSize * (1 - triggerArea[1])) <= 0 && (delta = 0);\n      }\n      delta *= layoutInfo.axisExpandWidth / axisCollapseWidth;\n      delta ? sliderMove(delta, axisExpandWindow, extent, 'all')\n      // Avoid nonsense triger on mousemove.\n      : behavior = 'none';\n    }\n    // When screen is too narrow, make it visible and slidable, although it is hard to interact.\n    else {\n      var winSize2 = axisExpandWindow[1] - axisExpandWindow[0];\n      var pos = extent[1] * pointCoord / winSize2;\n      axisExpandWindow = [mathMax(0, pos - winSize2 / 2)];\n      axisExpandWindow[1] = mathMin(extent[1], axisExpandWindow[0] + winSize2);\n      axisExpandWindow[0] = axisExpandWindow[1] - winSize2;\n    }\n    return {\n      axisExpandWindow: axisExpandWindow,\n      behavior: behavior\n    };\n  };\n  return Parallel;\n}();\nfunction restrict(len, extent) {\n  return mathMin(mathMax(len, extent[0]), extent[1]);\n}\nfunction layoutAxisWithoutExpand(axisIndex, layoutInfo) {\n  var step = layoutInfo.layoutLength / (layoutInfo.axisCount - 1);\n  return {\n    position: step * axisIndex,\n    axisNameAvailableWidth: step,\n    axisLabelShow: true\n  };\n}\nfunction layoutAxisWithExpand(axisIndex, layoutInfo) {\n  var layoutLength = layoutInfo.layoutLength;\n  var axisExpandWidth = layoutInfo.axisExpandWidth;\n  var axisCount = layoutInfo.axisCount;\n  var axisCollapseWidth = layoutInfo.axisCollapseWidth;\n  var winInnerIndices = layoutInfo.winInnerIndices;\n  var position;\n  var axisNameAvailableWidth = axisCollapseWidth;\n  var axisLabelShow = false;\n  var nameTruncateMaxWidth;\n  if (axisIndex < winInnerIndices[0]) {\n    position = axisIndex * axisCollapseWidth;\n    nameTruncateMaxWidth = axisCollapseWidth;\n  } else if (axisIndex <= winInnerIndices[1]) {\n    position = layoutInfo.axisExpandWindow0Pos + axisIndex * axisExpandWidth - layoutInfo.axisExpandWindow[0];\n    axisNameAvailableWidth = axisExpandWidth;\n    axisLabelShow = true;\n  } else {\n    position = layoutLength - (axisCount - 1 - axisIndex) * axisCollapseWidth;\n    nameTruncateMaxWidth = axisCollapseWidth;\n  }\n  return {\n    position: position,\n    axisNameAvailableWidth: axisNameAvailableWidth,\n    axisLabelShow: axisLabelShow,\n    nameTruncateMaxWidth: nameTruncateMaxWidth\n  };\n}\nexport default Parallel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * Parallel coordinate system creater.\n */\nimport Parallel from './Parallel.js';\nimport { SINGLE_REFERRING } from '../../util/model.js';\nfunction createParallelCoordSys(ecModel, api) {\n  var coordSysList = [];\n  ecModel.eachComponent('parallel', function (parallelModel, idx) {\n    var coordSys = new Parallel(parallelModel, ecModel, api);\n    coordSys.name = 'parallel_' + idx;\n    coordSys.resize(parallelModel, api);\n    parallelModel.coordinateSystem = coordSys;\n    coordSys.model = parallelModel;\n    coordSysList.push(coordSys);\n  });\n  // Inject the coordinateSystems into seriesModel\n  ecModel.eachSeries(function (seriesModel) {\n    if (seriesModel.get('coordinateSystem') === 'parallel') {\n      var parallelModel = seriesModel.getReferringComponents('parallel', SINGLE_REFERRING).models[0];\n      seriesModel.coordinateSystem = parallelModel.coordinateSystem;\n    }\n  });\n  return coordSysList;\n}\nvar parallelCoordSysCreator = {\n  create: createParallelCoordSys\n};\nexport default parallelCoordSysCreator;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as modelUtil from '../../util/model.js';\nexport default function parallelPreprocessor(option) {\n  createParallelIfNeeded(option);\n  mergeAxisOptionFromParallel(option);\n}\n/**\n * Create a parallel coordinate if not exists.\n * @inner\n */\nfunction createParallelIfNeeded(option) {\n  if (option.parallel) {\n    return;\n  }\n  var hasParallelSeries = false;\n  zrUtil.each(option.series, function (seriesOpt) {\n    if (seriesOpt && seriesOpt.type === 'parallel') {\n      hasParallelSeries = true;\n    }\n  });\n  if (hasParallelSeries) {\n    option.parallel = [{}];\n  }\n}\n/**\n * Merge aixs definition from parallel option (if exists) to axis option.\n * @inner\n */\nfunction mergeAxisOptionFromParallel(option) {\n  var axes = modelUtil.normalizeToArray(option.parallelAxis);\n  zrUtil.each(axes, function (axisOption) {\n    if (!zrUtil.isObject(axisOption)) {\n      return;\n    }\n    var parallelIndex = axisOption.parallelIndex || 0;\n    var parallelOption = modelUtil.normalizeToArray(option.parallel)[parallelIndex];\n    if (parallelOption && parallelOption.parallelAxisDefault) {\n      zrUtil.merge(axisOption, parallelOption.parallelAxisDefault, false);\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ComponentModel from '../../model/Component.js';\nimport { AxisModelCommonMixin } from '../axisModelCommonMixin.js';\nimport { SINGLE_REFERRING } from '../../util/model.js';\nvar PolarAxisModel = /** @class */function (_super) {\n  __extends(PolarAxisModel, _super);\n  function PolarAxisModel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  PolarAxisModel.prototype.getCoordSysModel = function () {\n    return this.getReferringComponents('polar', SINGLE_REFERRING).models[0];\n  };\n  PolarAxisModel.type = 'polarAxis';\n  return PolarAxisModel;\n}(ComponentModel);\nzrUtil.mixin(PolarAxisModel, AxisModelCommonMixin);\nexport { PolarAxisModel };\nvar AngleAxisModel = /** @class */function (_super) {\n  __extends(AngleAxisModel, _super);\n  function AngleAxisModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = AngleAxisModel.type;\n    return _this;\n  }\n  AngleAxisModel.type = 'angleAxis';\n  return AngleAxisModel;\n}(PolarAxisModel);\nexport { AngleAxisModel };\nvar RadiusAxisModel = /** @class */function (_super) {\n  __extends(RadiusAxisModel, _super);\n  function RadiusAxisModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = RadiusAxisModel.type;\n    return _this;\n  }\n  RadiusAxisModel.type = 'radiusAxis';\n  return RadiusAxisModel;\n}(PolarAxisModel);\nexport { RadiusAxisModel };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentModel from '../../model/Component.js';\nvar PolarModel = /** @class */function (_super) {\n  __extends(PolarModel, _super);\n  function PolarModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = PolarModel.type;\n    return _this;\n  }\n  PolarModel.prototype.findAxisModel = function (axisType) {\n    var foundAxisModel;\n    var ecModel = this.ecModel;\n    ecModel.eachComponent(axisType, function (axisModel) {\n      if (axisModel.getCoordSysModel() === this) {\n        foundAxisModel = axisModel;\n      }\n    }, this);\n    return foundAxisModel;\n  };\n  PolarModel.type = 'polar';\n  PolarModel.dependencies = ['radiusAxis', 'angleAxis'];\n  PolarModel.defaultOption = {\n    // zlevel: 0,\n    z: 0,\n    center: ['50%', '50%'],\n    radius: '80%'\n  };\n  return PolarModel;\n}(ComponentModel);\nexport default PolarModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Axis from '../Axis.js';\nvar RadiusAxis = /** @class */function (_super) {\n  __extends(RadiusAxis, _super);\n  function RadiusAxis(scale, radiusExtent) {\n    return _super.call(this, 'radius', scale, radiusExtent) || this;\n  }\n  RadiusAxis.prototype.pointToData = function (point, clamp) {\n    return this.polar.pointToData(point, clamp)[this.dim === 'radius' ? 0 : 1];\n  };\n  return RadiusAxis;\n}(Axis);\nRadiusAxis.prototype.dataToRadius = Axis.prototype.dataToCoord;\nRadiusAxis.prototype.radiusToData = Axis.prototype.coordToData;\nexport default RadiusAxis;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as textContain from 'zrender/lib/contain/text.js';\nimport Axis from '../Axis.js';\nimport { makeInner } from '../../util/model.js';\nvar inner = makeInner();\nvar AngleAxis = /** @class */function (_super) {\n  __extends(AngleAxis, _super);\n  function AngleAxis(scale, angleExtent) {\n    return _super.call(this, 'angle', scale, angleExtent || [0, 360]) || this;\n  }\n  AngleAxis.prototype.pointToData = function (point, clamp) {\n    return this.polar.pointToData(point, clamp)[this.dim === 'radius' ? 0 : 1];\n  };\n  /**\n   * Only be called in category axis.\n   * Angle axis uses text height to decide interval\n   *\n   * @override\n   * @return {number} Auto interval for cateogry axis tick and label\n   */\n  AngleAxis.prototype.calculateCategoryInterval = function () {\n    var axis = this;\n    var labelModel = axis.getLabelModel();\n    var ordinalScale = axis.scale;\n    var ordinalExtent = ordinalScale.getExtent();\n    // Providing this method is for optimization:\n    // avoid generating a long array by `getTicks`\n    // in large category data case.\n    var tickCount = ordinalScale.count();\n    if (ordinalExtent[1] - ordinalExtent[0] < 1) {\n      return 0;\n    }\n    var tickValue = ordinalExtent[0];\n    var unitSpan = axis.dataToCoord(tickValue + 1) - axis.dataToCoord(tickValue);\n    var unitH = Math.abs(unitSpan);\n    // Not precise, just use height as text width\n    // and each distance from axis line yet.\n    var rect = textContain.getBoundingRect(tickValue == null ? '' : tickValue + '', labelModel.getFont(), 'center', 'top');\n    var maxH = Math.max(rect.height, 7);\n    var dh = maxH / unitH;\n    // 0/0 is NaN, 1/0 is Infinity.\n    isNaN(dh) && (dh = Infinity);\n    var interval = Math.max(0, Math.floor(dh));\n    var cache = inner(axis.model);\n    var lastAutoInterval = cache.lastAutoInterval;\n    var lastTickCount = cache.lastTickCount;\n    // Use cache to keep interval stable while moving zoom window,\n    // otherwise the calculated interval might jitter when the zoom\n    // window size is close to the interval-changing size.\n    if (lastAutoInterval != null && lastTickCount != null && Math.abs(lastAutoInterval - interval) <= 1 && Math.abs(lastTickCount - tickCount) <= 1\n    // Always choose the bigger one, otherwise the critical\n    // point is not the same when zooming in or zooming out.\n    && lastAutoInterval > interval) {\n      interval = lastAutoInterval;\n    }\n    // Only update cache if cache not used, otherwise the\n    // changing of interval is too insensitive.\n    else {\n      cache.lastTickCount = tickCount;\n      cache.lastAutoInterval = interval;\n    }\n    return interval;\n  };\n  return AngleAxis;\n}(Axis);\nAngleAxis.prototype.dataToAngle = Axis.prototype.dataToCoord;\nAngleAxis.prototype.angleToData = Axis.prototype.coordToData;\nexport default AngleAxis;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport RadiusAxis from './RadiusAxis.js';\nimport AngleAxis from './AngleAxis.js';\nexport var polarDimensions = ['radius', 'angle'];\nvar Polar = /** @class */function () {\n  function Polar(name) {\n    this.dimensions = polarDimensions;\n    this.type = 'polar';\n    /**\n     * x of polar center\n     */\n    this.cx = 0;\n    /**\n     * y of polar center\n     */\n    this.cy = 0;\n    this._radiusAxis = new RadiusAxis();\n    this._angleAxis = new AngleAxis();\n    this.axisPointerEnabled = true;\n    this.name = name || '';\n    this._radiusAxis.polar = this._angleAxis.polar = this;\n  }\n  /**\n   * If contain coord\n   */\n  Polar.prototype.containPoint = function (point) {\n    var coord = this.pointToCoord(point);\n    return this._radiusAxis.contain(coord[0]) && this._angleAxis.contain(coord[1]);\n  };\n  /**\n   * If contain data\n   */\n  Polar.prototype.containData = function (data) {\n    return this._radiusAxis.containData(data[0]) && this._angleAxis.containData(data[1]);\n  };\n  Polar.prototype.getAxis = function (dim) {\n    var key = '_' + dim + 'Axis';\n    return this[key];\n  };\n  Polar.prototype.getAxes = function () {\n    return [this._radiusAxis, this._angleAxis];\n  };\n  /**\n   * Get axes by type of scale\n   */\n  Polar.prototype.getAxesByScale = function (scaleType) {\n    var axes = [];\n    var angleAxis = this._angleAxis;\n    var radiusAxis = this._radiusAxis;\n    angleAxis.scale.type === scaleType && axes.push(angleAxis);\n    radiusAxis.scale.type === scaleType && axes.push(radiusAxis);\n    return axes;\n  };\n  Polar.prototype.getAngleAxis = function () {\n    return this._angleAxis;\n  };\n  Polar.prototype.getRadiusAxis = function () {\n    return this._radiusAxis;\n  };\n  Polar.prototype.getOtherAxis = function (axis) {\n    var angleAxis = this._angleAxis;\n    return axis === angleAxis ? this._radiusAxis : angleAxis;\n  };\n  /**\n   * Base axis will be used on stacking.\n   *\n   */\n  Polar.prototype.getBaseAxis = function () {\n    return this.getAxesByScale('ordinal')[0] || this.getAxesByScale('time')[0] || this.getAngleAxis();\n  };\n  Polar.prototype.getTooltipAxes = function (dim) {\n    var baseAxis = dim != null && dim !== 'auto' ? this.getAxis(dim) : this.getBaseAxis();\n    return {\n      baseAxes: [baseAxis],\n      otherAxes: [this.getOtherAxis(baseAxis)]\n    };\n  };\n  /**\n   * Convert a single data item to (x, y) point.\n   * Parameter data is an array which the first element is radius and the second is angle\n   */\n  Polar.prototype.dataToPoint = function (data, clamp) {\n    return this.coordToPoint([this._radiusAxis.dataToRadius(data[0], clamp), this._angleAxis.dataToAngle(data[1], clamp)]);\n  };\n  /**\n   * Convert a (x, y) point to data\n   */\n  Polar.prototype.pointToData = function (point, clamp) {\n    var coord = this.pointToCoord(point);\n    return [this._radiusAxis.radiusToData(coord[0], clamp), this._angleAxis.angleToData(coord[1], clamp)];\n  };\n  /**\n   * Convert a (x, y) point to (radius, angle) coord\n   */\n  Polar.prototype.pointToCoord = function (point) {\n    var dx = point[0] - this.cx;\n    var dy = point[1] - this.cy;\n    var angleAxis = this.getAngleAxis();\n    var extent = angleAxis.getExtent();\n    var minAngle = Math.min(extent[0], extent[1]);\n    var maxAngle = Math.max(extent[0], extent[1]);\n    // Fix fixed extent in polarCreator\n    // FIXME\n    angleAxis.inverse ? minAngle = maxAngle - 360 : maxAngle = minAngle + 360;\n    var radius = Math.sqrt(dx * dx + dy * dy);\n    dx /= radius;\n    dy /= radius;\n    var radian = Math.atan2(-dy, dx) / Math.PI * 180;\n    // move to angleExtent\n    var dir = radian < minAngle ? 1 : -1;\n    while (radian < minAngle || radian > maxAngle) {\n      radian += dir * 360;\n    }\n    return [radius, radian];\n  };\n  /**\n   * Convert a (radius, angle) coord to (x, y) point\n   */\n  Polar.prototype.coordToPoint = function (coord) {\n    var radius = coord[0];\n    var radian = coord[1] / 180 * Math.PI;\n    var x = Math.cos(radian) * radius + this.cx;\n    // Inverse the y\n    var y = -Math.sin(radian) * radius + this.cy;\n    return [x, y];\n  };\n  /**\n   * Get ring area of cartesian.\n   * Area will have a contain function to determine if a point is in the coordinate system.\n   */\n  Polar.prototype.getArea = function () {\n    var angleAxis = this.getAngleAxis();\n    var radiusAxis = this.getRadiusAxis();\n    var radiusExtent = radiusAxis.getExtent().slice();\n    radiusExtent[0] > radiusExtent[1] && radiusExtent.reverse();\n    var angleExtent = angleAxis.getExtent();\n    var RADIAN = Math.PI / 180;\n    return {\n      cx: this.cx,\n      cy: this.cy,\n      r0: radiusExtent[0],\n      r: radiusExtent[1],\n      startAngle: -angleExtent[0] * RADIAN,\n      endAngle: -angleExtent[1] * RADIAN,\n      clockwise: angleAxis.inverse,\n      contain: function (x, y) {\n        // It's a ring shape.\n        // Start angle and end angle don't matter\n        var dx = x - this.cx;\n        var dy = y - this.cy;\n        // minus a tiny value 1e-4 to avoid being clipped unexpectedly\n        var d2 = dx * dx + dy * dy - 1e-4;\n        var r = this.r;\n        var r0 = this.r0;\n        return d2 <= r * r && d2 >= r0 * r0;\n      }\n    };\n  };\n  Polar.prototype.convertToPixel = function (ecModel, finder, value) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? this.dataToPoint(value) : null;\n  };\n  Polar.prototype.convertFromPixel = function (ecModel, finder, pixel) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? this.pointToData(pixel) : null;\n  };\n  return Polar;\n}();\nfunction getCoordSys(finder) {\n  var seriesModel = finder.seriesModel;\n  var polarModel = finder.polarModel;\n  return polarModel && polarModel.coordinateSystem || seriesModel && seriesModel.coordinateSystem;\n}\nexport default Polar;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// TODO Axis scale\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport Polar, { polarDimensions } from './Polar.js';\nimport { parsePercent } from '../../util/number.js';\nimport { createScaleByModel, niceScaleExtent, getDataDimensionsOnAxis } from '../../coord/axisHelper.js';\nimport { SINGLE_REFERRING } from '../../util/model.js';\n/**\n * Resize method bound to the polar\n */\nfunction resizePolar(polar, polarModel, api) {\n  var center = polarModel.get('center');\n  var width = api.getWidth();\n  var height = api.getHeight();\n  polar.cx = parsePercent(center[0], width);\n  polar.cy = parsePercent(center[1], height);\n  var radiusAxis = polar.getRadiusAxis();\n  var size = Math.min(width, height) / 2;\n  var radius = polarModel.get('radius');\n  if (radius == null) {\n    radius = [0, '100%'];\n  } else if (!zrUtil.isArray(radius)) {\n    // r0 = 0\n    radius = [0, radius];\n  }\n  var parsedRadius = [parsePercent(radius[0], size), parsePercent(radius[1], size)];\n  radiusAxis.inverse ? radiusAxis.setExtent(parsedRadius[1], parsedRadius[0]) : radiusAxis.setExtent(parsedRadius[0], parsedRadius[1]);\n}\n/**\n * Update polar\n */\nfunction updatePolarScale(ecModel, api) {\n  var polar = this;\n  var angleAxis = polar.getAngleAxis();\n  var radiusAxis = polar.getRadiusAxis();\n  // Reset scale\n  angleAxis.scale.setExtent(Infinity, -Infinity);\n  radiusAxis.scale.setExtent(Infinity, -Infinity);\n  ecModel.eachSeries(function (seriesModel) {\n    if (seriesModel.coordinateSystem === polar) {\n      var data_1 = seriesModel.getData();\n      zrUtil.each(getDataDimensionsOnAxis(data_1, 'radius'), function (dim) {\n        radiusAxis.scale.unionExtentFromData(data_1, dim);\n      });\n      zrUtil.each(getDataDimensionsOnAxis(data_1, 'angle'), function (dim) {\n        angleAxis.scale.unionExtentFromData(data_1, dim);\n      });\n    }\n  });\n  niceScaleExtent(angleAxis.scale, angleAxis.model);\n  niceScaleExtent(radiusAxis.scale, radiusAxis.model);\n  // Fix extent of category angle axis\n  if (angleAxis.type === 'category' && !angleAxis.onBand) {\n    var extent = angleAxis.getExtent();\n    var diff = 360 / angleAxis.scale.count();\n    angleAxis.inverse ? extent[1] += diff : extent[1] -= diff;\n    angleAxis.setExtent(extent[0], extent[1]);\n  }\n}\nfunction isAngleAxisModel(axisModel) {\n  return axisModel.mainType === 'angleAxis';\n}\n/**\n * Set common axis properties\n */\nfunction setAxis(axis, axisModel) {\n  var _a;\n  axis.type = axisModel.get('type');\n  axis.scale = createScaleByModel(axisModel);\n  axis.onBand = axisModel.get('boundaryGap') && axis.type === 'category';\n  axis.inverse = axisModel.get('inverse');\n  if (isAngleAxisModel(axisModel)) {\n    axis.inverse = axis.inverse !== axisModel.get('clockwise');\n    var startAngle = axisModel.get('startAngle');\n    var endAngle = (_a = axisModel.get('endAngle')) !== null && _a !== void 0 ? _a : startAngle + (axis.inverse ? -360 : 360);\n    axis.setExtent(startAngle, endAngle);\n  }\n  // Inject axis instance\n  axisModel.axis = axis;\n  axis.model = axisModel;\n}\nvar polarCreator = {\n  dimensions: polarDimensions,\n  create: function (ecModel, api) {\n    var polarList = [];\n    ecModel.eachComponent('polar', function (polarModel, idx) {\n      var polar = new Polar(idx + '');\n      // Inject resize and update method\n      polar.update = updatePolarScale;\n      var radiusAxis = polar.getRadiusAxis();\n      var angleAxis = polar.getAngleAxis();\n      var radiusAxisModel = polarModel.findAxisModel('radiusAxis');\n      var angleAxisModel = polarModel.findAxisModel('angleAxis');\n      setAxis(radiusAxis, radiusAxisModel);\n      setAxis(angleAxis, angleAxisModel);\n      resizePolar(polar, polarModel, api);\n      polarList.push(polar);\n      polarModel.coordinateSystem = polar;\n      polar.model = polarModel;\n    });\n    // Inject coordinateSystem to series\n    ecModel.eachSeries(function (seriesModel) {\n      if (seriesModel.get('coordinateSystem') === 'polar') {\n        var polarModel = seriesModel.getReferringComponents('polar', SINGLE_REFERRING).models[0];\n        if (process.env.NODE_ENV !== 'production') {\n          if (!polarModel) {\n            throw new Error('Polar \"' + zrUtil.retrieve(seriesModel.get('polarIndex'), seriesModel.get('polarId'), 0) + '\" not found');\n          }\n        }\n        seriesModel.coordinateSystem = polarModel.coordinateSystem;\n      }\n    });\n    return polarList;\n  }\n};\nexport default polarCreator;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\n// import AngleAxis from './AngleAxis.js';\nfunction dataToCoordSize(dataSize, dataItem) {\n  // dataItem is necessary in log axis.\n  dataItem = dataItem || [0, 0];\n  return zrUtil.map(['Radius', 'Angle'], function (dim, dimIdx) {\n    var getterName = 'get' + dim + 'Axis';\n    // TODO: TYPE Check Angle Axis\n    var axis = this[getterName]();\n    var val = dataItem[dimIdx];\n    var halfSize = dataSize[dimIdx] / 2;\n    var result = axis.type === 'category' ? axis.getBandWidth() : Math.abs(axis.dataToCoord(val - halfSize) - axis.dataToCoord(val + halfSize));\n    if (dim === 'Angle') {\n      result = result * Math.PI / 180;\n    }\n    return result;\n  }, this);\n}\nexport default function polarPrepareCustom(coordSys) {\n  var radiusAxis = coordSys.getRadiusAxis();\n  var angleAxis = coordSys.getAngleAxis();\n  var radius = radiusAxis.getExtent();\n  radius[0] > radius[1] && radius.reverse();\n  return {\n    coordSys: {\n      type: 'polar',\n      cx: coordSys.cx,\n      cy: coordSys.cy,\n      r: radius[1],\n      r0: radius[0]\n    },\n    api: {\n      coord: function (data) {\n        var radius = radiusAxis.dataToRadius(data[0]);\n        var angle = angleAxis.dataToAngle(data[1]);\n        var coord = coordSys.coordToPoint([radius, angle]);\n        coord.push(radius, angle * Math.PI / 180);\n        return coord;\n      },\n      size: zrUtil.bind(dataToCoordSize, coordSys)\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Axis from '../Axis.js';\nvar IndicatorAxis = /** @class */function (_super) {\n  __extends(IndicatorAxis, _super);\n  function IndicatorAxis(dim, scale, radiusExtent) {\n    var _this = _super.call(this, dim, scale, radiusExtent) || this;\n    _this.type = 'value';\n    _this.angle = 0;\n    _this.name = '';\n    return _this;\n  }\n  return IndicatorAxis;\n}(Axis);\nexport default IndicatorAxis;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// TODO clockwise\nimport IndicatorAxis from './IndicatorAxis.js';\nimport IntervalScale from '../../scale/Interval.js';\nimport * as numberUtil from '../../util/number.js';\nimport { map, each, isString, isNumber } from 'zrender/lib/core/util.js';\nimport { alignScaleTicks } from '../axisAlignTicks.js';\nvar Radar = /** @class */function () {\n  function Radar(radarModel, ecModel, api) {\n    /**\n     *\n     * Radar dimensions\n     */\n    this.dimensions = [];\n    this._model = radarModel;\n    this._indicatorAxes = map(radarModel.getIndicatorModels(), function (indicatorModel, idx) {\n      var dim = 'indicator_' + idx;\n      var indicatorAxis = new IndicatorAxis(dim, new IntervalScale()\n      // (indicatorModel.get('axisType') === 'log') ? new LogScale() : new IntervalScale()\n      );\n\n      indicatorAxis.name = indicatorModel.get('name');\n      // Inject model and axis\n      indicatorAxis.model = indicatorModel;\n      indicatorModel.axis = indicatorAxis;\n      this.dimensions.push(dim);\n      return indicatorAxis;\n    }, this);\n    this.resize(radarModel, api);\n  }\n  Radar.prototype.getIndicatorAxes = function () {\n    return this._indicatorAxes;\n  };\n  Radar.prototype.dataToPoint = function (value, indicatorIndex) {\n    var indicatorAxis = this._indicatorAxes[indicatorIndex];\n    return this.coordToPoint(indicatorAxis.dataToCoord(value), indicatorIndex);\n  };\n  // TODO: API should be coordToPoint([coord, indicatorIndex])\n  Radar.prototype.coordToPoint = function (coord, indicatorIndex) {\n    var indicatorAxis = this._indicatorAxes[indicatorIndex];\n    var angle = indicatorAxis.angle;\n    var x = this.cx + coord * Math.cos(angle);\n    var y = this.cy - coord * Math.sin(angle);\n    return [x, y];\n  };\n  Radar.prototype.pointToData = function (pt) {\n    var dx = pt[0] - this.cx;\n    var dy = pt[1] - this.cy;\n    var radius = Math.sqrt(dx * dx + dy * dy);\n    dx /= radius;\n    dy /= radius;\n    var radian = Math.atan2(-dy, dx);\n    // Find the closest angle\n    // FIXME index can calculated directly\n    var minRadianDiff = Infinity;\n    var closestAxis;\n    var closestAxisIdx = -1;\n    for (var i = 0; i < this._indicatorAxes.length; i++) {\n      var indicatorAxis = this._indicatorAxes[i];\n      var diff = Math.abs(radian - indicatorAxis.angle);\n      if (diff < minRadianDiff) {\n        closestAxis = indicatorAxis;\n        closestAxisIdx = i;\n        minRadianDiff = diff;\n      }\n    }\n    return [closestAxisIdx, +(closestAxis && closestAxis.coordToData(radius))];\n  };\n  Radar.prototype.resize = function (radarModel, api) {\n    var center = radarModel.get('center');\n    var viewWidth = api.getWidth();\n    var viewHeight = api.getHeight();\n    var viewSize = Math.min(viewWidth, viewHeight) / 2;\n    this.cx = numberUtil.parsePercent(center[0], viewWidth);\n    this.cy = numberUtil.parsePercent(center[1], viewHeight);\n    this.startAngle = radarModel.get('startAngle') * Math.PI / 180;\n    // radius may be single value like `20`, `'80%'`, or array like `[10, '80%']`\n    var radius = radarModel.get('radius');\n    if (isString(radius) || isNumber(radius)) {\n      radius = [0, radius];\n    }\n    this.r0 = numberUtil.parsePercent(radius[0], viewSize);\n    this.r = numberUtil.parsePercent(radius[1], viewSize);\n    each(this._indicatorAxes, function (indicatorAxis, idx) {\n      indicatorAxis.setExtent(this.r0, this.r);\n      var angle = this.startAngle + idx * Math.PI * 2 / this._indicatorAxes.length;\n      // Normalize to [-PI, PI]\n      angle = Math.atan2(Math.sin(angle), Math.cos(angle));\n      indicatorAxis.angle = angle;\n    }, this);\n  };\n  Radar.prototype.update = function (ecModel, api) {\n    var indicatorAxes = this._indicatorAxes;\n    var radarModel = this._model;\n    each(indicatorAxes, function (indicatorAxis) {\n      indicatorAxis.scale.setExtent(Infinity, -Infinity);\n    });\n    ecModel.eachSeriesByType('radar', function (radarSeries, idx) {\n      if (radarSeries.get('coordinateSystem') !== 'radar'\n      // @ts-ignore\n      || ecModel.getComponent('radar', radarSeries.get('radarIndex')) !== radarModel) {\n        return;\n      }\n      var data = radarSeries.getData();\n      each(indicatorAxes, function (indicatorAxis) {\n        indicatorAxis.scale.unionExtentFromData(data, data.mapDimension(indicatorAxis.dim));\n      });\n    }, this);\n    var splitNumber = radarModel.get('splitNumber');\n    var dummyScale = new IntervalScale();\n    dummyScale.setExtent(0, splitNumber);\n    dummyScale.setInterval(1);\n    // Force all the axis fixing the maxSplitNumber.\n    each(indicatorAxes, function (indicatorAxis, idx) {\n      alignScaleTicks(indicatorAxis.scale, indicatorAxis.model, dummyScale);\n    });\n  };\n  Radar.prototype.convertToPixel = function (ecModel, finder, value) {\n    console.warn('Not implemented.');\n    return null;\n  };\n  Radar.prototype.convertFromPixel = function (ecModel, finder, pixel) {\n    console.warn('Not implemented.');\n    return null;\n  };\n  Radar.prototype.containPoint = function (point) {\n    console.warn('Not implemented.');\n    return false;\n  };\n  Radar.create = function (ecModel, api) {\n    var radarList = [];\n    ecModel.eachComponent('radar', function (radarModel) {\n      var radar = new Radar(radarModel, ecModel, api);\n      radarList.push(radar);\n      radarModel.coordinateSystem = radar;\n    });\n    ecModel.eachSeriesByType('radar', function (radarSeries) {\n      if (radarSeries.get('coordinateSystem') === 'radar') {\n        // Inject coordinate system\n        // @ts-ignore\n        radarSeries.coordinateSystem = radarList[radarSeries.get('radarIndex') || 0];\n      }\n    });\n    return radarList;\n  };\n  /**\n   * Radar dimensions is based on the data\n   */\n  Radar.dimensions = [];\n  return Radar;\n}();\nexport default Radar;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport axisDefault from '../axisDefault.js';\nimport Model from '../../model/Model.js';\nimport { AxisModelCommonMixin } from '../axisModelCommonMixin.js';\nimport ComponentModel from '../../model/Component.js';\nvar valueAxisDefault = axisDefault.value;\nfunction defaultsShow(opt, show) {\n  return zrUtil.defaults({\n    show: show\n  }, opt);\n}\nvar RadarModel = /** @class */function (_super) {\n  __extends(RadarModel, _super);\n  function RadarModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = RadarModel.type;\n    return _this;\n  }\n  RadarModel.prototype.optionUpdated = function () {\n    var boundaryGap = this.get('boundaryGap');\n    var splitNumber = this.get('splitNumber');\n    var scale = this.get('scale');\n    var axisLine = this.get('axisLine');\n    var axisTick = this.get('axisTick');\n    // let axisType = this.get('axisType');\n    var axisLabel = this.get('axisLabel');\n    var nameTextStyle = this.get('axisName');\n    var showName = this.get(['axisName', 'show']);\n    var nameFormatter = this.get(['axisName', 'formatter']);\n    var nameGap = this.get('axisNameGap');\n    var triggerEvent = this.get('triggerEvent');\n    var indicatorModels = zrUtil.map(this.get('indicator') || [], function (indicatorOpt) {\n      // PENDING\n      if (indicatorOpt.max != null && indicatorOpt.max > 0 && !indicatorOpt.min) {\n        indicatorOpt.min = 0;\n      } else if (indicatorOpt.min != null && indicatorOpt.min < 0 && !indicatorOpt.max) {\n        indicatorOpt.max = 0;\n      }\n      var iNameTextStyle = nameTextStyle;\n      if (indicatorOpt.color != null) {\n        iNameTextStyle = zrUtil.defaults({\n          color: indicatorOpt.color\n        }, nameTextStyle);\n      }\n      // Use same configuration\n      var innerIndicatorOpt = zrUtil.merge(zrUtil.clone(indicatorOpt), {\n        boundaryGap: boundaryGap,\n        splitNumber: splitNumber,\n        scale: scale,\n        axisLine: axisLine,\n        axisTick: axisTick,\n        // axisType: axisType,\n        axisLabel: axisLabel,\n        // Compatible with 2 and use text\n        name: indicatorOpt.text,\n        showName: showName,\n        nameLocation: 'end',\n        nameGap: nameGap,\n        // min: 0,\n        nameTextStyle: iNameTextStyle,\n        triggerEvent: triggerEvent\n      }, false);\n      if (zrUtil.isString(nameFormatter)) {\n        var indName = innerIndicatorOpt.name;\n        innerIndicatorOpt.name = nameFormatter.replace('{value}', indName != null ? indName : '');\n      } else if (zrUtil.isFunction(nameFormatter)) {\n        innerIndicatorOpt.name = nameFormatter(innerIndicatorOpt.name, innerIndicatorOpt);\n      }\n      var model = new Model(innerIndicatorOpt, null, this.ecModel);\n      zrUtil.mixin(model, AxisModelCommonMixin.prototype);\n      // For triggerEvent.\n      model.mainType = 'radar';\n      model.componentIndex = this.componentIndex;\n      return model;\n    }, this);\n    this._indicatorModels = indicatorModels;\n  };\n  RadarModel.prototype.getIndicatorModels = function () {\n    return this._indicatorModels;\n  };\n  RadarModel.type = 'radar';\n  RadarModel.defaultOption = {\n    // zlevel: 0,\n    z: 0,\n    center: ['50%', '50%'],\n    radius: '75%',\n    startAngle: 90,\n    axisName: {\n      show: true\n      // formatter: null\n      // textStyle: {}\n    },\n\n    boundaryGap: [0, 0],\n    splitNumber: 5,\n    axisNameGap: 15,\n    scale: false,\n    // Polygon or circle\n    shape: 'polygon',\n    axisLine: zrUtil.merge({\n      lineStyle: {\n        color: '#bbb'\n      }\n    }, valueAxisDefault.axisLine),\n    axisLabel: defaultsShow(valueAxisDefault.axisLabel, false),\n    axisTick: defaultsShow(valueAxisDefault.axisTick, false),\n    // axisType: 'value',\n    splitLine: defaultsShow(valueAxisDefault.splitLine, true),\n    splitArea: defaultsShow(valueAxisDefault.splitArea, true),\n    // {text, min, max}\n    indicator: []\n  };\n  return RadarModel;\n}(ComponentModel);\nexport default RadarModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { assert, isArray, eqNaN, isFunction } from 'zrender/lib/core/util.js';\nimport { parsePercent } from 'zrender/lib/contain/text.js';\nvar ScaleRawExtentInfo = /** @class */function () {\n  function ScaleRawExtentInfo(scale, model,\n  // Usually: data extent from all series on this axis.\n  originalExtent) {\n    this._prepareParams(scale, model, originalExtent);\n  }\n  /**\n   * Parameters depending on outside (like model, user callback)\n   * are prepared and fixed here.\n   */\n  ScaleRawExtentInfo.prototype._prepareParams = function (scale, model,\n  // Usually: data extent from all series on this axis.\n  dataExtent) {\n    if (dataExtent[1] < dataExtent[0]) {\n      dataExtent = [NaN, NaN];\n    }\n    this._dataMin = dataExtent[0];\n    this._dataMax = dataExtent[1];\n    var isOrdinal = this._isOrdinal = scale.type === 'ordinal';\n    this._needCrossZero = scale.type === 'interval' && model.getNeedCrossZero && model.getNeedCrossZero();\n    var axisMinValue = model.get('min', true);\n    if (axisMinValue == null) {\n      axisMinValue = model.get('startValue', true);\n    }\n    var modelMinRaw = this._modelMinRaw = axisMinValue;\n    if (isFunction(modelMinRaw)) {\n      // This callback always provides users the full data extent (before data is filtered).\n      this._modelMinNum = parseAxisModelMinMax(scale, modelMinRaw({\n        min: dataExtent[0],\n        max: dataExtent[1]\n      }));\n    } else if (modelMinRaw !== 'dataMin') {\n      this._modelMinNum = parseAxisModelMinMax(scale, modelMinRaw);\n    }\n    var modelMaxRaw = this._modelMaxRaw = model.get('max', true);\n    if (isFunction(modelMaxRaw)) {\n      // This callback always provides users the full data extent (before data is filtered).\n      this._modelMaxNum = parseAxisModelMinMax(scale, modelMaxRaw({\n        min: dataExtent[0],\n        max: dataExtent[1]\n      }));\n    } else if (modelMaxRaw !== 'dataMax') {\n      this._modelMaxNum = parseAxisModelMinMax(scale, modelMaxRaw);\n    }\n    if (isOrdinal) {\n      // FIXME: there is a flaw here: if there is no \"block\" data processor like `dataZoom`,\n      // and progressive rendering is using, here the category result might just only contain\n      // the processed chunk rather than the entire result.\n      this._axisDataLen = model.getCategories().length;\n    } else {\n      var boundaryGap = model.get('boundaryGap');\n      var boundaryGapArr = isArray(boundaryGap) ? boundaryGap : [boundaryGap || 0, boundaryGap || 0];\n      if (typeof boundaryGapArr[0] === 'boolean' || typeof boundaryGapArr[1] === 'boolean') {\n        if (process.env.NODE_ENV !== 'production') {\n          console.warn('Boolean type for boundaryGap is only ' + 'allowed for ordinal axis. Please use string in ' + 'percentage instead, e.g., \"20%\". Currently, ' + 'boundaryGap is set to be 0.');\n        }\n        this._boundaryGapInner = [0, 0];\n      } else {\n        this._boundaryGapInner = [parsePercent(boundaryGapArr[0], 1), parsePercent(boundaryGapArr[1], 1)];\n      }\n    }\n  };\n  /**\n   * Calculate extent by prepared parameters.\n   * This method has no external dependency and can be called duplicatedly,\n   * getting the same result.\n   * If parameters changed, should call this method to recalcuate.\n   */\n  ScaleRawExtentInfo.prototype.calculate = function () {\n    // Notice: When min/max is not set (that is, when there are null/undefined,\n    // which is the most common case), these cases should be ensured:\n    // (1) For 'ordinal', show all axis.data.\n    // (2) For others:\n    //      + `boundaryGap` is applied (if min/max set, boundaryGap is\n    //      disabled).\n    //      + If `needCrossZero`, min/max should be zero, otherwise, min/max should\n    //      be the result that originalExtent enlarged by boundaryGap.\n    // (3) If no data, it should be ensured that `scale.setBlank` is set.\n    var isOrdinal = this._isOrdinal;\n    var dataMin = this._dataMin;\n    var dataMax = this._dataMax;\n    var axisDataLen = this._axisDataLen;\n    var boundaryGapInner = this._boundaryGapInner;\n    var span = !isOrdinal ? dataMax - dataMin || Math.abs(dataMin) : null;\n    // Currently if a `'value'` axis model min is specified as 'dataMin'/'dataMax',\n    // `boundaryGap` will not be used. It's the different from specifying as `null`/`undefined`.\n    var min = this._modelMinRaw === 'dataMin' ? dataMin : this._modelMinNum;\n    var max = this._modelMaxRaw === 'dataMax' ? dataMax : this._modelMaxNum;\n    // If `_modelMinNum`/`_modelMaxNum` is `null`/`undefined`, should not be fixed.\n    var minFixed = min != null;\n    var maxFixed = max != null;\n    if (min == null) {\n      min = isOrdinal ? axisDataLen ? 0 : NaN : dataMin - boundaryGapInner[0] * span;\n    }\n    if (max == null) {\n      max = isOrdinal ? axisDataLen ? axisDataLen - 1 : NaN : dataMax + boundaryGapInner[1] * span;\n    }\n    (min == null || !isFinite(min)) && (min = NaN);\n    (max == null || !isFinite(max)) && (max = NaN);\n    var isBlank = eqNaN(min) || eqNaN(max) || isOrdinal && !axisDataLen;\n    // If data extent modified, need to recalculated to ensure cross zero.\n    if (this._needCrossZero) {\n      // Axis is over zero and min is not set\n      if (min > 0 && max > 0 && !minFixed) {\n        min = 0;\n        // minFixed = true;\n      }\n      // Axis is under zero and max is not set\n      if (min < 0 && max < 0 && !maxFixed) {\n        max = 0;\n        // maxFixed = true;\n      }\n      // PENDING:\n      // When `needCrossZero` and all data is positive/negative, should it be ensured\n      // that the results processed by boundaryGap are positive/negative?\n      // If so, here `minFixed`/`maxFixed` need to be set.\n    }\n\n    var determinedMin = this._determinedMin;\n    var determinedMax = this._determinedMax;\n    if (determinedMin != null) {\n      min = determinedMin;\n      minFixed = true;\n    }\n    if (determinedMax != null) {\n      max = determinedMax;\n      maxFixed = true;\n    }\n    // Ensure min/max be finite number or NaN here. (not to be null/undefined)\n    // `NaN` means min/max axis is blank.\n    return {\n      min: min,\n      max: max,\n      minFixed: minFixed,\n      maxFixed: maxFixed,\n      isBlank: isBlank\n    };\n  };\n  ScaleRawExtentInfo.prototype.modifyDataMinMax = function (minMaxName, val) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(!this.frozen);\n    }\n    this[DATA_MIN_MAX_ATTR[minMaxName]] = val;\n  };\n  ScaleRawExtentInfo.prototype.setDeterminedMinMax = function (minMaxName, val) {\n    var attr = DETERMINED_MIN_MAX_ATTR[minMaxName];\n    if (process.env.NODE_ENV !== 'production') {\n      assert(!this.frozen\n      // Earse them usually means logic flaw.\n      && this[attr] == null);\n    }\n    this[attr] = val;\n  };\n  ScaleRawExtentInfo.prototype.freeze = function () {\n    // @ts-ignore\n    this.frozen = true;\n  };\n  return ScaleRawExtentInfo;\n}();\nexport { ScaleRawExtentInfo };\nvar DETERMINED_MIN_MAX_ATTR = {\n  min: '_determinedMin',\n  max: '_determinedMax'\n};\nvar DATA_MIN_MAX_ATTR = {\n  min: '_dataMin',\n  max: '_dataMax'\n};\n/**\n * Get scale min max and related info only depends on model settings.\n * This method can be called after coordinate system created.\n * For example, in data processing stage.\n *\n * Scale extent info probably be required multiple times during a workflow.\n * For example:\n * (1) `dataZoom` depends it to get the axis extent in \"100%\" state.\n * (2) `processor/extentCalculator` depends it to make sure whether axis extent is specified.\n * (3) `coordSys.update` use it to finally decide the scale extent.\n * But the callback of `min`/`max` should not be called multiple times.\n * The code below should not be implemented repeatedly either.\n * So we cache the result in the scale instance, which will be recreated at the beginning\n * of the workflow (because `scale` instance will be recreated each round of the workflow).\n */\nexport function ensureScaleRawExtentInfo(scale, model,\n// Usually: data extent from all series on this axis.\noriginalExtent) {\n  // Do not permit to recreate.\n  var rawExtentInfo = scale.rawExtentInfo;\n  if (rawExtentInfo) {\n    return rawExtentInfo;\n  }\n  rawExtentInfo = new ScaleRawExtentInfo(scale, model, originalExtent);\n  // @ts-ignore\n  scale.rawExtentInfo = rawExtentInfo;\n  return rawExtentInfo;\n}\nexport function parseAxisModelMinMax(scale, minMax) {\n  return minMax == null ? null : eqNaN(minMax) ? NaN : scale.parse(minMax);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentModel from '../../model/Component.js';\nimport { AxisModelCommonMixin } from '../axisModelCommonMixin.js';\nimport { mixin } from 'zrender/lib/core/util.js';\nvar SingleAxisModel = /** @class */function (_super) {\n  __extends(SingleAxisModel, _super);\n  function SingleAxisModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SingleAxisModel.type;\n    return _this;\n  }\n  SingleAxisModel.prototype.getCoordSysModel = function () {\n    return this;\n  };\n  SingleAxisModel.type = 'singleAxis';\n  SingleAxisModel.layoutMode = 'box';\n  SingleAxisModel.defaultOption = {\n    left: '5%',\n    top: '5%',\n    right: '5%',\n    bottom: '5%',\n    type: 'value',\n    position: 'bottom',\n    orient: 'horizontal',\n    axisLine: {\n      show: true,\n      lineStyle: {\n        width: 1,\n        type: 'solid'\n      }\n    },\n    // Single coordinate system and single axis is the,\n    // which is used as the parent tooltip model.\n    // same model, so we set default tooltip show as true.\n    tooltip: {\n      show: true\n    },\n    axisTick: {\n      show: true,\n      length: 6,\n      lineStyle: {\n        width: 1\n      }\n    },\n    axisLabel: {\n      show: true,\n      interval: 'auto'\n    },\n    splitLine: {\n      show: true,\n      lineStyle: {\n        type: 'dashed',\n        opacity: 0.2\n      }\n    }\n  };\n  return SingleAxisModel;\n}(ComponentModel);\nmixin(SingleAxisModel, AxisModelCommonMixin.prototype);\nexport default SingleAxisModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { bind } from 'zrender/lib/core/util.js';\nfunction dataToCoordSize(dataSize, dataItem) {\n  // dataItem is necessary in log axis.\n  var axis = this.getAxis();\n  var val = dataItem instanceof Array ? dataItem[0] : dataItem;\n  var halfSize = (dataSize instanceof Array ? dataSize[0] : dataSize) / 2;\n  return axis.type === 'category' ? axis.getBandWidth() : Math.abs(axis.dataToCoord(val - halfSize) - axis.dataToCoord(val + halfSize));\n}\nexport default function singlePrepareCustom(coordSys) {\n  var rect = coordSys.getRect();\n  return {\n    coordSys: {\n      type: 'singleAxis',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    },\n    api: {\n      coord: function (val) {\n        // do not provide \"out\" param\n        return coordSys.dataToPoint(val);\n      },\n      size: bind(dataToCoordSize, coordSys)\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nexport function layout(axisModel, opt) {\n  opt = opt || {};\n  var single = axisModel.coordinateSystem;\n  var axis = axisModel.axis;\n  var layout = {};\n  var axisPosition = axis.position;\n  var orient = axis.orient;\n  var rect = single.getRect();\n  var rectBound = [rect.x, rect.x + rect.width, rect.y, rect.y + rect.height];\n  var positionMap = {\n    horizontal: {\n      top: rectBound[2],\n      bottom: rectBound[3]\n    },\n    vertical: {\n      left: rectBound[0],\n      right: rectBound[1]\n    }\n  };\n  layout.position = [orient === 'vertical' ? positionMap.vertical[axisPosition] : rectBound[0], orient === 'horizontal' ? positionMap.horizontal[axisPosition] : rectBound[3]];\n  var r = {\n    horizontal: 0,\n    vertical: 1\n  };\n  layout.rotation = Math.PI / 2 * r[orient];\n  var directionMap = {\n    top: -1,\n    bottom: 1,\n    right: 1,\n    left: -1\n  };\n  layout.labelDirection = layout.tickDirection = layout.nameDirection = directionMap[axisPosition];\n  if (axisModel.get(['axisTick', 'inside'])) {\n    layout.tickDirection = -layout.tickDirection;\n  }\n  if (zrUtil.retrieve(opt.labelInside, axisModel.get(['axisLabel', 'inside']))) {\n    layout.labelDirection = -layout.labelDirection;\n  }\n  var labelRotation = opt.rotate;\n  labelRotation == null && (labelRotation = axisModel.get(['axisLabel', 'rotate']));\n  layout.labelRotation = axisPosition === 'top' ? -labelRotation : labelRotation;\n  layout.z2 = 1;\n  return layout;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Axis from '../Axis.js';\nvar SingleAxis = /** @class */function (_super) {\n  __extends(SingleAxis, _super);\n  function SingleAxis(dim, scale, coordExtent, axisType, position) {\n    var _this = _super.call(this, dim, scale, coordExtent) || this;\n    _this.type = axisType || 'value';\n    _this.position = position || 'bottom';\n    return _this;\n  }\n  /**\n   * Judge the orient of the axis.\n   */\n  SingleAxis.prototype.isHorizontal = function () {\n    var position = this.position;\n    return position === 'top' || position === 'bottom';\n  };\n  SingleAxis.prototype.pointToData = function (point, clamp) {\n    return this.coordinateSystem.pointToData(point)[0];\n  };\n  return SingleAxis;\n}(Axis);\nexport default SingleAxis;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * Single coordinates system.\n */\nimport SingleAxis from './SingleAxis.js';\nimport * as axisHelper from '../axisHelper.js';\nimport { getLayoutRect } from '../../util/layout.js';\nimport { each } from 'zrender/lib/core/util.js';\nexport var singleDimensions = ['single'];\n/**\n * Create a single coordinates system.\n */\nvar Single = /** @class */function () {\n  function Single(axisModel, ecModel, api) {\n    this.type = 'single';\n    this.dimension = 'single';\n    /**\n     * Add it just for draw tooltip.\n     */\n    this.dimensions = singleDimensions;\n    this.axisPointerEnabled = true;\n    this.model = axisModel;\n    this._init(axisModel, ecModel, api);\n  }\n  /**\n   * Initialize single coordinate system.\n   */\n  Single.prototype._init = function (axisModel, ecModel, api) {\n    var dim = this.dimension;\n    var axis = new SingleAxis(dim, axisHelper.createScaleByModel(axisModel), [0, 0], axisModel.get('type'), axisModel.get('position'));\n    var isCategory = axis.type === 'category';\n    axis.onBand = isCategory && axisModel.get('boundaryGap');\n    axis.inverse = axisModel.get('inverse');\n    axis.orient = axisModel.get('orient');\n    axisModel.axis = axis;\n    axis.model = axisModel;\n    axis.coordinateSystem = this;\n    this._axis = axis;\n  };\n  /**\n   * Update axis scale after data processed\n   */\n  Single.prototype.update = function (ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      if (seriesModel.coordinateSystem === this) {\n        var data_1 = seriesModel.getData();\n        each(data_1.mapDimensionsAll(this.dimension), function (dim) {\n          this._axis.scale.unionExtentFromData(data_1, dim);\n        }, this);\n        axisHelper.niceScaleExtent(this._axis.scale, this._axis.model);\n      }\n    }, this);\n  };\n  /**\n   * Resize the single coordinate system.\n   */\n  Single.prototype.resize = function (axisModel, api) {\n    this._rect = getLayoutRect({\n      left: axisModel.get('left'),\n      top: axisModel.get('top'),\n      right: axisModel.get('right'),\n      bottom: axisModel.get('bottom'),\n      width: axisModel.get('width'),\n      height: axisModel.get('height')\n    }, {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n    this._adjustAxis();\n  };\n  Single.prototype.getRect = function () {\n    return this._rect;\n  };\n  Single.prototype._adjustAxis = function () {\n    var rect = this._rect;\n    var axis = this._axis;\n    var isHorizontal = axis.isHorizontal();\n    var extent = isHorizontal ? [0, rect.width] : [0, rect.height];\n    var idx = axis.inverse ? 1 : 0;\n    axis.setExtent(extent[idx], extent[1 - idx]);\n    this._updateAxisTransform(axis, isHorizontal ? rect.x : rect.y);\n  };\n  Single.prototype._updateAxisTransform = function (axis, coordBase) {\n    var axisExtent = axis.getExtent();\n    var extentSum = axisExtent[0] + axisExtent[1];\n    var isHorizontal = axis.isHorizontal();\n    axis.toGlobalCoord = isHorizontal ? function (coord) {\n      return coord + coordBase;\n    } : function (coord) {\n      return extentSum - coord + coordBase;\n    };\n    axis.toLocalCoord = isHorizontal ? function (coord) {\n      return coord - coordBase;\n    } : function (coord) {\n      return extentSum - coord + coordBase;\n    };\n  };\n  /**\n   * Get axis.\n   */\n  Single.prototype.getAxis = function () {\n    return this._axis;\n  };\n  /**\n   * Get axis, add it just for draw tooltip.\n   */\n  Single.prototype.getBaseAxis = function () {\n    return this._axis;\n  };\n  Single.prototype.getAxes = function () {\n    return [this._axis];\n  };\n  Single.prototype.getTooltipAxes = function () {\n    return {\n      baseAxes: [this.getAxis()],\n      // Empty otherAxes\n      otherAxes: []\n    };\n  };\n  /**\n   * If contain point.\n   */\n  Single.prototype.containPoint = function (point) {\n    var rect = this.getRect();\n    var axis = this.getAxis();\n    var orient = axis.orient;\n    if (orient === 'horizontal') {\n      return axis.contain(axis.toLocalCoord(point[0])) && point[1] >= rect.y && point[1] <= rect.y + rect.height;\n    } else {\n      return axis.contain(axis.toLocalCoord(point[1])) && point[0] >= rect.y && point[0] <= rect.y + rect.height;\n    }\n  };\n  Single.prototype.pointToData = function (point) {\n    var axis = this.getAxis();\n    return [axis.coordToData(axis.toLocalCoord(point[axis.orient === 'horizontal' ? 0 : 1]))];\n  };\n  /**\n   * Convert the series data to concrete point.\n   * Can be [val] | val\n   */\n  Single.prototype.dataToPoint = function (val) {\n    var axis = this.getAxis();\n    var rect = this.getRect();\n    var pt = [];\n    var idx = axis.orient === 'horizontal' ? 0 : 1;\n    if (val instanceof Array) {\n      val = val[0];\n    }\n    pt[idx] = axis.toGlobalCoord(axis.dataToCoord(+val));\n    pt[1 - idx] = idx === 0 ? rect.y + rect.height / 2 : rect.x + rect.width / 2;\n    return pt;\n  };\n  Single.prototype.convertToPixel = function (ecModel, finder, value) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? this.dataToPoint(value) : null;\n  };\n  Single.prototype.convertFromPixel = function (ecModel, finder, pixel) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? this.pointToData(pixel) : null;\n  };\n  return Single;\n}();\nfunction getCoordSys(finder) {\n  var seriesModel = finder.seriesModel;\n  var singleModel = finder.singleAxisModel;\n  return singleModel && singleModel.coordinateSystem || seriesModel && seriesModel.coordinateSystem;\n}\nexport default Single;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * Single coordinate system creator.\n */\nimport Single, { singleDimensions } from './Single.js';\nimport { SINGLE_REFERRING } from '../../util/model.js';\n/**\n * Create single coordinate system and inject it into seriesModel.\n */\nfunction create(ecModel, api) {\n  var singles = [];\n  ecModel.eachComponent('singleAxis', function (axisModel, idx) {\n    var single = new Single(axisModel, ecModel, api);\n    single.name = 'single_' + idx;\n    single.resize(axisModel, api);\n    axisModel.coordinateSystem = single;\n    singles.push(single);\n  });\n  ecModel.eachSeries(function (seriesModel) {\n    if (seriesModel.get('coordinateSystem') === 'singleAxis') {\n      var singleAxisModel = seriesModel.getReferringComponents('singleAxis', SINGLE_REFERRING).models[0];\n      seriesModel.coordinateSystem = singleAxisModel && singleAxisModel.coordinateSystem;\n    }\n  });\n  return singles;\n}\nvar singleCreator = {\n  create: create,\n  dimensions: singleDimensions\n};\nexport default singleCreator;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar coordinateSystemCreators = {};\nvar CoordinateSystemManager = /** @class */function () {\n  function CoordinateSystemManager() {\n    this._coordinateSystems = [];\n  }\n  CoordinateSystemManager.prototype.create = function (ecModel, api) {\n    var coordinateSystems = [];\n    zrUtil.each(coordinateSystemCreators, function (creator, type) {\n      var list = creator.create(ecModel, api);\n      coordinateSystems = coordinateSystems.concat(list || []);\n    });\n    this._coordinateSystems = coordinateSystems;\n  };\n  CoordinateSystemManager.prototype.update = function (ecModel, api) {\n    zrUtil.each(this._coordinateSystems, function (coordSys) {\n      coordSys.update && coordSys.update(ecModel, api);\n    });\n  };\n  CoordinateSystemManager.prototype.getCoordinateSystems = function () {\n    return this._coordinateSystems.slice();\n  };\n  CoordinateSystemManager.register = function (type, creator) {\n    coordinateSystemCreators[type] = creator;\n  };\n  CoordinateSystemManager.get = function (type) {\n    return coordinateSystemCreators[type];\n  };\n  return CoordinateSystemManager;\n}();\nexport default CoordinateSystemManager;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar availableMethods = ['getDom', 'getZr', 'getWidth', 'getHeight', 'getDevicePixelRatio', 'dispatchAction', 'isSSR', 'isDisposed', 'on', 'off', 'getDataURL', 'getConnectedDataURL',\n// 'getModel',\n'getOption',\n// 'getViewOfComponentModel',\n// 'getViewOfSeriesModel',\n'getId', 'updateLabelLayout'];\nvar ExtensionAPI = /** @class */function () {\n  function ExtensionAPI(ecInstance) {\n    zrUtil.each(availableMethods, function (methodName) {\n      this[methodName] = zrUtil.bind(ecInstance[methodName], ecInstance);\n    }, this);\n  }\n  return ExtensionAPI;\n}();\nexport default ExtensionAPI;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, map, isFunction, createHashMap, noop, assert } from 'zrender/lib/core/util.js';\nimport { createTask } from './task.js';\nimport { getUID } from '../util/component.js';\nimport GlobalModel from '../model/Global.js';\nimport ExtensionAPI from './ExtensionAPI.js';\nimport { normalizeToArray } from '../util/model.js';\n;\nvar Scheduler = /** @class */function () {\n  function Scheduler(ecInstance, api, dataProcessorHandlers, visualHandlers) {\n    // key: handlerUID\n    this._stageTaskMap = createHashMap();\n    this.ecInstance = ecInstance;\n    this.api = api;\n    // Fix current processors in case that in some rear cases that\n    // processors might be registered after echarts instance created.\n    // Register processors incrementally for a echarts instance is\n    // not supported by this stream architecture.\n    dataProcessorHandlers = this._dataProcessorHandlers = dataProcessorHandlers.slice();\n    visualHandlers = this._visualHandlers = visualHandlers.slice();\n    this._allHandlers = dataProcessorHandlers.concat(visualHandlers);\n  }\n  Scheduler.prototype.restoreData = function (ecModel, payload) {\n    // TODO: Only restore needed series and components, but not all components.\n    // Currently `restoreData` of all of the series and component will be called.\n    // But some independent components like `title`, `legend`, `graphic`, `toolbox`,\n    // `tooltip`, `axisPointer`, etc, do not need series refresh when `setOption`,\n    // and some components like coordinate system, axes, dataZoom, visualMap only\n    // need their target series refresh.\n    // (1) If we are implementing this feature some day, we should consider these cases:\n    // if a data processor depends on a component (e.g., dataZoomProcessor depends\n    // on the settings of `dataZoom`), it should be re-performed if the component\n    // is modified by `setOption`.\n    // (2) If a processor depends on sevral series, speicified by its `getTargetSeries`,\n    // it should be re-performed when the result array of `getTargetSeries` changed.\n    // We use `dependencies` to cover these issues.\n    // (3) How to update target series when coordinate system related components modified.\n    // TODO: simply the dirty mechanism? Check whether only the case here can set tasks dirty,\n    // and this case all of the tasks will be set as dirty.\n    ecModel.restoreData(payload);\n    // Theoretically an overall task not only depends on each of its target series, but also\n    // depends on all of the series.\n    // The overall task is not in pipeline, and `ecModel.restoreData` only set pipeline tasks\n    // dirty. If `getTargetSeries` of an overall task returns nothing, we should also ensure\n    // that the overall task is set as dirty and to be performed, otherwise it probably cause\n    // state chaos. So we have to set dirty of all of the overall tasks manually, otherwise it\n    // probably cause state chaos (consider `dataZoomProcessor`).\n    this._stageTaskMap.each(function (taskRecord) {\n      var overallTask = taskRecord.overallTask;\n      overallTask && overallTask.dirty();\n    });\n  };\n  // If seriesModel provided, incremental threshold is check by series data.\n  Scheduler.prototype.getPerformArgs = function (task, isBlock) {\n    // For overall task\n    if (!task.__pipeline) {\n      return;\n    }\n    var pipeline = this._pipelineMap.get(task.__pipeline.id);\n    var pCtx = pipeline.context;\n    var incremental = !isBlock && pipeline.progressiveEnabled && (!pCtx || pCtx.progressiveRender) && task.__idxInPipeline > pipeline.blockIndex;\n    var step = incremental ? pipeline.step : null;\n    var modDataCount = pCtx && pCtx.modDataCount;\n    var modBy = modDataCount != null ? Math.ceil(modDataCount / step) : null;\n    return {\n      step: step,\n      modBy: modBy,\n      modDataCount: modDataCount\n    };\n  };\n  Scheduler.prototype.getPipeline = function (pipelineId) {\n    return this._pipelineMap.get(pipelineId);\n  };\n  /**\n   * Current, progressive rendering starts from visual and layout.\n   * Always detect render mode in the same stage, avoiding that incorrect\n   * detection caused by data filtering.\n   * Caution:\n   * `updateStreamModes` use `seriesModel.getData()`.\n   */\n  Scheduler.prototype.updateStreamModes = function (seriesModel, view) {\n    var pipeline = this._pipelineMap.get(seriesModel.uid);\n    var data = seriesModel.getData();\n    var dataLen = data.count();\n    // `progressiveRender` means that can render progressively in each\n    // animation frame. Note that some types of series do not provide\n    // `view.incrementalPrepareRender` but support `chart.appendData`. We\n    // use the term `incremental` but not `progressive` to describe the\n    // case that `chart.appendData`.\n    var progressiveRender = pipeline.progressiveEnabled && view.incrementalPrepareRender && dataLen >= pipeline.threshold;\n    var large = seriesModel.get('large') && dataLen >= seriesModel.get('largeThreshold');\n    // TODO: modDataCount should not updated if `appendData`, otherwise cause whole repaint.\n    // see `test/candlestick-large3.html`\n    var modDataCount = seriesModel.get('progressiveChunkMode') === 'mod' ? dataLen : null;\n    seriesModel.pipelineContext = pipeline.context = {\n      progressiveRender: progressiveRender,\n      modDataCount: modDataCount,\n      large: large\n    };\n  };\n  Scheduler.prototype.restorePipelines = function (ecModel) {\n    var scheduler = this;\n    var pipelineMap = scheduler._pipelineMap = createHashMap();\n    ecModel.eachSeries(function (seriesModel) {\n      var progressive = seriesModel.getProgressive();\n      var pipelineId = seriesModel.uid;\n      pipelineMap.set(pipelineId, {\n        id: pipelineId,\n        head: null,\n        tail: null,\n        threshold: seriesModel.getProgressiveThreshold(),\n        progressiveEnabled: progressive && !(seriesModel.preventIncremental && seriesModel.preventIncremental()),\n        blockIndex: -1,\n        step: Math.round(progressive || 700),\n        count: 0\n      });\n      scheduler._pipe(seriesModel, seriesModel.dataTask);\n    });\n  };\n  Scheduler.prototype.prepareStageTasks = function () {\n    var stageTaskMap = this._stageTaskMap;\n    var ecModel = this.api.getModel();\n    var api = this.api;\n    each(this._allHandlers, function (handler) {\n      var record = stageTaskMap.get(handler.uid) || stageTaskMap.set(handler.uid, {});\n      var errMsg = '';\n      if (process.env.NODE_ENV !== 'production') {\n        // Currently do not need to support to sepecify them both.\n        errMsg = '\"reset\" and \"overallReset\" must not be both specified.';\n      }\n      assert(!(handler.reset && handler.overallReset), errMsg);\n      handler.reset && this._createSeriesStageTask(handler, record, ecModel, api);\n      handler.overallReset && this._createOverallStageTask(handler, record, ecModel, api);\n    }, this);\n  };\n  Scheduler.prototype.prepareView = function (view, model, ecModel, api) {\n    var renderTask = view.renderTask;\n    var context = renderTask.context;\n    context.model = model;\n    context.ecModel = ecModel;\n    context.api = api;\n    renderTask.__block = !view.incrementalPrepareRender;\n    this._pipe(model, renderTask);\n  };\n  Scheduler.prototype.performDataProcessorTasks = function (ecModel, payload) {\n    // If we do not use `block` here, it should be considered when to update modes.\n    this._performStageTasks(this._dataProcessorHandlers, ecModel, payload, {\n      block: true\n    });\n  };\n  Scheduler.prototype.performVisualTasks = function (ecModel, payload, opt) {\n    this._performStageTasks(this._visualHandlers, ecModel, payload, opt);\n  };\n  Scheduler.prototype._performStageTasks = function (stageHandlers, ecModel, payload, opt) {\n    opt = opt || {};\n    var unfinished = false;\n    var scheduler = this;\n    each(stageHandlers, function (stageHandler, idx) {\n      if (opt.visualType && opt.visualType !== stageHandler.visualType) {\n        return;\n      }\n      var stageHandlerRecord = scheduler._stageTaskMap.get(stageHandler.uid);\n      var seriesTaskMap = stageHandlerRecord.seriesTaskMap;\n      var overallTask = stageHandlerRecord.overallTask;\n      if (overallTask) {\n        var overallNeedDirty_1;\n        var agentStubMap = overallTask.agentStubMap;\n        agentStubMap.each(function (stub) {\n          if (needSetDirty(opt, stub)) {\n            stub.dirty();\n            overallNeedDirty_1 = true;\n          }\n        });\n        overallNeedDirty_1 && overallTask.dirty();\n        scheduler.updatePayload(overallTask, payload);\n        var performArgs_1 = scheduler.getPerformArgs(overallTask, opt.block);\n        // Execute stubs firstly, which may set the overall task dirty,\n        // then execute the overall task. And stub will call seriesModel.setData,\n        // which ensures that in the overallTask seriesModel.getData() will not\n        // return incorrect data.\n        agentStubMap.each(function (stub) {\n          stub.perform(performArgs_1);\n        });\n        if (overallTask.perform(performArgs_1)) {\n          unfinished = true;\n        }\n      } else if (seriesTaskMap) {\n        seriesTaskMap.each(function (task, pipelineId) {\n          if (needSetDirty(opt, task)) {\n            task.dirty();\n          }\n          var performArgs = scheduler.getPerformArgs(task, opt.block);\n          // FIXME\n          // if intending to declare `performRawSeries` in handlers, only\n          // stream-independent (specifically, data item independent) operations can be\n          // performed. Because if a series is filtered, most of the tasks will not\n          // be performed. A stream-dependent operation probably cause wrong biz logic.\n          // Perhaps we should not provide a separate callback for this case instead\n          // of providing the config `performRawSeries`. The stream-dependent operations\n          // and stream-independent operations should better not be mixed.\n          performArgs.skip = !stageHandler.performRawSeries && ecModel.isSeriesFiltered(task.context.model);\n          scheduler.updatePayload(task, payload);\n          if (task.perform(performArgs)) {\n            unfinished = true;\n          }\n        });\n      }\n    });\n    function needSetDirty(opt, task) {\n      return opt.setDirty && (!opt.dirtyMap || opt.dirtyMap.get(task.__pipeline.id));\n    }\n    this.unfinished = unfinished || this.unfinished;\n  };\n  Scheduler.prototype.performSeriesTasks = function (ecModel) {\n    var unfinished;\n    ecModel.eachSeries(function (seriesModel) {\n      // Progress to the end for dataInit and dataRestore.\n      unfinished = seriesModel.dataTask.perform() || unfinished;\n    });\n    this.unfinished = unfinished || this.unfinished;\n  };\n  Scheduler.prototype.plan = function () {\n    // Travel pipelines, check block.\n    this._pipelineMap.each(function (pipeline) {\n      var task = pipeline.tail;\n      do {\n        if (task.__block) {\n          pipeline.blockIndex = task.__idxInPipeline;\n          break;\n        }\n        task = task.getUpstream();\n      } while (task);\n    });\n  };\n  Scheduler.prototype.updatePayload = function (task, payload) {\n    payload !== 'remain' && (task.context.payload = payload);\n  };\n  Scheduler.prototype._createSeriesStageTask = function (stageHandler, stageHandlerRecord, ecModel, api) {\n    var scheduler = this;\n    var oldSeriesTaskMap = stageHandlerRecord.seriesTaskMap;\n    // The count of stages are totally about only several dozen, so\n    // do not need to reuse the map.\n    var newSeriesTaskMap = stageHandlerRecord.seriesTaskMap = createHashMap();\n    var seriesType = stageHandler.seriesType;\n    var getTargetSeries = stageHandler.getTargetSeries;\n    // If a stageHandler should cover all series, `createOnAllSeries` should be declared mandatorily,\n    // to avoid some typo or abuse. Otherwise if an extension do not specify a `seriesType`,\n    // it works but it may cause other irrelevant charts blocked.\n    if (stageHandler.createOnAllSeries) {\n      ecModel.eachRawSeries(create);\n    } else if (seriesType) {\n      ecModel.eachRawSeriesByType(seriesType, create);\n    } else if (getTargetSeries) {\n      getTargetSeries(ecModel, api).each(create);\n    }\n    function create(seriesModel) {\n      var pipelineId = seriesModel.uid;\n      // Init tasks for each seriesModel only once.\n      // Reuse original task instance.\n      var task = newSeriesTaskMap.set(pipelineId, oldSeriesTaskMap && oldSeriesTaskMap.get(pipelineId) || createTask({\n        plan: seriesTaskPlan,\n        reset: seriesTaskReset,\n        count: seriesTaskCount\n      }));\n      task.context = {\n        model: seriesModel,\n        ecModel: ecModel,\n        api: api,\n        // PENDING: `useClearVisual` not used?\n        useClearVisual: stageHandler.isVisual && !stageHandler.isLayout,\n        plan: stageHandler.plan,\n        reset: stageHandler.reset,\n        scheduler: scheduler\n      };\n      scheduler._pipe(seriesModel, task);\n    }\n  };\n  Scheduler.prototype._createOverallStageTask = function (stageHandler, stageHandlerRecord, ecModel, api) {\n    var scheduler = this;\n    var overallTask = stageHandlerRecord.overallTask = stageHandlerRecord.overallTask\n    // For overall task, the function only be called on reset stage.\n    || createTask({\n      reset: overallTaskReset\n    });\n    overallTask.context = {\n      ecModel: ecModel,\n      api: api,\n      overallReset: stageHandler.overallReset,\n      scheduler: scheduler\n    };\n    var oldAgentStubMap = overallTask.agentStubMap;\n    // The count of stages are totally about only several dozen, so\n    // do not need to reuse the map.\n    var newAgentStubMap = overallTask.agentStubMap = createHashMap();\n    var seriesType = stageHandler.seriesType;\n    var getTargetSeries = stageHandler.getTargetSeries;\n    var overallProgress = true;\n    var shouldOverallTaskDirty = false;\n    // FIXME:TS never used, so comment it\n    // let modifyOutputEnd = stageHandler.modifyOutputEnd;\n    // An overall task with seriesType detected or has `getTargetSeries`, we add\n    // stub in each pipelines, it will set the overall task dirty when the pipeline\n    // progress. Moreover, to avoid call the overall task each frame (too frequent),\n    // we set the pipeline block.\n    var errMsg = '';\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = '\"createOnAllSeries\" is not supported for \"overallReset\", ' + 'because it will block all streams.';\n    }\n    assert(!stageHandler.createOnAllSeries, errMsg);\n    if (seriesType) {\n      ecModel.eachRawSeriesByType(seriesType, createStub);\n    } else if (getTargetSeries) {\n      getTargetSeries(ecModel, api).each(createStub);\n    }\n    // Otherwise, (usually it is legacy case), the overall task will only be\n    // executed when upstream is dirty. Otherwise the progressive rendering of all\n    // pipelines will be disabled unexpectedly. But it still needs stubs to receive\n    // dirty info from upstream.\n    else {\n      overallProgress = false;\n      each(ecModel.getSeries(), createStub);\n    }\n    function createStub(seriesModel) {\n      var pipelineId = seriesModel.uid;\n      var stub = newAgentStubMap.set(pipelineId, oldAgentStubMap && oldAgentStubMap.get(pipelineId) || (\n      // When the result of `getTargetSeries` changed, the overallTask\n      // should be set as dirty and re-performed.\n      shouldOverallTaskDirty = true, createTask({\n        reset: stubReset,\n        onDirty: stubOnDirty\n      })));\n      stub.context = {\n        model: seriesModel,\n        overallProgress: overallProgress\n        // FIXME:TS never used, so comment it\n        // modifyOutputEnd: modifyOutputEnd\n      };\n\n      stub.agent = overallTask;\n      stub.__block = overallProgress;\n      scheduler._pipe(seriesModel, stub);\n    }\n    if (shouldOverallTaskDirty) {\n      overallTask.dirty();\n    }\n  };\n  Scheduler.prototype._pipe = function (seriesModel, task) {\n    var pipelineId = seriesModel.uid;\n    var pipeline = this._pipelineMap.get(pipelineId);\n    !pipeline.head && (pipeline.head = task);\n    pipeline.tail && pipeline.tail.pipe(task);\n    pipeline.tail = task;\n    task.__idxInPipeline = pipeline.count++;\n    task.__pipeline = pipeline;\n  };\n  Scheduler.wrapStageHandler = function (stageHandler, visualType) {\n    if (isFunction(stageHandler)) {\n      stageHandler = {\n        overallReset: stageHandler,\n        seriesType: detectSeriseType(stageHandler)\n      };\n    }\n    stageHandler.uid = getUID('stageHandler');\n    visualType && (stageHandler.visualType = visualType);\n    return stageHandler;\n  };\n  ;\n  return Scheduler;\n}();\nfunction overallTaskReset(context) {\n  context.overallReset(context.ecModel, context.api, context.payload);\n}\nfunction stubReset(context) {\n  return context.overallProgress && stubProgress;\n}\nfunction stubProgress() {\n  this.agent.dirty();\n  this.getDownstream().dirty();\n}\nfunction stubOnDirty() {\n  this.agent && this.agent.dirty();\n}\nfunction seriesTaskPlan(context) {\n  return context.plan ? context.plan(context.model, context.ecModel, context.api, context.payload) : null;\n}\nfunction seriesTaskReset(context) {\n  if (context.useClearVisual) {\n    context.data.clearAllVisual();\n  }\n  var resetDefines = context.resetDefines = normalizeToArray(context.reset(context.model, context.ecModel, context.api, context.payload));\n  return resetDefines.length > 1 ? map(resetDefines, function (v, idx) {\n    return makeSeriesTaskProgress(idx);\n  }) : singleSeriesTaskProgress;\n}\nvar singleSeriesTaskProgress = makeSeriesTaskProgress(0);\nfunction makeSeriesTaskProgress(resetDefineIdx) {\n  return function (params, context) {\n    var data = context.data;\n    var resetDefine = context.resetDefines[resetDefineIdx];\n    if (resetDefine && resetDefine.dataEach) {\n      for (var i = params.start; i < params.end; i++) {\n        resetDefine.dataEach(data, i);\n      }\n    } else if (resetDefine && resetDefine.progress) {\n      resetDefine.progress(params, data);\n    }\n  };\n}\nfunction seriesTaskCount(context) {\n  return context.data.count();\n}\n/**\n * Only some legacy stage handlers (usually in echarts extensions) are pure function.\n * To ensure that they can work normally, they should work in block mode, that is,\n * they should not be started util the previous tasks finished. So they cause the\n * progressive rendering disabled. We try to detect the series type, to narrow down\n * the block range to only the series type they concern, but not all series.\n */\nfunction detectSeriseType(legacyFunc) {\n  seriesType = null;\n  try {\n    // Assume there is no async when calling `eachSeriesByType`.\n    legacyFunc(ecModelMock, apiMock);\n  } catch (e) {}\n  return seriesType;\n}\nvar ecModelMock = {};\nvar apiMock = {};\nvar seriesType;\nmockMethods(ecModelMock, GlobalModel);\nmockMethods(apiMock, ExtensionAPI);\necModelMock.eachSeriesByType = ecModelMock.eachRawSeriesByType = function (type) {\n  seriesType = type;\n};\necModelMock.eachComponent = function (cond) {\n  if (cond.mainType === 'series' && cond.subType) {\n    seriesType = cond.subType;\n  }\n};\nfunction mockMethods(target, Clz) {\n  /* eslint-disable */\n  for (var name_1 in Clz.prototype) {\n    // Do not use hasOwnProperty\n    target[name_1] = noop;\n  }\n  /* eslint-enable */\n}\n\nexport default Scheduler;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport Eventful from 'zrender/lib/core/Eventful.js';\n;\nvar lifecycle = new Eventful();\nexport default lifecycle;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\nimport { __extends } from \"tslib\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrender from 'zrender/lib/zrender.js';\nimport { assert, each, isFunction, isObject, indexOf, bind, clone, setAsPrimitive, extend, createHashMap, map, defaults, isDom, isArray, noop, isString, retrieve2 } from 'zrender/lib/core/util.js';\nimport env from 'zrender/lib/core/env.js';\nimport timsort from 'zrender/lib/core/timsort.js';\nimport Eventful from 'zrender/lib/core/Eventful.js';\nimport GlobalModel from '../model/Global.js';\nimport ExtensionAPI from './ExtensionAPI.js';\nimport CoordinateSystemManager from './CoordinateSystem.js';\nimport OptionManager from '../model/OptionManager.js';\nimport backwardCompat from '../preprocessor/backwardCompat.js';\nimport dataStack from '../processor/dataStack.js';\nimport SeriesModel from '../model/Series.js';\nimport ComponentView from '../view/Component.js';\nimport ChartView from '../view/Chart.js';\nimport * as graphic from '../util/graphic.js';\nimport { getECData } from '../util/innerStore.js';\nimport { isHighDownDispatcher, HOVER_STATE_EMPHASIS, HOVER_STATE_BLUR, blurSeriesFromHighlightPayload, toggleSelectionFromPayload, updateSeriesElementSelection, getAllSelectedIndices, isSelectChangePayload, isHighDownPayload, HIGHLIGHT_ACTION_TYPE, DOWNPLAY_ACTION_TYPE, SELECT_ACTION_TYPE, UNSELECT_ACTION_TYPE, TOGGLE_SELECT_ACTION_TYPE, savePathStates, enterEmphasis, leaveEmphasis, leaveBlur, enterSelect, leaveSelect, enterBlur, allLeaveBlur, findComponentHighDownDispatchers, blurComponent, handleGlobalMouseOverForHighDown, handleGlobalMouseOutForHighDown } from '../util/states.js';\nimport * as modelUtil from '../util/model.js';\nimport { throttle } from '../util/throttle.js';\nimport { seriesStyleTask, dataStyleTask, dataColorPaletteTask } from '../visual/style.js';\nimport loadingDefault from '../loading/default.js';\nimport Scheduler from './Scheduler.js';\nimport lightTheme from '../theme/light.js';\nimport darkTheme from '../theme/dark.js';\nimport { parseClassType } from '../util/clazz.js';\nimport { ECEventProcessor } from '../util/ECEventProcessor.js';\nimport { seriesSymbolTask, dataSymbolTask } from '../visual/symbol.js';\nimport { getVisualFromData, getItemVisualFromData } from '../visual/helper.js';\nimport { deprecateLog, deprecateReplaceLog, error, warn } from '../util/log.js';\nimport { handleLegacySelectEvents } from '../legacy/dataSelectAction.js';\nimport { registerExternalTransform } from '../data/helper/transform.js';\nimport { createLocaleObject, SYSTEM_LANG } from './locale.js';\nimport { findEventDispatcher } from '../util/event.js';\nimport decal from '../visual/decal.js';\nimport lifecycle from './lifecycle.js';\nimport { platformApi, setPlatformAPI } from 'zrender/lib/core/platform.js';\nimport { getImpl } from './impl.js';\nexport var version = '5.5.1';\nexport var dependencies = {\n  zrender: '5.6.0'\n};\nvar TEST_FRAME_REMAIN_TIME = 1;\nvar PRIORITY_PROCESSOR_SERIES_FILTER = 800;\n// Some data processors depends on the stack result dimension (to calculate data extent).\n// So data stack stage should be in front of data processing stage.\nvar PRIORITY_PROCESSOR_DATASTACK = 900;\n// \"Data filter\" will block the stream, so it should be\n// put at the beginning of data processing.\nvar PRIORITY_PROCESSOR_FILTER = 1000;\nvar PRIORITY_PROCESSOR_DEFAULT = 2000;\nvar PRIORITY_PROCESSOR_STATISTIC = 5000;\nvar PRIORITY_VISUAL_LAYOUT = 1000;\nvar PRIORITY_VISUAL_PROGRESSIVE_LAYOUT = 1100;\nvar PRIORITY_VISUAL_GLOBAL = 2000;\nvar PRIORITY_VISUAL_CHART = 3000;\nvar PRIORITY_VISUAL_COMPONENT = 4000;\n// Visual property in data. Greater than `PRIORITY_VISUAL_COMPONENT` to enable to\n// overwrite the viusal result of component (like `visualMap`)\n// using data item specific setting (like itemStyle.xxx on data item)\nvar PRIORITY_VISUAL_CHART_DATA_CUSTOM = 4500;\n// Greater than `PRIORITY_VISUAL_CHART_DATA_CUSTOM` to enable to layout based on\n// visual result like `symbolSize`.\nvar PRIORITY_VISUAL_POST_CHART_LAYOUT = 4600;\nvar PRIORITY_VISUAL_BRUSH = 5000;\nvar PRIORITY_VISUAL_ARIA = 6000;\nvar PRIORITY_VISUAL_DECAL = 7000;\nexport var PRIORITY = {\n  PROCESSOR: {\n    FILTER: PRIORITY_PROCESSOR_FILTER,\n    SERIES_FILTER: PRIORITY_PROCESSOR_SERIES_FILTER,\n    STATISTIC: PRIORITY_PROCESSOR_STATISTIC\n  },\n  VISUAL: {\n    LAYOUT: PRIORITY_VISUAL_LAYOUT,\n    PROGRESSIVE_LAYOUT: PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,\n    GLOBAL: PRIORITY_VISUAL_GLOBAL,\n    CHART: PRIORITY_VISUAL_CHART,\n    POST_CHART_LAYOUT: PRIORITY_VISUAL_POST_CHART_LAYOUT,\n    COMPONENT: PRIORITY_VISUAL_COMPONENT,\n    BRUSH: PRIORITY_VISUAL_BRUSH,\n    CHART_ITEM: PRIORITY_VISUAL_CHART_DATA_CUSTOM,\n    ARIA: PRIORITY_VISUAL_ARIA,\n    DECAL: PRIORITY_VISUAL_DECAL\n  }\n};\n// Main process have three entries: `setOption`, `dispatchAction` and `resize`,\n// where they must not be invoked nestedly, except the only case: invoke\n// dispatchAction with updateMethod \"none\" in main process.\n// This flag is used to carry out this rule.\n// All events will be triggered out side main process (i.e. when !this[IN_MAIN_PROCESS]).\nvar IN_MAIN_PROCESS_KEY = '__flagInMainProcess';\nvar PENDING_UPDATE = '__pendingUpdate';\nvar STATUS_NEEDS_UPDATE_KEY = '__needsUpdateStatus';\nvar ACTION_REG = /^[a-zA-Z0-9_]+$/;\nvar CONNECT_STATUS_KEY = '__connectUpdateStatus';\nvar CONNECT_STATUS_PENDING = 0;\nvar CONNECT_STATUS_UPDATING = 1;\nvar CONNECT_STATUS_UPDATED = 2;\n;\n;\nfunction createRegisterEventWithLowercaseECharts(method) {\n  return function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n    if (this.isDisposed()) {\n      disposedWarning(this.id);\n      return;\n    }\n    return toLowercaseNameAndCallEventful(this, method, args);\n  };\n}\nfunction createRegisterEventWithLowercaseMessageCenter(method) {\n  return function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n    return toLowercaseNameAndCallEventful(this, method, args);\n  };\n}\nfunction toLowercaseNameAndCallEventful(host, method, args) {\n  // `args[0]` is event name. Event name is all lowercase.\n  args[0] = args[0] && args[0].toLowerCase();\n  return Eventful.prototype[method].apply(host, args);\n}\nvar MessageCenter = /** @class */function (_super) {\n  __extends(MessageCenter, _super);\n  function MessageCenter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  return MessageCenter;\n}(Eventful);\nvar messageCenterProto = MessageCenter.prototype;\nmessageCenterProto.on = createRegisterEventWithLowercaseMessageCenter('on');\nmessageCenterProto.off = createRegisterEventWithLowercaseMessageCenter('off');\n// ---------------------------------------\n// Internal method names for class ECharts\n// ---------------------------------------\nvar prepare;\nvar prepareView;\nvar updateDirectly;\nvar updateMethods;\nvar doConvertPixel;\nvar updateStreamModes;\nvar doDispatchAction;\nvar flushPendingActions;\nvar triggerUpdatedEvent;\nvar bindRenderedEvent;\nvar bindMouseEvent;\nvar render;\nvar renderComponents;\nvar renderSeries;\nvar createExtensionAPI;\nvar enableConnect;\nvar markStatusToUpdate;\nvar applyChangedStates;\nvar ECharts = /** @class */function (_super) {\n  __extends(ECharts, _super);\n  function ECharts(dom,\n  // Theme name or themeOption.\n  theme, opts) {\n    var _this = _super.call(this, new ECEventProcessor()) || this;\n    _this._chartsViews = [];\n    _this._chartsMap = {};\n    _this._componentsViews = [];\n    _this._componentsMap = {};\n    // Can't dispatch action during rendering procedure\n    _this._pendingActions = [];\n    opts = opts || {};\n    // Get theme by name\n    if (isString(theme)) {\n      theme = themeStorage[theme];\n    }\n    _this._dom = dom;\n    var defaultRenderer = 'canvas';\n    var defaultCoarsePointer = 'auto';\n    var defaultUseDirtyRect = false;\n    if (process.env.NODE_ENV !== 'production') {\n      var root = /* eslint-disable-next-line */\n      env.hasGlobalWindow ? window : global;\n      if (root) {\n        defaultRenderer = retrieve2(root.__ECHARTS__DEFAULT__RENDERER__, defaultRenderer);\n        defaultCoarsePointer = retrieve2(root.__ECHARTS__DEFAULT__COARSE_POINTER, defaultCoarsePointer);\n        defaultUseDirtyRect = retrieve2(root.__ECHARTS__DEFAULT__USE_DIRTY_RECT__, defaultUseDirtyRect);\n      }\n    }\n    if (opts.ssr) {\n      zrender.registerSSRDataGetter(function (el) {\n        var ecData = getECData(el);\n        var dataIndex = ecData.dataIndex;\n        if (dataIndex == null) {\n          return;\n        }\n        var hashMap = createHashMap();\n        hashMap.set('series_index', ecData.seriesIndex);\n        hashMap.set('data_index', dataIndex);\n        ecData.ssrType && hashMap.set('ssr_type', ecData.ssrType);\n        return hashMap;\n      });\n    }\n    var zr = _this._zr = zrender.init(dom, {\n      renderer: opts.renderer || defaultRenderer,\n      devicePixelRatio: opts.devicePixelRatio,\n      width: opts.width,\n      height: opts.height,\n      ssr: opts.ssr,\n      useDirtyRect: retrieve2(opts.useDirtyRect, defaultUseDirtyRect),\n      useCoarsePointer: retrieve2(opts.useCoarsePointer, defaultCoarsePointer),\n      pointerSize: opts.pointerSize\n    });\n    _this._ssr = opts.ssr;\n    // Expect 60 fps.\n    _this._throttledZrFlush = throttle(bind(zr.flush, zr), 17);\n    theme = clone(theme);\n    theme && backwardCompat(theme, true);\n    _this._theme = theme;\n    _this._locale = createLocaleObject(opts.locale || SYSTEM_LANG);\n    _this._coordSysMgr = new CoordinateSystemManager();\n    var api = _this._api = createExtensionAPI(_this);\n    // Sort on demand\n    function prioritySortFunc(a, b) {\n      return a.__prio - b.__prio;\n    }\n    timsort(visualFuncs, prioritySortFunc);\n    timsort(dataProcessorFuncs, prioritySortFunc);\n    _this._scheduler = new Scheduler(_this, api, dataProcessorFuncs, visualFuncs);\n    _this._messageCenter = new MessageCenter();\n    // Init mouse events\n    _this._initEvents();\n    // In case some people write `window.onresize = chart.resize`\n    _this.resize = bind(_this.resize, _this);\n    zr.animation.on('frame', _this._onframe, _this);\n    bindRenderedEvent(zr, _this);\n    bindMouseEvent(zr, _this);\n    // ECharts instance can be used as value.\n    setAsPrimitive(_this);\n    return _this;\n  }\n  ECharts.prototype._onframe = function () {\n    if (this._disposed) {\n      return;\n    }\n    applyChangedStates(this);\n    var scheduler = this._scheduler;\n    // Lazy update\n    if (this[PENDING_UPDATE]) {\n      var silent = this[PENDING_UPDATE].silent;\n      this[IN_MAIN_PROCESS_KEY] = true;\n      try {\n        prepare(this);\n        updateMethods.update.call(this, null, this[PENDING_UPDATE].updateParams);\n      } catch (e) {\n        this[IN_MAIN_PROCESS_KEY] = false;\n        this[PENDING_UPDATE] = null;\n        throw e;\n      }\n      // At present, in each frame, zrender performs:\n      //   (1) animation step forward.\n      //   (2) trigger('frame') (where this `_onframe` is called)\n      //   (3) zrender flush (render).\n      // If we do nothing here, since we use `setToFinal: true`, the step (3) above\n      // will render the final state of the elements before the real animation started.\n      this._zr.flush();\n      this[IN_MAIN_PROCESS_KEY] = false;\n      this[PENDING_UPDATE] = null;\n      flushPendingActions.call(this, silent);\n      triggerUpdatedEvent.call(this, silent);\n    }\n    // Avoid do both lazy update and progress in one frame.\n    else if (scheduler.unfinished) {\n      // Stream progress.\n      var remainTime = TEST_FRAME_REMAIN_TIME;\n      var ecModel = this._model;\n      var api = this._api;\n      scheduler.unfinished = false;\n      do {\n        var startTime = +new Date();\n        scheduler.performSeriesTasks(ecModel);\n        // Currently dataProcessorFuncs do not check threshold.\n        scheduler.performDataProcessorTasks(ecModel);\n        updateStreamModes(this, ecModel);\n        // Do not update coordinate system here. Because that coord system update in\n        // each frame is not a good user experience. So we follow the rule that\n        // the extent of the coordinate system is determined in the first frame (the\n        // frame is executed immediately after task reset.\n        // this._coordSysMgr.update(ecModel, api);\n        // console.log('--- ec frame visual ---', remainTime);\n        scheduler.performVisualTasks(ecModel);\n        renderSeries(this, this._model, api, 'remain', {});\n        remainTime -= +new Date() - startTime;\n      } while (remainTime > 0 && scheduler.unfinished);\n      // Call flush explicitly for trigger finished event.\n      if (!scheduler.unfinished) {\n        this._zr.flush();\n      }\n      // Else, zr flushing be ensue within the same frame,\n      // because zr flushing is after onframe event.\n    }\n  };\n\n  ECharts.prototype.getDom = function () {\n    return this._dom;\n  };\n  ECharts.prototype.getId = function () {\n    return this.id;\n  };\n  ECharts.prototype.getZr = function () {\n    return this._zr;\n  };\n  ECharts.prototype.isSSR = function () {\n    return this._ssr;\n  };\n  /* eslint-disable-next-line */\n  ECharts.prototype.setOption = function (option, notMerge, lazyUpdate) {\n    if (this[IN_MAIN_PROCESS_KEY]) {\n      if (process.env.NODE_ENV !== 'production') {\n        error('`setOption` should not be called during main process.');\n      }\n      return;\n    }\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    var silent;\n    var replaceMerge;\n    var transitionOpt;\n    if (isObject(notMerge)) {\n      lazyUpdate = notMerge.lazyUpdate;\n      silent = notMerge.silent;\n      replaceMerge = notMerge.replaceMerge;\n      transitionOpt = notMerge.transition;\n      notMerge = notMerge.notMerge;\n    }\n    this[IN_MAIN_PROCESS_KEY] = true;\n    if (!this._model || notMerge) {\n      var optionManager = new OptionManager(this._api);\n      var theme = this._theme;\n      var ecModel = this._model = new GlobalModel();\n      ecModel.scheduler = this._scheduler;\n      ecModel.ssr = this._ssr;\n      ecModel.init(null, null, null, theme, this._locale, optionManager);\n    }\n    this._model.setOption(option, {\n      replaceMerge: replaceMerge\n    }, optionPreprocessorFuncs);\n    var updateParams = {\n      seriesTransition: transitionOpt,\n      optionChanged: true\n    };\n    if (lazyUpdate) {\n      this[PENDING_UPDATE] = {\n        silent: silent,\n        updateParams: updateParams\n      };\n      this[IN_MAIN_PROCESS_KEY] = false;\n      // `setOption(option, {lazyMode: true})` may be called when zrender has been slept.\n      // It should wake it up to make sure zrender start to render at the next frame.\n      this.getZr().wakeUp();\n    } else {\n      try {\n        prepare(this);\n        updateMethods.update.call(this, null, updateParams);\n      } catch (e) {\n        this[PENDING_UPDATE] = null;\n        this[IN_MAIN_PROCESS_KEY] = false;\n        throw e;\n      }\n      // Ensure zr refresh sychronously, and then pixel in canvas can be\n      // fetched after `setOption`.\n      if (!this._ssr) {\n        // not use flush when using ssr mode.\n        this._zr.flush();\n      }\n      this[PENDING_UPDATE] = null;\n      this[IN_MAIN_PROCESS_KEY] = false;\n      flushPendingActions.call(this, silent);\n      triggerUpdatedEvent.call(this, silent);\n    }\n  };\n  /**\n   * @deprecated\n   */\n  ECharts.prototype.setTheme = function () {\n    deprecateLog('ECharts#setTheme() is DEPRECATED in ECharts 3.0');\n  };\n  // We don't want developers to use getModel directly.\n  ECharts.prototype.getModel = function () {\n    return this._model;\n  };\n  ECharts.prototype.getOption = function () {\n    return this._model && this._model.getOption();\n  };\n  ECharts.prototype.getWidth = function () {\n    return this._zr.getWidth();\n  };\n  ECharts.prototype.getHeight = function () {\n    return this._zr.getHeight();\n  };\n  ECharts.prototype.getDevicePixelRatio = function () {\n    return this._zr.painter.dpr\n    /* eslint-disable-next-line */ || env.hasGlobalWindow && window.devicePixelRatio || 1;\n  };\n  /**\n   * Get canvas which has all thing rendered\n   * @deprecated Use renderToCanvas instead.\n   */\n  ECharts.prototype.getRenderedCanvas = function (opts) {\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateReplaceLog('getRenderedCanvas', 'renderToCanvas');\n    }\n    return this.renderToCanvas(opts);\n  };\n  ECharts.prototype.renderToCanvas = function (opts) {\n    opts = opts || {};\n    var painter = this._zr.painter;\n    if (process.env.NODE_ENV !== 'production') {\n      if (painter.type !== 'canvas') {\n        throw new Error('renderToCanvas can only be used in the canvas renderer.');\n      }\n    }\n    return painter.getRenderedCanvas({\n      backgroundColor: opts.backgroundColor || this._model.get('backgroundColor'),\n      pixelRatio: opts.pixelRatio || this.getDevicePixelRatio()\n    });\n  };\n  ECharts.prototype.renderToSVGString = function (opts) {\n    opts = opts || {};\n    var painter = this._zr.painter;\n    if (process.env.NODE_ENV !== 'production') {\n      if (painter.type !== 'svg') {\n        throw new Error('renderToSVGString can only be used in the svg renderer.');\n      }\n    }\n    return painter.renderToString({\n      useViewBox: opts.useViewBox\n    });\n  };\n  /**\n   * Get svg data url\n   */\n  ECharts.prototype.getSvgDataURL = function () {\n    if (!env.svgSupported) {\n      return;\n    }\n    var zr = this._zr;\n    var list = zr.storage.getDisplayList();\n    // Stop animations\n    each(list, function (el) {\n      el.stopAnimation(null, true);\n    });\n    return zr.painter.toDataURL();\n  };\n  ECharts.prototype.getDataURL = function (opts) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    opts = opts || {};\n    var excludeComponents = opts.excludeComponents;\n    var ecModel = this._model;\n    var excludesComponentViews = [];\n    var self = this;\n    each(excludeComponents, function (componentType) {\n      ecModel.eachComponent({\n        mainType: componentType\n      }, function (component) {\n        var view = self._componentsMap[component.__viewId];\n        if (!view.group.ignore) {\n          excludesComponentViews.push(view);\n          view.group.ignore = true;\n        }\n      });\n    });\n    var url = this._zr.painter.getType() === 'svg' ? this.getSvgDataURL() : this.renderToCanvas(opts).toDataURL('image/' + (opts && opts.type || 'png'));\n    each(excludesComponentViews, function (view) {\n      view.group.ignore = false;\n    });\n    return url;\n  };\n  ECharts.prototype.getConnectedDataURL = function (opts) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    var isSvg = opts.type === 'svg';\n    var groupId = this.group;\n    var mathMin = Math.min;\n    var mathMax = Math.max;\n    var MAX_NUMBER = Infinity;\n    if (connectedGroups[groupId]) {\n      var left_1 = MAX_NUMBER;\n      var top_1 = MAX_NUMBER;\n      var right_1 = -MAX_NUMBER;\n      var bottom_1 = -MAX_NUMBER;\n      var canvasList_1 = [];\n      var dpr_1 = opts && opts.pixelRatio || this.getDevicePixelRatio();\n      each(instances, function (chart, id) {\n        if (chart.group === groupId) {\n          var canvas = isSvg ? chart.getZr().painter.getSvgDom().innerHTML : chart.renderToCanvas(clone(opts));\n          var boundingRect = chart.getDom().getBoundingClientRect();\n          left_1 = mathMin(boundingRect.left, left_1);\n          top_1 = mathMin(boundingRect.top, top_1);\n          right_1 = mathMax(boundingRect.right, right_1);\n          bottom_1 = mathMax(boundingRect.bottom, bottom_1);\n          canvasList_1.push({\n            dom: canvas,\n            left: boundingRect.left,\n            top: boundingRect.top\n          });\n        }\n      });\n      left_1 *= dpr_1;\n      top_1 *= dpr_1;\n      right_1 *= dpr_1;\n      bottom_1 *= dpr_1;\n      var width = right_1 - left_1;\n      var height = bottom_1 - top_1;\n      var targetCanvas = platformApi.createCanvas();\n      var zr_1 = zrender.init(targetCanvas, {\n        renderer: isSvg ? 'svg' : 'canvas'\n      });\n      zr_1.resize({\n        width: width,\n        height: height\n      });\n      if (isSvg) {\n        var content_1 = '';\n        each(canvasList_1, function (item) {\n          var x = item.left - left_1;\n          var y = item.top - top_1;\n          content_1 += '<g transform=\"translate(' + x + ',' + y + ')\">' + item.dom + '</g>';\n        });\n        zr_1.painter.getSvgRoot().innerHTML = content_1;\n        if (opts.connectedBackgroundColor) {\n          zr_1.painter.setBackgroundColor(opts.connectedBackgroundColor);\n        }\n        zr_1.refreshImmediately();\n        return zr_1.painter.toDataURL();\n      } else {\n        // Background between the charts\n        if (opts.connectedBackgroundColor) {\n          zr_1.add(new graphic.Rect({\n            shape: {\n              x: 0,\n              y: 0,\n              width: width,\n              height: height\n            },\n            style: {\n              fill: opts.connectedBackgroundColor\n            }\n          }));\n        }\n        each(canvasList_1, function (item) {\n          var img = new graphic.Image({\n            style: {\n              x: item.left * dpr_1 - left_1,\n              y: item.top * dpr_1 - top_1,\n              image: item.dom\n            }\n          });\n          zr_1.add(img);\n        });\n        zr_1.refreshImmediately();\n        return targetCanvas.toDataURL('image/' + (opts && opts.type || 'png'));\n      }\n    } else {\n      return this.getDataURL(opts);\n    }\n  };\n  ECharts.prototype.convertToPixel = function (finder, value) {\n    return doConvertPixel(this, 'convertToPixel', finder, value);\n  };\n  ECharts.prototype.convertFromPixel = function (finder, value) {\n    return doConvertPixel(this, 'convertFromPixel', finder, value);\n  };\n  /**\n   * Is the specified coordinate systems or components contain the given pixel point.\n   * @param {Array|number} value\n   * @return {boolean} result\n   */\n  ECharts.prototype.containPixel = function (finder, value) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    var ecModel = this._model;\n    var result;\n    var findResult = modelUtil.parseFinder(ecModel, finder);\n    each(findResult, function (models, key) {\n      key.indexOf('Models') >= 0 && each(models, function (model) {\n        var coordSys = model.coordinateSystem;\n        if (coordSys && coordSys.containPoint) {\n          result = result || !!coordSys.containPoint(value);\n        } else if (key === 'seriesModels') {\n          var view = this._chartsMap[model.__viewId];\n          if (view && view.containPoint) {\n            result = result || view.containPoint(value, model);\n          } else {\n            if (process.env.NODE_ENV !== 'production') {\n              warn(key + ': ' + (view ? 'The found component do not support containPoint.' : 'No view mapping to the found component.'));\n            }\n          }\n        } else {\n          if (process.env.NODE_ENV !== 'production') {\n            warn(key + ': containPoint is not supported');\n          }\n        }\n      }, this);\n    }, this);\n    return !!result;\n  };\n  /**\n   * Get visual from series or data.\n   * @param finder\n   *        If string, e.g., 'series', means {seriesIndex: 0}.\n   *        If Object, could contain some of these properties below:\n   *        {\n   *            seriesIndex / seriesId / seriesName,\n   *            dataIndex / dataIndexInside\n   *        }\n   *        If dataIndex is not specified, series visual will be fetched,\n   *        but not data item visual.\n   *        If all of seriesIndex, seriesId, seriesName are not specified,\n   *        visual will be fetched from first series.\n   * @param visualType 'color', 'symbol', 'symbolSize'\n   */\n  ECharts.prototype.getVisual = function (finder, visualType) {\n    var ecModel = this._model;\n    var parsedFinder = modelUtil.parseFinder(ecModel, finder, {\n      defaultMainType: 'series'\n    });\n    var seriesModel = parsedFinder.seriesModel;\n    if (process.env.NODE_ENV !== 'production') {\n      if (!seriesModel) {\n        warn('There is no specified series model');\n      }\n    }\n    var data = seriesModel.getData();\n    var dataIndexInside = parsedFinder.hasOwnProperty('dataIndexInside') ? parsedFinder.dataIndexInside : parsedFinder.hasOwnProperty('dataIndex') ? data.indexOfRawIndex(parsedFinder.dataIndex) : null;\n    return dataIndexInside != null ? getItemVisualFromData(data, dataIndexInside, visualType) : getVisualFromData(data, visualType);\n  };\n  /**\n   * Get view of corresponding component model\n   */\n  ECharts.prototype.getViewOfComponentModel = function (componentModel) {\n    return this._componentsMap[componentModel.__viewId];\n  };\n  /**\n   * Get view of corresponding series model\n   */\n  ECharts.prototype.getViewOfSeriesModel = function (seriesModel) {\n    return this._chartsMap[seriesModel.__viewId];\n  };\n  ECharts.prototype._initEvents = function () {\n    var _this = this;\n    each(MOUSE_EVENT_NAMES, function (eveName) {\n      var handler = function (e) {\n        var ecModel = _this.getModel();\n        var el = e.target;\n        var params;\n        var isGlobalOut = eveName === 'globalout';\n        // no e.target when 'globalout'.\n        if (isGlobalOut) {\n          params = {};\n        } else {\n          el && findEventDispatcher(el, function (parent) {\n            var ecData = getECData(parent);\n            if (ecData && ecData.dataIndex != null) {\n              var dataModel = ecData.dataModel || ecModel.getSeriesByIndex(ecData.seriesIndex);\n              params = dataModel && dataModel.getDataParams(ecData.dataIndex, ecData.dataType, el) || {};\n              return true;\n            }\n            // If element has custom eventData of components\n            else if (ecData.eventData) {\n              params = extend({}, ecData.eventData);\n              return true;\n            }\n          }, true);\n        }\n        // Contract: if params prepared in mouse event,\n        // these properties must be specified:\n        // {\n        //    componentType: string (component main type)\n        //    componentIndex: number\n        // }\n        // Otherwise event query can not work.\n        if (params) {\n          var componentType = params.componentType;\n          var componentIndex = params.componentIndex;\n          // Special handling for historic reason: when trigger by\n          // markLine/markPoint/markArea, the componentType is\n          // 'markLine'/'markPoint'/'markArea', but we should better\n          // enable them to be queried by seriesIndex, since their\n          // option is set in each series.\n          if (componentType === 'markLine' || componentType === 'markPoint' || componentType === 'markArea') {\n            componentType = 'series';\n            componentIndex = params.seriesIndex;\n          }\n          var model = componentType && componentIndex != null && ecModel.getComponent(componentType, componentIndex);\n          var view = model && _this[model.mainType === 'series' ? '_chartsMap' : '_componentsMap'][model.__viewId];\n          if (process.env.NODE_ENV !== 'production') {\n            // `event.componentType` and `event[componentTpype + 'Index']` must not\n            // be missed, otherwise there is no way to distinguish source component.\n            // See `dataFormat.getDataParams`.\n            if (!isGlobalOut && !(model && view)) {\n              warn('model or view can not be found by params');\n            }\n          }\n          params.event = e;\n          params.type = eveName;\n          _this._$eventProcessor.eventInfo = {\n            targetEl: el,\n            packedEvent: params,\n            model: model,\n            view: view\n          };\n          _this.trigger(eveName, params);\n        }\n      };\n      // Consider that some component (like tooltip, brush, ...)\n      // register zr event handler, but user event handler might\n      // do anything, such as call `setOption` or `dispatchAction`,\n      // which probably update any of the content and probably\n      // cause problem if it is called previous other inner handlers.\n      handler.zrEventfulCallAtLast = true;\n      _this._zr.on(eveName, handler, _this);\n    });\n    each(eventActionMap, function (actionType, eventType) {\n      _this._messageCenter.on(eventType, function (event) {\n        this.trigger(eventType, event);\n      }, _this);\n    });\n    // Extra events\n    // TODO register?\n    each(['selectchanged'], function (eventType) {\n      _this._messageCenter.on(eventType, function (event) {\n        this.trigger(eventType, event);\n      }, _this);\n    });\n    handleLegacySelectEvents(this._messageCenter, this, this._api);\n  };\n  ECharts.prototype.isDisposed = function () {\n    return this._disposed;\n  };\n  ECharts.prototype.clear = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    this.setOption({\n      series: []\n    }, true);\n  };\n  ECharts.prototype.dispose = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    this._disposed = true;\n    var dom = this.getDom();\n    if (dom) {\n      modelUtil.setAttribute(this.getDom(), DOM_ATTRIBUTE_KEY, '');\n    }\n    var chart = this;\n    var api = chart._api;\n    var ecModel = chart._model;\n    each(chart._componentsViews, function (component) {\n      component.dispose(ecModel, api);\n    });\n    each(chart._chartsViews, function (chart) {\n      chart.dispose(ecModel, api);\n    });\n    // Dispose after all views disposed\n    chart._zr.dispose();\n    // Set properties to null.\n    // To reduce the memory cost in case the top code still holds this instance unexpectedly.\n    chart._dom = chart._model = chart._chartsMap = chart._componentsMap = chart._chartsViews = chart._componentsViews = chart._scheduler = chart._api = chart._zr = chart._throttledZrFlush = chart._theme = chart._coordSysMgr = chart._messageCenter = null;\n    delete instances[chart.id];\n  };\n  /**\n   * Resize the chart\n   */\n  ECharts.prototype.resize = function (opts) {\n    if (this[IN_MAIN_PROCESS_KEY]) {\n      if (process.env.NODE_ENV !== 'production') {\n        error('`resize` should not be called during main process.');\n      }\n      return;\n    }\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    this._zr.resize(opts);\n    var ecModel = this._model;\n    // Resize loading effect\n    this._loadingFX && this._loadingFX.resize();\n    if (!ecModel) {\n      return;\n    }\n    var needPrepare = ecModel.resetOption('media');\n    var silent = opts && opts.silent;\n    // There is some real cases that:\n    // chart.setOption(option, { lazyUpdate: true });\n    // chart.resize();\n    if (this[PENDING_UPDATE]) {\n      if (silent == null) {\n        silent = this[PENDING_UPDATE].silent;\n      }\n      needPrepare = true;\n      this[PENDING_UPDATE] = null;\n    }\n    this[IN_MAIN_PROCESS_KEY] = true;\n    try {\n      needPrepare && prepare(this);\n      updateMethods.update.call(this, {\n        type: 'resize',\n        animation: extend({\n          // Disable animation\n          duration: 0\n        }, opts && opts.animation)\n      });\n    } catch (e) {\n      this[IN_MAIN_PROCESS_KEY] = false;\n      throw e;\n    }\n    this[IN_MAIN_PROCESS_KEY] = false;\n    flushPendingActions.call(this, silent);\n    triggerUpdatedEvent.call(this, silent);\n  };\n  ECharts.prototype.showLoading = function (name, cfg) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    if (isObject(name)) {\n      cfg = name;\n      name = '';\n    }\n    name = name || 'default';\n    this.hideLoading();\n    if (!loadingEffects[name]) {\n      if (process.env.NODE_ENV !== 'production') {\n        warn('Loading effects ' + name + ' not exists.');\n      }\n      return;\n    }\n    var el = loadingEffects[name](this._api, cfg);\n    var zr = this._zr;\n    this._loadingFX = el;\n    zr.add(el);\n  };\n  /**\n   * Hide loading effect\n   */\n  ECharts.prototype.hideLoading = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    this._loadingFX && this._zr.remove(this._loadingFX);\n    this._loadingFX = null;\n  };\n  ECharts.prototype.makeActionFromEvent = function (eventObj) {\n    var payload = extend({}, eventObj);\n    payload.type = eventActionMap[eventObj.type];\n    return payload;\n  };\n  /**\n   * @param opt If pass boolean, means opt.silent\n   * @param opt.silent Default `false`. Whether trigger events.\n   * @param opt.flush Default `undefined`.\n   *        true: Flush immediately, and then pixel in canvas can be fetched\n   *            immediately. Caution: it might affect performance.\n   *        false: Not flush.\n   *        undefined: Auto decide whether perform flush.\n   */\n  ECharts.prototype.dispatchAction = function (payload, opt) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    if (!isObject(opt)) {\n      opt = {\n        silent: !!opt\n      };\n    }\n    if (!actions[payload.type]) {\n      return;\n    }\n    // Avoid dispatch action before setOption. Especially in `connect`.\n    if (!this._model) {\n      return;\n    }\n    // May dispatchAction in rendering procedure\n    if (this[IN_MAIN_PROCESS_KEY]) {\n      this._pendingActions.push(payload);\n      return;\n    }\n    var silent = opt.silent;\n    doDispatchAction.call(this, payload, silent);\n    var flush = opt.flush;\n    if (flush) {\n      this._zr.flush();\n    } else if (flush !== false && env.browser.weChat) {\n      // In WeChat embedded browser, `requestAnimationFrame` and `setInterval`\n      // hang when sliding page (on touch event), which cause that zr does not\n      // refresh until user interaction finished, which is not expected.\n      // But `dispatchAction` may be called too frequently when pan on touch\n      // screen, which impacts performance if do not throttle them.\n      this._throttledZrFlush();\n    }\n    flushPendingActions.call(this, silent);\n    triggerUpdatedEvent.call(this, silent);\n  };\n  ECharts.prototype.updateLabelLayout = function () {\n    lifecycle.trigger('series:layoutlabels', this._model, this._api, {\n      // Not adding series labels.\n      // TODO\n      updatedSeries: []\n    });\n  };\n  ECharts.prototype.appendData = function (params) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    var seriesIndex = params.seriesIndex;\n    var ecModel = this.getModel();\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n    if (process.env.NODE_ENV !== 'production') {\n      assert(params.data && seriesModel);\n    }\n    seriesModel.appendData(params);\n    // Note: `appendData` does not support that update extent of coordinate\n    // system, util some scenario require that. In the expected usage of\n    // `appendData`, the initial extent of coordinate system should better\n    // be fixed by axis `min`/`max` setting or initial data, otherwise if\n    // the extent changed while `appendData`, the location of the painted\n    // graphic elements have to be changed, which make the usage of\n    // `appendData` meaningless.\n    this._scheduler.unfinished = true;\n    this.getZr().wakeUp();\n  };\n  // A work around for no `internal` modifier in ts yet but\n  // need to strictly hide private methods to JS users.\n  ECharts.internalField = function () {\n    prepare = function (ecIns) {\n      var scheduler = ecIns._scheduler;\n      scheduler.restorePipelines(ecIns._model);\n      scheduler.prepareStageTasks();\n      prepareView(ecIns, true);\n      prepareView(ecIns, false);\n      scheduler.plan();\n    };\n    /**\n     * Prepare view instances of charts and components\n     */\n    prepareView = function (ecIns, isComponent) {\n      var ecModel = ecIns._model;\n      var scheduler = ecIns._scheduler;\n      var viewList = isComponent ? ecIns._componentsViews : ecIns._chartsViews;\n      var viewMap = isComponent ? ecIns._componentsMap : ecIns._chartsMap;\n      var zr = ecIns._zr;\n      var api = ecIns._api;\n      for (var i = 0; i < viewList.length; i++) {\n        viewList[i].__alive = false;\n      }\n      isComponent ? ecModel.eachComponent(function (componentType, model) {\n        componentType !== 'series' && doPrepare(model);\n      }) : ecModel.eachSeries(doPrepare);\n      function doPrepare(model) {\n        // By default view will be reused if possible for the case that `setOption` with \"notMerge\"\n        // mode and need to enable transition animation. (Usually, when they have the same id, or\n        // especially no id but have the same type & name & index. See the `model.id` generation\n        // rule in `makeIdAndName` and `viewId` generation rule here).\n        // But in `replaceMerge` mode, this feature should be able to disabled when it is clear that\n        // the new model has nothing to do with the old model.\n        var requireNewView = model.__requireNewView;\n        // This command should not work twice.\n        model.__requireNewView = false;\n        // Consider: id same and type changed.\n        var viewId = '_ec_' + model.id + '_' + model.type;\n        var view = !requireNewView && viewMap[viewId];\n        if (!view) {\n          var classType = parseClassType(model.type);\n          var Clazz = isComponent ? ComponentView.getClass(classType.main, classType.sub) :\n          // FIXME:TS\n          // (ChartView as ChartViewConstructor).getClass('series', classType.sub)\n          // For backward compat, still support a chart type declared as only subType\n          // like \"liquidfill\", but recommend \"series.liquidfill\"\n          // But need a base class to make a type series.\n          ChartView.getClass(classType.sub);\n          if (process.env.NODE_ENV !== 'production') {\n            assert(Clazz, classType.sub + ' does not exist.');\n          }\n          view = new Clazz();\n          view.init(ecModel, api);\n          viewMap[viewId] = view;\n          viewList.push(view);\n          zr.add(view.group);\n        }\n        model.__viewId = view.__id = viewId;\n        view.__alive = true;\n        view.__model = model;\n        view.group.__ecComponentInfo = {\n          mainType: model.mainType,\n          index: model.componentIndex\n        };\n        !isComponent && scheduler.prepareView(view, model, ecModel, api);\n      }\n      for (var i = 0; i < viewList.length;) {\n        var view = viewList[i];\n        if (!view.__alive) {\n          !isComponent && view.renderTask.dispose();\n          zr.remove(view.group);\n          view.dispose(ecModel, api);\n          viewList.splice(i, 1);\n          if (viewMap[view.__id] === view) {\n            delete viewMap[view.__id];\n          }\n          view.__id = view.group.__ecComponentInfo = null;\n        } else {\n          i++;\n        }\n      }\n    };\n    updateDirectly = function (ecIns, method, payload, mainType, subType) {\n      var ecModel = ecIns._model;\n      ecModel.setUpdatePayload(payload);\n      // broadcast\n      if (!mainType) {\n        // FIXME\n        // Chart will not be update directly here, except set dirty.\n        // But there is no such scenario now.\n        each([].concat(ecIns._componentsViews).concat(ecIns._chartsViews), callView);\n        return;\n      }\n      var query = {};\n      query[mainType + 'Id'] = payload[mainType + 'Id'];\n      query[mainType + 'Index'] = payload[mainType + 'Index'];\n      query[mainType + 'Name'] = payload[mainType + 'Name'];\n      var condition = {\n        mainType: mainType,\n        query: query\n      };\n      subType && (condition.subType = subType); // subType may be '' by parseClassType;\n      var excludeSeriesId = payload.excludeSeriesId;\n      var excludeSeriesIdMap;\n      if (excludeSeriesId != null) {\n        excludeSeriesIdMap = createHashMap();\n        each(modelUtil.normalizeToArray(excludeSeriesId), function (id) {\n          var modelId = modelUtil.convertOptionIdName(id, null);\n          if (modelId != null) {\n            excludeSeriesIdMap.set(modelId, true);\n          }\n        });\n      }\n      // If dispatchAction before setOption, do nothing.\n      ecModel && ecModel.eachComponent(condition, function (model) {\n        var isExcluded = excludeSeriesIdMap && excludeSeriesIdMap.get(model.id) != null;\n        if (isExcluded) {\n          return;\n        }\n        ;\n        if (isHighDownPayload(payload)) {\n          if (model instanceof SeriesModel) {\n            if (payload.type === HIGHLIGHT_ACTION_TYPE && !payload.notBlur && !model.get(['emphasis', 'disabled'])) {\n              blurSeriesFromHighlightPayload(model, payload, ecIns._api);\n            }\n          } else {\n            var _a = findComponentHighDownDispatchers(model.mainType, model.componentIndex, payload.name, ecIns._api),\n              focusSelf = _a.focusSelf,\n              dispatchers = _a.dispatchers;\n            if (payload.type === HIGHLIGHT_ACTION_TYPE && focusSelf && !payload.notBlur) {\n              blurComponent(model.mainType, model.componentIndex, ecIns._api);\n            }\n            // PENDING:\n            // Whether to put this \"enter emphasis\" code in `ComponentView`,\n            // which will be the same as `ChartView` but might be not necessary\n            // and will be far from this logic.\n            if (dispatchers) {\n              each(dispatchers, function (dispatcher) {\n                payload.type === HIGHLIGHT_ACTION_TYPE ? enterEmphasis(dispatcher) : leaveEmphasis(dispatcher);\n              });\n            }\n          }\n        } else if (isSelectChangePayload(payload)) {\n          // TODO geo\n          if (model instanceof SeriesModel) {\n            toggleSelectionFromPayload(model, payload, ecIns._api);\n            updateSeriesElementSelection(model);\n            markStatusToUpdate(ecIns);\n          }\n        }\n      }, ecIns);\n      ecModel && ecModel.eachComponent(condition, function (model) {\n        var isExcluded = excludeSeriesIdMap && excludeSeriesIdMap.get(model.id) != null;\n        if (isExcluded) {\n          return;\n        }\n        ;\n        callView(ecIns[mainType === 'series' ? '_chartsMap' : '_componentsMap'][model.__viewId]);\n      }, ecIns);\n      function callView(view) {\n        view && view.__alive && view[method] && view[method](view.__model, ecModel, ecIns._api, payload);\n      }\n    };\n    updateMethods = {\n      prepareAndUpdate: function (payload) {\n        prepare(this);\n        updateMethods.update.call(this, payload, {\n          // Needs to mark option changed if newOption is given.\n          // It's from MagicType.\n          // TODO If use a separate flag optionChanged in payload?\n          optionChanged: payload.newOption != null\n        });\n      },\n      update: function (payload, updateParams) {\n        var ecModel = this._model;\n        var api = this._api;\n        var zr = this._zr;\n        var coordSysMgr = this._coordSysMgr;\n        var scheduler = this._scheduler;\n        // update before setOption\n        if (!ecModel) {\n          return;\n        }\n        ecModel.setUpdatePayload(payload);\n        scheduler.restoreData(ecModel, payload);\n        scheduler.performSeriesTasks(ecModel);\n        // TODO\n        // Save total ecModel here for undo/redo (after restoring data and before processing data).\n        // Undo (restoration of total ecModel) can be carried out in 'action' or outside API call.\n        // Create new coordinate system each update\n        // In LineView may save the old coordinate system and use it to get the original point.\n        coordSysMgr.create(ecModel, api);\n        scheduler.performDataProcessorTasks(ecModel, payload);\n        // Current stream render is not supported in data process. So we can update\n        // stream modes after data processing, where the filtered data is used to\n        // determine whether to use progressive rendering.\n        updateStreamModes(this, ecModel);\n        // We update stream modes before coordinate system updated, then the modes info\n        // can be fetched when coord sys updating (consider the barGrid extent fix). But\n        // the drawback is the full coord info can not be fetched. Fortunately this full\n        // coord is not required in stream mode updater currently.\n        coordSysMgr.update(ecModel, api);\n        clearColorPalette(ecModel);\n        scheduler.performVisualTasks(ecModel, payload);\n        render(this, ecModel, api, payload, updateParams);\n        // Set background\n        var backgroundColor = ecModel.get('backgroundColor') || 'transparent';\n        var darkMode = ecModel.get('darkMode');\n        zr.setBackgroundColor(backgroundColor);\n        // Force set dark mode.\n        if (darkMode != null && darkMode !== 'auto') {\n          zr.setDarkMode(darkMode);\n        }\n        lifecycle.trigger('afterupdate', ecModel, api);\n      },\n      updateTransform: function (payload) {\n        var _this = this;\n        var ecModel = this._model;\n        var api = this._api;\n        // update before setOption\n        if (!ecModel) {\n          return;\n        }\n        ecModel.setUpdatePayload(payload);\n        // ChartView.markUpdateMethod(payload, 'updateTransform');\n        var componentDirtyList = [];\n        ecModel.eachComponent(function (componentType, componentModel) {\n          if (componentType === 'series') {\n            return;\n          }\n          var componentView = _this.getViewOfComponentModel(componentModel);\n          if (componentView && componentView.__alive) {\n            if (componentView.updateTransform) {\n              var result = componentView.updateTransform(componentModel, ecModel, api, payload);\n              result && result.update && componentDirtyList.push(componentView);\n            } else {\n              componentDirtyList.push(componentView);\n            }\n          }\n        });\n        var seriesDirtyMap = createHashMap();\n        ecModel.eachSeries(function (seriesModel) {\n          var chartView = _this._chartsMap[seriesModel.__viewId];\n          if (chartView.updateTransform) {\n            var result = chartView.updateTransform(seriesModel, ecModel, api, payload);\n            result && result.update && seriesDirtyMap.set(seriesModel.uid, 1);\n          } else {\n            seriesDirtyMap.set(seriesModel.uid, 1);\n          }\n        });\n        clearColorPalette(ecModel);\n        // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n        // this._scheduler.performVisualTasks(ecModel, payload, 'layout', true);\n        this._scheduler.performVisualTasks(ecModel, payload, {\n          setDirty: true,\n          dirtyMap: seriesDirtyMap\n        });\n        // Currently, not call render of components. Geo render cost a lot.\n        // renderComponents(ecIns, ecModel, api, payload, componentDirtyList);\n        renderSeries(this, ecModel, api, payload, {}, seriesDirtyMap);\n        lifecycle.trigger('afterupdate', ecModel, api);\n      },\n      updateView: function (payload) {\n        var ecModel = this._model;\n        // update before setOption\n        if (!ecModel) {\n          return;\n        }\n        ecModel.setUpdatePayload(payload);\n        ChartView.markUpdateMethod(payload, 'updateView');\n        clearColorPalette(ecModel);\n        // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n        this._scheduler.performVisualTasks(ecModel, payload, {\n          setDirty: true\n        });\n        render(this, ecModel, this._api, payload, {});\n        lifecycle.trigger('afterupdate', ecModel, this._api);\n      },\n      updateVisual: function (payload) {\n        // updateMethods.update.call(this, payload);\n        var _this = this;\n        var ecModel = this._model;\n        // update before setOption\n        if (!ecModel) {\n          return;\n        }\n        ecModel.setUpdatePayload(payload);\n        // clear all visual\n        ecModel.eachSeries(function (seriesModel) {\n          seriesModel.getData().clearAllVisual();\n        });\n        // Perform visual\n        ChartView.markUpdateMethod(payload, 'updateVisual');\n        clearColorPalette(ecModel);\n        // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n        this._scheduler.performVisualTasks(ecModel, payload, {\n          visualType: 'visual',\n          setDirty: true\n        });\n        ecModel.eachComponent(function (componentType, componentModel) {\n          if (componentType !== 'series') {\n            var componentView = _this.getViewOfComponentModel(componentModel);\n            componentView && componentView.__alive && componentView.updateVisual(componentModel, ecModel, _this._api, payload);\n          }\n        });\n        ecModel.eachSeries(function (seriesModel) {\n          var chartView = _this._chartsMap[seriesModel.__viewId];\n          chartView.updateVisual(seriesModel, ecModel, _this._api, payload);\n        });\n        lifecycle.trigger('afterupdate', ecModel, this._api);\n      },\n      updateLayout: function (payload) {\n        updateMethods.update.call(this, payload);\n      }\n    };\n    doConvertPixel = function (ecIns, methodName, finder, value) {\n      if (ecIns._disposed) {\n        disposedWarning(ecIns.id);\n        return;\n      }\n      var ecModel = ecIns._model;\n      var coordSysList = ecIns._coordSysMgr.getCoordinateSystems();\n      var result;\n      var parsedFinder = modelUtil.parseFinder(ecModel, finder);\n      for (var i = 0; i < coordSysList.length; i++) {\n        var coordSys = coordSysList[i];\n        if (coordSys[methodName] && (result = coordSys[methodName](ecModel, parsedFinder, value)) != null) {\n          return result;\n        }\n      }\n      if (process.env.NODE_ENV !== 'production') {\n        warn('No coordinate system that supports ' + methodName + ' found by the given finder.');\n      }\n    };\n    updateStreamModes = function (ecIns, ecModel) {\n      var chartsMap = ecIns._chartsMap;\n      var scheduler = ecIns._scheduler;\n      ecModel.eachSeries(function (seriesModel) {\n        scheduler.updateStreamModes(seriesModel, chartsMap[seriesModel.__viewId]);\n      });\n    };\n    doDispatchAction = function (payload, silent) {\n      var _this = this;\n      var ecModel = this.getModel();\n      var payloadType = payload.type;\n      var escapeConnect = payload.escapeConnect;\n      var actionWrap = actions[payloadType];\n      var actionInfo = actionWrap.actionInfo;\n      var cptTypeTmp = (actionInfo.update || 'update').split(':');\n      var updateMethod = cptTypeTmp.pop();\n      var cptType = cptTypeTmp[0] != null && parseClassType(cptTypeTmp[0]);\n      this[IN_MAIN_PROCESS_KEY] = true;\n      var payloads = [payload];\n      var batched = false;\n      // Batch action\n      if (payload.batch) {\n        batched = true;\n        payloads = map(payload.batch, function (item) {\n          item = defaults(extend({}, item), payload);\n          item.batch = null;\n          return item;\n        });\n      }\n      var eventObjBatch = [];\n      var eventObj;\n      var isSelectChange = isSelectChangePayload(payload);\n      var isHighDown = isHighDownPayload(payload);\n      // Only leave blur once if there are multiple batches.\n      if (isHighDown) {\n        allLeaveBlur(this._api);\n      }\n      each(payloads, function (batchItem) {\n        // Action can specify the event by return it.\n        eventObj = actionWrap.action(batchItem, _this._model, _this._api);\n        // Emit event outside\n        eventObj = eventObj || extend({}, batchItem);\n        // Convert type to eventType\n        eventObj.type = actionInfo.event || eventObj.type;\n        eventObjBatch.push(eventObj);\n        // light update does not perform data process, layout and visual.\n        if (isHighDown) {\n          var _a = modelUtil.preParseFinder(payload),\n            queryOptionMap = _a.queryOptionMap,\n            mainTypeSpecified = _a.mainTypeSpecified;\n          var componentMainType = mainTypeSpecified ? queryOptionMap.keys()[0] : 'series';\n          updateDirectly(_this, updateMethod, batchItem, componentMainType);\n          markStatusToUpdate(_this);\n        } else if (isSelectChange) {\n          // At present `dispatchAction({ type: 'select', ... })` is not supported on components.\n          // geo still use 'geoselect'.\n          updateDirectly(_this, updateMethod, batchItem, 'series');\n          markStatusToUpdate(_this);\n        } else if (cptType) {\n          updateDirectly(_this, updateMethod, batchItem, cptType.main, cptType.sub);\n        }\n      });\n      if (updateMethod !== 'none' && !isHighDown && !isSelectChange && !cptType) {\n        try {\n          // Still dirty\n          if (this[PENDING_UPDATE]) {\n            prepare(this);\n            updateMethods.update.call(this, payload);\n            this[PENDING_UPDATE] = null;\n          } else {\n            updateMethods[updateMethod].call(this, payload);\n          }\n        } catch (e) {\n          this[IN_MAIN_PROCESS_KEY] = false;\n          throw e;\n        }\n      }\n      // Follow the rule of action batch\n      if (batched) {\n        eventObj = {\n          type: actionInfo.event || payloadType,\n          escapeConnect: escapeConnect,\n          batch: eventObjBatch\n        };\n      } else {\n        eventObj = eventObjBatch[0];\n      }\n      this[IN_MAIN_PROCESS_KEY] = false;\n      if (!silent) {\n        var messageCenter = this._messageCenter;\n        messageCenter.trigger(eventObj.type, eventObj);\n        // Extra triggered 'selectchanged' event\n        if (isSelectChange) {\n          var newObj = {\n            type: 'selectchanged',\n            escapeConnect: escapeConnect,\n            selected: getAllSelectedIndices(ecModel),\n            isFromClick: payload.isFromClick || false,\n            fromAction: payload.type,\n            fromActionPayload: payload\n          };\n          messageCenter.trigger(newObj.type, newObj);\n        }\n      }\n    };\n    flushPendingActions = function (silent) {\n      var pendingActions = this._pendingActions;\n      while (pendingActions.length) {\n        var payload = pendingActions.shift();\n        doDispatchAction.call(this, payload, silent);\n      }\n    };\n    triggerUpdatedEvent = function (silent) {\n      !silent && this.trigger('updated');\n    };\n    /**\n     * Event `rendered` is triggered when zr\n     * rendered. It is useful for realtime\n     * snapshot (reflect animation).\n     *\n     * Event `finished` is triggered when:\n     * (1) zrender rendering finished.\n     * (2) initial animation finished.\n     * (3) progressive rendering finished.\n     * (4) no pending action.\n     * (5) no delayed setOption needs to be processed.\n     */\n    bindRenderedEvent = function (zr, ecIns) {\n      zr.on('rendered', function (params) {\n        ecIns.trigger('rendered', params);\n        // The `finished` event should not be triggered repeatedly,\n        // so it should only be triggered when rendering indeed happens\n        // in zrender. (Consider the case that dipatchAction is keep\n        // triggering when mouse move).\n        if (\n        // Although zr is dirty if initial animation is not finished\n        // and this checking is called on frame, we also check\n        // animation finished for robustness.\n        zr.animation.isFinished() && !ecIns[PENDING_UPDATE] && !ecIns._scheduler.unfinished && !ecIns._pendingActions.length) {\n          ecIns.trigger('finished');\n        }\n      });\n    };\n    bindMouseEvent = function (zr, ecIns) {\n      zr.on('mouseover', function (e) {\n        var el = e.target;\n        var dispatcher = findEventDispatcher(el, isHighDownDispatcher);\n        if (dispatcher) {\n          handleGlobalMouseOverForHighDown(dispatcher, e, ecIns._api);\n          markStatusToUpdate(ecIns);\n        }\n      }).on('mouseout', function (e) {\n        var el = e.target;\n        var dispatcher = findEventDispatcher(el, isHighDownDispatcher);\n        if (dispatcher) {\n          handleGlobalMouseOutForHighDown(dispatcher, e, ecIns._api);\n          markStatusToUpdate(ecIns);\n        }\n      }).on('click', function (e) {\n        var el = e.target;\n        var dispatcher = findEventDispatcher(el, function (target) {\n          return getECData(target).dataIndex != null;\n        }, true);\n        if (dispatcher) {\n          var actionType = dispatcher.selected ? 'unselect' : 'select';\n          var ecData = getECData(dispatcher);\n          ecIns._api.dispatchAction({\n            type: actionType,\n            dataType: ecData.dataType,\n            dataIndexInside: ecData.dataIndex,\n            seriesIndex: ecData.seriesIndex,\n            isFromClick: true\n          });\n        }\n      });\n    };\n    function clearColorPalette(ecModel) {\n      ecModel.clearColorPalette();\n      ecModel.eachSeries(function (seriesModel) {\n        seriesModel.clearColorPalette();\n      });\n    }\n    ;\n    // Allocate zlevels for series and components\n    function allocateZlevels(ecModel) {\n      ;\n      var componentZLevels = [];\n      var seriesZLevels = [];\n      var hasSeparateZLevel = false;\n      ecModel.eachComponent(function (componentType, componentModel) {\n        var zlevel = componentModel.get('zlevel') || 0;\n        var z = componentModel.get('z') || 0;\n        var zlevelKey = componentModel.getZLevelKey();\n        hasSeparateZLevel = hasSeparateZLevel || !!zlevelKey;\n        (componentType === 'series' ? seriesZLevels : componentZLevels).push({\n          zlevel: zlevel,\n          z: z,\n          idx: componentModel.componentIndex,\n          type: componentType,\n          key: zlevelKey\n        });\n      });\n      if (hasSeparateZLevel) {\n        // Series after component\n        var zLevels = componentZLevels.concat(seriesZLevels);\n        var lastSeriesZLevel_1;\n        var lastSeriesKey_1;\n        timsort(zLevels, function (a, b) {\n          if (a.zlevel === b.zlevel) {\n            return a.z - b.z;\n          }\n          return a.zlevel - b.zlevel;\n        });\n        each(zLevels, function (item) {\n          var componentModel = ecModel.getComponent(item.type, item.idx);\n          var zlevel = item.zlevel;\n          var key = item.key;\n          if (lastSeriesZLevel_1 != null) {\n            zlevel = Math.max(lastSeriesZLevel_1, zlevel);\n          }\n          if (key) {\n            if (zlevel === lastSeriesZLevel_1 && key !== lastSeriesKey_1) {\n              zlevel++;\n            }\n            lastSeriesKey_1 = key;\n          } else if (lastSeriesKey_1) {\n            if (zlevel === lastSeriesZLevel_1) {\n              zlevel++;\n            }\n            lastSeriesKey_1 = '';\n          }\n          lastSeriesZLevel_1 = zlevel;\n          componentModel.setZLevel(zlevel);\n        });\n      }\n    }\n    render = function (ecIns, ecModel, api, payload, updateParams) {\n      allocateZlevels(ecModel);\n      renderComponents(ecIns, ecModel, api, payload, updateParams);\n      each(ecIns._chartsViews, function (chart) {\n        chart.__alive = false;\n      });\n      renderSeries(ecIns, ecModel, api, payload, updateParams);\n      // Remove groups of unrendered charts\n      each(ecIns._chartsViews, function (chart) {\n        if (!chart.__alive) {\n          chart.remove(ecModel, api);\n        }\n      });\n    };\n    renderComponents = function (ecIns, ecModel, api, payload, updateParams, dirtyList) {\n      each(dirtyList || ecIns._componentsViews, function (componentView) {\n        var componentModel = componentView.__model;\n        clearStates(componentModel, componentView);\n        componentView.render(componentModel, ecModel, api, payload);\n        updateZ(componentModel, componentView);\n        updateStates(componentModel, componentView);\n      });\n    };\n    /**\n     * Render each chart and component\n     */\n    renderSeries = function (ecIns, ecModel, api, payload, updateParams, dirtyMap) {\n      // Render all charts\n      var scheduler = ecIns._scheduler;\n      updateParams = extend(updateParams || {}, {\n        updatedSeries: ecModel.getSeries()\n      });\n      // TODO progressive?\n      lifecycle.trigger('series:beforeupdate', ecModel, api, updateParams);\n      var unfinished = false;\n      ecModel.eachSeries(function (seriesModel) {\n        var chartView = ecIns._chartsMap[seriesModel.__viewId];\n        chartView.__alive = true;\n        var renderTask = chartView.renderTask;\n        scheduler.updatePayload(renderTask, payload);\n        // TODO states on marker.\n        clearStates(seriesModel, chartView);\n        if (dirtyMap && dirtyMap.get(seriesModel.uid)) {\n          renderTask.dirty();\n        }\n        if (renderTask.perform(scheduler.getPerformArgs(renderTask))) {\n          unfinished = true;\n        }\n        chartView.group.silent = !!seriesModel.get('silent');\n        // Should not call markRedraw on group, because it will disable zrender\n        // incremental render (always render from the __startIndex each frame)\n        // chartView.group.markRedraw();\n        updateBlend(seriesModel, chartView);\n        updateSeriesElementSelection(seriesModel);\n      });\n      scheduler.unfinished = unfinished || scheduler.unfinished;\n      lifecycle.trigger('series:layoutlabels', ecModel, api, updateParams);\n      // transition after label is layouted.\n      lifecycle.trigger('series:transition', ecModel, api, updateParams);\n      ecModel.eachSeries(function (seriesModel) {\n        var chartView = ecIns._chartsMap[seriesModel.__viewId];\n        // Update Z after labels updated. Before applying states.\n        updateZ(seriesModel, chartView);\n        // NOTE: Update states after label is updated.\n        // label should be in normal status when layouting.\n        updateStates(seriesModel, chartView);\n      });\n      // If use hover layer\n      updateHoverLayerStatus(ecIns, ecModel);\n      lifecycle.trigger('series:afterupdate', ecModel, api, updateParams);\n    };\n    markStatusToUpdate = function (ecIns) {\n      ecIns[STATUS_NEEDS_UPDATE_KEY] = true;\n      // Wake up zrender if it's sleep. Let it update states in the next frame.\n      ecIns.getZr().wakeUp();\n    };\n    applyChangedStates = function (ecIns) {\n      if (!ecIns[STATUS_NEEDS_UPDATE_KEY]) {\n        return;\n      }\n      ecIns.getZr().storage.traverse(function (el) {\n        // Not applied on removed elements, it may still in fading.\n        if (graphic.isElementRemoved(el)) {\n          return;\n        }\n        applyElementStates(el);\n      });\n      ecIns[STATUS_NEEDS_UPDATE_KEY] = false;\n    };\n    function applyElementStates(el) {\n      var newStates = [];\n      var oldStates = el.currentStates;\n      // Keep other states.\n      for (var i = 0; i < oldStates.length; i++) {\n        var stateName = oldStates[i];\n        if (!(stateName === 'emphasis' || stateName === 'blur' || stateName === 'select')) {\n          newStates.push(stateName);\n        }\n      }\n      // Only use states when it's exists.\n      if (el.selected && el.states.select) {\n        newStates.push('select');\n      }\n      if (el.hoverState === HOVER_STATE_EMPHASIS && el.states.emphasis) {\n        newStates.push('emphasis');\n      } else if (el.hoverState === HOVER_STATE_BLUR && el.states.blur) {\n        newStates.push('blur');\n      }\n      el.useStates(newStates);\n    }\n    function updateHoverLayerStatus(ecIns, ecModel) {\n      var zr = ecIns._zr;\n      var storage = zr.storage;\n      var elCount = 0;\n      storage.traverse(function (el) {\n        if (!el.isGroup) {\n          elCount++;\n        }\n      });\n      if (elCount > ecModel.get('hoverLayerThreshold') && !env.node && !env.worker) {\n        ecModel.eachSeries(function (seriesModel) {\n          if (seriesModel.preventUsingHoverLayer) {\n            return;\n          }\n          var chartView = ecIns._chartsMap[seriesModel.__viewId];\n          if (chartView.__alive) {\n            chartView.eachRendered(function (el) {\n              if (el.states.emphasis) {\n                el.states.emphasis.hoverLayer = true;\n              }\n            });\n          }\n        });\n      }\n    }\n    ;\n    /**\n     * Update chart and blend.\n     */\n    function updateBlend(seriesModel, chartView) {\n      var blendMode = seriesModel.get('blendMode') || null;\n      chartView.eachRendered(function (el) {\n        // FIXME marker and other components\n        if (!el.isGroup) {\n          // DON'T mark the element dirty. In case element is incremental and don't want to rerender.\n          el.style.blend = blendMode;\n        }\n      });\n    }\n    ;\n    function updateZ(model, view) {\n      if (model.preventAutoZ) {\n        return;\n      }\n      var z = model.get('z') || 0;\n      var zlevel = model.get('zlevel') || 0;\n      // Set z and zlevel\n      view.eachRendered(function (el) {\n        doUpdateZ(el, z, zlevel, -Infinity);\n        // Don't traverse the children because it has been traversed in _updateZ.\n        return true;\n      });\n    }\n    ;\n    function doUpdateZ(el, z, zlevel, maxZ2) {\n      // Group may also have textContent\n      var label = el.getTextContent();\n      var labelLine = el.getTextGuideLine();\n      var isGroup = el.isGroup;\n      if (isGroup) {\n        // set z & zlevel of children elements of Group\n        var children = el.childrenRef();\n        for (var i = 0; i < children.length; i++) {\n          maxZ2 = Math.max(doUpdateZ(children[i], z, zlevel, maxZ2), maxZ2);\n        }\n      } else {\n        // not Group\n        el.z = z;\n        el.zlevel = zlevel;\n        maxZ2 = Math.max(el.z2, maxZ2);\n      }\n      // always set z and zlevel if label/labelLine exists\n      if (label) {\n        label.z = z;\n        label.zlevel = zlevel;\n        // lift z2 of text content\n        // TODO if el.emphasis.z2 is spcefied, what about textContent.\n        isFinite(maxZ2) && (label.z2 = maxZ2 + 2);\n      }\n      if (labelLine) {\n        var textGuideLineConfig = el.textGuideLineConfig;\n        labelLine.z = z;\n        labelLine.zlevel = zlevel;\n        isFinite(maxZ2) && (labelLine.z2 = maxZ2 + (textGuideLineConfig && textGuideLineConfig.showAbove ? 1 : -1));\n      }\n      return maxZ2;\n    }\n    // Clear states without animation.\n    // TODO States on component.\n    function clearStates(model, view) {\n      view.eachRendered(function (el) {\n        // Not applied on removed elements, it may still in fading.\n        if (graphic.isElementRemoved(el)) {\n          return;\n        }\n        var textContent = el.getTextContent();\n        var textGuide = el.getTextGuideLine();\n        if (el.stateTransition) {\n          el.stateTransition = null;\n        }\n        if (textContent && textContent.stateTransition) {\n          textContent.stateTransition = null;\n        }\n        if (textGuide && textGuide.stateTransition) {\n          textGuide.stateTransition = null;\n        }\n        // TODO If el is incremental.\n        if (el.hasState()) {\n          el.prevStates = el.currentStates;\n          el.clearStates();\n        } else if (el.prevStates) {\n          el.prevStates = null;\n        }\n      });\n    }\n    function updateStates(model, view) {\n      var stateAnimationModel = model.getModel('stateAnimation');\n      var enableAnimation = model.isAnimationEnabled();\n      var duration = stateAnimationModel.get('duration');\n      var stateTransition = duration > 0 ? {\n        duration: duration,\n        delay: stateAnimationModel.get('delay'),\n        easing: stateAnimationModel.get('easing')\n        // additive: stateAnimationModel.get('additive')\n      } : null;\n      view.eachRendered(function (el) {\n        if (el.states && el.states.emphasis) {\n          // Not applied on removed elements, it may still in fading.\n          if (graphic.isElementRemoved(el)) {\n            return;\n          }\n          if (el instanceof graphic.Path) {\n            savePathStates(el);\n          }\n          // Only updated on changed element. In case element is incremental and don't want to rerender.\n          // TODO, a more proper way?\n          if (el.__dirty) {\n            var prevStates = el.prevStates;\n            // Restore states without animation\n            if (prevStates) {\n              el.useStates(prevStates);\n            }\n          }\n          // Update state transition and enable animation again.\n          if (enableAnimation) {\n            el.stateTransition = stateTransition;\n            var textContent = el.getTextContent();\n            var textGuide = el.getTextGuideLine();\n            // TODO Is it necessary to animate label?\n            if (textContent) {\n              textContent.stateTransition = stateTransition;\n            }\n            if (textGuide) {\n              textGuide.stateTransition = stateTransition;\n            }\n          }\n          // Use highlighted and selected flag to toggle states.\n          if (el.__dirty) {\n            applyElementStates(el);\n          }\n        }\n      });\n    }\n    ;\n    createExtensionAPI = function (ecIns) {\n      return new ( /** @class */function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n        class_1.prototype.getCoordinateSystems = function () {\n          return ecIns._coordSysMgr.getCoordinateSystems();\n        };\n        class_1.prototype.getComponentByElement = function (el) {\n          while (el) {\n            var modelInfo = el.__ecComponentInfo;\n            if (modelInfo != null) {\n              return ecIns._model.getComponent(modelInfo.mainType, modelInfo.index);\n            }\n            el = el.parent;\n          }\n        };\n        class_1.prototype.enterEmphasis = function (el, highlightDigit) {\n          enterEmphasis(el, highlightDigit);\n          markStatusToUpdate(ecIns);\n        };\n        class_1.prototype.leaveEmphasis = function (el, highlightDigit) {\n          leaveEmphasis(el, highlightDigit);\n          markStatusToUpdate(ecIns);\n        };\n        class_1.prototype.enterBlur = function (el) {\n          enterBlur(el);\n          markStatusToUpdate(ecIns);\n        };\n        class_1.prototype.leaveBlur = function (el) {\n          leaveBlur(el);\n          markStatusToUpdate(ecIns);\n        };\n        class_1.prototype.enterSelect = function (el) {\n          enterSelect(el);\n          markStatusToUpdate(ecIns);\n        };\n        class_1.prototype.leaveSelect = function (el) {\n          leaveSelect(el);\n          markStatusToUpdate(ecIns);\n        };\n        class_1.prototype.getModel = function () {\n          return ecIns.getModel();\n        };\n        class_1.prototype.getViewOfComponentModel = function (componentModel) {\n          return ecIns.getViewOfComponentModel(componentModel);\n        };\n        class_1.prototype.getViewOfSeriesModel = function (seriesModel) {\n          return ecIns.getViewOfSeriesModel(seriesModel);\n        };\n        return class_1;\n      }(ExtensionAPI))(ecIns);\n    };\n    enableConnect = function (chart) {\n      function updateConnectedChartsStatus(charts, status) {\n        for (var i = 0; i < charts.length; i++) {\n          var otherChart = charts[i];\n          otherChart[CONNECT_STATUS_KEY] = status;\n        }\n      }\n      each(eventActionMap, function (actionType, eventType) {\n        chart._messageCenter.on(eventType, function (event) {\n          if (connectedGroups[chart.group] && chart[CONNECT_STATUS_KEY] !== CONNECT_STATUS_PENDING) {\n            if (event && event.escapeConnect) {\n              return;\n            }\n            var action_1 = chart.makeActionFromEvent(event);\n            var otherCharts_1 = [];\n            each(instances, function (otherChart) {\n              if (otherChart !== chart && otherChart.group === chart.group) {\n                otherCharts_1.push(otherChart);\n              }\n            });\n            updateConnectedChartsStatus(otherCharts_1, CONNECT_STATUS_PENDING);\n            each(otherCharts_1, function (otherChart) {\n              if (otherChart[CONNECT_STATUS_KEY] !== CONNECT_STATUS_UPDATING) {\n                otherChart.dispatchAction(action_1);\n              }\n            });\n            updateConnectedChartsStatus(otherCharts_1, CONNECT_STATUS_UPDATED);\n          }\n        });\n      });\n    };\n  }();\n  return ECharts;\n}(Eventful);\nvar echartsProto = ECharts.prototype;\nechartsProto.on = createRegisterEventWithLowercaseECharts('on');\nechartsProto.off = createRegisterEventWithLowercaseECharts('off');\n/**\n * @deprecated\n */\n// @ts-ignore\nechartsProto.one = function (eventName, cb, ctx) {\n  var self = this;\n  deprecateLog('ECharts#one is deprecated.');\n  function wrapped() {\n    var args2 = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args2[_i] = arguments[_i];\n    }\n    cb && cb.apply && cb.apply(this, args2);\n    // @ts-ignore\n    self.off(eventName, wrapped);\n  }\n  ;\n  // @ts-ignore\n  this.on.call(this, eventName, wrapped, ctx);\n};\nvar MOUSE_EVENT_NAMES = ['click', 'dblclick', 'mouseover', 'mouseout', 'mousemove', 'mousedown', 'mouseup', 'globalout', 'contextmenu'];\nfunction disposedWarning(id) {\n  if (process.env.NODE_ENV !== 'production') {\n    warn('Instance ' + id + ' has been disposed');\n  }\n}\nvar actions = {};\n/**\n * Map eventType to actionType\n */\nvar eventActionMap = {};\nvar dataProcessorFuncs = [];\nvar optionPreprocessorFuncs = [];\nvar visualFuncs = [];\nvar themeStorage = {};\nvar loadingEffects = {};\nvar instances = {};\nvar connectedGroups = {};\nvar idBase = +new Date() - 0;\nvar groupIdBase = +new Date() - 0;\nvar DOM_ATTRIBUTE_KEY = '_echarts_instance_';\n/**\n * @param opts.devicePixelRatio Use window.devicePixelRatio by default\n * @param opts.renderer Can choose 'canvas' or 'svg' to render the chart.\n * @param opts.width Use clientWidth of the input `dom` by default.\n *        Can be 'auto' (the same as null/undefined)\n * @param opts.height Use clientHeight of the input `dom` by default.\n *        Can be 'auto' (the same as null/undefined)\n * @param opts.locale Specify the locale.\n * @param opts.useDirtyRect Enable dirty rectangle rendering or not.\n */\nexport function init(dom, theme, opts) {\n  var isClient = !(opts && opts.ssr);\n  if (isClient) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!dom) {\n        throw new Error('Initialize failed: invalid dom.');\n      }\n    }\n    var existInstance = getInstanceByDom(dom);\n    if (existInstance) {\n      if (process.env.NODE_ENV !== 'production') {\n        warn('There is a chart instance already initialized on the dom.');\n      }\n      return existInstance;\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      if (isDom(dom) && dom.nodeName.toUpperCase() !== 'CANVAS' && (!dom.clientWidth && (!opts || opts.width == null) || !dom.clientHeight && (!opts || opts.height == null))) {\n        warn('Can\\'t get DOM width or height. Please check ' + 'dom.clientWidth and dom.clientHeight. They should not be 0.' + 'For example, you may need to call this in the callback ' + 'of window.onload.');\n      }\n    }\n  }\n  var chart = new ECharts(dom, theme, opts);\n  chart.id = 'ec_' + idBase++;\n  instances[chart.id] = chart;\n  isClient && modelUtil.setAttribute(dom, DOM_ATTRIBUTE_KEY, chart.id);\n  enableConnect(chart);\n  lifecycle.trigger('afterinit', chart);\n  return chart;\n}\n/**\n * @usage\n * (A)\n * ```js\n * let chart1 = echarts.init(dom1);\n * let chart2 = echarts.init(dom2);\n * chart1.group = 'xxx';\n * chart2.group = 'xxx';\n * echarts.connect('xxx');\n * ```\n * (B)\n * ```js\n * let chart1 = echarts.init(dom1);\n * let chart2 = echarts.init(dom2);\n * echarts.connect('xxx', [chart1, chart2]);\n * ```\n */\nexport function connect(groupId) {\n  // Is array of charts\n  if (isArray(groupId)) {\n    var charts = groupId;\n    groupId = null;\n    // If any chart has group\n    each(charts, function (chart) {\n      if (chart.group != null) {\n        groupId = chart.group;\n      }\n    });\n    groupId = groupId || 'g_' + groupIdBase++;\n    each(charts, function (chart) {\n      chart.group = groupId;\n    });\n  }\n  connectedGroups[groupId] = true;\n  return groupId;\n}\nexport function disconnect(groupId) {\n  connectedGroups[groupId] = false;\n}\n/**\n * Alias and backward compatibility\n * @deprecated\n */\nexport var disConnect = disconnect;\n/**\n * Dispose a chart instance\n */\nexport function dispose(chart) {\n  if (isString(chart)) {\n    chart = instances[chart];\n  } else if (!(chart instanceof ECharts)) {\n    // Try to treat as dom\n    chart = getInstanceByDom(chart);\n  }\n  if (chart instanceof ECharts && !chart.isDisposed()) {\n    chart.dispose();\n  }\n}\nexport function getInstanceByDom(dom) {\n  return instances[modelUtil.getAttribute(dom, DOM_ATTRIBUTE_KEY)];\n}\nexport function getInstanceById(key) {\n  return instances[key];\n}\n/**\n * Register theme\n */\nexport function registerTheme(name, theme) {\n  themeStorage[name] = theme;\n}\n/**\n * Register option preprocessor\n */\nexport function registerPreprocessor(preprocessorFunc) {\n  if (indexOf(optionPreprocessorFuncs, preprocessorFunc) < 0) {\n    optionPreprocessorFuncs.push(preprocessorFunc);\n  }\n}\nexport function registerProcessor(priority, processor) {\n  normalizeRegister(dataProcessorFuncs, priority, processor, PRIORITY_PROCESSOR_DEFAULT);\n}\n/**\n * Register postIniter\n * @param {Function} postInitFunc\n */\nexport function registerPostInit(postInitFunc) {\n  registerUpdateLifecycle('afterinit', postInitFunc);\n}\n/**\n * Register postUpdater\n * @param {Function} postUpdateFunc\n */\nexport function registerPostUpdate(postUpdateFunc) {\n  registerUpdateLifecycle('afterupdate', postUpdateFunc);\n}\nexport function registerUpdateLifecycle(name, cb) {\n  lifecycle.on(name, cb);\n}\nexport function registerAction(actionInfo, eventName, action) {\n  if (isFunction(eventName)) {\n    action = eventName;\n    eventName = '';\n  }\n  var actionType = isObject(actionInfo) ? actionInfo.type : [actionInfo, actionInfo = {\n    event: eventName\n  }][0];\n  // Event name is all lowercase\n  actionInfo.event = (actionInfo.event || actionType).toLowerCase();\n  eventName = actionInfo.event;\n  if (eventActionMap[eventName]) {\n    // Already registered.\n    return;\n  }\n  // Validate action type and event name.\n  assert(ACTION_REG.test(actionType) && ACTION_REG.test(eventName));\n  if (!actions[actionType]) {\n    actions[actionType] = {\n      action: action,\n      actionInfo: actionInfo\n    };\n  }\n  eventActionMap[eventName] = actionType;\n}\nexport function registerCoordinateSystem(type, coordSysCreator) {\n  CoordinateSystemManager.register(type, coordSysCreator);\n}\n/**\n * Get dimensions of specified coordinate system.\n * @param {string} type\n * @return {Array.<string|Object>}\n */\nexport function getCoordinateSystemDimensions(type) {\n  var coordSysCreator = CoordinateSystemManager.get(type);\n  if (coordSysCreator) {\n    return coordSysCreator.getDimensionsInfo ? coordSysCreator.getDimensionsInfo() : coordSysCreator.dimensions.slice();\n  }\n}\nexport { registerLocale } from './locale.js';\nfunction registerLayout(priority, layoutTask) {\n  normalizeRegister(visualFuncs, priority, layoutTask, PRIORITY_VISUAL_LAYOUT, 'layout');\n}\nfunction registerVisual(priority, visualTask) {\n  normalizeRegister(visualFuncs, priority, visualTask, PRIORITY_VISUAL_CHART, 'visual');\n}\nexport { registerLayout, registerVisual };\nvar registeredTasks = [];\nfunction normalizeRegister(targetList, priority, fn, defaultPriority, visualType) {\n  if (isFunction(priority) || isObject(priority)) {\n    fn = priority;\n    priority = defaultPriority;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    if (isNaN(priority) || priority == null) {\n      throw new Error('Illegal priority');\n    }\n    // Check duplicate\n    each(targetList, function (wrap) {\n      assert(wrap.__raw !== fn);\n    });\n  }\n  // Already registered\n  if (indexOf(registeredTasks, fn) >= 0) {\n    return;\n  }\n  registeredTasks.push(fn);\n  var stageHandler = Scheduler.wrapStageHandler(fn, visualType);\n  stageHandler.__prio = priority;\n  stageHandler.__raw = fn;\n  targetList.push(stageHandler);\n}\nexport function registerLoading(name, loadingFx) {\n  loadingEffects[name] = loadingFx;\n}\n/**\n * ZRender need a canvas context to do measureText.\n * But in node environment canvas may be created by node-canvas.\n * So we need to specify how to create a canvas instead of using document.createElement('canvas')\n *\n *\n * @deprecated use setPlatformAPI({ createCanvas }) instead.\n *\n * @example\n *     let Canvas = require('canvas');\n *     let echarts = require('echarts');\n *     echarts.setCanvasCreator(function () {\n *         // Small size is enough.\n *         return new Canvas(32, 32);\n *     });\n */\nexport function setCanvasCreator(creator) {\n  if (process.env.NODE_ENV !== 'production') {\n    deprecateLog('setCanvasCreator is deprecated. Use setPlatformAPI({ createCanvas }) instead.');\n  }\n  setPlatformAPI({\n    createCanvas: creator\n  });\n}\n/**\n * The parameters and usage: see `geoSourceManager.registerMap`.\n * Compatible with previous `echarts.registerMap`.\n */\nexport function registerMap(mapName, geoJson, specialAreas) {\n  var registerMap = getImpl('registerMap');\n  registerMap && registerMap(mapName, geoJson, specialAreas);\n}\nexport function getMap(mapName) {\n  var getMap = getImpl('getMap');\n  return getMap && getMap(mapName);\n}\nexport var registerTransform = registerExternalTransform;\n/**\n * Globa dispatchAction to a specified chart instance.\n */\n// export function dispatchAction(payload: { chartId: string } & Payload, opt?: Parameters<ECharts['dispatchAction']>[1]) {\n//     if (!payload || !payload.chartId) {\n//         // Must have chartId to find chart\n//         return;\n//     }\n//     const chart = instances[payload.chartId];\n//     if (chart) {\n//         chart.dispatchAction(payload, opt);\n//     }\n// }\n// Builtin global visual\nregisterVisual(PRIORITY_VISUAL_GLOBAL, seriesStyleTask);\nregisterVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, dataStyleTask);\nregisterVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, dataColorPaletteTask);\nregisterVisual(PRIORITY_VISUAL_GLOBAL, seriesSymbolTask);\nregisterVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, dataSymbolTask);\nregisterVisual(PRIORITY_VISUAL_DECAL, decal);\nregisterPreprocessor(backwardCompat);\nregisterProcessor(PRIORITY_PROCESSOR_DATASTACK, dataStack);\nregisterLoading('default', loadingDefault);\n// Default actions\nregisterAction({\n  type: HIGHLIGHT_ACTION_TYPE,\n  event: HIGHLIGHT_ACTION_TYPE,\n  update: HIGHLIGHT_ACTION_TYPE\n}, noop);\nregisterAction({\n  type: DOWNPLAY_ACTION_TYPE,\n  event: DOWNPLAY_ACTION_TYPE,\n  update: DOWNPLAY_ACTION_TYPE\n}, noop);\nregisterAction({\n  type: SELECT_ACTION_TYPE,\n  event: SELECT_ACTION_TYPE,\n  update: SELECT_ACTION_TYPE\n}, noop);\nregisterAction({\n  type: UNSELECT_ACTION_TYPE,\n  event: UNSELECT_ACTION_TYPE,\n  update: UNSELECT_ACTION_TYPE\n}, noop);\nregisterAction({\n  type: TOGGLE_SELECT_ACTION_TYPE,\n  event: TOGGLE_SELECT_ACTION_TYPE,\n  update: TOGGLE_SELECT_ACTION_TYPE\n}, noop);\n// Default theme\nregisterTheme('light', lightTheme);\nregisterTheme('dark', darkTheme);\n// For backward compatibility, where the namespace `dataTool` will\n// be mounted on `echarts` is the extension `dataTool` is imported.\nexport var dataTool = {};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { error } from '../util/log.js';\n// Implementation of exported APIs. For example registerMap, getMap.\n// The implementations will be registered when installing the component.\n// Avoid these code being bundled to the core module.\nvar implsStore = {};\n// TODO Type\nexport function registerImpl(name, impl) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (implsStore[name]) {\n      error(\"Already has an implementation of \" + name + \".\");\n    }\n  }\n  implsStore[name] = impl;\n}\nexport function getImpl(name) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!implsStore[name]) {\n      error(\"Implementation of \" + name + \" doesn't exists.\");\n    }\n  }\n  return implsStore[name];\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport Model from '../model/Model.js';\nimport env from 'zrender/lib/core/env.js';\n// default import ZH and EN lang\nimport langEN from '../i18n/langEN.js';\nimport langZH from '../i18n/langZH.js';\nimport { isString, clone, merge } from 'zrender/lib/core/util.js';\nvar LOCALE_ZH = 'ZH';\nvar LOCALE_EN = 'EN';\nvar DEFAULT_LOCALE = LOCALE_EN;\nvar localeStorage = {};\nvar localeModels = {};\nexport var SYSTEM_LANG = !env.domSupported ? DEFAULT_LOCALE : function () {\n  var langStr = ( /* eslint-disable-next-line */\n  document.documentElement.lang || navigator.language || navigator.browserLanguage || DEFAULT_LOCALE).toUpperCase();\n  return langStr.indexOf(LOCALE_ZH) > -1 ? LOCALE_ZH : DEFAULT_LOCALE;\n}();\nexport function registerLocale(locale, localeObj) {\n  locale = locale.toUpperCase();\n  localeModels[locale] = new Model(localeObj);\n  localeStorage[locale] = localeObj;\n}\n// export function getLocale(locale: string) {\n//     return localeStorage[locale];\n// }\nexport function createLocaleObject(locale) {\n  if (isString(locale)) {\n    var localeObj = localeStorage[locale.toUpperCase()] || {};\n    if (locale === LOCALE_ZH || locale === LOCALE_EN) {\n      return clone(localeObj);\n    } else {\n      return merge(clone(localeObj), clone(localeStorage[DEFAULT_LOCALE]), false);\n    }\n  } else {\n    return merge(clone(locale), clone(localeStorage[DEFAULT_LOCALE]), false);\n  }\n}\nexport function getLocaleModel(lang) {\n  return localeModels[lang];\n}\nexport function getDefaultLocaleModel() {\n  return localeModels[DEFAULT_LOCALE];\n}\n// Default locale\nregisterLocale(LOCALE_EN, langEN);\nregisterLocale(LOCALE_ZH, langZH);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { assert, isArray } from 'zrender/lib/core/util.js';\n;\n/**\n * @param {Object} define\n * @return See the return of `createTask`.\n */\nexport function createTask(define) {\n  return new Task(define);\n}\nvar Task = /** @class */function () {\n  function Task(define) {\n    define = define || {};\n    this._reset = define.reset;\n    this._plan = define.plan;\n    this._count = define.count;\n    this._onDirty = define.onDirty;\n    this._dirty = true;\n  }\n  /**\n   * @param step Specified step.\n   * @param skip Skip customer perform call.\n   * @param modBy Sampling window size.\n   * @param modDataCount Sampling count.\n   * @return whether unfinished.\n   */\n  Task.prototype.perform = function (performArgs) {\n    var upTask = this._upstream;\n    var skip = performArgs && performArgs.skip;\n    // TODO some refactor.\n    // Pull data. Must pull data each time, because context.data\n    // may be updated by Series.setData.\n    if (this._dirty && upTask) {\n      var context = this.context;\n      context.data = context.outputData = upTask.context.outputData;\n    }\n    if (this.__pipeline) {\n      this.__pipeline.currentTask = this;\n    }\n    var planResult;\n    if (this._plan && !skip) {\n      planResult = this._plan(this.context);\n    }\n    // Support sharding by mod, which changes the render sequence and makes the rendered graphic\n    // elements uniformed distributed when progress, especially when moving or zooming.\n    var lastModBy = normalizeModBy(this._modBy);\n    var lastModDataCount = this._modDataCount || 0;\n    var modBy = normalizeModBy(performArgs && performArgs.modBy);\n    var modDataCount = performArgs && performArgs.modDataCount || 0;\n    if (lastModBy !== modBy || lastModDataCount !== modDataCount) {\n      planResult = 'reset';\n    }\n    function normalizeModBy(val) {\n      !(val >= 1) && (val = 1); // jshint ignore:line\n      return val;\n    }\n    var forceFirstProgress;\n    if (this._dirty || planResult === 'reset') {\n      this._dirty = false;\n      forceFirstProgress = this._doReset(skip);\n    }\n    this._modBy = modBy;\n    this._modDataCount = modDataCount;\n    var step = performArgs && performArgs.step;\n    if (upTask) {\n      if (process.env.NODE_ENV !== 'production') {\n        assert(upTask._outputDueEnd != null);\n      }\n      this._dueEnd = upTask._outputDueEnd;\n    }\n    // DataTask or overallTask\n    else {\n      if (process.env.NODE_ENV !== 'production') {\n        assert(!this._progress || this._count);\n      }\n      this._dueEnd = this._count ? this._count(this.context) : Infinity;\n    }\n    // Note: Stubs, that its host overall task let it has progress, has progress.\n    // If no progress, pass index from upstream to downstream each time plan called.\n    if (this._progress) {\n      var start = this._dueIndex;\n      var end = Math.min(step != null ? this._dueIndex + step : Infinity, this._dueEnd);\n      if (!skip && (forceFirstProgress || start < end)) {\n        var progress = this._progress;\n        if (isArray(progress)) {\n          for (var i = 0; i < progress.length; i++) {\n            this._doProgress(progress[i], start, end, modBy, modDataCount);\n          }\n        } else {\n          this._doProgress(progress, start, end, modBy, modDataCount);\n        }\n      }\n      this._dueIndex = end;\n      // If no `outputDueEnd`, assume that output data and\n      // input data is the same, so use `dueIndex` as `outputDueEnd`.\n      var outputDueEnd = this._settedOutputEnd != null ? this._settedOutputEnd : end;\n      if (process.env.NODE_ENV !== 'production') {\n        // ??? Can not rollback.\n        assert(outputDueEnd >= this._outputDueEnd);\n      }\n      this._outputDueEnd = outputDueEnd;\n    } else {\n      // (1) Some overall task has no progress.\n      // (2) Stubs, that its host overall task do not let it has progress, has no progress.\n      // This should always be performed so it can be passed to downstream.\n      this._dueIndex = this._outputDueEnd = this._settedOutputEnd != null ? this._settedOutputEnd : this._dueEnd;\n    }\n    return this.unfinished();\n  };\n  Task.prototype.dirty = function () {\n    this._dirty = true;\n    this._onDirty && this._onDirty(this.context);\n  };\n  Task.prototype._doProgress = function (progress, start, end, modBy, modDataCount) {\n    iterator.reset(start, end, modBy, modDataCount);\n    this._callingProgress = progress;\n    this._callingProgress({\n      start: start,\n      end: end,\n      count: end - start,\n      next: iterator.next\n    }, this.context);\n  };\n  Task.prototype._doReset = function (skip) {\n    this._dueIndex = this._outputDueEnd = this._dueEnd = 0;\n    this._settedOutputEnd = null;\n    var progress;\n    var forceFirstProgress;\n    if (!skip && this._reset) {\n      progress = this._reset(this.context);\n      if (progress && progress.progress) {\n        forceFirstProgress = progress.forceFirstProgress;\n        progress = progress.progress;\n      }\n      // To simplify no progress checking, array must has item.\n      if (isArray(progress) && !progress.length) {\n        progress = null;\n      }\n    }\n    this._progress = progress;\n    this._modBy = this._modDataCount = null;\n    var downstream = this._downstream;\n    downstream && downstream.dirty();\n    return forceFirstProgress;\n  };\n  Task.prototype.unfinished = function () {\n    return this._progress && this._dueIndex < this._dueEnd;\n  };\n  /**\n   * @param downTask The downstream task.\n   * @return The downstream task.\n   */\n  Task.prototype.pipe = function (downTask) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(downTask && !downTask._disposed && downTask !== this);\n    }\n    // If already downstream, do not dirty downTask.\n    if (this._downstream !== downTask || this._dirty) {\n      this._downstream = downTask;\n      downTask._upstream = this;\n      downTask.dirty();\n    }\n  };\n  Task.prototype.dispose = function () {\n    if (this._disposed) {\n      return;\n    }\n    this._upstream && (this._upstream._downstream = null);\n    this._downstream && (this._downstream._upstream = null);\n    this._dirty = false;\n    this._disposed = true;\n  };\n  Task.prototype.getUpstream = function () {\n    return this._upstream;\n  };\n  Task.prototype.getDownstream = function () {\n    return this._downstream;\n  };\n  Task.prototype.setOutputEnd = function (end) {\n    // This only happens in dataTask, dataZoom, map, currently.\n    // where dataZoom do not set end each time, but only set\n    // when reset. So we should record the set end, in case\n    // that the stub of dataZoom perform again and earse the\n    // set end by upstream.\n    this._outputDueEnd = this._settedOutputEnd = end;\n  };\n  return Task;\n}();\nexport { Task };\nvar iterator = function () {\n  var end;\n  var current;\n  var modBy;\n  var modDataCount;\n  var winCount;\n  var it = {\n    reset: function (s, e, sStep, sCount) {\n      current = s;\n      end = e;\n      modBy = sStep;\n      modDataCount = sCount;\n      winCount = Math.ceil(modDataCount / modBy);\n      it.next = modBy > 1 && modDataCount > 0 ? modNext : sequentialNext;\n    }\n  };\n  return it;\n  function sequentialNext() {\n    return current < end ? current++ : null;\n  }\n  function modNext() {\n    var dataIndex = current % winCount * modBy + Math.ceil(current / winCount);\n    var result = current >= end ? null : dataIndex < modDataCount ? dataIndex\n    // If modDataCount is smaller than data.count() (consider `appendData` case),\n    // Use normal linear rendering mode.\n    : current;\n    current++;\n    return result;\n  }\n}();\n// -----------------------------------------------------------------------------\n// For stream debug (Should be commented out after used!)\n// @usage: printTask(this, 'begin');\n// @usage: printTask(this, null, {someExtraProp});\n// @usage: Use `__idxInPipeline` as conditional breakpiont.\n//\n// window.printTask = function (task: any, prefix: string, extra: { [key: string]: unknown }): void {\n//     window.ecTaskUID == null && (window.ecTaskUID = 0);\n//     task.uidDebug == null && (task.uidDebug = `task_${window.ecTaskUID++}`);\n//     task.agent && task.agent.uidDebug == null && (task.agent.uidDebug = `task_${window.ecTaskUID++}`);\n//     let props = [];\n//     if (task.__pipeline) {\n//         let val = `${task.__idxInPipeline}/${task.__pipeline.tail.__idxInPipeline} ${task.agent ? '(stub)' : ''}`;\n//         props.push({text: '__idxInPipeline/total', value: val});\n//     } else {\n//         let stubCount = 0;\n//         task.agentStubMap.each(() => stubCount++);\n//         props.push({text: 'idx', value: `overall (stubs: ${stubCount})`});\n//     }\n//     props.push({text: 'uid', value: task.uidDebug});\n//     if (task.__pipeline) {\n//         props.push({text: 'pipelineId', value: task.__pipeline.id});\n//         task.agent && props.push(\n//             {text: 'stubFor', value: task.agent.uidDebug}\n//         );\n//     }\n//     props.push(\n//         {text: 'dirty', value: task._dirty},\n//         {text: 'dueIndex', value: task._dueIndex},\n//         {text: 'dueEnd', value: task._dueEnd},\n//         {text: 'outputDueEnd', value: task._outputDueEnd}\n//     );\n//     if (extra) {\n//         Object.keys(extra).forEach(key => {\n//             props.push({text: key, value: extra[key]});\n//         });\n//     }\n//     let args = ['color: blue'];\n//     let msg = `%c[${prefix || 'T'}] %c` + props.map(item => (\n//         args.push('color: green', 'color: red'),\n//         `${item.text}: %c${item.value}`\n//     )).join('%c, ');\n//     console.log.apply(console, [msg].concat(args));\n//     // console.log(this);\n// };\n// window.printPipeline = function (task: any, prefix: string) {\n//     const pipeline = task.__pipeline;\n//     let currTask = pipeline.head;\n//     while (currTask) {\n//         window.printTask(currTask, prefix);\n//         currTask = currTask._downstream;\n//     }\n// };\n// window.showChain = function (chainHeadTask) {\n//     var chain = [];\n//     var task = chainHeadTask;\n//     while (task) {\n//         chain.push({\n//             task: task,\n//             up: task._upstream,\n//             down: task._downstream,\n//             idxInPipeline: task.__idxInPipeline\n//         });\n//         task = task._downstream;\n//     }\n//     return chain;\n// };\n// window.findTaskInChain = function (task, chainHeadTask) {\n//     let chain = window.showChain(chainHeadTask);\n//     let result = [];\n//     for (let i = 0; i < chain.length; i++) {\n//         let chainItem = chain[i];\n//         if (chainItem.task === task) {\n//             result.push(i);\n//         }\n//     }\n//     return result;\n// };\n// window.printChainAEachInChainB = function (chainHeadTaskA, chainHeadTaskB) {\n//     let chainA = window.showChain(chainHeadTaskA);\n//     for (let i = 0; i < chainA.length; i++) {\n//         console.log('chainAIdx:', i, 'inChainB:', window.findTaskInChain(chainA[i].task, chainHeadTaskB));\n//     }\n// };"],"names":["inner","makeInner","tickValuesToNumbers","axis","values","nums","zrUtil","val","scale","parse","type","length","sort","unshift","push","createAxisLabels","custom","getLabelModel","get","labelFormatter_1","makeLabelFormatter","labels","map","numval","tick","value","formattedLabel","rawLabel","getLabel","tickValue","makeCategoryLabels","makeRealNumberLabels","createAxisTicks","tickModel","getTickModel","ticks","makeCategoryTicks","getTicks","labelModel","result","makeCategoryLabelsActually","isBlank","labelCategoryInterval","numericLabelInterval","labelsCache","getListCache","optionLabelInterval","getOptionCategoryInterval","listCacheGet","makeLabelsByCustomizedCategoryInterval","makeAutoCategoryInterval","makeLabelsByNumericCategoryInterval","listCacheSet","tickCategoryInterval","ticksCache","optionTickInterval","labelsResult","labelItem","labelFormatter","idx","level","prop","cache","key","i","autoInterval","calculateCategoryInterval","params","fetchAutoCategoryIntervalCalculationParams","rotation","axisRotate","labelRotate","Math","PI","ordinalScale","ordinalExtent","getExtent","tickCount","count","step","max","floor","unitSpan","dataToCoord","unitW","abs","cos","unitH","sin","maxW","maxH","width","height","rect","textContain","font","dw","dh","isNaN","Infinity","interval","min","model","axisExtent","lastAutoInterval","lastTickCount","axisExtent0","axisExtent1","getRotate","isHorizontal","getFont","categoryInterval","onlyTick","startTick","round","ceil","showAllLabel","shouldShowAllLabels","includeMinLabel","includeMaxLabel","addItem","tickObj","NORMALIZED_EXTENT","Axis","dim","extent","this","onBand","inverse","_extent","prototype","contain","coord","containData","data","slice","getPixelPrecision","dataExtent","setExtent","start","end","clamp","normalize","fixExtentWithBands","linearMap","coordToData","t","pointToData","point","getTicksCoords","opt","ticksCoords","tickVal","getRawOrdinalNumber","alignWithLabel","fixOnBandTicksCoords","getMinorTicksCoords","minorTickModel","getModel","splitNumber","minorTicks","getMinorTicks","minorTicksCoords","minorTicksGroup","minorTick","getViewLabels","getBandWidth","len","size","nTick","margin","ticksLen","last","diffSize","crossLen","shift_1","each","ticksItem","littleThan","shift","pop","a","b","isCoordinateSystemType","coordSys","v2ApplyTransform","vector","View","_super","name","_this","call","dimensions","_roamTransformable","Transformable","_rawTransformable","__extends","setBoundingRect","x","y","_rect","BoundingRect","getBoundingRect","setViewRect","_transformTo","_viewRect","rawTransform","transform","calculateTransform","rawParent","parent","decomposeTransform","_updateTransform","setCenter","centerCoord","api","_center","parsePercent","getWidth","getHeight","_updateCenterAndZoom","setZoom","zoom","zoomLimit","_zoom","getDefaultCenter","rawRect","cx","cy","getCenter","getZoom","getRoamTransform","getLocalTransform","rawTransformMatrix","roamTransform","defaultCenter","center","originX","originY","scaleX","scaleY","roamTransformable","rawTransformable","updateTransform","matrix","_rawTransform","invTransform","getTransformInfo","dummyTransformable","roam","raw","getViewRect","getViewRectAfterRoam","clone","applyTransform","dataToPoint","noRoam","out","convertToPixel","ecModel","finder","getCoordSys","convertFromPixel","pixel","containPoint","seriesModel","coordinateSystem","mathLog","log","alignScaleTicks","axisModel","alignToScale","intervalScaleProto","IntervalScale","alignToTicks","alignToNicedTicks","alignToSplitNumber","alignToInterval","getInterval","scaleExtent","getScaleExtent","rawExtent","isMinFixed","fixMin","isMaxFixed","fixMax","logBase","base","calcNiceExtent","isFinite","increaseInterval","nicedSplitNumber","range","t0","t1","setInterval","setNiceExtent","defaultOption","show","z","nameLocation","nameRotate","nameTruncate","maxWidth","ellipsis","placeholder","nameTextStyle","nameGap","silent","triggerEvent","tooltip","axisPointer","axisLine","onZero","onZeroAxisIndex","lineStyle","color","symbol","symbolSize","axisTick","inside","axisLabel","rotate","showMinLabel","showMaxLabel","fontSize","splitLine","splitArea","areaStyle","categoryAxis","boundaryGap","deduplication","valueAxis","minorSplitLine","timeAxis","rich","primary","fontWeight","logAxis","category","time","scaleType","rawExtentResult","ensureScaleRawExtentInfo","calculate","setBlank","barSeriesModels","prepareLayoutBarSeries","isBaseAxisAndHasBarSeries_1","getBaseAxis","barWidthAndOffset","makeColumnLayout","adjustedScale","adjustScaleForOverflow","minFixed","maxFixed","axisLength","barsOnCurrentAxis","retrieveColumnLayout","undefined","minOverflow","item","offset","maxOverflow","totalOverFlow","oldRange","oldRangePercentOfNew","overflowBuffer","niceScaleExtent","inModel","extentInfo","LogScale","isIntervalOrTime","minInterval","maxInterval","createScaleByModel","axisType","OrdinalScale","ordinalMeta","getOrdinalMeta","getCategories","TimeScale","locale","getLocaleModel","useUTC","Scale","getClass","ifAxisCrossZero","categoryTickStart","tpl","getFormattedLabel","label","text","replace","cb","getAxisRawValue","estimateLabelUnionRect","realNumberScaleTicks","categoryScaleExtent","axisLabelModel","unrotatedSingleRect","getTextRect","singleRect","rotateTextRect","union","textRect","rotateRadians","beforeWidth","beforeHeight","afterWidth","afterHeight","rotatedRect","getDataDimensionsOnAxis","axisDim","dataDimMap","mapDimensionsAll","dataDim","getStackedDimension","unionAxisExtentFromData","seriesExtent","getApproximateExtent","AxisModelCommonMixin","getNeedCrossZero","option","getCoordSysModel","AXIS_TYPES","axisModelCreator","registers","axisName","BaseAxisModelClass","extraDefaultOption","v","merge","axisDefault","AxisModel","apply","arguments","mergeDefaultAndTheme","layoutMode","fetchLayoutMode","inputPositionParams","getLayoutParams","themeModel","getTheme","getDefaultOption","getAxisType","mergeLayoutParam","optionUpdated","thisOption","__ordinalMeta","OrdinalMeta","createByAxisModel","rawData","categories","registerComponentModel","registerSubTypeDefaulter","PROXIMATE_ONE_DAY","Calendar","calendarModel","getDimensionsInfo","_model","getRangeInfo","_rangeInfo","getRect","getCellWidth","_sw","getCellHeight","_sh","getOrient","_orient","getFirstDayOfWeek","_firstDayOfWeek","getDateInfo","date","numberUtil","getFullYear","m","getMonth","mStr","d","getDate","dStr","day","getDay","getTime","formatedDate","getNextNDay","n","Date","setDate","update","_lineWidth","getItemStyle","lineWidth","_getRangeInfo","_initRangeOption","weeks","whNames","cellSize","getCellSize","layoutParams","getBoxLayoutParams","cellNumbers","cellSizeSpecified","whGlobal","calendarRect","layout","dayInfo","NaN","week","nthWeek","pointToDate","dataToRect","contentShape","tl","tr","br","bl","nthX","nthY","_getDateByWeeksAndDay","console","warn","normalizedRange","rangeStr","toString","test","firstDay","setMonth","tmp","reverse","reversed","parsedRange","allDay","startDateNum","endDateNum","dateNum","sign","fweek","lweek","rangeInfo","nthDay","create","calendarList","eachComponent","calendar","eachSeries","calendarSeries","CalendarModel","init","parentModel","mergeAndNormalizeLayoutParams","mergeOption","left","top","orient","itemStyle","borderWidth","borderColor","dayLabel","position","monthLabel","align","formatter","yearLabel","fontFamily","ComponentModel","target","cellSizeArr","ignoreSize","hvIdx","sizeCalculable","calendarPrepareCustom","cellWidth","cellHeight","dayCount","CartesianAxisModel","getReferringComponents","SINGLE_REFERRING","models","Cartesian","_dimList","_axes","getAxis","getAxes","getAxesByScale","toLowerCase","addAxis","cartesian2DDimensions","canCalculateAffineTransform","Cartesian2D","calcAffineTransform","_transform","_invTransform","xAxisScale","yAxisScale","xScaleExtent","yScaleExtent","xScaleSpan","yScaleSpan","translateX","translateY","invert","axisX","axisY","toLocalCoord","containZone","data1","data2","zoneDiag1","zoneDiag2","area","getArea","zone","intersect","xVal","yVal","xAxis","yAxis","toGlobalCoord","clampData","xScale","yScale","xAxisExtent","yAxisExtent","getOtherAxis","tolerance","xExtent","getGlobalExtent","yExtent","Axis2D","coordExtent","index","asc","ret","setCategorySortInfo","info","categorySortInfo","setSortInfo","Grid","gridModel","_coordsMap","_coordsList","_axesMap","_axesList","axisPointerEnabled","_initCartesian","axesMap","updateAxisTicks","axes","alignTo","axesIndices","keys","axisNeedsAlign","isIntervalOrLogScale","_updateScale","onZeroRecords","fixAxisOnZero","resize","ignoreContainLabel","boxLayoutParams","isContainLabel","gridRect","getLayoutRect","axesList","adjustAxes","updateAxisTransform","labelUnionRect","axisIndex","axesMapOnDim","getCartesian","xAxisIndex","yAxisIndex","isObject","coordList","getCartesians","_findConvertTarget","cartesian","xAxisModel","yAxisModel","coordsList","indexOf","componentIndex","grid","axisPositionUsed","right","bottom","axesCount","createAxisCreator","dimName","isAxisUsedInTheGrid","axisPosition","isCategory","master","unionExtent","unionExtentFromData","isCartesian2DSeries","axesModelMap","findAxisModels","getData","getTooltipAxes","baseAxes","otherAxes","baseAxis","otherAxis","grids","process","otherAxisDim","getAxesOnZeroOf","otherAxisOnZeroOf","canOnZeroToAxis","hasOwnProperty","getOnZeroRecordKey","coordBase","axisExtentSum","GridModel","dependencies","containLabel","backgroundColor","rawAxisPosition","rectBound","axisOffset","posBound","onZeroCoord","dirMap","labelDirection","tickDirection","nameDirection","labelOffset","labelInside","z2","axisModelMap","dataToCoordSize","dataSize","dataItem","dimIdx","halfSize","cartesianPrepareCustom","GeoModel","source","geoSourceManager","getGeoResource","modelUtil","regions","geoCreator","getFilledRegions","nameMap","nameProperty","selectedMap","_optionModelMap","optionModelMap","regionOpt","regionName","set","Model","selected","getRegionModel","status","regionModel","select","selectedMode","unSelect","toggleSelected","isSelected","aspectScale","boundingCoords","scaleLimit","emphasis","TMP_TRANSFORM","transformPoints","points","p","vec2","updateBBoxFromPoints","projection","project","centroid","signedArea","x0","y0","x1","y1","Region","calcCenter","GeoJSONPolygonGeometry","exterior","interiors","GeoJSONLineStringGeometry","GeoJSONRegion","geometries","cp","largestGeo","largestGeoSize","geo","loopGeo","polygonContain","k","transformTo","aspect","interior","copy","cloneShallow","newRegion","GeoSVGRegion","elOnlyForCalculate","_elOnlyForCalculate","el","mat","isGeoSVGGraphicRoot","geoCoordMap","fixGeoCoords","mapType","region","geoCoord","coordsOffsetMap","fixTextCoords","coordFix","GEO_DEFAULT_PARAMS","invertLongitute","geo2DDimensions","Geo","_nameCoordMap","boundingRect","load","resource","resourceType","defaultParams","_regionsMap","regionsMap","regionRect","_invertLongitute","getRegion","getRegionByCoord","addGeoCoord","getGeoCoord","projectedToPoint","unproject","pointToProjected","projected","geoModel","resizeGeo","leftTop_1","rightBottom_1","projection_1","xMin","yMin","xMax","yMax","sampleLine","dx","dy","pt","viewRect","centerOption","sizeOption","viewWidth","viewHeight","useCenterAndSize","boxLayoutOption","setGeoCoords","GeoCreator","geoList","getCommonGeoProperties","mapName","geoIndex","mapModelGroupBySeries","eachSeriesByType","getHostGeoModel","getMapType","mapSeries","nameMapList","singleMapSeries","originRegionArr","regionsArr","dataNameMap","REGION_AVAILABLE_SVG_TAG_MAP","createHashMap","GeoSVGResource","svg","_usedGraphicMap","_freedGraphics","_mapName","_parsedXML","parseXML","firstGraphic","_firstGraphic","_buildGraphic","_boundingRect","_a","createRegions","named","_regions","svgXML","rootFromParse","parseSVG","ignoreViewBox","ignoreRootClip","root","assert","e","Error","message","Group","add","svgWidth","svgHeight","viewBoxRect","bRectX","bRectY","bRectWidth","bRectHeight","calculatedBoundingRect","viewBoxTransform","makeViewBoxTransform","setClipPath","Rect","shape","plain","namedItem","svgNodeTagLower","setSilent","useGraphic","hostKey","usedRootMap","svgGraphic","freeGraphic","removeKey","isGroup","traverse","child","namedFrom","nanhaiName","fixNanhai","fixDiaoyuIsland","DEFAULT_NAME_PROPERTY","GeoJSONResource","geoJSON","specialAreas","_parsedMap","_specialAreas","_geoJSON","parseInput","parsed","rawRegions","_parseToRegions","calculateBoundingRect","finalRegions","hasOwn","parseGeoJson","fixTextCoord","specialArea","getMapForUser","geoJson","isString","JSON","Function","storage","registerMap","rawDef","rawSpecialAreas","features","decode","json","UTF8Encoding","jsonCompressed","encodeScale","UTF8Scale","feature","geometry","encodeOffsets","coordinates","decodeRing","decodeRings","rings","c","coordinate","prevX","prevY","charCodeAt","parseGeoJSON","featureObj","properties","p1","p2","geoPrepareCustom","ParallelAxisModel","activeIntervals","getAreaSelectStyle","makeStyleMapper","setActiveIntervals","intervals","getActiveState","ParallelModel","newOption","_initDimensions","contains","parallelIndex","getComponent","setAxisExpand","parallelAxisIndex","axisModels","queryComponents","mainType","axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandRate","axisExpandDebounce","axisExpandSlideTriggerArea","axisExpandTriggerOn","parallelAxisDefault","ParallelAxis","mathMin","mathMax","mathFloor","mathCeil","Parallel","parallelModel","_axesLayout","_init","axisHelper","_updateAxesFromSeries","layoutInfo","_makeLayoutInfo","axisBase","layoutBase","pixelDimIndex","pAxis","pLayout","layoutLength","mapDimension","layoutUtil","_layoutAxes","winSize","xy","wh","layoutExtent","axisCount","restrict","axisExpandWindow","axisCollapseWidth","winInnerIndices","axisExpandWindow0Pos","posInfo","layoutAxisWithExpand","layoutAxisWithoutExpand","positionTable","horizontal","vertical","rotationTable","axisNameAvailableWidth","axisLabelShow","nameTruncateMaxWidth","axisCoordToPoint","eachActiveState","callback","dataDimensions","hasActiveSet","hasAxisBrushed","dataIndex","activeState","getValues","j","lenj","state","axisLayout","graphic","getAxisLayout","getSlidedAxisExpandWindow","behavior","delta","pointCoord","triggerArea","useJump","sliderMove","winSize2","pos","createParallelCoordSys","coordSysList","parallelCoordSysCreator","parallelPreprocessor","createParallelIfNeeded","mergeAxisOptionFromParallel","parallel","hasParallelSeries","series","seriesOpt","parallelAxis","axisOption","parallelOption","PolarAxisModel","AngleAxisModel","RadiusAxisModel","PolarModel","findAxisModel","foundAxisModel","radius","RadiusAxis","radiusExtent","polar","dataToRadius","radiusToData","AngleAxis","angleExtent","dataToAngle","angleToData","polarDimensions","Polar","_radiusAxis","_angleAxis","pointToCoord","angleAxis","radiusAxis","getAngleAxis","getRadiusAxis","coordToPoint","minAngle","maxAngle","sqrt","radian","atan2","dir","RADIAN","r0","r","startAngle","endAngle","clockwise","d2","polarModel","resizePolar","parsedRadius","updatePolarScale","data_1","diff","isAngleAxisModel","setAxis","polarCreator","polarList","radiusAxisModel","angleAxisModel","getterName","polarPrepareCustom","angle","IndicatorAxis","Radar","radarModel","_indicatorAxes","getIndicatorModels","indicatorModel","indicatorAxis","getIndicatorAxes","indicatorIndex","closestAxis","minRadianDiff","closestAxisIdx","viewSize","isNumber","indicatorAxes","radarSeries","dummyScale","radarList","radar","valueAxisDefault","defaultsShow","RadarModel","showName","nameFormatter","indicatorModels","indicatorOpt","iNameTextStyle","innerIndicatorOpt","indName","_indicatorModels","axisNameGap","indicator","ScaleRawExtentInfo","originalExtent","_prepareParams","_dataMin","_dataMax","isOrdinal","_isOrdinal","_needCrossZero","axisMinValue","modelMinRaw","_modelMinRaw","isFunction","_modelMinNum","parseAxisModelMinMax","modelMaxRaw","_modelMaxRaw","_modelMaxNum","_axisDataLen","boundaryGapArr","isArray","_boundaryGapInner","dataMin","dataMax","axisDataLen","boundaryGapInner","span","eqNaN","determinedMin","_determinedMin","determinedMax","_determinedMax","modifyDataMinMax","minMaxName","DATA_MIN_MAX_ATTR","setDeterminedMinMax","attr","DETERMINED_MIN_MAX_ATTR","freeze","frozen","rawExtentInfo","minMax","SingleAxisModel","opacity","mixin","Array","singlePrepareCustom","bind","single","positionMap","directionMap","labelRotation","SingleAxis","singleDimensions","Single","dimension","_axis","_adjustAxis","_updateAxisTransform","extentSum","singleModel","singleAxisModel","singles","singleCreator","coordinateSystemCreators","CoordinateSystemManager","_coordinateSystems","coordinateSystems","creator","list","concat","getCoordinateSystems","register","availableMethods","ExtensionAPI","ecInstance","methodName","Scheduler","dataProcessorHandlers","visualHandlers","_stageTaskMap","_dataProcessorHandlers","_visualHandlers","_allHandlers","restoreData","payload","taskRecord","overallTask","dirty","getPerformArgs","task","isBlock","__pipeline","pipeline","_pipelineMap","id","pCtx","context","incremental","progressiveEnabled","progressiveRender","__idxInPipeline","blockIndex","modDataCount","modBy","getPipeline","pipelineId","updateStreamModes","view","uid","dataLen","incrementalPrepareRender","threshold","large","pipelineContext","restorePipelines","scheduler","pipelineMap","progressive","getProgressive","head","tail","getProgressiveThreshold","preventIncremental","_pipe","dataTask","prepareStageTasks","stageTaskMap","handler","record","errMsg","reset","overallReset","_createSeriesStageTask","_createOverallStageTask","prepareView","renderTask","__block","performDataProcessorTasks","_performStageTasks","block","performVisualTasks","stageHandlers","unfinished","needSetDirty","setDirty","dirtyMap","stageHandler","visualType","stageHandlerRecord","seriesTaskMap","overallNeedDirty_1","agentStubMap","stub","updatePayload","performArgs_1","perform","performArgs","skip","performRawSeries","isSeriesFiltered","performSeriesTasks","plan","getUpstream","oldSeriesTaskMap","newSeriesTaskMap","seriesType","getTargetSeries","createTask","seriesTaskPlan","seriesTaskReset","seriesTaskCount","useClearVisual","isVisual","isLayout","createOnAllSeries","eachRawSeries","eachRawSeriesByType","overallTaskReset","oldAgentStubMap","newAgentStubMap","overallProgress","shouldOverallTaskDirty","createStub","stubReset","onDirty","stubOnDirty","agent","getSeries","pipe","wrapStageHandler","detectSeriseType","getUID","stubProgress","getDownstream","clearAllVisual","resetDefines","normalizeToArray","makeSeriesTaskProgress","singleSeriesTaskProgress","resetDefineIdx","resetDefine","dataEach","progress","legacyFunc","ecModelMock","apiMock","mockMethods","Clz","name_1","noop","GlobalModel","cond","subType","lifecycle","Eventful","TEST_FRAME_REMAIN_TIME","PRIORITY_PROCESSOR_SERIES_FILTER","PRIORITY_PROCESSOR_DATASTACK","PRIORITY_PROCESSOR_FILTER","PRIORITY_PROCESSOR_DEFAULT","PRIORITY_PROCESSOR_STATISTIC","PRIORITY_VISUAL_LAYOUT","PRIORITY_VISUAL_PROGRESSIVE_LAYOUT","PRIORITY_VISUAL_GLOBAL","PRIORITY_VISUAL_CHART","PRIORITY_VISUAL_COMPONENT","PRIORITY_VISUAL_CHART_DATA_CUSTOM","PRIORITY_VISUAL_POST_CHART_LAYOUT","PRIORITY_VISUAL_BRUSH","PRIORITY_VISUAL_ARIA","PRIORITY_VISUAL_DECAL","PRIORITY","PROCESSOR","FILTER","SERIES_FILTER","STATISTIC","VISUAL","LAYOUT","PROGRESSIVE_LAYOUT","GLOBAL","CHART","POST_CHART_LAYOUT","COMPONENT","BRUSH","CHART_ITEM","ARIA","DECAL","IN_MAIN_PROCESS_KEY","PENDING_UPDATE","STATUS_NEEDS_UPDATE_KEY","ACTION_REG","CONNECT_STATUS_KEY","CONNECT_STATUS_PENDING","CONNECT_STATUS_UPDATING","CONNECT_STATUS_UPDATED","createRegisterEventWithLowercaseECharts","method","args","_i","isDisposed","toLowercaseNameAndCallEventful","disposedWarning","createRegisterEventWithLowercaseMessageCenter","host","prepare","updateDirectly","updateMethods","doConvertPixel","doDispatchAction","flushPendingActions","triggerUpdatedEvent","bindRenderedEvent","bindMouseEvent","render","renderComponents","renderSeries","createExtensionAPI","enableConnect","markStatusToUpdate","applyChangedStates","MessageCenter","messageCenterProto","on","off","ECharts","dom","theme","opts","ECEventProcessor","_chartsViews","_chartsMap","_componentsViews","_componentsMap","_pendingActions","themeStorage","_dom","defaultRenderer","defaultCoarsePointer","defaultUseDirtyRect","ssr","zrender","registerSSRDataGetter","ecData","getECData","hashMap","seriesIndex","ssrType","zr","_zr","renderer","devicePixelRatio","useDirtyRect","retrieve2","useCoarsePointer","pointerSize","_ssr","_throttledZrFlush","throttle","flush","backwardCompat","_theme","_locale","createLocaleObject","SYSTEM_LANG","_coordSysMgr","_api","prioritySortFunc","__prio","timsort","visualFuncs","dataProcessorFuncs","_scheduler","_messageCenter","_initEvents","animation","_onframe","setAsPrimitive","_disposed","updateParams","remainTime","startTime","getDom","getId","getZr","isSSR","setOption","notMerge","lazyUpdate","replaceMerge","transitionOpt","transition","optionManager","OptionManager","optionPreprocessorFuncs","seriesTransition","optionChanged","wakeUp","setTheme","deprecateLog","getOption","getDevicePixelRatio","painter","dpr","env","hasGlobalWindow","window","getRenderedCanvas","renderToCanvas","pixelRatio","renderToSVGString","renderToString","useViewBox","getSvgDataURL","svgSupported","getDisplayList","stopAnimation","toDataURL","getDataURL","excludeComponents","excludesComponentViews","self","componentType","component","__viewId","group","ignore","url","getType","getConnectedDataURL","isSvg","groupId","MAX_NUMBER","connectedGroups","left_1","top_1","right_1","bottom_1","canvasList_1","dpr_1","instances","chart","canvas","getSvgDom","innerHTML","getBoundingClientRect","targetCanvas","platformApi","createCanvas","zr_1","content_1","getSvgRoot","connectedBackgroundColor","setBackgroundColor","refreshImmediately","style","fill","img","image","containPixel","findResult","getVisual","parsedFinder","defaultMainType","dataIndexInside","indexOfRawIndex","getItemVisualFromData","getVisualFromData","getViewOfComponentModel","componentModel","getViewOfSeriesModel","MOUSE_EVENT_NAMES","eveName","isGlobalOut","findEventDispatcher","dataModel","getSeriesByIndex","getDataParams","dataType","eventData","extend","event","_$eventProcessor","eventInfo","targetEl","packedEvent","trigger","zrEventfulCallAtLast","eventActionMap","actionType","eventType","handleLegacySelectEvents","clear","dispose","DOM_ATTRIBUTE_KEY","_loadingFX","needPrepare","resetOption","duration","showLoading","cfg","hideLoading","loadingEffects","remove","makeActionFromEvent","eventObj","dispatchAction","actions","browser","weChat","updateLabelLayout","updatedSeries","appendData","internalField","clearColorPalette","allocateZlevels","componentZLevels","seriesZLevels","hasSeparateZLevel","zlevel","zlevelKey","getZLevelKey","lastSeriesZLevel_1","lastSeriesKey_1","zLevels","setZLevel","applyElementStates","newStates","oldStates","currentStates","stateName","states","hoverState","HOVER_STATE_EMPHASIS","HOVER_STATE_BLUR","blur","useStates","updateHoverLayerStatus","ecIns","elCount","node","worker","preventUsingHoverLayer","chartView","__alive","eachRendered","hoverLayer","updateBlend","blendMode","blend","updateZ","preventAutoZ","doUpdateZ","maxZ2","getTextContent","labelLine","getTextGuideLine","children","childrenRef","textGuideLineConfig","showAbove","clearStates","textContent","textGuide","stateTransition","hasState","prevStates","updateStates","stateAnimationModel","enableAnimation","isAnimationEnabled","delay","easing","savePathStates","__dirty","isComponent","viewList","viewMap","doPrepare","requireNewView","__requireNewView","viewId","classType","parseClassType","Clazz","ComponentView","main","sub","ChartView","__id","__model","__ecComponentInfo","splice","setUpdatePayload","query","condition","excludeSeriesIdMap","excludeSeriesId","modelId","isExcluded","isHighDownPayload","SeriesModel","HIGHLIGHT_ACTION_TYPE","notBlur","blurSeriesFromHighlightPayload","findComponentHighDownDispatchers","focusSelf","dispatchers","blurComponent","dispatcher","enterEmphasis","leaveEmphasis","isSelectChangePayload","toggleSelectionFromPayload","updateSeriesElementSelection","callView","prepareAndUpdate","coordSysMgr","darkMode","setDarkMode","componentDirtyList","componentView","seriesDirtyMap","updateView","markUpdateMethod","updateVisual","updateLayout","chartsMap","payloadType","escapeConnect","actionWrap","actionInfo","cptTypeTmp","split","updateMethod","cptType","payloads","batched","batch","defaults","eventObjBatch","isSelectChange","isHighDown","allLeaveBlur","batchItem","action","queryOptionMap","mainTypeSpecified","componentMainType","messageCenter","newObj","getAllSelectedIndices","isFromClick","fromAction","fromActionPayload","pendingActions","isFinished","isHighDownDispatcher","handleGlobalMouseOverForHighDown","handleGlobalMouseOutForHighDown","dirtyList","class_1","getComponentByElement","modelInfo","highlightDigit","enterBlur","leaveBlur","enterSelect","leaveSelect","updateConnectedChartsStatus","charts","otherChart","action_1","otherCharts_1","echartsProto","one","eventName","ctx","wrapped","args2","idBase","isClient","existInstance","getInstanceByDom","registerTheme","registerPreprocessor","preprocessorFunc","registerProcessor","priority","processor","normalizeRegister","registerPostInit","postInitFunc","registerUpdateLifecycle","registerPostUpdate","postUpdateFunc","registerAction","registerCoordinateSystem","coordSysCreator","getCoordinateSystemDimensions","registerLayout","layoutTask","registerVisual","visualTask","registeredTasks","targetList","fn","defaultPriority","__raw","registerLoading","loadingFx","getImpl","getMap","registerTransform","registerExternalTransform","seriesStyleTask","dataStyleTask","dataColorPaletteTask","seriesSymbolTask","dataSymbolTask","decal","dataStack","loadingDefault","DOWNPLAY_ACTION_TYPE","SELECT_ACTION_TYPE","UNSELECT_ACTION_TYPE","TOGGLE_SELECT_ACTION_TYPE","lightTheme","darkTheme","implsStore","registerImpl","impl","LOCALE_ZH","LOCALE_EN","DEFAULT_LOCALE","localeStorage","localeModels","domSupported","langStr","document","documentElement","lang","navigator","language","browserLanguage","toUpperCase","registerLocale","localeObj","getDefaultLocaleModel","langEN","langZH","define","Task","_reset","_plan","_count","_onDirty","_dirty","planResult","upTask","_upstream","outputData","currentTask","forceFirstProgress","lastModBy","normalizeModBy","_modBy","lastModDataCount","_modDataCount","_doReset","_dueEnd","_outputDueEnd","_progress","_dueIndex","_doProgress","outputDueEnd","_settedOutputEnd","iterator","_callingProgress","next","downstream","_downstream","downTask","setOutputEnd","current","winCount","it","s","sStep","sCount","modNext","sequentialNext"],"sourceRoot":""}