{"version":3,"file":"static/client/js/chunk-vendors-b886e5fb.1660fe9c.js","mappings":"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","sources":["webpack://d1/./node_modules/echarts/lib/component/aria/preprocessor.js","webpack://d1/./node_modules/echarts/lib/component/aria/install.js","webpack://d1/./node_modules/echarts/lib/component/axisPointer/BaseAxisPointer.js","webpack://d1/./node_modules/echarts/lib/component/axisPointer/PolarAxisPointer.js","webpack://d1/./node_modules/echarts/lib/component/axisPointer/SingleAxisPointer.js","webpack://d1/./node_modules/echarts/lib/component/axisPointer/findPointFromSeries.js","webpack://d1/./node_modules/echarts/lib/component/axisPointer/globalListener.js","webpack://d1/./node_modules/echarts/lib/component/axisPointer/CartesianAxisPointer.js","webpack://d1/./node_modules/echarts/lib/component/axisPointer/AxisPointerModel.js","webpack://d1/./node_modules/echarts/lib/component/axisPointer/AxisPointerView.js","webpack://d1/./node_modules/echarts/lib/component/axisPointer/axisTrigger.js","webpack://d1/./node_modules/echarts/lib/component/axisPointer/install.js","webpack://d1/./node_modules/echarts/lib/component/axisPointer/modelHelper.js","webpack://d1/./node_modules/echarts/lib/component/axisPointer/viewHelper.js","webpack://d1/./node_modules/echarts/lib/component/axis/AngleAxisView.js","webpack://d1/./node_modules/echarts/lib/component/axis/AxisBuilder.js","webpack://d1/./node_modules/echarts/lib/component/axis/AxisView.js","webpack://d1/./node_modules/echarts/lib/component/axis/CartesianAxisView.js","webpack://d1/./node_modules/echarts/lib/component/axis/ParallelAxisView.js","webpack://d1/./node_modules/echarts/lib/component/axis/RadiusAxisView.js","webpack://d1/./node_modules/echarts/lib/component/axis/SingleAxisView.js","webpack://d1/./node_modules/echarts/lib/component/axis/axisSplitHelper.js","webpack://d1/./node_modules/echarts/lib/component/axis/parallelAxisAction.js","webpack://d1/./node_modules/echarts/lib/component/brush/preprocessor.js","webpack://d1/./node_modules/echarts/lib/component/brush/selector.js","webpack://d1/./node_modules/echarts/lib/component/brush/visualEncoding.js","webpack://d1/./node_modules/echarts/lib/component/brush/BrushView.js","webpack://d1/./node_modules/echarts/lib/component/brush/BrushModel.js","webpack://d1/./node_modules/echarts/lib/component/brush/install.js","webpack://d1/./node_modules/echarts/lib/component/calendar/CalendarView.js","webpack://d1/./node_modules/echarts/lib/component/calendar/install.js","webpack://d1/./node_modules/echarts/lib/component/dataZoom/DataZoomModel.js","webpack://d1/./node_modules/echarts/lib/component/dataZoom/DataZoomView.js","webpack://d1/./node_modules/echarts/lib/component/dataZoom/helper.js","webpack://d1/./node_modules/echarts/lib/component/dataZoom/history.js","webpack://d1/./node_modules/echarts/lib/component/dataZoom/install.js","webpack://d1/./node_modules/echarts/lib/component/dataZoom/AxisProxy.js","webpack://d1/./node_modules/echarts/lib/component/dataZoom/dataZoomProcessor.js","webpack://d1/./node_modules/echarts/lib/component/dataZoom/dataZoomAction.js","webpack://d1/./node_modules/echarts/lib/component/dataZoom/installCommon.js","webpack://d1/./node_modules/echarts/lib/component/dataZoom/InsideZoomModel.js","webpack://d1/./node_modules/echarts/lib/component/dataZoom/roams.js","webpack://d1/./node_modules/echarts/lib/component/dataZoom/InsideZoomView.js","webpack://d1/./node_modules/echarts/lib/component/dataZoom/installDataZoomInside.js","webpack://d1/./node_modules/echarts/lib/component/dataZoom/SelectZoomModel.js","webpack://d1/./node_modules/echarts/lib/component/dataZoom/SelectZoomView.js","webpack://d1/./node_modules/echarts/lib/component/dataZoom/installDataZoomSelect.js","webpack://d1/./node_modules/echarts/lib/component/dataZoom/SliderZoomModel.js","webpack://d1/./node_modules/echarts/lib/component/dataZoom/SliderZoomView.js","webpack://d1/./node_modules/echarts/lib/component/dataZoom/installDataZoomSlider.js","webpack://d1/./node_modules/echarts/lib/component/dataset/install.js","webpack://d1/./node_modules/echarts/lib/component/geo/GeoView.js","webpack://d1/./node_modules/echarts/lib/component/geo/install.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nexport default function ariaPreprocessor(option) {\n  if (!option || !option.aria) {\n    return;\n  }\n  var aria = option.aria;\n  // aria.show is deprecated and should use aria.enabled instead\n  if (aria.show != null) {\n    aria.enabled = aria.show;\n  }\n  aria.label = aria.label || {};\n  // move description, general, series, data to be under aria.label\n  zrUtil.each(['description', 'general', 'series', 'data'], function (name) {\n    if (aria[name] != null) {\n      aria.label[name] = aria[name];\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport ariaVisual from '../../visual/aria.js';\nimport ariaPreprocessor from './preprocessor.js';\nexport function install(registers) {\n  registers.registerPreprocessor(ariaPreprocessor);\n  registers.registerVisual(registers.PRIORITY.VISUAL.ARIA, ariaVisual);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as axisPointerModelHelper from './modelHelper.js';\nimport * as eventTool from 'zrender/lib/core/event.js';\nimport * as throttleUtil from '../../util/throttle.js';\nimport { makeInner } from '../../util/model.js';\nvar inner = makeInner();\nvar clone = zrUtil.clone;\nvar bind = zrUtil.bind;\n/**\n * Base axis pointer class in 2D.\n */\nvar BaseAxisPointer = /** @class */function () {\n  function BaseAxisPointer() {\n    this._dragging = false;\n    /**\n     * In px, arbitrary value. Do not set too small,\n     * no animation is ok for most cases.\n     */\n    this.animationThreshold = 15;\n  }\n  /**\n   * @implement\n   */\n  BaseAxisPointer.prototype.render = function (axisModel, axisPointerModel, api, forceRender) {\n    var value = axisPointerModel.get('value');\n    var status = axisPointerModel.get('status');\n    // Bind them to `this`, not in closure, otherwise they will not\n    // be replaced when user calling setOption in not merge mode.\n    this._axisModel = axisModel;\n    this._axisPointerModel = axisPointerModel;\n    this._api = api;\n    // Optimize: `render` will be called repeatedly during mouse move.\n    // So it is power consuming if performing `render` each time,\n    // especially on mobile device.\n    if (!forceRender && this._lastValue === value && this._lastStatus === status) {\n      return;\n    }\n    this._lastValue = value;\n    this._lastStatus = status;\n    var group = this._group;\n    var handle = this._handle;\n    if (!status || status === 'hide') {\n      // Do not clear here, for animation better.\n      group && group.hide();\n      handle && handle.hide();\n      return;\n    }\n    group && group.show();\n    handle && handle.show();\n    // Otherwise status is 'show'\n    var elOption = {};\n    this.makeElOption(elOption, value, axisModel, axisPointerModel, api);\n    // Enable change axis pointer type.\n    var graphicKey = elOption.graphicKey;\n    if (graphicKey !== this._lastGraphicKey) {\n      this.clear(api);\n    }\n    this._lastGraphicKey = graphicKey;\n    var moveAnimation = this._moveAnimation = this.determineAnimation(axisModel, axisPointerModel);\n    if (!group) {\n      group = this._group = new graphic.Group();\n      this.createPointerEl(group, elOption, axisModel, axisPointerModel);\n      this.createLabelEl(group, elOption, axisModel, axisPointerModel);\n      api.getZr().add(group);\n    } else {\n      var doUpdateProps = zrUtil.curry(updateProps, axisPointerModel, moveAnimation);\n      this.updatePointerEl(group, elOption, doUpdateProps);\n      this.updateLabelEl(group, elOption, doUpdateProps, axisPointerModel);\n    }\n    updateMandatoryProps(group, axisPointerModel, true);\n    this._renderHandle(value);\n  };\n  /**\n   * @implement\n   */\n  BaseAxisPointer.prototype.remove = function (api) {\n    this.clear(api);\n  };\n  /**\n   * @implement\n   */\n  BaseAxisPointer.prototype.dispose = function (api) {\n    this.clear(api);\n  };\n  /**\n   * @protected\n   */\n  BaseAxisPointer.prototype.determineAnimation = function (axisModel, axisPointerModel) {\n    var animation = axisPointerModel.get('animation');\n    var axis = axisModel.axis;\n    var isCategoryAxis = axis.type === 'category';\n    var useSnap = axisPointerModel.get('snap');\n    // Value axis without snap always do not snap.\n    if (!useSnap && !isCategoryAxis) {\n      return false;\n    }\n    if (animation === 'auto' || animation == null) {\n      var animationThreshold = this.animationThreshold;\n      if (isCategoryAxis && axis.getBandWidth() > animationThreshold) {\n        return true;\n      }\n      // It is important to auto animation when snap used. Consider if there is\n      // a dataZoom, animation will be disabled when too many points exist, while\n      // it will be enabled for better visual effect when little points exist.\n      if (useSnap) {\n        var seriesDataCount = axisPointerModelHelper.getAxisInfo(axisModel).seriesDataCount;\n        var axisExtent = axis.getExtent();\n        // Approximate band width\n        return Math.abs(axisExtent[0] - axisExtent[1]) / seriesDataCount > animationThreshold;\n      }\n      return false;\n    }\n    return animation === true;\n  };\n  /**\n   * add {pointer, label, graphicKey} to elOption\n   * @protected\n   */\n  BaseAxisPointer.prototype.makeElOption = function (elOption, value, axisModel, axisPointerModel, api) {\n    // Should be implemenented by sub-class.\n  };\n  /**\n   * @protected\n   */\n  BaseAxisPointer.prototype.createPointerEl = function (group, elOption, axisModel, axisPointerModel) {\n    var pointerOption = elOption.pointer;\n    if (pointerOption) {\n      var pointerEl = inner(group).pointerEl = new graphic[pointerOption.type](clone(elOption.pointer));\n      group.add(pointerEl);\n    }\n  };\n  /**\n   * @protected\n   */\n  BaseAxisPointer.prototype.createLabelEl = function (group, elOption, axisModel, axisPointerModel) {\n    if (elOption.label) {\n      var labelEl = inner(group).labelEl = new graphic.Text(clone(elOption.label));\n      group.add(labelEl);\n      updateLabelShowHide(labelEl, axisPointerModel);\n    }\n  };\n  /**\n   * @protected\n   */\n  BaseAxisPointer.prototype.updatePointerEl = function (group, elOption, updateProps) {\n    var pointerEl = inner(group).pointerEl;\n    if (pointerEl && elOption.pointer) {\n      pointerEl.setStyle(elOption.pointer.style);\n      updateProps(pointerEl, {\n        shape: elOption.pointer.shape\n      });\n    }\n  };\n  /**\n   * @protected\n   */\n  BaseAxisPointer.prototype.updateLabelEl = function (group, elOption, updateProps, axisPointerModel) {\n    var labelEl = inner(group).labelEl;\n    if (labelEl) {\n      labelEl.setStyle(elOption.label.style);\n      updateProps(labelEl, {\n        // Consider text length change in vertical axis, animation should\n        // be used on shape, otherwise the effect will be weird.\n        // TODOTODO\n        // shape: elOption.label.shape,\n        x: elOption.label.x,\n        y: elOption.label.y\n      });\n      updateLabelShowHide(labelEl, axisPointerModel);\n    }\n  };\n  /**\n   * @private\n   */\n  BaseAxisPointer.prototype._renderHandle = function (value) {\n    if (this._dragging || !this.updateHandleTransform) {\n      return;\n    }\n    var axisPointerModel = this._axisPointerModel;\n    var zr = this._api.getZr();\n    var handle = this._handle;\n    var handleModel = axisPointerModel.getModel('handle');\n    var status = axisPointerModel.get('status');\n    if (!handleModel.get('show') || !status || status === 'hide') {\n      handle && zr.remove(handle);\n      this._handle = null;\n      return;\n    }\n    var isInit;\n    if (!this._handle) {\n      isInit = true;\n      handle = this._handle = graphic.createIcon(handleModel.get('icon'), {\n        cursor: 'move',\n        draggable: true,\n        onmousemove: function (e) {\n          // For mobile device, prevent screen slider on the button.\n          eventTool.stop(e.event);\n        },\n        onmousedown: bind(this._onHandleDragMove, this, 0, 0),\n        drift: bind(this._onHandleDragMove, this),\n        ondragend: bind(this._onHandleDragEnd, this)\n      });\n      zr.add(handle);\n    }\n    updateMandatoryProps(handle, axisPointerModel, false);\n    // update style\n    handle.setStyle(handleModel.getItemStyle(null, ['color', 'borderColor', 'borderWidth', 'opacity', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY']));\n    // update position\n    var handleSize = handleModel.get('size');\n    if (!zrUtil.isArray(handleSize)) {\n      handleSize = [handleSize, handleSize];\n    }\n    handle.scaleX = handleSize[0] / 2;\n    handle.scaleY = handleSize[1] / 2;\n    throttleUtil.createOrUpdate(this, '_doDispatchAxisPointer', handleModel.get('throttle') || 0, 'fixRate');\n    this._moveHandleToValue(value, isInit);\n  };\n  BaseAxisPointer.prototype._moveHandleToValue = function (value, isInit) {\n    updateProps(this._axisPointerModel, !isInit && this._moveAnimation, this._handle, getHandleTransProps(this.getHandleTransform(value, this._axisModel, this._axisPointerModel)));\n  };\n  BaseAxisPointer.prototype._onHandleDragMove = function (dx, dy) {\n    var handle = this._handle;\n    if (!handle) {\n      return;\n    }\n    this._dragging = true;\n    // Persistent for throttle.\n    var trans = this.updateHandleTransform(getHandleTransProps(handle), [dx, dy], this._axisModel, this._axisPointerModel);\n    this._payloadInfo = trans;\n    handle.stopAnimation();\n    handle.attr(getHandleTransProps(trans));\n    inner(handle).lastProp = null;\n    this._doDispatchAxisPointer();\n  };\n  /**\n   * Throttled method.\n   */\n  BaseAxisPointer.prototype._doDispatchAxisPointer = function () {\n    var handle = this._handle;\n    if (!handle) {\n      return;\n    }\n    var payloadInfo = this._payloadInfo;\n    var axisModel = this._axisModel;\n    this._api.dispatchAction({\n      type: 'updateAxisPointer',\n      x: payloadInfo.cursorPoint[0],\n      y: payloadInfo.cursorPoint[1],\n      tooltipOption: payloadInfo.tooltipOption,\n      axesInfo: [{\n        axisDim: axisModel.axis.dim,\n        axisIndex: axisModel.componentIndex\n      }]\n    });\n  };\n  BaseAxisPointer.prototype._onHandleDragEnd = function () {\n    this._dragging = false;\n    var handle = this._handle;\n    if (!handle) {\n      return;\n    }\n    var value = this._axisPointerModel.get('value');\n    // Consider snap or categroy axis, handle may be not consistent with\n    // axisPointer. So move handle to align the exact value position when\n    // drag ended.\n    this._moveHandleToValue(value);\n    // For the effect: tooltip will be shown when finger holding on handle\n    // button, and will be hidden after finger left handle button.\n    this._api.dispatchAction({\n      type: 'hideTip'\n    });\n  };\n  /**\n   * @private\n   */\n  BaseAxisPointer.prototype.clear = function (api) {\n    this._lastValue = null;\n    this._lastStatus = null;\n    var zr = api.getZr();\n    var group = this._group;\n    var handle = this._handle;\n    if (zr && group) {\n      this._lastGraphicKey = null;\n      group && zr.remove(group);\n      handle && zr.remove(handle);\n      this._group = null;\n      this._handle = null;\n      this._payloadInfo = null;\n    }\n    throttleUtil.clear(this, '_doDispatchAxisPointer');\n  };\n  /**\n   * @protected\n   */\n  BaseAxisPointer.prototype.doClear = function () {\n    // Implemented by sub-class if necessary.\n  };\n  BaseAxisPointer.prototype.buildLabel = function (xy, wh, xDimIndex) {\n    xDimIndex = xDimIndex || 0;\n    return {\n      x: xy[xDimIndex],\n      y: xy[1 - xDimIndex],\n      width: wh[xDimIndex],\n      height: wh[1 - xDimIndex]\n    };\n  };\n  return BaseAxisPointer;\n}();\nfunction updateProps(animationModel, moveAnimation, el, props) {\n  // Animation optimize.\n  if (!propsEqual(inner(el).lastProp, props)) {\n    inner(el).lastProp = props;\n    moveAnimation ? graphic.updateProps(el, props, animationModel) : (el.stopAnimation(), el.attr(props));\n  }\n}\nfunction propsEqual(lastProps, newProps) {\n  if (zrUtil.isObject(lastProps) && zrUtil.isObject(newProps)) {\n    var equals_1 = true;\n    zrUtil.each(newProps, function (item, key) {\n      equals_1 = equals_1 && propsEqual(lastProps[key], item);\n    });\n    return !!equals_1;\n  } else {\n    return lastProps === newProps;\n  }\n}\nfunction updateLabelShowHide(labelEl, axisPointerModel) {\n  labelEl[axisPointerModel.get(['label', 'show']) ? 'show' : 'hide']();\n}\nfunction getHandleTransProps(trans) {\n  return {\n    x: trans.x || 0,\n    y: trans.y || 0,\n    rotation: trans.rotation || 0\n  };\n}\nfunction updateMandatoryProps(group, axisPointerModel, silent) {\n  var z = axisPointerModel.get('z');\n  var zlevel = axisPointerModel.get('zlevel');\n  group && group.traverse(function (el) {\n    if (el.type !== 'group') {\n      z != null && (el.z = z);\n      zlevel != null && (el.zlevel = zlevel);\n      el.silent = silent;\n    }\n  });\n}\nexport default BaseAxisPointer;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport BaseAxisPointer from './BaseAxisPointer.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as viewHelper from './viewHelper.js';\nimport * as matrix from 'zrender/lib/core/matrix.js';\nimport AxisBuilder from '../axis/AxisBuilder.js';\nvar PolarAxisPointer = /** @class */function (_super) {\n  __extends(PolarAxisPointer, _super);\n  function PolarAxisPointer() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * @override\n   */\n  PolarAxisPointer.prototype.makeElOption = function (elOption, value, axisModel, axisPointerModel, api) {\n    var axis = axisModel.axis;\n    if (axis.dim === 'angle') {\n      this.animationThreshold = Math.PI / 18;\n    }\n    var polar = axis.polar;\n    var otherAxis = polar.getOtherAxis(axis);\n    var otherExtent = otherAxis.getExtent();\n    var coordValue = axis.dataToCoord(value);\n    var axisPointerType = axisPointerModel.get('type');\n    if (axisPointerType && axisPointerType !== 'none') {\n      var elStyle = viewHelper.buildElStyle(axisPointerModel);\n      var pointerOption = pointerShapeBuilder[axisPointerType](axis, polar, coordValue, otherExtent);\n      pointerOption.style = elStyle;\n      elOption.graphicKey = pointerOption.type;\n      elOption.pointer = pointerOption;\n    }\n    var labelMargin = axisPointerModel.get(['label', 'margin']);\n    var labelPos = getLabelPosition(value, axisModel, axisPointerModel, polar, labelMargin);\n    viewHelper.buildLabelElOption(elOption, axisModel, axisPointerModel, api, labelPos);\n  };\n  return PolarAxisPointer;\n}(BaseAxisPointer);\n;\nfunction getLabelPosition(value, axisModel, axisPointerModel, polar, labelMargin) {\n  var axis = axisModel.axis;\n  var coord = axis.dataToCoord(value);\n  var axisAngle = polar.getAngleAxis().getExtent()[0];\n  axisAngle = axisAngle / 180 * Math.PI;\n  var radiusExtent = polar.getRadiusAxis().getExtent();\n  var position;\n  var align;\n  var verticalAlign;\n  if (axis.dim === 'radius') {\n    var transform = matrix.create();\n    matrix.rotate(transform, transform, axisAngle);\n    matrix.translate(transform, transform, [polar.cx, polar.cy]);\n    position = graphic.applyTransform([coord, -labelMargin], transform);\n    var labelRotation = axisModel.getModel('axisLabel').get('rotate') || 0;\n    // @ts-ignore\n    var labelLayout = AxisBuilder.innerTextLayout(axisAngle, labelRotation * Math.PI / 180, -1);\n    align = labelLayout.textAlign;\n    verticalAlign = labelLayout.textVerticalAlign;\n  } else {\n    // angle axis\n    var r = radiusExtent[1];\n    position = polar.coordToPoint([r + labelMargin, coord]);\n    var cx = polar.cx;\n    var cy = polar.cy;\n    align = Math.abs(position[0] - cx) / r < 0.3 ? 'center' : position[0] > cx ? 'left' : 'right';\n    verticalAlign = Math.abs(position[1] - cy) / r < 0.3 ? 'middle' : position[1] > cy ? 'top' : 'bottom';\n  }\n  return {\n    position: position,\n    align: align,\n    verticalAlign: verticalAlign\n  };\n}\nvar pointerShapeBuilder = {\n  line: function (axis, polar, coordValue, otherExtent) {\n    return axis.dim === 'angle' ? {\n      type: 'Line',\n      shape: viewHelper.makeLineShape(polar.coordToPoint([otherExtent[0], coordValue]), polar.coordToPoint([otherExtent[1], coordValue]))\n    } : {\n      type: 'Circle',\n      shape: {\n        cx: polar.cx,\n        cy: polar.cy,\n        r: coordValue\n      }\n    };\n  },\n  shadow: function (axis, polar, coordValue, otherExtent) {\n    var bandWidth = Math.max(1, axis.getBandWidth());\n    var radian = Math.PI / 180;\n    return axis.dim === 'angle' ? {\n      type: 'Sector',\n      shape: viewHelper.makeSectorShape(polar.cx, polar.cy, otherExtent[0], otherExtent[1],\n      // In ECharts y is negative if angle is positive\n      (-coordValue - bandWidth / 2) * radian, (-coordValue + bandWidth / 2) * radian)\n    } : {\n      type: 'Sector',\n      shape: viewHelper.makeSectorShape(polar.cx, polar.cy, coordValue - bandWidth / 2, coordValue + bandWidth / 2, 0, Math.PI * 2)\n    };\n  }\n};\nexport default PolarAxisPointer;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport BaseAxisPointer from './BaseAxisPointer.js';\nimport * as viewHelper from './viewHelper.js';\nimport * as singleAxisHelper from '../../coord/single/singleAxisHelper.js';\nvar XY = ['x', 'y'];\nvar WH = ['width', 'height'];\nvar SingleAxisPointer = /** @class */function (_super) {\n  __extends(SingleAxisPointer, _super);\n  function SingleAxisPointer() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * @override\n   */\n  SingleAxisPointer.prototype.makeElOption = function (elOption, value, axisModel, axisPointerModel, api) {\n    var axis = axisModel.axis;\n    var coordSys = axis.coordinateSystem;\n    var otherExtent = getGlobalExtent(coordSys, 1 - getPointDimIndex(axis));\n    var pixelValue = coordSys.dataToPoint(value)[0];\n    var axisPointerType = axisPointerModel.get('type');\n    if (axisPointerType && axisPointerType !== 'none') {\n      var elStyle = viewHelper.buildElStyle(axisPointerModel);\n      var pointerOption = pointerShapeBuilder[axisPointerType](axis, pixelValue, otherExtent);\n      pointerOption.style = elStyle;\n      elOption.graphicKey = pointerOption.type;\n      elOption.pointer = pointerOption;\n    }\n    var layoutInfo = singleAxisHelper.layout(axisModel);\n    viewHelper.buildCartesianSingleLabelElOption(\n    // @ts-ignore\n    value, elOption, layoutInfo, axisModel, axisPointerModel, api);\n  };\n  /**\n   * @override\n   */\n  SingleAxisPointer.prototype.getHandleTransform = function (value, axisModel, axisPointerModel) {\n    var layoutInfo = singleAxisHelper.layout(axisModel, {\n      labelInside: false\n    });\n    // @ts-ignore\n    layoutInfo.labelMargin = axisPointerModel.get(['handle', 'margin']);\n    var position = viewHelper.getTransformedPosition(axisModel.axis, value, layoutInfo);\n    return {\n      x: position[0],\n      y: position[1],\n      rotation: layoutInfo.rotation + (layoutInfo.labelDirection < 0 ? Math.PI : 0)\n    };\n  };\n  /**\n   * @override\n   */\n  SingleAxisPointer.prototype.updateHandleTransform = function (transform, delta, axisModel, axisPointerModel) {\n    var axis = axisModel.axis;\n    var coordSys = axis.coordinateSystem;\n    var dimIndex = getPointDimIndex(axis);\n    var axisExtent = getGlobalExtent(coordSys, dimIndex);\n    var currPosition = [transform.x, transform.y];\n    currPosition[dimIndex] += delta[dimIndex];\n    currPosition[dimIndex] = Math.min(axisExtent[1], currPosition[dimIndex]);\n    currPosition[dimIndex] = Math.max(axisExtent[0], currPosition[dimIndex]);\n    var otherExtent = getGlobalExtent(coordSys, 1 - dimIndex);\n    var cursorOtherValue = (otherExtent[1] + otherExtent[0]) / 2;\n    var cursorPoint = [cursorOtherValue, cursorOtherValue];\n    cursorPoint[dimIndex] = currPosition[dimIndex];\n    return {\n      x: currPosition[0],\n      y: currPosition[1],\n      rotation: transform.rotation,\n      cursorPoint: cursorPoint,\n      tooltipOption: {\n        verticalAlign: 'middle'\n      }\n    };\n  };\n  return SingleAxisPointer;\n}(BaseAxisPointer);\nvar pointerShapeBuilder = {\n  line: function (axis, pixelValue, otherExtent) {\n    var targetShape = viewHelper.makeLineShape([pixelValue, otherExtent[0]], [pixelValue, otherExtent[1]], getPointDimIndex(axis));\n    return {\n      type: 'Line',\n      subPixelOptimize: true,\n      shape: targetShape\n    };\n  },\n  shadow: function (axis, pixelValue, otherExtent) {\n    var bandWidth = axis.getBandWidth();\n    var span = otherExtent[1] - otherExtent[0];\n    return {\n      type: 'Rect',\n      shape: viewHelper.makeRectShape([pixelValue - bandWidth / 2, otherExtent[0]], [bandWidth, span], getPointDimIndex(axis))\n    };\n  }\n};\nfunction getPointDimIndex(axis) {\n  return axis.isHorizontal() ? 0 : 1;\n}\nfunction getGlobalExtent(coordSys, dimIndex) {\n  var rect = coordSys.getRect();\n  return [rect[XY[dimIndex]], rect[XY[dimIndex]] + rect[WH[dimIndex]]];\n}\nexport default SingleAxisPointer;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as modelUtil from '../../util/model.js';\n/**\n * @param finder contains {seriesIndex, dataIndex, dataIndexInside}\n * @param ecModel\n * @return  {point: [x, y], el: ...} point Will not be null.\n */\nexport default function findPointFromSeries(finder, ecModel) {\n  var point = [];\n  var seriesIndex = finder.seriesIndex;\n  var seriesModel;\n  if (seriesIndex == null || !(seriesModel = ecModel.getSeriesByIndex(seriesIndex))) {\n    return {\n      point: []\n    };\n  }\n  var data = seriesModel.getData();\n  var dataIndex = modelUtil.queryDataIndex(data, finder);\n  if (dataIndex == null || dataIndex < 0 || zrUtil.isArray(dataIndex)) {\n    return {\n      point: []\n    };\n  }\n  var el = data.getItemGraphicEl(dataIndex);\n  var coordSys = seriesModel.coordinateSystem;\n  if (seriesModel.getTooltipPosition) {\n    point = seriesModel.getTooltipPosition(dataIndex) || [];\n  } else if (coordSys && coordSys.dataToPoint) {\n    if (finder.isStacked) {\n      var baseAxis = coordSys.getBaseAxis();\n      var valueAxis = coordSys.getOtherAxis(baseAxis);\n      var valueAxisDim = valueAxis.dim;\n      var baseAxisDim = baseAxis.dim;\n      var baseDataOffset = valueAxisDim === 'x' || valueAxisDim === 'radius' ? 1 : 0;\n      var baseDim = data.mapDimension(baseAxisDim);\n      var stackedData = [];\n      stackedData[baseDataOffset] = data.get(baseDim, dataIndex);\n      stackedData[1 - baseDataOffset] = data.get(data.getCalculationInfo('stackResultDimension'), dataIndex);\n      point = coordSys.dataToPoint(stackedData) || [];\n    } else {\n      point = coordSys.dataToPoint(data.getValues(zrUtil.map(coordSys.dimensions, function (dim) {\n        return data.mapDimension(dim);\n      }), dataIndex)) || [];\n    }\n  } else if (el) {\n    // Use graphic bounding rect\n    var rect = el.getBoundingRect().clone();\n    rect.applyTransform(el.transform);\n    point = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n  }\n  return {\n    point: point,\n    el: el\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport env from 'zrender/lib/core/env.js';\nimport { makeInner } from '../../util/model.js';\nvar inner = makeInner();\nvar each = zrUtil.each;\n/**\n * @param {string} key\n * @param {module:echarts/ExtensionAPI} api\n * @param {Function} handler\n *      param: {string} currTrigger\n *      param: {Array.<number>} point\n */\nexport function register(key, api, handler) {\n  if (env.node) {\n    return;\n  }\n  var zr = api.getZr();\n  inner(zr).records || (inner(zr).records = {});\n  initGlobalListeners(zr, api);\n  var record = inner(zr).records[key] || (inner(zr).records[key] = {});\n  record.handler = handler;\n}\nfunction initGlobalListeners(zr, api) {\n  if (inner(zr).initialized) {\n    return;\n  }\n  inner(zr).initialized = true;\n  useHandler('click', zrUtil.curry(doEnter, 'click'));\n  useHandler('mousemove', zrUtil.curry(doEnter, 'mousemove'));\n  // useHandler('mouseout', onLeave);\n  useHandler('globalout', onLeave);\n  function useHandler(eventType, cb) {\n    zr.on(eventType, function (e) {\n      var dis = makeDispatchAction(api);\n      each(inner(zr).records, function (record) {\n        record && cb(record, e, dis.dispatchAction);\n      });\n      dispatchTooltipFinally(dis.pendings, api);\n    });\n  }\n}\nfunction dispatchTooltipFinally(pendings, api) {\n  var showLen = pendings.showTip.length;\n  var hideLen = pendings.hideTip.length;\n  var actuallyPayload;\n  if (showLen) {\n    actuallyPayload = pendings.showTip[showLen - 1];\n  } else if (hideLen) {\n    actuallyPayload = pendings.hideTip[hideLen - 1];\n  }\n  if (actuallyPayload) {\n    actuallyPayload.dispatchAction = null;\n    api.dispatchAction(actuallyPayload);\n  }\n}\nfunction onLeave(record, e, dispatchAction) {\n  record.handler('leave', null, dispatchAction);\n}\nfunction doEnter(currTrigger, record, e, dispatchAction) {\n  record.handler(currTrigger, e, dispatchAction);\n}\nfunction makeDispatchAction(api) {\n  var pendings = {\n    showTip: [],\n    hideTip: []\n  };\n  // FIXME\n  // better approach?\n  // 'showTip' and 'hideTip' can be triggered by axisPointer and tooltip,\n  // which may be conflict, (axisPointer call showTip but tooltip call hideTip);\n  // So we have to add \"final stage\" to merge those dispatched actions.\n  var dispatchAction = function (payload) {\n    var pendingList = pendings[payload.type];\n    if (pendingList) {\n      pendingList.push(payload);\n    } else {\n      payload.dispatchAction = dispatchAction;\n      api.dispatchAction(payload);\n    }\n  };\n  return {\n    dispatchAction: dispatchAction,\n    pendings: pendings\n  };\n}\nexport function unregister(key, api) {\n  if (env.node) {\n    return;\n  }\n  var zr = api.getZr();\n  var record = (inner(zr).records || {})[key];\n  if (record) {\n    inner(zr).records[key] = null;\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport BaseAxisPointer from './BaseAxisPointer.js';\nimport * as viewHelper from './viewHelper.js';\nimport * as cartesianAxisHelper from '../../coord/cartesian/cartesianAxisHelper.js';\nvar CartesianAxisPointer = /** @class */function (_super) {\n  __extends(CartesianAxisPointer, _super);\n  function CartesianAxisPointer() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * @override\n   */\n  CartesianAxisPointer.prototype.makeElOption = function (elOption, value, axisModel, axisPointerModel, api) {\n    var axis = axisModel.axis;\n    var grid = axis.grid;\n    var axisPointerType = axisPointerModel.get('type');\n    var otherExtent = getCartesian(grid, axis).getOtherAxis(axis).getGlobalExtent();\n    var pixelValue = axis.toGlobalCoord(axis.dataToCoord(value, true));\n    if (axisPointerType && axisPointerType !== 'none') {\n      var elStyle = viewHelper.buildElStyle(axisPointerModel);\n      var pointerOption = pointerShapeBuilder[axisPointerType](axis, pixelValue, otherExtent);\n      pointerOption.style = elStyle;\n      elOption.graphicKey = pointerOption.type;\n      elOption.pointer = pointerOption;\n    }\n    var layoutInfo = cartesianAxisHelper.layout(grid.model, axisModel);\n    viewHelper.buildCartesianSingleLabelElOption(\n    // @ts-ignore\n    value, elOption, layoutInfo, axisModel, axisPointerModel, api);\n  };\n  /**\n   * @override\n   */\n  CartesianAxisPointer.prototype.getHandleTransform = function (value, axisModel, axisPointerModel) {\n    var layoutInfo = cartesianAxisHelper.layout(axisModel.axis.grid.model, axisModel, {\n      labelInside: false\n    });\n    // @ts-ignore\n    layoutInfo.labelMargin = axisPointerModel.get(['handle', 'margin']);\n    var pos = viewHelper.getTransformedPosition(axisModel.axis, value, layoutInfo);\n    return {\n      x: pos[0],\n      y: pos[1],\n      rotation: layoutInfo.rotation + (layoutInfo.labelDirection < 0 ? Math.PI : 0)\n    };\n  };\n  /**\n   * @override\n   */\n  CartesianAxisPointer.prototype.updateHandleTransform = function (transform, delta, axisModel, axisPointerModel) {\n    var axis = axisModel.axis;\n    var grid = axis.grid;\n    var axisExtent = axis.getGlobalExtent(true);\n    var otherExtent = getCartesian(grid, axis).getOtherAxis(axis).getGlobalExtent();\n    var dimIndex = axis.dim === 'x' ? 0 : 1;\n    var currPosition = [transform.x, transform.y];\n    currPosition[dimIndex] += delta[dimIndex];\n    currPosition[dimIndex] = Math.min(axisExtent[1], currPosition[dimIndex]);\n    currPosition[dimIndex] = Math.max(axisExtent[0], currPosition[dimIndex]);\n    var cursorOtherValue = (otherExtent[1] + otherExtent[0]) / 2;\n    var cursorPoint = [cursorOtherValue, cursorOtherValue];\n    cursorPoint[dimIndex] = currPosition[dimIndex];\n    // Make tooltip do not overlap axisPointer and in the middle of the grid.\n    var tooltipOptions = [{\n      verticalAlign: 'middle'\n    }, {\n      align: 'center'\n    }];\n    return {\n      x: currPosition[0],\n      y: currPosition[1],\n      rotation: transform.rotation,\n      cursorPoint: cursorPoint,\n      tooltipOption: tooltipOptions[dimIndex]\n    };\n  };\n  return CartesianAxisPointer;\n}(BaseAxisPointer);\nfunction getCartesian(grid, axis) {\n  var opt = {};\n  opt[axis.dim + 'AxisIndex'] = axis.index;\n  return grid.getCartesian(opt);\n}\nvar pointerShapeBuilder = {\n  line: function (axis, pixelValue, otherExtent) {\n    var targetShape = viewHelper.makeLineShape([pixelValue, otherExtent[0]], [pixelValue, otherExtent[1]], getAxisDimIndex(axis));\n    return {\n      type: 'Line',\n      subPixelOptimize: true,\n      shape: targetShape\n    };\n  },\n  shadow: function (axis, pixelValue, otherExtent) {\n    var bandWidth = Math.max(1, axis.getBandWidth());\n    var span = otherExtent[1] - otherExtent[0];\n    return {\n      type: 'Rect',\n      shape: viewHelper.makeRectShape([pixelValue - bandWidth / 2, otherExtent[0]], [bandWidth, span], getAxisDimIndex(axis))\n    };\n  }\n};\nfunction getAxisDimIndex(axis) {\n  return axis.dim === 'x' ? 0 : 1;\n}\nexport default CartesianAxisPointer;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentModel from '../../model/Component.js';\nvar AxisPointerModel = /** @class */function (_super) {\n  __extends(AxisPointerModel, _super);\n  function AxisPointerModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = AxisPointerModel.type;\n    return _this;\n  }\n  AxisPointerModel.type = 'axisPointer';\n  AxisPointerModel.defaultOption = {\n    // 'auto' means that show when triggered by tooltip or handle.\n    show: 'auto',\n    // zlevel: 0,\n    z: 50,\n    type: 'line',\n    // axispointer triggered by tootip determine snap automatically,\n    // see `modelHelper`.\n    snap: false,\n    triggerTooltip: true,\n    triggerEmphasis: true,\n    value: null,\n    status: null,\n    link: [],\n    // Do not set 'auto' here, otherwise global animation: false\n    // will not effect at this axispointer.\n    animation: null,\n    animationDurationUpdate: 200,\n    lineStyle: {\n      color: '#B9BEC9',\n      width: 1,\n      type: 'dashed'\n    },\n    shadowStyle: {\n      color: 'rgba(210,219,238,0.2)'\n    },\n    label: {\n      show: true,\n      formatter: null,\n      precision: 'auto',\n      margin: 3,\n      color: '#fff',\n      padding: [5, 7, 5, 7],\n      backgroundColor: 'auto',\n      borderColor: null,\n      borderWidth: 0,\n      borderRadius: 3\n    },\n    handle: {\n      show: false,\n      // eslint-disable-next-line\n      icon: 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z',\n      size: 45,\n      // handle margin is from symbol center to axis, which is stable when circular move.\n      margin: 50,\n      // color: '#1b8bbd'\n      // color: '#2f4554'\n      color: '#333',\n      shadowBlur: 3,\n      shadowColor: '#aaa',\n      shadowOffsetX: 0,\n      shadowOffsetY: 2,\n      // For mobile performance\n      throttle: 40\n    }\n  };\n  return AxisPointerModel;\n}(ComponentModel);\nexport default AxisPointerModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as globalListener from './globalListener.js';\nimport ComponentView from '../../view/Component.js';\nvar AxisPointerView = /** @class */function (_super) {\n  __extends(AxisPointerView, _super);\n  function AxisPointerView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = AxisPointerView.type;\n    return _this;\n  }\n  AxisPointerView.prototype.render = function (globalAxisPointerModel, ecModel, api) {\n    var globalTooltipModel = ecModel.getComponent('tooltip');\n    var triggerOn = globalAxisPointerModel.get('triggerOn') || globalTooltipModel && globalTooltipModel.get('triggerOn') || 'mousemove|click';\n    // Register global listener in AxisPointerView to enable\n    // AxisPointerView to be independent to Tooltip.\n    globalListener.register('axisPointer', api, function (currTrigger, e, dispatchAction) {\n      // If 'none', it is not controlled by mouse totally.\n      if (triggerOn !== 'none' && (currTrigger === 'leave' || triggerOn.indexOf(currTrigger) >= 0)) {\n        dispatchAction({\n          type: 'updateAxisPointer',\n          currTrigger: currTrigger,\n          x: e && e.offsetX,\n          y: e && e.offsetY\n        });\n      }\n    });\n  };\n  AxisPointerView.prototype.remove = function (ecModel, api) {\n    globalListener.unregister('axisPointer', api);\n  };\n  AxisPointerView.prototype.dispose = function (ecModel, api) {\n    globalListener.unregister('axisPointer', api);\n  };\n  AxisPointerView.type = 'axisPointer';\n  return AxisPointerView;\n}(ComponentView);\nexport default AxisPointerView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { makeInner } from '../../util/model.js';\nimport * as modelHelper from './modelHelper.js';\nimport findPointFromSeries from './findPointFromSeries.js';\nimport { each, curry, bind, extend } from 'zrender/lib/core/util.js';\nvar inner = makeInner();\n/**\n * Basic logic: check all axis, if they do not demand show/highlight,\n * then hide/downplay them.\n *\n * @return content of event obj for echarts.connect.\n */\nexport default function axisTrigger(payload, ecModel, api) {\n  var currTrigger = payload.currTrigger;\n  var point = [payload.x, payload.y];\n  var finder = payload;\n  var dispatchAction = payload.dispatchAction || bind(api.dispatchAction, api);\n  var coordSysAxesInfo = ecModel.getComponent('axisPointer').coordSysAxesInfo;\n  // Pending\n  // See #6121. But we are not able to reproduce it yet.\n  if (!coordSysAxesInfo) {\n    return;\n  }\n  if (illegalPoint(point)) {\n    // Used in the default behavior of `connection`: use the sample seriesIndex\n    // and dataIndex. And also used in the tooltipView trigger.\n    point = findPointFromSeries({\n      seriesIndex: finder.seriesIndex,\n      // Do not use dataIndexInside from other ec instance.\n      // FIXME: auto detect it?\n      dataIndex: finder.dataIndex\n    }, ecModel).point;\n  }\n  var isIllegalPoint = illegalPoint(point);\n  // Axis and value can be specified when calling dispatchAction({type: 'updateAxisPointer'}).\n  // Notice: In this case, it is difficult to get the `point` (which is necessary to show\n  // tooltip, so if point is not given, we just use the point found by sample seriesIndex\n  // and dataIndex.\n  var inputAxesInfo = finder.axesInfo;\n  var axesInfo = coordSysAxesInfo.axesInfo;\n  var shouldHide = currTrigger === 'leave' || illegalPoint(point);\n  var outputPayload = {};\n  var showValueMap = {};\n  var dataByCoordSys = {\n    list: [],\n    map: {}\n  };\n  var updaters = {\n    showPointer: curry(showPointer, showValueMap),\n    showTooltip: curry(showTooltip, dataByCoordSys)\n  };\n  // Process for triggered axes.\n  each(coordSysAxesInfo.coordSysMap, function (coordSys, coordSysKey) {\n    // If a point given, it must be contained by the coordinate system.\n    var coordSysContainsPoint = isIllegalPoint || coordSys.containPoint(point);\n    each(coordSysAxesInfo.coordSysAxesInfo[coordSysKey], function (axisInfo, key) {\n      var axis = axisInfo.axis;\n      var inputAxisInfo = findInputAxisInfo(inputAxesInfo, axisInfo);\n      // If no inputAxesInfo, no axis is restricted.\n      if (!shouldHide && coordSysContainsPoint && (!inputAxesInfo || inputAxisInfo)) {\n        var val = inputAxisInfo && inputAxisInfo.value;\n        if (val == null && !isIllegalPoint) {\n          val = axis.pointToData(point);\n        }\n        val != null && processOnAxis(axisInfo, val, updaters, false, outputPayload);\n      }\n    });\n  });\n  // Process for linked axes.\n  var linkTriggers = {};\n  each(axesInfo, function (tarAxisInfo, tarKey) {\n    var linkGroup = tarAxisInfo.linkGroup;\n    // If axis has been triggered in the previous stage, it should not be triggered by link.\n    if (linkGroup && !showValueMap[tarKey]) {\n      each(linkGroup.axesInfo, function (srcAxisInfo, srcKey) {\n        var srcValItem = showValueMap[srcKey];\n        // If srcValItem exist, source axis is triggered, so link to target axis.\n        if (srcAxisInfo !== tarAxisInfo && srcValItem) {\n          var val = srcValItem.value;\n          linkGroup.mapper && (val = tarAxisInfo.axis.scale.parse(linkGroup.mapper(val, makeMapperParam(srcAxisInfo), makeMapperParam(tarAxisInfo))));\n          linkTriggers[tarAxisInfo.key] = val;\n        }\n      });\n    }\n  });\n  each(linkTriggers, function (val, tarKey) {\n    processOnAxis(axesInfo[tarKey], val, updaters, true, outputPayload);\n  });\n  updateModelActually(showValueMap, axesInfo, outputPayload);\n  dispatchTooltipActually(dataByCoordSys, point, payload, dispatchAction);\n  dispatchHighDownActually(axesInfo, dispatchAction, api);\n  return outputPayload;\n}\nfunction processOnAxis(axisInfo, newValue, updaters, noSnap, outputFinder) {\n  var axis = axisInfo.axis;\n  if (axis.scale.isBlank() || !axis.containData(newValue)) {\n    return;\n  }\n  if (!axisInfo.involveSeries) {\n    updaters.showPointer(axisInfo, newValue);\n    return;\n  }\n  // Heavy calculation. So put it after axis.containData checking.\n  var payloadInfo = buildPayloadsBySeries(newValue, axisInfo);\n  var payloadBatch = payloadInfo.payloadBatch;\n  var snapToValue = payloadInfo.snapToValue;\n  // Fill content of event obj for echarts.connect.\n  // By default use the first involved series data as a sample to connect.\n  if (payloadBatch[0] && outputFinder.seriesIndex == null) {\n    extend(outputFinder, payloadBatch[0]);\n  }\n  // If no linkSource input, this process is for collecting link\n  // target, where snap should not be accepted.\n  if (!noSnap && axisInfo.snap) {\n    if (axis.containData(snapToValue) && snapToValue != null) {\n      newValue = snapToValue;\n    }\n  }\n  updaters.showPointer(axisInfo, newValue, payloadBatch);\n  // Tooltip should always be snapToValue, otherwise there will be\n  // incorrect \"axis value ~ series value\" mapping displayed in tooltip.\n  updaters.showTooltip(axisInfo, payloadInfo, snapToValue);\n}\nfunction buildPayloadsBySeries(value, axisInfo) {\n  var axis = axisInfo.axis;\n  var dim = axis.dim;\n  var snapToValue = value;\n  var payloadBatch = [];\n  var minDist = Number.MAX_VALUE;\n  var minDiff = -1;\n  each(axisInfo.seriesModels, function (series, idx) {\n    var dataDim = series.getData().mapDimensionsAll(dim);\n    var seriesNestestValue;\n    var dataIndices;\n    if (series.getAxisTooltipData) {\n      var result = series.getAxisTooltipData(dataDim, value, axis);\n      dataIndices = result.dataIndices;\n      seriesNestestValue = result.nestestValue;\n    } else {\n      dataIndices = series.getData().indicesOfNearest(dataDim[0], value,\n      // Add a threshold to avoid find the wrong dataIndex\n      // when data length is not same.\n      // false,\n      axis.type === 'category' ? 0.5 : null);\n      if (!dataIndices.length) {\n        return;\n      }\n      seriesNestestValue = series.getData().get(dataDim[0], dataIndices[0]);\n    }\n    if (seriesNestestValue == null || !isFinite(seriesNestestValue)) {\n      return;\n    }\n    var diff = value - seriesNestestValue;\n    var dist = Math.abs(diff);\n    // Consider category case\n    if (dist <= minDist) {\n      if (dist < minDist || diff >= 0 && minDiff < 0) {\n        minDist = dist;\n        minDiff = diff;\n        snapToValue = seriesNestestValue;\n        payloadBatch.length = 0;\n      }\n      each(dataIndices, function (dataIndex) {\n        payloadBatch.push({\n          seriesIndex: series.seriesIndex,\n          dataIndexInside: dataIndex,\n          dataIndex: series.getData().getRawIndex(dataIndex)\n        });\n      });\n    }\n  });\n  return {\n    payloadBatch: payloadBatch,\n    snapToValue: snapToValue\n  };\n}\nfunction showPointer(showValueMap, axisInfo, value, payloadBatch) {\n  showValueMap[axisInfo.key] = {\n    value: value,\n    payloadBatch: payloadBatch\n  };\n}\nfunction showTooltip(dataByCoordSys, axisInfo, payloadInfo, value) {\n  var payloadBatch = payloadInfo.payloadBatch;\n  var axis = axisInfo.axis;\n  var axisModel = axis.model;\n  var axisPointerModel = axisInfo.axisPointerModel;\n  // If no data, do not create anything in dataByCoordSys,\n  // whose length will be used to judge whether dispatch action.\n  if (!axisInfo.triggerTooltip || !payloadBatch.length) {\n    return;\n  }\n  var coordSysModel = axisInfo.coordSys.model;\n  var coordSysKey = modelHelper.makeKey(coordSysModel);\n  var coordSysItem = dataByCoordSys.map[coordSysKey];\n  if (!coordSysItem) {\n    coordSysItem = dataByCoordSys.map[coordSysKey] = {\n      coordSysId: coordSysModel.id,\n      coordSysIndex: coordSysModel.componentIndex,\n      coordSysType: coordSysModel.type,\n      coordSysMainType: coordSysModel.mainType,\n      dataByAxis: []\n    };\n    dataByCoordSys.list.push(coordSysItem);\n  }\n  coordSysItem.dataByAxis.push({\n    axisDim: axis.dim,\n    axisIndex: axisModel.componentIndex,\n    axisType: axisModel.type,\n    axisId: axisModel.id,\n    value: value,\n    // Caustion: viewHelper.getValueLabel is actually on \"view stage\", which\n    // depends that all models have been updated. So it should not be performed\n    // here. Considering axisPointerModel used here is volatile, which is hard\n    // to be retrieve in TooltipView, we prepare parameters here.\n    valueLabelOpt: {\n      precision: axisPointerModel.get(['label', 'precision']),\n      formatter: axisPointerModel.get(['label', 'formatter'])\n    },\n    seriesDataIndices: payloadBatch.slice()\n  });\n}\nfunction updateModelActually(showValueMap, axesInfo, outputPayload) {\n  var outputAxesInfo = outputPayload.axesInfo = [];\n  // Basic logic: If no 'show' required, 'hide' this axisPointer.\n  each(axesInfo, function (axisInfo, key) {\n    var option = axisInfo.axisPointerModel.option;\n    var valItem = showValueMap[key];\n    if (valItem) {\n      !axisInfo.useHandle && (option.status = 'show');\n      option.value = valItem.value;\n      // For label formatter param and highlight.\n      option.seriesDataIndices = (valItem.payloadBatch || []).slice();\n    }\n    // When always show (e.g., handle used), remain\n    // original value and status.\n    else {\n      // If hide, value still need to be set, consider\n      // click legend to toggle axis blank.\n      !axisInfo.useHandle && (option.status = 'hide');\n    }\n    // If status is 'hide', should be no info in payload.\n    option.status === 'show' && outputAxesInfo.push({\n      axisDim: axisInfo.axis.dim,\n      axisIndex: axisInfo.axis.model.componentIndex,\n      value: option.value\n    });\n  });\n}\nfunction dispatchTooltipActually(dataByCoordSys, point, payload, dispatchAction) {\n  // Basic logic: If no showTip required, hideTip will be dispatched.\n  if (illegalPoint(point) || !dataByCoordSys.list.length) {\n    dispatchAction({\n      type: 'hideTip'\n    });\n    return;\n  }\n  // In most case only one axis (or event one series is used). It is\n  // convenient to fetch payload.seriesIndex and payload.dataIndex\n  // directly. So put the first seriesIndex and dataIndex of the first\n  // axis on the payload.\n  var sampleItem = ((dataByCoordSys.list[0].dataByAxis[0] || {}).seriesDataIndices || [])[0] || {};\n  dispatchAction({\n    type: 'showTip',\n    escapeConnect: true,\n    x: point[0],\n    y: point[1],\n    tooltipOption: payload.tooltipOption,\n    position: payload.position,\n    dataIndexInside: sampleItem.dataIndexInside,\n    dataIndex: sampleItem.dataIndex,\n    seriesIndex: sampleItem.seriesIndex,\n    dataByCoordSys: dataByCoordSys.list\n  });\n}\nfunction dispatchHighDownActually(axesInfo, dispatchAction, api) {\n  // FIXME\n  // highlight status modification should be a stage of main process?\n  // (Consider confilct (e.g., legend and axisPointer) and setOption)\n  var zr = api.getZr();\n  var highDownKey = 'axisPointerLastHighlights';\n  var lastHighlights = inner(zr)[highDownKey] || {};\n  var newHighlights = inner(zr)[highDownKey] = {};\n  // Update highlight/downplay status according to axisPointer model.\n  // Build hash map and remove duplicate incidentally.\n  each(axesInfo, function (axisInfo, key) {\n    var option = axisInfo.axisPointerModel.option;\n    option.status === 'show' && axisInfo.triggerEmphasis && each(option.seriesDataIndices, function (batchItem) {\n      var key = batchItem.seriesIndex + ' | ' + batchItem.dataIndex;\n      newHighlights[key] = batchItem;\n    });\n  });\n  // Diff.\n  var toHighlight = [];\n  var toDownplay = [];\n  each(lastHighlights, function (batchItem, key) {\n    !newHighlights[key] && toDownplay.push(batchItem);\n  });\n  each(newHighlights, function (batchItem, key) {\n    !lastHighlights[key] && toHighlight.push(batchItem);\n  });\n  toDownplay.length && api.dispatchAction({\n    type: 'downplay',\n    escapeConnect: true,\n    // Not blur others when highlight in axisPointer.\n    notBlur: true,\n    batch: toDownplay\n  });\n  toHighlight.length && api.dispatchAction({\n    type: 'highlight',\n    escapeConnect: true,\n    // Not blur others when highlight in axisPointer.\n    notBlur: true,\n    batch: toHighlight\n  });\n}\nfunction findInputAxisInfo(inputAxesInfo, axisInfo) {\n  for (var i = 0; i < (inputAxesInfo || []).length; i++) {\n    var inputAxisInfo = inputAxesInfo[i];\n    if (axisInfo.axis.dim === inputAxisInfo.axisDim && axisInfo.axis.model.componentIndex === inputAxisInfo.axisIndex) {\n      return inputAxisInfo;\n    }\n  }\n}\nfunction makeMapperParam(axisInfo) {\n  var axisModel = axisInfo.axis.model;\n  var item = {};\n  var dim = item.axisDim = axisInfo.axis.dim;\n  item.axisIndex = item[dim + 'AxisIndex'] = axisModel.componentIndex;\n  item.axisName = item[dim + 'AxisName'] = axisModel.name;\n  item.axisId = item[dim + 'AxisId'] = axisModel.id;\n  return item;\n}\nfunction illegalPoint(point) {\n  return !point || point[0] == null || isNaN(point[0]) || point[1] == null || isNaN(point[1]);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport AxisView from '../axis/AxisView.js';\nimport CartesianAxisPointer from './CartesianAxisPointer.js';\nimport AxisPointerModel from './AxisPointerModel.js';\nimport AxisPointerView from './AxisPointerView.js';\nimport { isArray } from 'zrender/lib/core/util.js';\nimport { collect } from './modelHelper.js';\nimport axisTrigger from './axisTrigger.js';\nexport function install(registers) {\n  // CartesianAxisPointer is not supposed to be required here. But consider\n  // echarts.simple.js and online build tooltip, which only require gridSimple,\n  // CartesianAxisPointer should be able to required somewhere.\n  AxisView.registerAxisPointerClass('CartesianAxisPointer', CartesianAxisPointer);\n  registers.registerComponentModel(AxisPointerModel);\n  registers.registerComponentView(AxisPointerView);\n  registers.registerPreprocessor(function (option) {\n    // Always has a global axisPointerModel for default setting.\n    if (option) {\n      (!option.axisPointer || option.axisPointer.length === 0) && (option.axisPointer = {});\n      var link = option.axisPointer.link;\n      // Normalize to array to avoid object mergin. But if link\n      // is not set, remain null/undefined, otherwise it will\n      // override existent link setting.\n      if (link && !isArray(link)) {\n        option.axisPointer.link = [link];\n      }\n    }\n  });\n  // This process should proformed after coordinate systems created\n  // and series data processed. So put it on statistic processing stage.\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.STATISTIC, function (ecModel, api) {\n    // Build axisPointerModel, mergin tooltip.axisPointer model for each axis.\n    // allAxesInfo should be updated when setOption performed.\n    ecModel.getComponent('axisPointer').coordSysAxesInfo = collect(ecModel, api);\n  });\n  // Broadcast to all views.\n  registers.registerAction({\n    type: 'updateAxisPointer',\n    event: 'updateAxisPointer',\n    update: ':updateAxisPointer'\n  }, axisTrigger);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport Model from '../../model/Model.js';\nimport { each, curry, clone, defaults, isArray, indexOf } from 'zrender/lib/core/util.js';\n// Build axisPointerModel, mergin tooltip.axisPointer model for each axis.\n// allAxesInfo should be updated when setOption performed.\nexport function collect(ecModel, api) {\n  var result = {\n    /**\n     * key: makeKey(axis.model)\n     * value: {\n     *      axis,\n     *      coordSys,\n     *      axisPointerModel,\n     *      triggerTooltip,\n     *      triggerEmphasis,\n     *      involveSeries,\n     *      snap,\n     *      seriesModels,\n     *      seriesDataCount\n     * }\n     */\n    axesInfo: {},\n    seriesInvolved: false,\n    /**\n     * key: makeKey(coordSys.model)\n     * value: Object: key makeKey(axis.model), value: axisInfo\n     */\n    coordSysAxesInfo: {},\n    coordSysMap: {}\n  };\n  collectAxesInfo(result, ecModel, api);\n  // Check seriesInvolved for performance, in case too many series in some chart.\n  result.seriesInvolved && collectSeriesInfo(result, ecModel);\n  return result;\n}\nfunction collectAxesInfo(result, ecModel, api) {\n  var globalTooltipModel = ecModel.getComponent('tooltip');\n  var globalAxisPointerModel = ecModel.getComponent('axisPointer');\n  // links can only be set on global.\n  var linksOption = globalAxisPointerModel.get('link', true) || [];\n  var linkGroups = [];\n  // Collect axes info.\n  each(api.getCoordinateSystems(), function (coordSys) {\n    // Some coordinate system do not support axes, like geo.\n    if (!coordSys.axisPointerEnabled) {\n      return;\n    }\n    var coordSysKey = makeKey(coordSys.model);\n    var axesInfoInCoordSys = result.coordSysAxesInfo[coordSysKey] = {};\n    result.coordSysMap[coordSysKey] = coordSys;\n    // Set tooltip (like 'cross') is a convenient way to show axisPointer\n    // for user. So we enable setting tooltip on coordSys model.\n    var coordSysModel = coordSys.model;\n    var baseTooltipModel = coordSysModel.getModel('tooltip', globalTooltipModel);\n    each(coordSys.getAxes(), curry(saveTooltipAxisInfo, false, null));\n    // If axis tooltip used, choose tooltip axis for each coordSys.\n    // Notice this case: coordSys is `grid` but not `cartesian2D` here.\n    if (coordSys.getTooltipAxes && globalTooltipModel\n    // If tooltip.showContent is set as false, tooltip will not\n    // show but axisPointer will show as normal.\n    && baseTooltipModel.get('show')) {\n      // Compatible with previous logic. But series.tooltip.trigger: 'axis'\n      // or series.data[n].tooltip.trigger: 'axis' are not support any more.\n      var triggerAxis = baseTooltipModel.get('trigger') === 'axis';\n      var cross = baseTooltipModel.get(['axisPointer', 'type']) === 'cross';\n      var tooltipAxes = coordSys.getTooltipAxes(baseTooltipModel.get(['axisPointer', 'axis']));\n      if (triggerAxis || cross) {\n        each(tooltipAxes.baseAxes, curry(saveTooltipAxisInfo, cross ? 'cross' : true, triggerAxis));\n      }\n      if (cross) {\n        each(tooltipAxes.otherAxes, curry(saveTooltipAxisInfo, 'cross', false));\n      }\n    }\n    // fromTooltip: true | false | 'cross'\n    // triggerTooltip: true | false | null\n    function saveTooltipAxisInfo(fromTooltip, triggerTooltip, axis) {\n      var axisPointerModel = axis.model.getModel('axisPointer', globalAxisPointerModel);\n      var axisPointerShow = axisPointerModel.get('show');\n      if (!axisPointerShow || axisPointerShow === 'auto' && !fromTooltip && !isHandleTrigger(axisPointerModel)) {\n        return;\n      }\n      if (triggerTooltip == null) {\n        triggerTooltip = axisPointerModel.get('triggerTooltip');\n      }\n      axisPointerModel = fromTooltip ? makeAxisPointerModel(axis, baseTooltipModel, globalAxisPointerModel, ecModel, fromTooltip, triggerTooltip) : axisPointerModel;\n      var snap = axisPointerModel.get('snap');\n      var triggerEmphasis = axisPointerModel.get('triggerEmphasis');\n      var axisKey = makeKey(axis.model);\n      var involveSeries = triggerTooltip || snap || axis.type === 'category';\n      // If result.axesInfo[key] exist, override it (tooltip has higher priority).\n      var axisInfo = result.axesInfo[axisKey] = {\n        key: axisKey,\n        axis: axis,\n        coordSys: coordSys,\n        axisPointerModel: axisPointerModel,\n        triggerTooltip: triggerTooltip,\n        triggerEmphasis: triggerEmphasis,\n        involveSeries: involveSeries,\n        snap: snap,\n        useHandle: isHandleTrigger(axisPointerModel),\n        seriesModels: [],\n        linkGroup: null\n      };\n      axesInfoInCoordSys[axisKey] = axisInfo;\n      result.seriesInvolved = result.seriesInvolved || involveSeries;\n      var groupIndex = getLinkGroupIndex(linksOption, axis);\n      if (groupIndex != null) {\n        var linkGroup = linkGroups[groupIndex] || (linkGroups[groupIndex] = {\n          axesInfo: {}\n        });\n        linkGroup.axesInfo[axisKey] = axisInfo;\n        linkGroup.mapper = linksOption[groupIndex].mapper;\n        axisInfo.linkGroup = linkGroup;\n      }\n    }\n  });\n}\nfunction makeAxisPointerModel(axis, baseTooltipModel, globalAxisPointerModel, ecModel, fromTooltip, triggerTooltip) {\n  var tooltipAxisPointerModel = baseTooltipModel.getModel('axisPointer');\n  var fields = ['type', 'snap', 'lineStyle', 'shadowStyle', 'label', 'animation', 'animationDurationUpdate', 'animationEasingUpdate', 'z'];\n  var volatileOption = {};\n  each(fields, function (field) {\n    volatileOption[field] = clone(tooltipAxisPointerModel.get(field));\n  });\n  // category axis do not auto snap, otherwise some tick that do not\n  // has value can not be hovered. value/time/log axis default snap if\n  // triggered from tooltip and trigger tooltip.\n  volatileOption.snap = axis.type !== 'category' && !!triggerTooltip;\n  // Compatible with previous behavior, tooltip axis does not show label by default.\n  // Only these properties can be overridden from tooltip to axisPointer.\n  if (tooltipAxisPointerModel.get('type') === 'cross') {\n    volatileOption.type = 'line';\n  }\n  var labelOption = volatileOption.label || (volatileOption.label = {});\n  // Follow the convention, do not show label when triggered by tooltip by default.\n  labelOption.show == null && (labelOption.show = false);\n  if (fromTooltip === 'cross') {\n    // When 'cross', both axes show labels.\n    var tooltipAxisPointerLabelShow = tooltipAxisPointerModel.get(['label', 'show']);\n    labelOption.show = tooltipAxisPointerLabelShow != null ? tooltipAxisPointerLabelShow : true;\n    // If triggerTooltip, this is a base axis, which should better not use cross style\n    // (cross style is dashed by default)\n    if (!triggerTooltip) {\n      var crossStyle = volatileOption.lineStyle = tooltipAxisPointerModel.get('crossStyle');\n      crossStyle && defaults(labelOption, crossStyle.textStyle);\n    }\n  }\n  return axis.model.getModel('axisPointer', new Model(volatileOption, globalAxisPointerModel, ecModel));\n}\nfunction collectSeriesInfo(result, ecModel) {\n  // Prepare data for axis trigger\n  ecModel.eachSeries(function (seriesModel) {\n    // Notice this case: this coordSys is `cartesian2D` but not `grid`.\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesTooltipTrigger = seriesModel.get(['tooltip', 'trigger'], true);\n    var seriesTooltipShow = seriesModel.get(['tooltip', 'show'], true);\n    if (!coordSys || seriesTooltipTrigger === 'none' || seriesTooltipTrigger === false || seriesTooltipTrigger === 'item' || seriesTooltipShow === false || seriesModel.get(['axisPointer', 'show'], true) === false) {\n      return;\n    }\n    each(result.coordSysAxesInfo[makeKey(coordSys.model)], function (axisInfo) {\n      var axis = axisInfo.axis;\n      if (coordSys.getAxis(axis.dim) === axis) {\n        axisInfo.seriesModels.push(seriesModel);\n        axisInfo.seriesDataCount == null && (axisInfo.seriesDataCount = 0);\n        axisInfo.seriesDataCount += seriesModel.getData().count();\n      }\n    });\n  });\n}\n/**\n * For example:\n * {\n *     axisPointer: {\n *         links: [{\n *             xAxisIndex: [2, 4],\n *             yAxisIndex: 'all'\n *         }, {\n *             xAxisId: ['a5', 'a7'],\n *             xAxisName: 'xxx'\n *         }]\n *     }\n * }\n */\nfunction getLinkGroupIndex(linksOption, axis) {\n  var axisModel = axis.model;\n  var dim = axis.dim;\n  for (var i = 0; i < linksOption.length; i++) {\n    var linkOption = linksOption[i] || {};\n    if (checkPropInLink(linkOption[dim + 'AxisId'], axisModel.id) || checkPropInLink(linkOption[dim + 'AxisIndex'], axisModel.componentIndex) || checkPropInLink(linkOption[dim + 'AxisName'], axisModel.name)) {\n      return i;\n    }\n  }\n}\nfunction checkPropInLink(linkPropValue, axisPropValue) {\n  return linkPropValue === 'all' || isArray(linkPropValue) && indexOf(linkPropValue, axisPropValue) >= 0 || linkPropValue === axisPropValue;\n}\nexport function fixValue(axisModel) {\n  var axisInfo = getAxisInfo(axisModel);\n  if (!axisInfo) {\n    return;\n  }\n  var axisPointerModel = axisInfo.axisPointerModel;\n  var scale = axisInfo.axis.scale;\n  var option = axisPointerModel.option;\n  var status = axisPointerModel.get('status');\n  var value = axisPointerModel.get('value');\n  // Parse init value for category and time axis.\n  if (value != null) {\n    value = scale.parse(value);\n  }\n  var useHandle = isHandleTrigger(axisPointerModel);\n  // If `handle` used, `axisPointer` will always be displayed, so value\n  // and status should be initialized.\n  if (status == null) {\n    option.status = useHandle ? 'show' : 'hide';\n  }\n  var extent = scale.getExtent().slice();\n  extent[0] > extent[1] && extent.reverse();\n  if (\n  // Pick a value on axis when initializing.\n  value == null\n  // If both `handle` and `dataZoom` are used, value may be out of axis extent,\n  // where we should re-pick a value to keep `handle` displaying normally.\n  || value > extent[1]) {\n    // Make handle displayed on the end of the axis when init, which looks better.\n    value = extent[1];\n  }\n  if (value < extent[0]) {\n    value = extent[0];\n  }\n  option.value = value;\n  if (useHandle) {\n    option.status = axisInfo.axis.scale.isBlank() ? 'hide' : 'show';\n  }\n}\nexport function getAxisInfo(axisModel) {\n  var coordSysAxesInfo = (axisModel.ecModel.getComponent('axisPointer') || {}).coordSysAxesInfo;\n  return coordSysAxesInfo && coordSysAxesInfo.axesInfo[makeKey(axisModel)];\n}\nexport function getAxisPointerModel(axisModel) {\n  var axisInfo = getAxisInfo(axisModel);\n  return axisInfo && axisInfo.axisPointerModel;\n}\nfunction isHandleTrigger(axisPointerModel) {\n  return !!axisPointerModel.get(['handle', 'show']);\n}\n/**\n * @param {module:echarts/model/Model} model\n * @return {string} unique key\n */\nexport function makeKey(model) {\n  return model.type + '||' + model.id;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as textContain from 'zrender/lib/contain/text.js';\nimport * as formatUtil from '../../util/format.js';\nimport * as matrix from 'zrender/lib/core/matrix.js';\nimport * as axisHelper from '../../coord/axisHelper.js';\nimport AxisBuilder from '../axis/AxisBuilder.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nexport function buildElStyle(axisPointerModel) {\n  var axisPointerType = axisPointerModel.get('type');\n  var styleModel = axisPointerModel.getModel(axisPointerType + 'Style');\n  var style;\n  if (axisPointerType === 'line') {\n    style = styleModel.getLineStyle();\n    style.fill = null;\n  } else if (axisPointerType === 'shadow') {\n    style = styleModel.getAreaStyle();\n    style.stroke = null;\n  }\n  return style;\n}\n/**\n * @param {Function} labelPos {align, verticalAlign, position}\n */\nexport function buildLabelElOption(elOption, axisModel, axisPointerModel, api, labelPos) {\n  var value = axisPointerModel.get('value');\n  var text = getValueLabel(value, axisModel.axis, axisModel.ecModel, axisPointerModel.get('seriesDataIndices'), {\n    precision: axisPointerModel.get(['label', 'precision']),\n    formatter: axisPointerModel.get(['label', 'formatter'])\n  });\n  var labelModel = axisPointerModel.getModel('label');\n  var paddings = formatUtil.normalizeCssArray(labelModel.get('padding') || 0);\n  var font = labelModel.getFont();\n  var textRect = textContain.getBoundingRect(text, font);\n  var position = labelPos.position;\n  var width = textRect.width + paddings[1] + paddings[3];\n  var height = textRect.height + paddings[0] + paddings[2];\n  // Adjust by align.\n  var align = labelPos.align;\n  align === 'right' && (position[0] -= width);\n  align === 'center' && (position[0] -= width / 2);\n  var verticalAlign = labelPos.verticalAlign;\n  verticalAlign === 'bottom' && (position[1] -= height);\n  verticalAlign === 'middle' && (position[1] -= height / 2);\n  // Not overflow ec container\n  confineInContainer(position, width, height, api);\n  var bgColor = labelModel.get('backgroundColor');\n  if (!bgColor || bgColor === 'auto') {\n    bgColor = axisModel.get(['axisLine', 'lineStyle', 'color']);\n  }\n  elOption.label = {\n    // shape: {x: 0, y: 0, width: width, height: height, r: labelModel.get('borderRadius')},\n    x: position[0],\n    y: position[1],\n    style: createTextStyle(labelModel, {\n      text: text,\n      font: font,\n      fill: labelModel.getTextColor(),\n      padding: paddings,\n      backgroundColor: bgColor\n    }),\n    // Label should be over axisPointer.\n    z2: 10\n  };\n}\n// Do not overflow ec container\nfunction confineInContainer(position, width, height, api) {\n  var viewWidth = api.getWidth();\n  var viewHeight = api.getHeight();\n  position[0] = Math.min(position[0] + width, viewWidth) - width;\n  position[1] = Math.min(position[1] + height, viewHeight) - height;\n  position[0] = Math.max(position[0], 0);\n  position[1] = Math.max(position[1], 0);\n}\nexport function getValueLabel(value, axis, ecModel, seriesDataIndices, opt) {\n  value = axis.scale.parse(value);\n  var text = axis.scale.getLabel({\n    value: value\n  }, {\n    // If `precision` is set, width can be fixed (like '12.00500'), which\n    // helps to debounce when when moving label.\n    precision: opt.precision\n  });\n  var formatter = opt.formatter;\n  if (formatter) {\n    var params_1 = {\n      value: axisHelper.getAxisRawValue(axis, {\n        value: value\n      }),\n      axisDimension: axis.dim,\n      axisIndex: axis.index,\n      seriesData: []\n    };\n    zrUtil.each(seriesDataIndices, function (idxItem) {\n      var series = ecModel.getSeriesByIndex(idxItem.seriesIndex);\n      var dataIndex = idxItem.dataIndexInside;\n      var dataParams = series && series.getDataParams(dataIndex);\n      dataParams && params_1.seriesData.push(dataParams);\n    });\n    if (zrUtil.isString(formatter)) {\n      text = formatter.replace('{value}', text);\n    } else if (zrUtil.isFunction(formatter)) {\n      text = formatter(params_1);\n    }\n  }\n  return text;\n}\nexport function getTransformedPosition(axis, value, layoutInfo) {\n  var transform = matrix.create();\n  matrix.rotate(transform, transform, layoutInfo.rotation);\n  matrix.translate(transform, transform, layoutInfo.position);\n  return graphic.applyTransform([axis.dataToCoord(value), (layoutInfo.labelOffset || 0) + (layoutInfo.labelDirection || 1) * (layoutInfo.labelMargin || 0)], transform);\n}\nexport function buildCartesianSingleLabelElOption(value, elOption, layoutInfo, axisModel, axisPointerModel, api) {\n  // @ts-ignore\n  var textLayout = AxisBuilder.innerTextLayout(layoutInfo.rotation, 0, layoutInfo.labelDirection);\n  layoutInfo.labelMargin = axisPointerModel.get(['label', 'margin']);\n  buildLabelElOption(elOption, axisModel, axisPointerModel, api, {\n    position: getTransformedPosition(axisModel.axis, value, layoutInfo),\n    align: textLayout.textAlign,\n    verticalAlign: textLayout.textVerticalAlign\n  });\n}\nexport function makeLineShape(p1, p2, xDimIndex) {\n  xDimIndex = xDimIndex || 0;\n  return {\n    x1: p1[xDimIndex],\n    y1: p1[1 - xDimIndex],\n    x2: p2[xDimIndex],\n    y2: p2[1 - xDimIndex]\n  };\n}\nexport function makeRectShape(xy, wh, xDimIndex) {\n  xDimIndex = xDimIndex || 0;\n  return {\n    x: xy[xDimIndex],\n    y: xy[1 - xDimIndex],\n    width: wh[xDimIndex],\n    height: wh[1 - xDimIndex]\n  };\n}\nexport function makeSectorShape(cx, cy, r0, r, startAngle, endAngle) {\n  return {\n    cx: cx,\n    cy: cy,\n    r0: r0,\n    r: r,\n    startAngle: startAngle,\n    endAngle: endAngle,\n    clockwise: true\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nimport Model from '../../model/Model.js';\nimport AxisView from './AxisView.js';\nimport AxisBuilder from './AxisBuilder.js';\nimport { getECData } from '../../util/innerStore.js';\nvar elementList = ['axisLine', 'axisLabel', 'axisTick', 'minorTick', 'splitLine', 'minorSplitLine', 'splitArea'];\nfunction getAxisLineShape(polar, rExtent, angle) {\n  rExtent[1] > rExtent[0] && (rExtent = rExtent.slice().reverse());\n  var start = polar.coordToPoint([rExtent[0], angle]);\n  var end = polar.coordToPoint([rExtent[1], angle]);\n  return {\n    x1: start[0],\n    y1: start[1],\n    x2: end[0],\n    y2: end[1]\n  };\n}\nfunction getRadiusIdx(polar) {\n  var radiusAxis = polar.getRadiusAxis();\n  return radiusAxis.inverse ? 0 : 1;\n}\n// Remove the last tick which will overlap the first tick\nfunction fixAngleOverlap(list) {\n  var firstItem = list[0];\n  var lastItem = list[list.length - 1];\n  if (firstItem && lastItem && Math.abs(Math.abs(firstItem.coord - lastItem.coord) - 360) < 1e-4) {\n    list.pop();\n  }\n}\nvar AngleAxisView = /** @class */function (_super) {\n  __extends(AngleAxisView, _super);\n  function AngleAxisView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = AngleAxisView.type;\n    _this.axisPointerClass = 'PolarAxisPointer';\n    return _this;\n  }\n  AngleAxisView.prototype.render = function (angleAxisModel, ecModel) {\n    this.group.removeAll();\n    if (!angleAxisModel.get('show')) {\n      return;\n    }\n    var angleAxis = angleAxisModel.axis;\n    var polar = angleAxis.polar;\n    var radiusExtent = polar.getRadiusAxis().getExtent();\n    var ticksAngles = angleAxis.getTicksCoords();\n    var minorTickAngles = angleAxis.getMinorTicksCoords();\n    var labels = zrUtil.map(angleAxis.getViewLabels(), function (labelItem) {\n      labelItem = zrUtil.clone(labelItem);\n      var scale = angleAxis.scale;\n      var tickValue = scale.type === 'ordinal' ? scale.getRawOrdinalNumber(labelItem.tickValue) : labelItem.tickValue;\n      labelItem.coord = angleAxis.dataToCoord(tickValue);\n      return labelItem;\n    });\n    fixAngleOverlap(labels);\n    fixAngleOverlap(ticksAngles);\n    zrUtil.each(elementList, function (name) {\n      if (angleAxisModel.get([name, 'show']) && (!angleAxis.scale.isBlank() || name === 'axisLine')) {\n        angelAxisElementsBuilders[name](this.group, angleAxisModel, polar, ticksAngles, minorTickAngles, radiusExtent, labels);\n      }\n    }, this);\n  };\n  AngleAxisView.type = 'angleAxis';\n  return AngleAxisView;\n}(AxisView);\nvar angelAxisElementsBuilders = {\n  axisLine: function (group, angleAxisModel, polar, ticksAngles, minorTickAngles, radiusExtent) {\n    var lineStyleModel = angleAxisModel.getModel(['axisLine', 'lineStyle']);\n    var angleAxis = polar.getAngleAxis();\n    var RADIAN = Math.PI / 180;\n    var angleExtent = angleAxis.getExtent();\n    // extent id of the axis radius (r0 and r)\n    var rId = getRadiusIdx(polar);\n    var r0Id = rId ? 0 : 1;\n    var shape;\n    var shapeType = Math.abs(angleExtent[1] - angleExtent[0]) === 360 ? 'Circle' : 'Arc';\n    if (radiusExtent[r0Id] === 0) {\n      shape = new graphic[shapeType]({\n        shape: {\n          cx: polar.cx,\n          cy: polar.cy,\n          r: radiusExtent[rId],\n          startAngle: -angleExtent[0] * RADIAN,\n          endAngle: -angleExtent[1] * RADIAN,\n          clockwise: angleAxis.inverse\n        },\n        style: lineStyleModel.getLineStyle(),\n        z2: 1,\n        silent: true\n      });\n    } else {\n      shape = new graphic.Ring({\n        shape: {\n          cx: polar.cx,\n          cy: polar.cy,\n          r: radiusExtent[rId],\n          r0: radiusExtent[r0Id]\n        },\n        style: lineStyleModel.getLineStyle(),\n        z2: 1,\n        silent: true\n      });\n    }\n    shape.style.fill = null;\n    group.add(shape);\n  },\n  axisTick: function (group, angleAxisModel, polar, ticksAngles, minorTickAngles, radiusExtent) {\n    var tickModel = angleAxisModel.getModel('axisTick');\n    var tickLen = (tickModel.get('inside') ? -1 : 1) * tickModel.get('length');\n    var radius = radiusExtent[getRadiusIdx(polar)];\n    var lines = zrUtil.map(ticksAngles, function (tickAngleItem) {\n      return new graphic.Line({\n        shape: getAxisLineShape(polar, [radius, radius + tickLen], tickAngleItem.coord)\n      });\n    });\n    group.add(graphic.mergePath(lines, {\n      style: zrUtil.defaults(tickModel.getModel('lineStyle').getLineStyle(), {\n        stroke: angleAxisModel.get(['axisLine', 'lineStyle', 'color'])\n      })\n    }));\n  },\n  minorTick: function (group, angleAxisModel, polar, tickAngles, minorTickAngles, radiusExtent) {\n    if (!minorTickAngles.length) {\n      return;\n    }\n    var tickModel = angleAxisModel.getModel('axisTick');\n    var minorTickModel = angleAxisModel.getModel('minorTick');\n    var tickLen = (tickModel.get('inside') ? -1 : 1) * minorTickModel.get('length');\n    var radius = radiusExtent[getRadiusIdx(polar)];\n    var lines = [];\n    for (var i = 0; i < minorTickAngles.length; i++) {\n      for (var k = 0; k < minorTickAngles[i].length; k++) {\n        lines.push(new graphic.Line({\n          shape: getAxisLineShape(polar, [radius, radius + tickLen], minorTickAngles[i][k].coord)\n        }));\n      }\n    }\n    group.add(graphic.mergePath(lines, {\n      style: zrUtil.defaults(minorTickModel.getModel('lineStyle').getLineStyle(), zrUtil.defaults(tickModel.getLineStyle(), {\n        stroke: angleAxisModel.get(['axisLine', 'lineStyle', 'color'])\n      }))\n    }));\n  },\n  axisLabel: function (group, angleAxisModel, polar, ticksAngles, minorTickAngles, radiusExtent, labels) {\n    var rawCategoryData = angleAxisModel.getCategories(true);\n    var commonLabelModel = angleAxisModel.getModel('axisLabel');\n    var labelMargin = commonLabelModel.get('margin');\n    var triggerEvent = angleAxisModel.get('triggerEvent');\n    // Use length of ticksAngles because it may remove the last tick to avoid overlapping\n    zrUtil.each(labels, function (labelItem, idx) {\n      var labelModel = commonLabelModel;\n      var tickValue = labelItem.tickValue;\n      var r = radiusExtent[getRadiusIdx(polar)];\n      var p = polar.coordToPoint([r + labelMargin, labelItem.coord]);\n      var cx = polar.cx;\n      var cy = polar.cy;\n      var labelTextAlign = Math.abs(p[0] - cx) / r < 0.3 ? 'center' : p[0] > cx ? 'left' : 'right';\n      var labelTextVerticalAlign = Math.abs(p[1] - cy) / r < 0.3 ? 'middle' : p[1] > cy ? 'top' : 'bottom';\n      if (rawCategoryData && rawCategoryData[tickValue]) {\n        var rawCategoryItem = rawCategoryData[tickValue];\n        if (zrUtil.isObject(rawCategoryItem) && rawCategoryItem.textStyle) {\n          labelModel = new Model(rawCategoryItem.textStyle, commonLabelModel, commonLabelModel.ecModel);\n        }\n      }\n      var textEl = new graphic.Text({\n        silent: AxisBuilder.isLabelSilent(angleAxisModel),\n        style: createTextStyle(labelModel, {\n          x: p[0],\n          y: p[1],\n          fill: labelModel.getTextColor() || angleAxisModel.get(['axisLine', 'lineStyle', 'color']),\n          text: labelItem.formattedLabel,\n          align: labelTextAlign,\n          verticalAlign: labelTextVerticalAlign\n        })\n      });\n      group.add(textEl);\n      // Pack data for mouse event\n      if (triggerEvent) {\n        var eventData = AxisBuilder.makeAxisEventDataBase(angleAxisModel);\n        eventData.targetType = 'axisLabel';\n        eventData.value = labelItem.rawLabel;\n        getECData(textEl).eventData = eventData;\n      }\n    }, this);\n  },\n  splitLine: function (group, angleAxisModel, polar, ticksAngles, minorTickAngles, radiusExtent) {\n    var splitLineModel = angleAxisModel.getModel('splitLine');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var lineColors = lineStyleModel.get('color');\n    var lineCount = 0;\n    lineColors = lineColors instanceof Array ? lineColors : [lineColors];\n    var splitLines = [];\n    for (var i = 0; i < ticksAngles.length; i++) {\n      var colorIndex = lineCount++ % lineColors.length;\n      splitLines[colorIndex] = splitLines[colorIndex] || [];\n      splitLines[colorIndex].push(new graphic.Line({\n        shape: getAxisLineShape(polar, radiusExtent, ticksAngles[i].coord)\n      }));\n    }\n    // Simple optimization\n    // Batching the lines if color are the same\n    for (var i = 0; i < splitLines.length; i++) {\n      group.add(graphic.mergePath(splitLines[i], {\n        style: zrUtil.defaults({\n          stroke: lineColors[i % lineColors.length]\n        }, lineStyleModel.getLineStyle()),\n        silent: true,\n        z: angleAxisModel.get('z')\n      }));\n    }\n  },\n  minorSplitLine: function (group, angleAxisModel, polar, ticksAngles, minorTickAngles, radiusExtent) {\n    if (!minorTickAngles.length) {\n      return;\n    }\n    var minorSplitLineModel = angleAxisModel.getModel('minorSplitLine');\n    var lineStyleModel = minorSplitLineModel.getModel('lineStyle');\n    var lines = [];\n    for (var i = 0; i < minorTickAngles.length; i++) {\n      for (var k = 0; k < minorTickAngles[i].length; k++) {\n        lines.push(new graphic.Line({\n          shape: getAxisLineShape(polar, radiusExtent, minorTickAngles[i][k].coord)\n        }));\n      }\n    }\n    group.add(graphic.mergePath(lines, {\n      style: lineStyleModel.getLineStyle(),\n      silent: true,\n      z: angleAxisModel.get('z')\n    }));\n  },\n  splitArea: function (group, angleAxisModel, polar, ticksAngles, minorTickAngles, radiusExtent) {\n    if (!ticksAngles.length) {\n      return;\n    }\n    var splitAreaModel = angleAxisModel.getModel('splitArea');\n    var areaStyleModel = splitAreaModel.getModel('areaStyle');\n    var areaColors = areaStyleModel.get('color');\n    var lineCount = 0;\n    areaColors = areaColors instanceof Array ? areaColors : [areaColors];\n    var splitAreas = [];\n    var RADIAN = Math.PI / 180;\n    var prevAngle = -ticksAngles[0].coord * RADIAN;\n    var r0 = Math.min(radiusExtent[0], radiusExtent[1]);\n    var r1 = Math.max(radiusExtent[0], radiusExtent[1]);\n    var clockwise = angleAxisModel.get('clockwise');\n    for (var i = 1, len = ticksAngles.length; i <= len; i++) {\n      var coord = i === len ? ticksAngles[0].coord : ticksAngles[i].coord;\n      var colorIndex = lineCount++ % areaColors.length;\n      splitAreas[colorIndex] = splitAreas[colorIndex] || [];\n      splitAreas[colorIndex].push(new graphic.Sector({\n        shape: {\n          cx: polar.cx,\n          cy: polar.cy,\n          r0: r0,\n          r: r1,\n          startAngle: prevAngle,\n          endAngle: -coord * RADIAN,\n          clockwise: clockwise\n        },\n        silent: true\n      }));\n      prevAngle = -coord * RADIAN;\n    }\n    // Simple optimization\n    // Batching the lines if color are the same\n    for (var i = 0; i < splitAreas.length; i++) {\n      group.add(graphic.mergePath(splitAreas[i], {\n        style: zrUtil.defaults({\n          fill: areaColors[i % areaColors.length]\n        }, areaStyleModel.getAreaStyle()),\n        silent: true\n      }));\n    }\n  }\n};\nexport default AngleAxisView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { retrieve, defaults, extend, each, isObject, map, isString, isNumber, isFunction, retrieve2 } from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nimport Model from '../../model/Model.js';\nimport { isRadianAroundZero, remRadian } from '../../util/number.js';\nimport { createSymbol, normalizeSymbolOffset } from '../../util/symbol.js';\nimport * as matrixUtil from 'zrender/lib/core/matrix.js';\nimport { applyTransform as v2ApplyTransform } from 'zrender/lib/core/vector.js';\nimport { shouldShowAllLabels } from '../../coord/axisHelper.js';\nimport { prepareLayoutList, hideOverlap } from '../../label/labelLayoutHelper.js';\nvar PI = Math.PI;\n/**\n * A final axis is translated and rotated from a \"standard axis\".\n * So opt.position and opt.rotation is required.\n *\n * A standard axis is and axis from [0, 0] to [0, axisExtent[1]],\n * for example: (0, 0) ------------> (0, 50)\n *\n * nameDirection or tickDirection or labelDirection is 1 means tick\n * or label is below the standard axis, whereas is -1 means above\n * the standard axis. labelOffset means offset between label and axis,\n * which is useful when 'onZero', where axisLabel is in the grid and\n * label in outside grid.\n *\n * Tips: like always,\n * positive rotation represents anticlockwise, and negative rotation\n * represents clockwise.\n * The direction of position coordinate is the same as the direction\n * of screen coordinate.\n *\n * Do not need to consider axis 'inverse', which is auto processed by\n * axis extent.\n */\nvar AxisBuilder = /** @class */function () {\n  function AxisBuilder(axisModel, opt) {\n    this.group = new graphic.Group();\n    this.opt = opt;\n    this.axisModel = axisModel;\n    // Default value\n    defaults(opt, {\n      labelOffset: 0,\n      nameDirection: 1,\n      tickDirection: 1,\n      labelDirection: 1,\n      silent: true,\n      handleAutoShown: function () {\n        return true;\n      }\n    });\n    // FIXME Not use a separate text group?\n    var transformGroup = new graphic.Group({\n      x: opt.position[0],\n      y: opt.position[1],\n      rotation: opt.rotation\n    });\n    // this.group.add(transformGroup);\n    // this._transformGroup = transformGroup;\n    transformGroup.updateTransform();\n    this._transformGroup = transformGroup;\n  }\n  AxisBuilder.prototype.hasBuilder = function (name) {\n    return !!builders[name];\n  };\n  AxisBuilder.prototype.add = function (name) {\n    builders[name](this.opt, this.axisModel, this.group, this._transformGroup);\n  };\n  AxisBuilder.prototype.getGroup = function () {\n    return this.group;\n  };\n  AxisBuilder.innerTextLayout = function (axisRotation, textRotation, direction) {\n    var rotationDiff = remRadian(textRotation - axisRotation);\n    var textAlign;\n    var textVerticalAlign;\n    if (isRadianAroundZero(rotationDiff)) {\n      // Label is parallel with axis line.\n      textVerticalAlign = direction > 0 ? 'top' : 'bottom';\n      textAlign = 'center';\n    } else if (isRadianAroundZero(rotationDiff - PI)) {\n      // Label is inverse parallel with axis line.\n      textVerticalAlign = direction > 0 ? 'bottom' : 'top';\n      textAlign = 'center';\n    } else {\n      textVerticalAlign = 'middle';\n      if (rotationDiff > 0 && rotationDiff < PI) {\n        textAlign = direction > 0 ? 'right' : 'left';\n      } else {\n        textAlign = direction > 0 ? 'left' : 'right';\n      }\n    }\n    return {\n      rotation: rotationDiff,\n      textAlign: textAlign,\n      textVerticalAlign: textVerticalAlign\n    };\n  };\n  AxisBuilder.makeAxisEventDataBase = function (axisModel) {\n    var eventData = {\n      componentType: axisModel.mainType,\n      componentIndex: axisModel.componentIndex\n    };\n    eventData[axisModel.mainType + 'Index'] = axisModel.componentIndex;\n    return eventData;\n  };\n  AxisBuilder.isLabelSilent = function (axisModel) {\n    var tooltipOpt = axisModel.get('tooltip');\n    return axisModel.get('silent')\n    // Consider mouse cursor, add these restrictions.\n    || !(axisModel.get('triggerEvent') || tooltipOpt && tooltipOpt.show);\n  };\n  return AxisBuilder;\n}();\n;\nvar builders = {\n  axisLine: function (opt, axisModel, group, transformGroup) {\n    var shown = axisModel.get(['axisLine', 'show']);\n    if (shown === 'auto' && opt.handleAutoShown) {\n      shown = opt.handleAutoShown('axisLine');\n    }\n    if (!shown) {\n      return;\n    }\n    var extent = axisModel.axis.getExtent();\n    var matrix = transformGroup.transform;\n    var pt1 = [extent[0], 0];\n    var pt2 = [extent[1], 0];\n    var inverse = pt1[0] > pt2[0];\n    if (matrix) {\n      v2ApplyTransform(pt1, pt1, matrix);\n      v2ApplyTransform(pt2, pt2, matrix);\n    }\n    var lineStyle = extend({\n      lineCap: 'round'\n    }, axisModel.getModel(['axisLine', 'lineStyle']).getLineStyle());\n    var line = new graphic.Line({\n      shape: {\n        x1: pt1[0],\n        y1: pt1[1],\n        x2: pt2[0],\n        y2: pt2[1]\n      },\n      style: lineStyle,\n      strokeContainThreshold: opt.strokeContainThreshold || 5,\n      silent: true,\n      z2: 1\n    });\n    graphic.subPixelOptimizeLine(line.shape, line.style.lineWidth);\n    line.anid = 'line';\n    group.add(line);\n    var arrows = axisModel.get(['axisLine', 'symbol']);\n    if (arrows != null) {\n      var arrowSize = axisModel.get(['axisLine', 'symbolSize']);\n      if (isString(arrows)) {\n        // Use the same arrow for start and end point\n        arrows = [arrows, arrows];\n      }\n      if (isString(arrowSize) || isNumber(arrowSize)) {\n        // Use the same size for width and height\n        arrowSize = [arrowSize, arrowSize];\n      }\n      var arrowOffset = normalizeSymbolOffset(axisModel.get(['axisLine', 'symbolOffset']) || 0, arrowSize);\n      var symbolWidth_1 = arrowSize[0];\n      var symbolHeight_1 = arrowSize[1];\n      each([{\n        rotate: opt.rotation + Math.PI / 2,\n        offset: arrowOffset[0],\n        r: 0\n      }, {\n        rotate: opt.rotation - Math.PI / 2,\n        offset: arrowOffset[1],\n        r: Math.sqrt((pt1[0] - pt2[0]) * (pt1[0] - pt2[0]) + (pt1[1] - pt2[1]) * (pt1[1] - pt2[1]))\n      }], function (point, index) {\n        if (arrows[index] !== 'none' && arrows[index] != null) {\n          var symbol = createSymbol(arrows[index], -symbolWidth_1 / 2, -symbolHeight_1 / 2, symbolWidth_1, symbolHeight_1, lineStyle.stroke, true);\n          // Calculate arrow position with offset\n          var r = point.r + point.offset;\n          var pt = inverse ? pt2 : pt1;\n          symbol.attr({\n            rotation: point.rotate,\n            x: pt[0] + r * Math.cos(opt.rotation),\n            y: pt[1] - r * Math.sin(opt.rotation),\n            silent: true,\n            z2: 11\n          });\n          group.add(symbol);\n        }\n      });\n    }\n  },\n  axisTickLabel: function (opt, axisModel, group, transformGroup) {\n    var ticksEls = buildAxisMajorTicks(group, transformGroup, axisModel, opt);\n    var labelEls = buildAxisLabel(group, transformGroup, axisModel, opt);\n    fixMinMaxLabelShow(axisModel, labelEls, ticksEls);\n    buildAxisMinorTicks(group, transformGroup, axisModel, opt.tickDirection);\n    // This bit fixes the label overlap issue for the time chart.\n    // See https://github.com/apache/echarts/issues/14266 for more.\n    if (axisModel.get(['axisLabel', 'hideOverlap'])) {\n      var labelList = prepareLayoutList(map(labelEls, function (label) {\n        return {\n          label: label,\n          priority: label.z2,\n          defaultAttr: {\n            ignore: label.ignore\n          }\n        };\n      }));\n      hideOverlap(labelList);\n    }\n  },\n  axisName: function (opt, axisModel, group, transformGroup) {\n    var name = retrieve(opt.axisName, axisModel.get('name'));\n    if (!name) {\n      return;\n    }\n    var nameLocation = axisModel.get('nameLocation');\n    var nameDirection = opt.nameDirection;\n    var textStyleModel = axisModel.getModel('nameTextStyle');\n    var gap = axisModel.get('nameGap') || 0;\n    var extent = axisModel.axis.getExtent();\n    var gapSignal = extent[0] > extent[1] ? -1 : 1;\n    var pos = [nameLocation === 'start' ? extent[0] - gapSignal * gap : nameLocation === 'end' ? extent[1] + gapSignal * gap : (extent[0] + extent[1]) / 2,\n    // Reuse labelOffset.\n    isNameLocationCenter(nameLocation) ? opt.labelOffset + nameDirection * gap : 0];\n    var labelLayout;\n    var nameRotation = axisModel.get('nameRotate');\n    if (nameRotation != null) {\n      nameRotation = nameRotation * PI / 180; // To radian.\n    }\n\n    var axisNameAvailableWidth;\n    if (isNameLocationCenter(nameLocation)) {\n      labelLayout = AxisBuilder.innerTextLayout(opt.rotation, nameRotation != null ? nameRotation : opt.rotation,\n      // Adapt to axis.\n      nameDirection);\n    } else {\n      labelLayout = endTextLayout(opt.rotation, nameLocation, nameRotation || 0, extent);\n      axisNameAvailableWidth = opt.axisNameAvailableWidth;\n      if (axisNameAvailableWidth != null) {\n        axisNameAvailableWidth = Math.abs(axisNameAvailableWidth / Math.sin(labelLayout.rotation));\n        !isFinite(axisNameAvailableWidth) && (axisNameAvailableWidth = null);\n      }\n    }\n    var textFont = textStyleModel.getFont();\n    var truncateOpt = axisModel.get('nameTruncate', true) || {};\n    var ellipsis = truncateOpt.ellipsis;\n    var maxWidth = retrieve(opt.nameTruncateMaxWidth, truncateOpt.maxWidth, axisNameAvailableWidth);\n    var textEl = new graphic.Text({\n      x: pos[0],\n      y: pos[1],\n      rotation: labelLayout.rotation,\n      silent: AxisBuilder.isLabelSilent(axisModel),\n      style: createTextStyle(textStyleModel, {\n        text: name,\n        font: textFont,\n        overflow: 'truncate',\n        width: maxWidth,\n        ellipsis: ellipsis,\n        fill: textStyleModel.getTextColor() || axisModel.get(['axisLine', 'lineStyle', 'color']),\n        align: textStyleModel.get('align') || labelLayout.textAlign,\n        verticalAlign: textStyleModel.get('verticalAlign') || labelLayout.textVerticalAlign\n      }),\n      z2: 1\n    });\n    graphic.setTooltipConfig({\n      el: textEl,\n      componentModel: axisModel,\n      itemName: name\n    });\n    textEl.__fullText = name;\n    // Id for animation\n    textEl.anid = 'name';\n    if (axisModel.get('triggerEvent')) {\n      var eventData = AxisBuilder.makeAxisEventDataBase(axisModel);\n      eventData.targetType = 'axisName';\n      eventData.name = name;\n      getECData(textEl).eventData = eventData;\n    }\n    // FIXME\n    transformGroup.add(textEl);\n    textEl.updateTransform();\n    group.add(textEl);\n    textEl.decomposeTransform();\n  }\n};\nfunction endTextLayout(rotation, textPosition, textRotate, extent) {\n  var rotationDiff = remRadian(textRotate - rotation);\n  var textAlign;\n  var textVerticalAlign;\n  var inverse = extent[0] > extent[1];\n  var onLeft = textPosition === 'start' && !inverse || textPosition !== 'start' && inverse;\n  if (isRadianAroundZero(rotationDiff - PI / 2)) {\n    textVerticalAlign = onLeft ? 'bottom' : 'top';\n    textAlign = 'center';\n  } else if (isRadianAroundZero(rotationDiff - PI * 1.5)) {\n    textVerticalAlign = onLeft ? 'top' : 'bottom';\n    textAlign = 'center';\n  } else {\n    textVerticalAlign = 'middle';\n    if (rotationDiff < PI * 1.5 && rotationDiff > PI / 2) {\n      textAlign = onLeft ? 'left' : 'right';\n    } else {\n      textAlign = onLeft ? 'right' : 'left';\n    }\n  }\n  return {\n    rotation: rotationDiff,\n    textAlign: textAlign,\n    textVerticalAlign: textVerticalAlign\n  };\n}\nfunction fixMinMaxLabelShow(axisModel, labelEls, tickEls) {\n  if (shouldShowAllLabels(axisModel.axis)) {\n    return;\n  }\n  // If min or max are user set, we need to check\n  // If the tick on min(max) are overlap on their neighbour tick\n  // If they are overlapped, we need to hide the min(max) tick label\n  var showMinLabel = axisModel.get(['axisLabel', 'showMinLabel']);\n  var showMaxLabel = axisModel.get(['axisLabel', 'showMaxLabel']);\n  // FIXME\n  // Have not consider onBand yet, where tick els is more than label els.\n  labelEls = labelEls || [];\n  tickEls = tickEls || [];\n  var firstLabel = labelEls[0];\n  var nextLabel = labelEls[1];\n  var lastLabel = labelEls[labelEls.length - 1];\n  var prevLabel = labelEls[labelEls.length - 2];\n  var firstTick = tickEls[0];\n  var nextTick = tickEls[1];\n  var lastTick = tickEls[tickEls.length - 1];\n  var prevTick = tickEls[tickEls.length - 2];\n  if (showMinLabel === false) {\n    ignoreEl(firstLabel);\n    ignoreEl(firstTick);\n  } else if (isTwoLabelOverlapped(firstLabel, nextLabel)) {\n    if (showMinLabel) {\n      ignoreEl(nextLabel);\n      ignoreEl(nextTick);\n    } else {\n      ignoreEl(firstLabel);\n      ignoreEl(firstTick);\n    }\n  }\n  if (showMaxLabel === false) {\n    ignoreEl(lastLabel);\n    ignoreEl(lastTick);\n  } else if (isTwoLabelOverlapped(prevLabel, lastLabel)) {\n    if (showMaxLabel) {\n      ignoreEl(prevLabel);\n      ignoreEl(prevTick);\n    } else {\n      ignoreEl(lastLabel);\n      ignoreEl(lastTick);\n    }\n  }\n}\nfunction ignoreEl(el) {\n  el && (el.ignore = true);\n}\nfunction isTwoLabelOverlapped(current, next) {\n  // current and next has the same rotation.\n  var firstRect = current && current.getBoundingRect().clone();\n  var nextRect = next && next.getBoundingRect().clone();\n  if (!firstRect || !nextRect) {\n    return;\n  }\n  // When checking intersect of two rotated labels, we use mRotationBack\n  // to avoid that boundingRect is enlarge when using `boundingRect.applyTransform`.\n  var mRotationBack = matrixUtil.identity([]);\n  matrixUtil.rotate(mRotationBack, mRotationBack, -current.rotation);\n  firstRect.applyTransform(matrixUtil.mul([], mRotationBack, current.getLocalTransform()));\n  nextRect.applyTransform(matrixUtil.mul([], mRotationBack, next.getLocalTransform()));\n  return firstRect.intersect(nextRect);\n}\nfunction isNameLocationCenter(nameLocation) {\n  return nameLocation === 'middle' || nameLocation === 'center';\n}\nfunction createTicks(ticksCoords, tickTransform, tickEndCoord, tickLineStyle, anidPrefix) {\n  var tickEls = [];\n  var pt1 = [];\n  var pt2 = [];\n  for (var i = 0; i < ticksCoords.length; i++) {\n    var tickCoord = ticksCoords[i].coord;\n    pt1[0] = tickCoord;\n    pt1[1] = 0;\n    pt2[0] = tickCoord;\n    pt2[1] = tickEndCoord;\n    if (tickTransform) {\n      v2ApplyTransform(pt1, pt1, tickTransform);\n      v2ApplyTransform(pt2, pt2, tickTransform);\n    }\n    // Tick line, Not use group transform to have better line draw\n    var tickEl = new graphic.Line({\n      shape: {\n        x1: pt1[0],\n        y1: pt1[1],\n        x2: pt2[0],\n        y2: pt2[1]\n      },\n      style: tickLineStyle,\n      z2: 2,\n      autoBatch: true,\n      silent: true\n    });\n    graphic.subPixelOptimizeLine(tickEl.shape, tickEl.style.lineWidth);\n    tickEl.anid = anidPrefix + '_' + ticksCoords[i].tickValue;\n    tickEls.push(tickEl);\n  }\n  return tickEls;\n}\nfunction buildAxisMajorTicks(group, transformGroup, axisModel, opt) {\n  var axis = axisModel.axis;\n  var tickModel = axisModel.getModel('axisTick');\n  var shown = tickModel.get('show');\n  if (shown === 'auto' && opt.handleAutoShown) {\n    shown = opt.handleAutoShown('axisTick');\n  }\n  if (!shown || axis.scale.isBlank()) {\n    return;\n  }\n  var lineStyleModel = tickModel.getModel('lineStyle');\n  var tickEndCoord = opt.tickDirection * tickModel.get('length');\n  var ticksCoords = axis.getTicksCoords();\n  var ticksEls = createTicks(ticksCoords, transformGroup.transform, tickEndCoord, defaults(lineStyleModel.getLineStyle(), {\n    stroke: axisModel.get(['axisLine', 'lineStyle', 'color'])\n  }), 'ticks');\n  for (var i = 0; i < ticksEls.length; i++) {\n    group.add(ticksEls[i]);\n  }\n  return ticksEls;\n}\nfunction buildAxisMinorTicks(group, transformGroup, axisModel, tickDirection) {\n  var axis = axisModel.axis;\n  var minorTickModel = axisModel.getModel('minorTick');\n  if (!minorTickModel.get('show') || axis.scale.isBlank()) {\n    return;\n  }\n  var minorTicksCoords = axis.getMinorTicksCoords();\n  if (!minorTicksCoords.length) {\n    return;\n  }\n  var lineStyleModel = minorTickModel.getModel('lineStyle');\n  var tickEndCoord = tickDirection * minorTickModel.get('length');\n  var minorTickLineStyle = defaults(lineStyleModel.getLineStyle(), defaults(axisModel.getModel('axisTick').getLineStyle(), {\n    stroke: axisModel.get(['axisLine', 'lineStyle', 'color'])\n  }));\n  for (var i = 0; i < minorTicksCoords.length; i++) {\n    var minorTicksEls = createTicks(minorTicksCoords[i], transformGroup.transform, tickEndCoord, minorTickLineStyle, 'minorticks_' + i);\n    for (var k = 0; k < minorTicksEls.length; k++) {\n      group.add(minorTicksEls[k]);\n    }\n  }\n}\nfunction buildAxisLabel(group, transformGroup, axisModel, opt) {\n  var axis = axisModel.axis;\n  var show = retrieve(opt.axisLabelShow, axisModel.get(['axisLabel', 'show']));\n  if (!show || axis.scale.isBlank()) {\n    return;\n  }\n  var labelModel = axisModel.getModel('axisLabel');\n  var labelMargin = labelModel.get('margin');\n  var labels = axis.getViewLabels();\n  // Special label rotate.\n  var labelRotation = (retrieve(opt.labelRotate, labelModel.get('rotate')) || 0) * PI / 180;\n  var labelLayout = AxisBuilder.innerTextLayout(opt.rotation, labelRotation, opt.labelDirection);\n  var rawCategoryData = axisModel.getCategories && axisModel.getCategories(true);\n  var labelEls = [];\n  var silent = AxisBuilder.isLabelSilent(axisModel);\n  var triggerEvent = axisModel.get('triggerEvent');\n  each(labels, function (labelItem, index) {\n    var tickValue = axis.scale.type === 'ordinal' ? axis.scale.getRawOrdinalNumber(labelItem.tickValue) : labelItem.tickValue;\n    var formattedLabel = labelItem.formattedLabel;\n    var rawLabel = labelItem.rawLabel;\n    var itemLabelModel = labelModel;\n    if (rawCategoryData && rawCategoryData[tickValue]) {\n      var rawCategoryItem = rawCategoryData[tickValue];\n      if (isObject(rawCategoryItem) && rawCategoryItem.textStyle) {\n        itemLabelModel = new Model(rawCategoryItem.textStyle, labelModel, axisModel.ecModel);\n      }\n    }\n    var textColor = itemLabelModel.getTextColor() || axisModel.get(['axisLine', 'lineStyle', 'color']);\n    var tickCoord = axis.dataToCoord(tickValue);\n    var align = itemLabelModel.getShallow('align', true) || labelLayout.textAlign;\n    var alignMin = retrieve2(itemLabelModel.getShallow('alignMinLabel', true), align);\n    var alignMax = retrieve2(itemLabelModel.getShallow('alignMaxLabel', true), align);\n    var verticalAlign = itemLabelModel.getShallow('verticalAlign', true) || itemLabelModel.getShallow('baseline', true) || labelLayout.textVerticalAlign;\n    var verticalAlignMin = retrieve2(itemLabelModel.getShallow('verticalAlignMinLabel', true), verticalAlign);\n    var verticalAlignMax = retrieve2(itemLabelModel.getShallow('verticalAlignMaxLabel', true), verticalAlign);\n    var textEl = new graphic.Text({\n      x: tickCoord,\n      y: opt.labelOffset + opt.labelDirection * labelMargin,\n      rotation: labelLayout.rotation,\n      silent: silent,\n      z2: 10 + (labelItem.level || 0),\n      style: createTextStyle(itemLabelModel, {\n        text: formattedLabel,\n        align: index === 0 ? alignMin : index === labels.length - 1 ? alignMax : align,\n        verticalAlign: index === 0 ? verticalAlignMin : index === labels.length - 1 ? verticalAlignMax : verticalAlign,\n        fill: isFunction(textColor) ? textColor(\n        // (1) In category axis with data zoom, tick is not the original\n        // index of axis.data. So tick should not be exposed to user\n        // in category axis.\n        // (2) Compatible with previous version, which always use formatted label as\n        // input. But in interval scale the formatted label is like '223,445', which\n        // maked user replace ','. So we modify it to return original val but remain\n        // it as 'string' to avoid error in replacing.\n        axis.type === 'category' ? rawLabel : axis.type === 'value' ? tickValue + '' : tickValue, index) : textColor\n      })\n    });\n    textEl.anid = 'label_' + tickValue;\n    // Pack data for mouse event\n    if (triggerEvent) {\n      var eventData = AxisBuilder.makeAxisEventDataBase(axisModel);\n      eventData.targetType = 'axisLabel';\n      eventData.value = rawLabel;\n      eventData.tickIndex = index;\n      if (axis.type === 'category') {\n        eventData.dataIndex = tickValue;\n      }\n      getECData(textEl).eventData = eventData;\n    }\n    // FIXME\n    transformGroup.add(textEl);\n    textEl.updateTransform();\n    labelEls.push(textEl);\n    group.add(textEl);\n    textEl.decomposeTransform();\n  });\n  return labelEls;\n}\nexport default AxisBuilder;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as axisPointerModelHelper from '../axisPointer/modelHelper.js';\nimport ComponentView from '../../view/Component.js';\nvar axisPointerClazz = {};\n/**\n * Base class of AxisView.\n */\nvar AxisView = /** @class */function (_super) {\n  __extends(AxisView, _super);\n  function AxisView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = AxisView.type;\n    return _this;\n  }\n  /**\n   * @override\n   */\n  AxisView.prototype.render = function (axisModel, ecModel, api, payload) {\n    // FIXME\n    // This process should proformed after coordinate systems updated\n    // (axis scale updated), and should be performed each time update.\n    // So put it here temporarily, although it is not appropriate to\n    // put a model-writing procedure in `view`.\n    this.axisPointerClass && axisPointerModelHelper.fixValue(axisModel);\n    _super.prototype.render.apply(this, arguments);\n    this._doUpdateAxisPointerClass(axisModel, api, true);\n  };\n  /**\n   * Action handler.\n   */\n  AxisView.prototype.updateAxisPointer = function (axisModel, ecModel, api, payload) {\n    this._doUpdateAxisPointerClass(axisModel, api, false);\n  };\n  /**\n   * @override\n   */\n  AxisView.prototype.remove = function (ecModel, api) {\n    var axisPointer = this._axisPointer;\n    axisPointer && axisPointer.remove(api);\n  };\n  /**\n   * @override\n   */\n  AxisView.prototype.dispose = function (ecModel, api) {\n    this._disposeAxisPointer(api);\n    _super.prototype.dispose.apply(this, arguments);\n  };\n  AxisView.prototype._doUpdateAxisPointerClass = function (axisModel, api, forceRender) {\n    var Clazz = AxisView.getAxisPointerClass(this.axisPointerClass);\n    if (!Clazz) {\n      return;\n    }\n    var axisPointerModel = axisPointerModelHelper.getAxisPointerModel(axisModel);\n    axisPointerModel ? (this._axisPointer || (this._axisPointer = new Clazz())).render(axisModel, axisPointerModel, api, forceRender) : this._disposeAxisPointer(api);\n  };\n  AxisView.prototype._disposeAxisPointer = function (api) {\n    this._axisPointer && this._axisPointer.dispose(api);\n    this._axisPointer = null;\n  };\n  AxisView.registerAxisPointerClass = function (type, clazz) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (axisPointerClazz[type]) {\n        throw new Error('axisPointer ' + type + ' exists');\n      }\n    }\n    axisPointerClazz[type] = clazz;\n  };\n  ;\n  AxisView.getAxisPointerClass = function (type) {\n    return type && axisPointerClazz[type];\n  };\n  ;\n  AxisView.type = 'axis';\n  return AxisView;\n}(ComponentView);\nexport default AxisView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport AxisBuilder from './AxisBuilder.js';\nimport AxisView from './AxisView.js';\nimport * as cartesianAxisHelper from '../../coord/cartesian/cartesianAxisHelper.js';\nimport { rectCoordAxisBuildSplitArea, rectCoordAxisHandleRemove } from './axisSplitHelper.js';\nimport { isIntervalOrLogScale } from '../../scale/helper.js';\nvar axisBuilderAttrs = ['axisLine', 'axisTickLabel', 'axisName'];\nvar selfBuilderAttrs = ['splitArea', 'splitLine', 'minorSplitLine'];\nvar CartesianAxisView = /** @class */function (_super) {\n  __extends(CartesianAxisView, _super);\n  function CartesianAxisView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = CartesianAxisView.type;\n    _this.axisPointerClass = 'CartesianAxisPointer';\n    return _this;\n  }\n  /**\n   * @override\n   */\n  CartesianAxisView.prototype.render = function (axisModel, ecModel, api, payload) {\n    this.group.removeAll();\n    var oldAxisGroup = this._axisGroup;\n    this._axisGroup = new graphic.Group();\n    this.group.add(this._axisGroup);\n    if (!axisModel.get('show')) {\n      return;\n    }\n    var gridModel = axisModel.getCoordSysModel();\n    var layout = cartesianAxisHelper.layout(gridModel, axisModel);\n    var axisBuilder = new AxisBuilder(axisModel, zrUtil.extend({\n      handleAutoShown: function (elementType) {\n        var cartesians = gridModel.coordinateSystem.getCartesians();\n        for (var i = 0; i < cartesians.length; i++) {\n          if (isIntervalOrLogScale(cartesians[i].getOtherAxis(axisModel.axis).scale)) {\n            // Still show axis tick or axisLine if other axis is value / log\n            return true;\n          }\n        }\n        // Not show axisTick or axisLine if other axis is category / time\n        return false;\n      }\n    }, layout));\n    zrUtil.each(axisBuilderAttrs, axisBuilder.add, axisBuilder);\n    this._axisGroup.add(axisBuilder.getGroup());\n    zrUtil.each(selfBuilderAttrs, function (name) {\n      if (axisModel.get([name, 'show'])) {\n        axisElementBuilders[name](this, this._axisGroup, axisModel, gridModel);\n      }\n    }, this);\n    // THIS is a special case for bar racing chart.\n    // Update the axis label from the natural initial layout to\n    // sorted layout should has no animation.\n    var isInitialSortFromBarRacing = payload && payload.type === 'changeAxisOrder' && payload.isInitSort;\n    if (!isInitialSortFromBarRacing) {\n      graphic.groupTransition(oldAxisGroup, this._axisGroup, axisModel);\n    }\n    _super.prototype.render.call(this, axisModel, ecModel, api, payload);\n  };\n  CartesianAxisView.prototype.remove = function () {\n    rectCoordAxisHandleRemove(this);\n  };\n  CartesianAxisView.type = 'cartesianAxis';\n  return CartesianAxisView;\n}(AxisView);\nvar axisElementBuilders = {\n  splitLine: function (axisView, axisGroup, axisModel, gridModel) {\n    var axis = axisModel.axis;\n    if (axis.scale.isBlank()) {\n      return;\n    }\n    var splitLineModel = axisModel.getModel('splitLine');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var lineColors = lineStyleModel.get('color');\n    lineColors = zrUtil.isArray(lineColors) ? lineColors : [lineColors];\n    var gridRect = gridModel.coordinateSystem.getRect();\n    var isHorizontal = axis.isHorizontal();\n    var lineCount = 0;\n    var ticksCoords = axis.getTicksCoords({\n      tickModel: splitLineModel\n    });\n    var p1 = [];\n    var p2 = [];\n    var lineStyle = lineStyleModel.getLineStyle();\n    for (var i = 0; i < ticksCoords.length; i++) {\n      var tickCoord = axis.toGlobalCoord(ticksCoords[i].coord);\n      if (isHorizontal) {\n        p1[0] = tickCoord;\n        p1[1] = gridRect.y;\n        p2[0] = tickCoord;\n        p2[1] = gridRect.y + gridRect.height;\n      } else {\n        p1[0] = gridRect.x;\n        p1[1] = tickCoord;\n        p2[0] = gridRect.x + gridRect.width;\n        p2[1] = tickCoord;\n      }\n      var colorIndex = lineCount++ % lineColors.length;\n      var tickValue = ticksCoords[i].tickValue;\n      var line = new graphic.Line({\n        anid: tickValue != null ? 'line_' + ticksCoords[i].tickValue : null,\n        autoBatch: true,\n        shape: {\n          x1: p1[0],\n          y1: p1[1],\n          x2: p2[0],\n          y2: p2[1]\n        },\n        style: zrUtil.defaults({\n          stroke: lineColors[colorIndex]\n        }, lineStyle),\n        silent: true\n      });\n      graphic.subPixelOptimizeLine(line.shape, lineStyle.lineWidth);\n      axisGroup.add(line);\n    }\n  },\n  minorSplitLine: function (axisView, axisGroup, axisModel, gridModel) {\n    var axis = axisModel.axis;\n    var minorSplitLineModel = axisModel.getModel('minorSplitLine');\n    var lineStyleModel = minorSplitLineModel.getModel('lineStyle');\n    var gridRect = gridModel.coordinateSystem.getRect();\n    var isHorizontal = axis.isHorizontal();\n    var minorTicksCoords = axis.getMinorTicksCoords();\n    if (!minorTicksCoords.length) {\n      return;\n    }\n    var p1 = [];\n    var p2 = [];\n    var lineStyle = lineStyleModel.getLineStyle();\n    for (var i = 0; i < minorTicksCoords.length; i++) {\n      for (var k = 0; k < minorTicksCoords[i].length; k++) {\n        var tickCoord = axis.toGlobalCoord(minorTicksCoords[i][k].coord);\n        if (isHorizontal) {\n          p1[0] = tickCoord;\n          p1[1] = gridRect.y;\n          p2[0] = tickCoord;\n          p2[1] = gridRect.y + gridRect.height;\n        } else {\n          p1[0] = gridRect.x;\n          p1[1] = tickCoord;\n          p2[0] = gridRect.x + gridRect.width;\n          p2[1] = tickCoord;\n        }\n        var line = new graphic.Line({\n          anid: 'minor_line_' + minorTicksCoords[i][k].tickValue,\n          autoBatch: true,\n          shape: {\n            x1: p1[0],\n            y1: p1[1],\n            x2: p2[0],\n            y2: p2[1]\n          },\n          style: lineStyle,\n          silent: true\n        });\n        graphic.subPixelOptimizeLine(line.shape, lineStyle.lineWidth);\n        axisGroup.add(line);\n      }\n    }\n  },\n  splitArea: function (axisView, axisGroup, axisModel, gridModel) {\n    rectCoordAxisBuildSplitArea(axisView, axisGroup, axisModel, gridModel);\n  }\n};\nvar CartesianXAxisView = /** @class */function (_super) {\n  __extends(CartesianXAxisView, _super);\n  function CartesianXAxisView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = CartesianXAxisView.type;\n    return _this;\n  }\n  CartesianXAxisView.type = 'xAxis';\n  return CartesianXAxisView;\n}(CartesianAxisView);\nexport { CartesianXAxisView };\nvar CartesianYAxisView = /** @class */function (_super) {\n  __extends(CartesianYAxisView, _super);\n  function CartesianYAxisView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = CartesianXAxisView.type;\n    return _this;\n  }\n  CartesianYAxisView.type = 'yAxis';\n  return CartesianYAxisView;\n}(CartesianAxisView);\nexport { CartesianYAxisView };\nexport default CartesianAxisView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport AxisBuilder from './AxisBuilder.js';\nimport BrushController from '../helper/BrushController.js';\nimport * as brushHelper from '../helper/brushHelper.js';\nimport * as graphic from '../../util/graphic.js';\nimport ComponentView from '../../view/Component.js';\nvar elementList = ['axisLine', 'axisTickLabel', 'axisName'];\nvar ParallelAxisView = /** @class */function (_super) {\n  __extends(ParallelAxisView, _super);\n  function ParallelAxisView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ParallelAxisView.type;\n    return _this;\n  }\n  ParallelAxisView.prototype.init = function (ecModel, api) {\n    _super.prototype.init.apply(this, arguments);\n    (this._brushController = new BrushController(api.getZr())).on('brush', zrUtil.bind(this._onBrush, this));\n  };\n  ParallelAxisView.prototype.render = function (axisModel, ecModel, api, payload) {\n    if (fromAxisAreaSelect(axisModel, ecModel, payload)) {\n      return;\n    }\n    this.axisModel = axisModel;\n    this.api = api;\n    this.group.removeAll();\n    var oldAxisGroup = this._axisGroup;\n    this._axisGroup = new graphic.Group();\n    this.group.add(this._axisGroup);\n    if (!axisModel.get('show')) {\n      return;\n    }\n    var coordSysModel = getCoordSysModel(axisModel, ecModel);\n    var coordSys = coordSysModel.coordinateSystem;\n    var areaSelectStyle = axisModel.getAreaSelectStyle();\n    var areaWidth = areaSelectStyle.width;\n    var dim = axisModel.axis.dim;\n    var axisLayout = coordSys.getAxisLayout(dim);\n    var builderOpt = zrUtil.extend({\n      strokeContainThreshold: areaWidth\n    }, axisLayout);\n    var axisBuilder = new AxisBuilder(axisModel, builderOpt);\n    zrUtil.each(elementList, axisBuilder.add, axisBuilder);\n    this._axisGroup.add(axisBuilder.getGroup());\n    this._refreshBrushController(builderOpt, areaSelectStyle, axisModel, coordSysModel, areaWidth, api);\n    graphic.groupTransition(oldAxisGroup, this._axisGroup, axisModel);\n  };\n  // /**\n  //  * @override\n  //  */\n  // updateVisual(axisModel, ecModel, api, payload) {\n  //     this._brushController && this._brushController\n  //         .updateCovers(getCoverInfoList(axisModel));\n  // }\n  ParallelAxisView.prototype._refreshBrushController = function (builderOpt, areaSelectStyle, axisModel, coordSysModel, areaWidth, api) {\n    // After filtering, axis may change, select area needs to be update.\n    var extent = axisModel.axis.getExtent();\n    var extentLen = extent[1] - extent[0];\n    var extra = Math.min(30, Math.abs(extentLen) * 0.1); // Arbitrary value.\n    // width/height might be negative, which will be\n    // normalized in BoundingRect.\n    var rect = graphic.BoundingRect.create({\n      x: extent[0],\n      y: -areaWidth / 2,\n      width: extentLen,\n      height: areaWidth\n    });\n    rect.x -= extra;\n    rect.width += 2 * extra;\n    this._brushController.mount({\n      enableGlobalPan: true,\n      rotation: builderOpt.rotation,\n      x: builderOpt.position[0],\n      y: builderOpt.position[1]\n    }).setPanels([{\n      panelId: 'pl',\n      clipPath: brushHelper.makeRectPanelClipPath(rect),\n      isTargetByCursor: brushHelper.makeRectIsTargetByCursor(rect, api, coordSysModel),\n      getLinearBrushOtherExtent: brushHelper.makeLinearBrushOtherExtent(rect, 0)\n    }]).enableBrush({\n      brushType: 'lineX',\n      brushStyle: areaSelectStyle,\n      removeOnClick: true\n    }).updateCovers(getCoverInfoList(axisModel));\n  };\n  ParallelAxisView.prototype._onBrush = function (eventParam) {\n    var coverInfoList = eventParam.areas;\n    // Do not cache these object, because the mey be changed.\n    var axisModel = this.axisModel;\n    var axis = axisModel.axis;\n    var intervals = zrUtil.map(coverInfoList, function (coverInfo) {\n      return [axis.coordToData(coverInfo.range[0], true), axis.coordToData(coverInfo.range[1], true)];\n    });\n    // If realtime is true, action is not dispatched on drag end, because\n    // the drag end emits the same params with the last drag move event,\n    // and may have some delay when using touch pad.\n    if (!axisModel.option.realtime === eventParam.isEnd || eventParam.removeOnClick) {\n      // jshint ignore:line\n      this.api.dispatchAction({\n        type: 'axisAreaSelect',\n        parallelAxisId: axisModel.id,\n        intervals: intervals\n      });\n    }\n  };\n  ParallelAxisView.prototype.dispose = function () {\n    this._brushController.dispose();\n  };\n  ParallelAxisView.type = 'parallelAxis';\n  return ParallelAxisView;\n}(ComponentView);\nfunction fromAxisAreaSelect(axisModel, ecModel, payload) {\n  return payload && payload.type === 'axisAreaSelect' && ecModel.findComponents({\n    mainType: 'parallelAxis',\n    query: payload\n  })[0] === axisModel;\n}\nfunction getCoverInfoList(axisModel) {\n  var axis = axisModel.axis;\n  return zrUtil.map(axisModel.activeIntervals, function (interval) {\n    return {\n      brushType: 'lineX',\n      panelId: 'pl',\n      range: [axis.dataToCoord(interval[0], true), axis.dataToCoord(interval[1], true)]\n    };\n  });\n}\nfunction getCoordSysModel(axisModel, ecModel) {\n  return ecModel.getComponent('parallel', axisModel.get('parallelIndex'));\n}\nexport default ParallelAxisView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport AxisBuilder from './AxisBuilder.js';\nimport AxisView from './AxisView.js';\nvar axisBuilderAttrs = ['axisLine', 'axisTickLabel', 'axisName'];\nvar selfBuilderAttrs = ['splitLine', 'splitArea', 'minorSplitLine'];\nvar RadiusAxisView = /** @class */function (_super) {\n  __extends(RadiusAxisView, _super);\n  function RadiusAxisView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = RadiusAxisView.type;\n    _this.axisPointerClass = 'PolarAxisPointer';\n    return _this;\n  }\n  RadiusAxisView.prototype.render = function (radiusAxisModel, ecModel) {\n    this.group.removeAll();\n    if (!radiusAxisModel.get('show')) {\n      return;\n    }\n    var oldAxisGroup = this._axisGroup;\n    var newAxisGroup = this._axisGroup = new graphic.Group();\n    this.group.add(newAxisGroup);\n    var radiusAxis = radiusAxisModel.axis;\n    var polar = radiusAxis.polar;\n    var angleAxis = polar.getAngleAxis();\n    var ticksCoords = radiusAxis.getTicksCoords();\n    var minorTicksCoords = radiusAxis.getMinorTicksCoords();\n    var axisAngle = angleAxis.getExtent()[0];\n    var radiusExtent = radiusAxis.getExtent();\n    var layout = layoutAxis(polar, radiusAxisModel, axisAngle);\n    var axisBuilder = new AxisBuilder(radiusAxisModel, layout);\n    zrUtil.each(axisBuilderAttrs, axisBuilder.add, axisBuilder);\n    newAxisGroup.add(axisBuilder.getGroup());\n    graphic.groupTransition(oldAxisGroup, newAxisGroup, radiusAxisModel);\n    zrUtil.each(selfBuilderAttrs, function (name) {\n      if (radiusAxisModel.get([name, 'show']) && !radiusAxis.scale.isBlank()) {\n        axisElementBuilders[name](this.group, radiusAxisModel, polar, axisAngle, radiusExtent, ticksCoords, minorTicksCoords);\n      }\n    }, this);\n  };\n  RadiusAxisView.type = 'radiusAxis';\n  return RadiusAxisView;\n}(AxisView);\nvar axisElementBuilders = {\n  splitLine: function (group, radiusAxisModel, polar, axisAngle, radiusExtent, ticksCoords) {\n    var splitLineModel = radiusAxisModel.getModel('splitLine');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var lineColors = lineStyleModel.get('color');\n    var lineCount = 0;\n    var angleAxis = polar.getAngleAxis();\n    var RADIAN = Math.PI / 180;\n    var angleExtent = angleAxis.getExtent();\n    var shapeType = Math.abs(angleExtent[1] - angleExtent[0]) === 360 ? 'Circle' : 'Arc';\n    lineColors = lineColors instanceof Array ? lineColors : [lineColors];\n    var splitLines = [];\n    for (var i = 0; i < ticksCoords.length; i++) {\n      var colorIndex = lineCount++ % lineColors.length;\n      splitLines[colorIndex] = splitLines[colorIndex] || [];\n      splitLines[colorIndex].push(new graphic[shapeType]({\n        shape: {\n          cx: polar.cx,\n          cy: polar.cy,\n          // ensure circle radius >= 0\n          r: Math.max(ticksCoords[i].coord, 0),\n          startAngle: -angleExtent[0] * RADIAN,\n          endAngle: -angleExtent[1] * RADIAN,\n          clockwise: angleAxis.inverse\n        }\n      }));\n    }\n    // Simple optimization\n    // Batching the lines if color are the same\n    for (var i = 0; i < splitLines.length; i++) {\n      group.add(graphic.mergePath(splitLines[i], {\n        style: zrUtil.defaults({\n          stroke: lineColors[i % lineColors.length],\n          fill: null\n        }, lineStyleModel.getLineStyle()),\n        silent: true\n      }));\n    }\n  },\n  minorSplitLine: function (group, radiusAxisModel, polar, axisAngle, radiusExtent, ticksCoords, minorTicksCoords) {\n    if (!minorTicksCoords.length) {\n      return;\n    }\n    var minorSplitLineModel = radiusAxisModel.getModel('minorSplitLine');\n    var lineStyleModel = minorSplitLineModel.getModel('lineStyle');\n    var lines = [];\n    for (var i = 0; i < minorTicksCoords.length; i++) {\n      for (var k = 0; k < minorTicksCoords[i].length; k++) {\n        lines.push(new graphic.Circle({\n          shape: {\n            cx: polar.cx,\n            cy: polar.cy,\n            r: minorTicksCoords[i][k].coord\n          }\n        }));\n      }\n    }\n    group.add(graphic.mergePath(lines, {\n      style: zrUtil.defaults({\n        fill: null\n      }, lineStyleModel.getLineStyle()),\n      silent: true\n    }));\n  },\n  splitArea: function (group, radiusAxisModel, polar, axisAngle, radiusExtent, ticksCoords) {\n    if (!ticksCoords.length) {\n      return;\n    }\n    var splitAreaModel = radiusAxisModel.getModel('splitArea');\n    var areaStyleModel = splitAreaModel.getModel('areaStyle');\n    var areaColors = areaStyleModel.get('color');\n    var lineCount = 0;\n    areaColors = areaColors instanceof Array ? areaColors : [areaColors];\n    var splitAreas = [];\n    var prevRadius = ticksCoords[0].coord;\n    for (var i = 1; i < ticksCoords.length; i++) {\n      var colorIndex = lineCount++ % areaColors.length;\n      splitAreas[colorIndex] = splitAreas[colorIndex] || [];\n      splitAreas[colorIndex].push(new graphic.Sector({\n        shape: {\n          cx: polar.cx,\n          cy: polar.cy,\n          r0: prevRadius,\n          r: ticksCoords[i].coord,\n          startAngle: 0,\n          endAngle: Math.PI * 2\n        },\n        silent: true\n      }));\n      prevRadius = ticksCoords[i].coord;\n    }\n    // Simple optimization\n    // Batching the lines if color are the same\n    for (var i = 0; i < splitAreas.length; i++) {\n      group.add(graphic.mergePath(splitAreas[i], {\n        style: zrUtil.defaults({\n          fill: areaColors[i % areaColors.length]\n        }, areaStyleModel.getAreaStyle()),\n        silent: true\n      }));\n    }\n  }\n};\n/**\n * @inner\n */\nfunction layoutAxis(polar, radiusAxisModel, axisAngle) {\n  return {\n    position: [polar.cx, polar.cy],\n    rotation: axisAngle / 180 * Math.PI,\n    labelDirection: -1,\n    tickDirection: -1,\n    nameDirection: 1,\n    labelRotate: radiusAxisModel.getModel('axisLabel').get('rotate'),\n    // Over splitLine and splitArea\n    z2: 1\n  };\n}\nexport default RadiusAxisView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport AxisBuilder from './AxisBuilder.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as singleAxisHelper from '../../coord/single/singleAxisHelper.js';\nimport AxisView from './AxisView.js';\nimport { rectCoordAxisBuildSplitArea, rectCoordAxisHandleRemove } from './axisSplitHelper.js';\nvar axisBuilderAttrs = ['axisLine', 'axisTickLabel', 'axisName'];\nvar selfBuilderAttrs = ['splitArea', 'splitLine'];\nvar SingleAxisView = /** @class */function (_super) {\n  __extends(SingleAxisView, _super);\n  function SingleAxisView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SingleAxisView.type;\n    _this.axisPointerClass = 'SingleAxisPointer';\n    return _this;\n  }\n  SingleAxisView.prototype.render = function (axisModel, ecModel, api, payload) {\n    var group = this.group;\n    group.removeAll();\n    var oldAxisGroup = this._axisGroup;\n    this._axisGroup = new graphic.Group();\n    var layout = singleAxisHelper.layout(axisModel);\n    var axisBuilder = new AxisBuilder(axisModel, layout);\n    zrUtil.each(axisBuilderAttrs, axisBuilder.add, axisBuilder);\n    group.add(this._axisGroup);\n    group.add(axisBuilder.getGroup());\n    zrUtil.each(selfBuilderAttrs, function (name) {\n      if (axisModel.get([name, 'show'])) {\n        axisElementBuilders[name](this, this.group, this._axisGroup, axisModel);\n      }\n    }, this);\n    graphic.groupTransition(oldAxisGroup, this._axisGroup, axisModel);\n    _super.prototype.render.call(this, axisModel, ecModel, api, payload);\n  };\n  SingleAxisView.prototype.remove = function () {\n    rectCoordAxisHandleRemove(this);\n  };\n  SingleAxisView.type = 'singleAxis';\n  return SingleAxisView;\n}(AxisView);\nvar axisElementBuilders = {\n  splitLine: function (axisView, group, axisGroup, axisModel) {\n    var axis = axisModel.axis;\n    if (axis.scale.isBlank()) {\n      return;\n    }\n    var splitLineModel = axisModel.getModel('splitLine');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var lineColors = lineStyleModel.get('color');\n    lineColors = lineColors instanceof Array ? lineColors : [lineColors];\n    var lineWidth = lineStyleModel.get('width');\n    var gridRect = axisModel.coordinateSystem.getRect();\n    var isHorizontal = axis.isHorizontal();\n    var splitLines = [];\n    var lineCount = 0;\n    var ticksCoords = axis.getTicksCoords({\n      tickModel: splitLineModel\n    });\n    var p1 = [];\n    var p2 = [];\n    for (var i = 0; i < ticksCoords.length; ++i) {\n      var tickCoord = axis.toGlobalCoord(ticksCoords[i].coord);\n      if (isHorizontal) {\n        p1[0] = tickCoord;\n        p1[1] = gridRect.y;\n        p2[0] = tickCoord;\n        p2[1] = gridRect.y + gridRect.height;\n      } else {\n        p1[0] = gridRect.x;\n        p1[1] = tickCoord;\n        p2[0] = gridRect.x + gridRect.width;\n        p2[1] = tickCoord;\n      }\n      var line = new graphic.Line({\n        shape: {\n          x1: p1[0],\n          y1: p1[1],\n          x2: p2[0],\n          y2: p2[1]\n        },\n        silent: true\n      });\n      graphic.subPixelOptimizeLine(line.shape, lineWidth);\n      var colorIndex = lineCount++ % lineColors.length;\n      splitLines[colorIndex] = splitLines[colorIndex] || [];\n      splitLines[colorIndex].push(line);\n    }\n    var lineStyle = lineStyleModel.getLineStyle(['color']);\n    for (var i = 0; i < splitLines.length; ++i) {\n      group.add(graphic.mergePath(splitLines[i], {\n        style: zrUtil.defaults({\n          stroke: lineColors[i % lineColors.length]\n        }, lineStyle),\n        silent: true\n      }));\n    }\n  },\n  splitArea: function (axisView, group, axisGroup, axisModel) {\n    rectCoordAxisBuildSplitArea(axisView, axisGroup, axisModel, axisModel);\n  }\n};\nexport default SingleAxisView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport { makeInner } from '../../util/model.js';\nvar inner = makeInner();\nexport function rectCoordAxisBuildSplitArea(axisView, axisGroup, axisModel, gridModel) {\n  var axis = axisModel.axis;\n  if (axis.scale.isBlank()) {\n    return;\n  }\n  // TODO: TYPE\n  var splitAreaModel = axisModel.getModel('splitArea');\n  var areaStyleModel = splitAreaModel.getModel('areaStyle');\n  var areaColors = areaStyleModel.get('color');\n  var gridRect = gridModel.coordinateSystem.getRect();\n  var ticksCoords = axis.getTicksCoords({\n    tickModel: splitAreaModel,\n    clamp: true\n  });\n  if (!ticksCoords.length) {\n    return;\n  }\n  // For Making appropriate splitArea animation, the color and anid\n  // should be corresponding to previous one if possible.\n  var areaColorsLen = areaColors.length;\n  var lastSplitAreaColors = inner(axisView).splitAreaColors;\n  var newSplitAreaColors = zrUtil.createHashMap();\n  var colorIndex = 0;\n  if (lastSplitAreaColors) {\n    for (var i = 0; i < ticksCoords.length; i++) {\n      var cIndex = lastSplitAreaColors.get(ticksCoords[i].tickValue);\n      if (cIndex != null) {\n        colorIndex = (cIndex + (areaColorsLen - 1) * i) % areaColorsLen;\n        break;\n      }\n    }\n  }\n  var prev = axis.toGlobalCoord(ticksCoords[0].coord);\n  var areaStyle = areaStyleModel.getAreaStyle();\n  areaColors = zrUtil.isArray(areaColors) ? areaColors : [areaColors];\n  for (var i = 1; i < ticksCoords.length; i++) {\n    var tickCoord = axis.toGlobalCoord(ticksCoords[i].coord);\n    var x = void 0;\n    var y = void 0;\n    var width = void 0;\n    var height = void 0;\n    if (axis.isHorizontal()) {\n      x = prev;\n      y = gridRect.y;\n      width = tickCoord - x;\n      height = gridRect.height;\n      prev = x + width;\n    } else {\n      x = gridRect.x;\n      y = prev;\n      width = gridRect.width;\n      height = tickCoord - y;\n      prev = y + height;\n    }\n    var tickValue = ticksCoords[i - 1].tickValue;\n    tickValue != null && newSplitAreaColors.set(tickValue, colorIndex);\n    axisGroup.add(new graphic.Rect({\n      anid: tickValue != null ? 'area_' + tickValue : null,\n      shape: {\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      },\n      style: zrUtil.defaults({\n        fill: areaColors[colorIndex]\n      }, areaStyle),\n      autoBatch: true,\n      silent: true\n    }));\n    colorIndex = (colorIndex + 1) % areaColorsLen;\n  }\n  inner(axisView).splitAreaColors = newSplitAreaColors;\n}\nexport function rectCoordAxisHandleRemove(axisView) {\n  inner(axisView).splitAreaColors = null;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar actionInfo = {\n  type: 'axisAreaSelect',\n  event: 'axisAreaSelected'\n  // update: 'updateVisual'\n};\n\nexport function installParallelActions(registers) {\n  registers.registerAction(actionInfo, function (payload, ecModel) {\n    ecModel.eachComponent({\n      mainType: 'parallelAxis',\n      query: payload\n    }, function (parallelAxisModel) {\n      parallelAxisModel.axis.model.setActiveIntervals(payload.intervals);\n    });\n  });\n  /**\n   * @payload\n   */\n  registers.registerAction('parallelAxisExpand', function (payload, ecModel) {\n    ecModel.eachComponent({\n      mainType: 'parallel',\n      query: payload\n    }, function (parallelModel) {\n      parallelModel.setAxisExpand(payload);\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { normalizeToArray } from '../../util/model.js';\nvar DEFAULT_TOOLBOX_BTNS = ['rect', 'polygon', 'keep', 'clear'];\nexport default function brushPreprocessor(option, isNew) {\n  var brushComponents = normalizeToArray(option ? option.brush : []);\n  if (!brushComponents.length) {\n    return;\n  }\n  var brushComponentSpecifiedBtns = [];\n  zrUtil.each(brushComponents, function (brushOpt) {\n    var tbs = brushOpt.hasOwnProperty('toolbox') ? brushOpt.toolbox : [];\n    if (tbs instanceof Array) {\n      brushComponentSpecifiedBtns = brushComponentSpecifiedBtns.concat(tbs);\n    }\n  });\n  var toolbox = option && option.toolbox;\n  if (zrUtil.isArray(toolbox)) {\n    toolbox = toolbox[0];\n  }\n  if (!toolbox) {\n    toolbox = {\n      feature: {}\n    };\n    option.toolbox = [toolbox];\n  }\n  var toolboxFeature = toolbox.feature || (toolbox.feature = {});\n  var toolboxBrush = toolboxFeature.brush || (toolboxFeature.brush = {});\n  var brushTypes = toolboxBrush.type || (toolboxBrush.type = []);\n  brushTypes.push.apply(brushTypes, brushComponentSpecifiedBtns);\n  removeDuplicate(brushTypes);\n  if (isNew && !brushTypes.length) {\n    brushTypes.push.apply(brushTypes, DEFAULT_TOOLBOX_BTNS);\n  }\n}\nfunction removeDuplicate(arr) {\n  var map = {};\n  zrUtil.each(arr, function (val) {\n    map[val] = 1;\n  });\n  arr.length = 0;\n  zrUtil.each(map, function (flag, val) {\n    arr.push(val);\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as polygonContain from 'zrender/lib/contain/polygon.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport { linePolygonIntersect } from '../../util/graphic.js';\nexport function makeBrushCommonSelectorForSeries(area) {\n  var brushType = area.brushType;\n  // Do not use function binding or curry for performance.\n  var selectors = {\n    point: function (itemLayout) {\n      return selector[brushType].point(itemLayout, selectors, area);\n    },\n    rect: function (itemLayout) {\n      return selector[brushType].rect(itemLayout, selectors, area);\n    }\n  };\n  return selectors;\n}\nvar selector = {\n  lineX: getLineSelectors(0),\n  lineY: getLineSelectors(1),\n  rect: {\n    point: function (itemLayout, selectors, area) {\n      return itemLayout && area.boundingRect.contain(itemLayout[0], itemLayout[1]);\n    },\n    rect: function (itemLayout, selectors, area) {\n      return itemLayout && area.boundingRect.intersect(itemLayout);\n    }\n  },\n  polygon: {\n    point: function (itemLayout, selectors, area) {\n      return itemLayout && area.boundingRect.contain(itemLayout[0], itemLayout[1]) && polygonContain.contain(area.range, itemLayout[0], itemLayout[1]);\n    },\n    rect: function (itemLayout, selectors, area) {\n      var points = area.range;\n      if (!itemLayout || points.length <= 1) {\n        return false;\n      }\n      var x = itemLayout.x;\n      var y = itemLayout.y;\n      var width = itemLayout.width;\n      var height = itemLayout.height;\n      var p = points[0];\n      if (polygonContain.contain(points, x, y) || polygonContain.contain(points, x + width, y) || polygonContain.contain(points, x, y + height) || polygonContain.contain(points, x + width, y + height) || BoundingRect.create(itemLayout).contain(p[0], p[1]) || linePolygonIntersect(x, y, x + width, y, points) || linePolygonIntersect(x, y, x, y + height, points) || linePolygonIntersect(x + width, y, x + width, y + height, points) || linePolygonIntersect(x, y + height, x + width, y + height, points)) {\n        return true;\n      }\n    }\n  }\n};\nfunction getLineSelectors(xyIndex) {\n  var xy = ['x', 'y'];\n  var wh = ['width', 'height'];\n  return {\n    point: function (itemLayout, selectors, area) {\n      if (itemLayout) {\n        var range = area.range;\n        var p = itemLayout[xyIndex];\n        return inLineRange(p, range);\n      }\n    },\n    rect: function (itemLayout, selectors, area) {\n      if (itemLayout) {\n        var range = area.range;\n        var layoutRange = [itemLayout[xy[xyIndex]], itemLayout[xy[xyIndex]] + itemLayout[wh[xyIndex]]];\n        layoutRange[1] < layoutRange[0] && layoutRange.reverse();\n        return inLineRange(layoutRange[0], range) || inLineRange(layoutRange[1], range) || inLineRange(range[0], layoutRange) || inLineRange(range[1], layoutRange);\n      }\n    }\n  };\n}\nfunction inLineRange(p, range) {\n  return range[0] <= p && p <= range[1];\n}\nexport default selector;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport * as visualSolution from '../../visual/visualSolution.js';\nimport { makeBrushCommonSelectorForSeries } from './selector.js';\nimport * as throttleUtil from '../../util/throttle.js';\nimport BrushTargetManager from '../helper/BrushTargetManager.js';\nvar STATE_LIST = ['inBrush', 'outOfBrush'];\nvar DISPATCH_METHOD = '__ecBrushSelect';\nvar DISPATCH_FLAG = '__ecInBrushSelectEvent';\n;\nexport function layoutCovers(ecModel) {\n  ecModel.eachComponent({\n    mainType: 'brush'\n  }, function (brushModel) {\n    var brushTargetManager = brushModel.brushTargetManager = new BrushTargetManager(brushModel.option, ecModel);\n    brushTargetManager.setInputRanges(brushModel.areas, ecModel);\n  });\n}\n/**\n * Register the visual encoding if this modules required.\n */\nexport default function brushVisual(ecModel, api, payload) {\n  var brushSelected = [];\n  var throttleType;\n  var throttleDelay;\n  ecModel.eachComponent({\n    mainType: 'brush'\n  }, function (brushModel) {\n    payload && payload.type === 'takeGlobalCursor' && brushModel.setBrushOption(payload.key === 'brush' ? payload.brushOption : {\n      brushType: false\n    });\n  });\n  layoutCovers(ecModel);\n  ecModel.eachComponent({\n    mainType: 'brush'\n  }, function (brushModel, brushIndex) {\n    var thisBrushSelected = {\n      brushId: brushModel.id,\n      brushIndex: brushIndex,\n      brushName: brushModel.name,\n      areas: zrUtil.clone(brushModel.areas),\n      selected: []\n    };\n    // Every brush component exists in event params, convenient\n    // for user to find by index.\n    brushSelected.push(thisBrushSelected);\n    var brushOption = brushModel.option;\n    var brushLink = brushOption.brushLink;\n    var linkedSeriesMap = [];\n    var selectedDataIndexForLink = [];\n    var rangeInfoBySeries = [];\n    var hasBrushExists = false;\n    if (!brushIndex) {\n      // Only the first throttle setting works.\n      throttleType = brushOption.throttleType;\n      throttleDelay = brushOption.throttleDelay;\n    }\n    // Add boundingRect and selectors to range.\n    var areas = zrUtil.map(brushModel.areas, function (area) {\n      var builder = boundingRectBuilders[area.brushType];\n      var selectableArea = zrUtil.defaults({\n        boundingRect: builder ? builder(area) : void 0\n      }, area);\n      selectableArea.selectors = makeBrushCommonSelectorForSeries(selectableArea);\n      return selectableArea;\n    });\n    var visualMappings = visualSolution.createVisualMappings(brushModel.option, STATE_LIST, function (mappingOption) {\n      mappingOption.mappingMethod = 'fixed';\n    });\n    zrUtil.isArray(brushLink) && zrUtil.each(brushLink, function (seriesIndex) {\n      linkedSeriesMap[seriesIndex] = 1;\n    });\n    function linkOthers(seriesIndex) {\n      return brushLink === 'all' || !!linkedSeriesMap[seriesIndex];\n    }\n    // If no supported brush or no brush on the series,\n    // all visuals should be in original state.\n    function brushed(rangeInfoList) {\n      return !!rangeInfoList.length;\n    }\n    /**\n     * Logic for each series: (If the logic has to be modified one day, do it carefully!)\n     *\n     * ( brushed  && hasBrushExist  && linkOthers  ) => StepA: record,  StepB: visualByRecord.\n     *   !brushed    hasBrushExist                             nothing,        visualByRecord.\n     *                !hasBrushExist                                              nothing.\n     * ( !brushed  && hasBrushExist  && linkOthers  ) => StepA:  nothing,  StepB: visualByRecord.\n     *                !hasBrushExist                                              nothing.\n     * ( brushed  &&                     !linkOthers ) => StepA:  nothing,  StepB: visualByCheck.\n     *   !brushed                                                                  nothing.\n     * ( !brushed  &&                     !linkOthers ) => StepA:  nothing,  StepB:  nothing.\n     */\n    // Step A\n    ecModel.eachSeries(function (seriesModel, seriesIndex) {\n      var rangeInfoList = rangeInfoBySeries[seriesIndex] = [];\n      seriesModel.subType === 'parallel' ? stepAParallel(seriesModel, seriesIndex) : stepAOthers(seriesModel, seriesIndex, rangeInfoList);\n    });\n    function stepAParallel(seriesModel, seriesIndex) {\n      var coordSys = seriesModel.coordinateSystem;\n      hasBrushExists = hasBrushExists || coordSys.hasAxisBrushed();\n      linkOthers(seriesIndex) && coordSys.eachActiveState(seriesModel.getData(), function (activeState, dataIndex) {\n        activeState === 'active' && (selectedDataIndexForLink[dataIndex] = 1);\n      });\n    }\n    function stepAOthers(seriesModel, seriesIndex, rangeInfoList) {\n      if (!seriesModel.brushSelector || brushModelNotControll(brushModel, seriesIndex)) {\n        return;\n      }\n      zrUtil.each(areas, function (area) {\n        if (brushModel.brushTargetManager.controlSeries(area, seriesModel, ecModel)) {\n          rangeInfoList.push(area);\n        }\n        hasBrushExists = hasBrushExists || brushed(rangeInfoList);\n      });\n      if (linkOthers(seriesIndex) && brushed(rangeInfoList)) {\n        var data_1 = seriesModel.getData();\n        data_1.each(function (dataIndex) {\n          if (checkInRange(seriesModel, rangeInfoList, data_1, dataIndex)) {\n            selectedDataIndexForLink[dataIndex] = 1;\n          }\n        });\n      }\n    }\n    // Step B\n    ecModel.eachSeries(function (seriesModel, seriesIndex) {\n      var seriesBrushSelected = {\n        seriesId: seriesModel.id,\n        seriesIndex: seriesIndex,\n        seriesName: seriesModel.name,\n        dataIndex: []\n      };\n      // Every series exists in event params, convenient\n      // for user to find series by seriesIndex.\n      thisBrushSelected.selected.push(seriesBrushSelected);\n      var rangeInfoList = rangeInfoBySeries[seriesIndex];\n      var data = seriesModel.getData();\n      var getValueState = linkOthers(seriesIndex) ? function (dataIndex) {\n        return selectedDataIndexForLink[dataIndex] ? (seriesBrushSelected.dataIndex.push(data.getRawIndex(dataIndex)), 'inBrush') : 'outOfBrush';\n      } : function (dataIndex) {\n        return checkInRange(seriesModel, rangeInfoList, data, dataIndex) ? (seriesBrushSelected.dataIndex.push(data.getRawIndex(dataIndex)), 'inBrush') : 'outOfBrush';\n      };\n      // If no supported brush or no brush, all visuals are in original state.\n      (linkOthers(seriesIndex) ? hasBrushExists : brushed(rangeInfoList)) && visualSolution.applyVisual(STATE_LIST, visualMappings, data, getValueState);\n    });\n  });\n  dispatchAction(api, throttleType, throttleDelay, brushSelected, payload);\n}\n;\nfunction dispatchAction(api, throttleType, throttleDelay, brushSelected, payload) {\n  // This event will not be triggered when `setOpion`, otherwise dead lock may\n  // triggered when do `setOption` in event listener, which we do not find\n  // satisfactory way to solve yet. Some considered resolutions:\n  // (a) Diff with prevoius selected data ant only trigger event when changed.\n  // But store previous data and diff precisely (i.e., not only by dataIndex, but\n  // also detect value changes in selected data) might bring complexity or fragility.\n  // (b) Use spectial param like `silent` to suppress event triggering.\n  // But such kind of volatile param may be weird in `setOption`.\n  if (!payload) {\n    return;\n  }\n  var zr = api.getZr();\n  if (zr[DISPATCH_FLAG]) {\n    return;\n  }\n  if (!zr[DISPATCH_METHOD]) {\n    zr[DISPATCH_METHOD] = doDispatch;\n  }\n  var fn = throttleUtil.createOrUpdate(zr, DISPATCH_METHOD, throttleDelay, throttleType);\n  fn(api, brushSelected);\n}\nfunction doDispatch(api, brushSelected) {\n  if (!api.isDisposed()) {\n    var zr = api.getZr();\n    zr[DISPATCH_FLAG] = true;\n    api.dispatchAction({\n      type: 'brushSelect',\n      batch: brushSelected\n    });\n    zr[DISPATCH_FLAG] = false;\n  }\n}\nfunction checkInRange(seriesModel, rangeInfoList, data, dataIndex) {\n  for (var i = 0, len = rangeInfoList.length; i < len; i++) {\n    var area = rangeInfoList[i];\n    if (seriesModel.brushSelector(dataIndex, data, area.selectors, area)) {\n      return true;\n    }\n  }\n}\nfunction brushModelNotControll(brushModel, seriesIndex) {\n  var seriesIndices = brushModel.option.seriesIndex;\n  return seriesIndices != null && seriesIndices !== 'all' && (zrUtil.isArray(seriesIndices) ? zrUtil.indexOf(seriesIndices, seriesIndex) < 0 : seriesIndex !== seriesIndices);\n}\nvar boundingRectBuilders = {\n  rect: function (area) {\n    return getBoundingRectFromMinMax(area.range);\n  },\n  polygon: function (area) {\n    var minMax;\n    var range = area.range;\n    for (var i = 0, len = range.length; i < len; i++) {\n      minMax = minMax || [[Infinity, -Infinity], [Infinity, -Infinity]];\n      var rg = range[i];\n      rg[0] < minMax[0][0] && (minMax[0][0] = rg[0]);\n      rg[0] > minMax[0][1] && (minMax[0][1] = rg[0]);\n      rg[1] < minMax[1][0] && (minMax[1][0] = rg[1]);\n      rg[1] > minMax[1][1] && (minMax[1][1] = rg[1]);\n    }\n    return minMax && getBoundingRectFromMinMax(minMax);\n  }\n};\nfunction getBoundingRectFromMinMax(minMax) {\n  return new BoundingRect(minMax[0][0], minMax[1][0], minMax[0][1] - minMax[0][0], minMax[1][1] - minMax[1][0]);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport BrushController from '../helper/BrushController.js';\nimport { layoutCovers } from './visualEncoding.js';\nimport ComponentView from '../../view/Component.js';\nvar BrushView = /** @class */function (_super) {\n  __extends(BrushView, _super);\n  function BrushView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = BrushView.type;\n    return _this;\n  }\n  BrushView.prototype.init = function (ecModel, api) {\n    this.ecModel = ecModel;\n    this.api = api;\n    this.model;\n    (this._brushController = new BrushController(api.getZr())).on('brush', zrUtil.bind(this._onBrush, this)).mount();\n  };\n  BrushView.prototype.render = function (brushModel, ecModel, api, payload) {\n    this.model = brushModel;\n    this._updateController(brushModel, ecModel, api, payload);\n  };\n  BrushView.prototype.updateTransform = function (brushModel, ecModel, api, payload) {\n    // PENDING: `updateTransform` is a little tricky, whose layout need\n    // to be calculate mandatorily and other stages will not be performed.\n    // Take care the correctness of the logic. See #11754 .\n    layoutCovers(ecModel);\n    this._updateController(brushModel, ecModel, api, payload);\n  };\n  BrushView.prototype.updateVisual = function (brushModel, ecModel, api, payload) {\n    this.updateTransform(brushModel, ecModel, api, payload);\n  };\n  BrushView.prototype.updateView = function (brushModel, ecModel, api, payload) {\n    this._updateController(brushModel, ecModel, api, payload);\n  };\n  BrushView.prototype._updateController = function (brushModel, ecModel, api, payload) {\n    // Do not update controller when drawing.\n    (!payload || payload.$from !== brushModel.id) && this._brushController.setPanels(brushModel.brushTargetManager.makePanelOpts(api)).enableBrush(brushModel.brushOption).updateCovers(brushModel.areas.slice());\n  };\n  // updateLayout: updateController,\n  // updateVisual: updateController,\n  BrushView.prototype.dispose = function () {\n    this._brushController.dispose();\n  };\n  BrushView.prototype._onBrush = function (eventParam) {\n    var modelId = this.model.id;\n    var areas = this.model.brushTargetManager.setOutputRanges(eventParam.areas, this.ecModel);\n    // Action is not dispatched on drag end, because the drag end\n    // emits the same params with the last drag move event, and\n    // may have some delay when using touch pad, which makes\n    // animation not smooth (when using debounce).\n    (!eventParam.isEnd || eventParam.removeOnClick) && this.api.dispatchAction({\n      type: 'brush',\n      brushId: modelId,\n      areas: zrUtil.clone(areas),\n      $from: modelId\n    });\n    eventParam.isEnd && this.api.dispatchAction({\n      type: 'brushEnd',\n      brushId: modelId,\n      areas: zrUtil.clone(areas),\n      $from: modelId\n    });\n  };\n  BrushView.type = 'brush';\n  return BrushView;\n}(ComponentView);\nexport default BrushView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as visualSolution from '../../visual/visualSolution.js';\nimport Model from '../../model/Model.js';\nimport ComponentModel from '../../model/Component.js';\nvar DEFAULT_OUT_OF_BRUSH_COLOR = '#ddd';\nvar BrushModel = /** @class */function (_super) {\n  __extends(BrushModel, _super);\n  function BrushModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = BrushModel.type;\n    /**\n     * @readOnly\n     */\n    _this.areas = [];\n    /**\n     * Current brush painting area settings.\n     * @readOnly\n     */\n    _this.brushOption = {};\n    return _this;\n  }\n  BrushModel.prototype.optionUpdated = function (newOption, isInit) {\n    var thisOption = this.option;\n    !isInit && visualSolution.replaceVisualOption(thisOption, newOption, ['inBrush', 'outOfBrush']);\n    var inBrush = thisOption.inBrush = thisOption.inBrush || {};\n    // Always give default visual, consider setOption at the second time.\n    thisOption.outOfBrush = thisOption.outOfBrush || {\n      color: DEFAULT_OUT_OF_BRUSH_COLOR\n    };\n    if (!inBrush.hasOwnProperty('liftZ')) {\n      // Bigger than the highlight z lift, otherwise it will\n      // be effected by the highlight z when brush.\n      inBrush.liftZ = 5;\n    }\n  };\n  /**\n   * If `areas` is null/undefined, range state remain.\n   */\n  BrushModel.prototype.setAreas = function (areas) {\n    if (process.env.NODE_ENV !== 'production') {\n      zrUtil.assert(zrUtil.isArray(areas));\n      zrUtil.each(areas, function (area) {\n        zrUtil.assert(area.brushType, 'Illegal areas');\n      });\n    }\n    // If areas is null/undefined, range state remain.\n    // This helps user to dispatchAction({type: 'brush'}) with no areas\n    // set but just want to get the current brush select info from a `brush` event.\n    if (!areas) {\n      return;\n    }\n    this.areas = zrUtil.map(areas, function (area) {\n      return generateBrushOption(this.option, area);\n    }, this);\n  };\n  /**\n   * Set the current painting brush option.\n   */\n  BrushModel.prototype.setBrushOption = function (brushOption) {\n    this.brushOption = generateBrushOption(this.option, brushOption);\n    this.brushType = this.brushOption.brushType;\n  };\n  BrushModel.type = 'brush';\n  BrushModel.dependencies = ['geo', 'grid', 'xAxis', 'yAxis', 'parallel', 'series'];\n  BrushModel.defaultOption = {\n    seriesIndex: 'all',\n    brushType: 'rect',\n    brushMode: 'single',\n    transformable: true,\n    brushStyle: {\n      borderWidth: 1,\n      color: 'rgba(210,219,238,0.3)',\n      borderColor: '#D2DBEE'\n    },\n    throttleType: 'fixRate',\n    throttleDelay: 0,\n    removeOnClick: true,\n    z: 10000\n  };\n  return BrushModel;\n}(ComponentModel);\nfunction generateBrushOption(option, brushOption) {\n  return zrUtil.merge({\n    brushType: option.brushType,\n    brushMode: option.brushMode,\n    transformable: option.transformable,\n    brushStyle: new Model(option.brushStyle).getItemStyle(),\n    removeOnClick: option.removeOnClick,\n    z: option.z\n  }, brushOption, true);\n}\nexport default BrushModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport brushPreprocessor from './preprocessor.js';\nimport BrushView from './BrushView.js';\nimport BrushModel from './BrushModel.js';\nimport brushVisual from './visualEncoding.js';\n// TODO\nimport BrushFeature from '../toolbox/feature/Brush.js';\nimport { registerFeature } from '../toolbox/featureManager.js';\nimport { noop } from 'zrender/lib/core/util.js';\nexport function install(registers) {\n  registers.registerComponentView(BrushView);\n  registers.registerComponentModel(BrushModel);\n  registers.registerPreprocessor(brushPreprocessor);\n  registers.registerVisual(registers.PRIORITY.VISUAL.BRUSH, brushVisual);\n  registers.registerAction({\n    type: 'brush',\n    event: 'brush',\n    update: 'updateVisual'\n  }, function (payload, ecModel) {\n    ecModel.eachComponent({\n      mainType: 'brush',\n      query: payload\n    }, function (brushModel) {\n      brushModel.setAreas(payload.areas);\n    });\n  });\n  /**\n   * payload: {\n   *      brushComponents: [\n   *          {\n   *              brushId,\n   *              brushIndex,\n   *              brushName,\n   *              series: [\n   *                  {\n   *                      seriesId,\n   *                      seriesIndex,\n   *                      seriesName,\n   *                      rawIndices: [21, 34, ...]\n   *                  },\n   *                  ...\n   *              ]\n   *          },\n   *          ...\n   *      ]\n   * }\n   */\n  registers.registerAction({\n    type: 'brushSelect',\n    event: 'brushSelected',\n    update: 'none'\n  }, noop);\n  registers.registerAction({\n    type: 'brushEnd',\n    event: 'brushEnd',\n    update: 'none'\n  }, noop);\n  registerFeature('brush', BrushFeature);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { isString, extend, map, isFunction } from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nimport { formatTplSimple } from '../../util/format.js';\nimport { parsePercent } from '../../util/number.js';\nimport ComponentView from '../../view/Component.js';\nimport { getLocaleModel } from '../../core/locale.js';\nvar CalendarView = /** @class */function (_super) {\n  __extends(CalendarView, _super);\n  function CalendarView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = CalendarView.type;\n    return _this;\n  }\n  CalendarView.prototype.render = function (calendarModel, ecModel, api) {\n    var group = this.group;\n    group.removeAll();\n    var coordSys = calendarModel.coordinateSystem;\n    // range info\n    var rangeData = coordSys.getRangeInfo();\n    var orient = coordSys.getOrient();\n    // locale\n    var localeModel = ecModel.getLocaleModel();\n    this._renderDayRect(calendarModel, rangeData, group);\n    // _renderLines must be called prior to following function\n    this._renderLines(calendarModel, rangeData, orient, group);\n    this._renderYearText(calendarModel, rangeData, orient, group);\n    this._renderMonthText(calendarModel, localeModel, orient, group);\n    this._renderWeekText(calendarModel, localeModel, rangeData, orient, group);\n  };\n  // render day rect\n  CalendarView.prototype._renderDayRect = function (calendarModel, rangeData, group) {\n    var coordSys = calendarModel.coordinateSystem;\n    var itemRectStyleModel = calendarModel.getModel('itemStyle').getItemStyle();\n    var sw = coordSys.getCellWidth();\n    var sh = coordSys.getCellHeight();\n    for (var i = rangeData.start.time; i <= rangeData.end.time; i = coordSys.getNextNDay(i, 1).time) {\n      var point = coordSys.dataToRect([i], false).tl;\n      // every rect\n      var rect = new graphic.Rect({\n        shape: {\n          x: point[0],\n          y: point[1],\n          width: sw,\n          height: sh\n        },\n        cursor: 'default',\n        style: itemRectStyleModel\n      });\n      group.add(rect);\n    }\n  };\n  // render separate line\n  CalendarView.prototype._renderLines = function (calendarModel, rangeData, orient, group) {\n    var self = this;\n    var coordSys = calendarModel.coordinateSystem;\n    var lineStyleModel = calendarModel.getModel(['splitLine', 'lineStyle']).getLineStyle();\n    var show = calendarModel.get(['splitLine', 'show']);\n    var lineWidth = lineStyleModel.lineWidth;\n    this._tlpoints = [];\n    this._blpoints = [];\n    this._firstDayOfMonth = [];\n    this._firstDayPoints = [];\n    var firstDay = rangeData.start;\n    for (var i = 0; firstDay.time <= rangeData.end.time; i++) {\n      addPoints(firstDay.formatedDate);\n      if (i === 0) {\n        firstDay = coordSys.getDateInfo(rangeData.start.y + '-' + rangeData.start.m);\n      }\n      var date = firstDay.date;\n      date.setMonth(date.getMonth() + 1);\n      firstDay = coordSys.getDateInfo(date);\n    }\n    addPoints(coordSys.getNextNDay(rangeData.end.time, 1).formatedDate);\n    function addPoints(date) {\n      self._firstDayOfMonth.push(coordSys.getDateInfo(date));\n      self._firstDayPoints.push(coordSys.dataToRect([date], false).tl);\n      var points = self._getLinePointsOfOneWeek(calendarModel, date, orient);\n      self._tlpoints.push(points[0]);\n      self._blpoints.push(points[points.length - 1]);\n      show && self._drawSplitline(points, lineStyleModel, group);\n    }\n    // render top/left line\n    show && this._drawSplitline(self._getEdgesPoints(self._tlpoints, lineWidth, orient), lineStyleModel, group);\n    // render bottom/right line\n    show && this._drawSplitline(self._getEdgesPoints(self._blpoints, lineWidth, orient), lineStyleModel, group);\n  };\n  // get points at both ends\n  CalendarView.prototype._getEdgesPoints = function (points, lineWidth, orient) {\n    var rs = [points[0].slice(), points[points.length - 1].slice()];\n    var idx = orient === 'horizontal' ? 0 : 1;\n    // both ends of the line are extend half lineWidth\n    rs[0][idx] = rs[0][idx] - lineWidth / 2;\n    rs[1][idx] = rs[1][idx] + lineWidth / 2;\n    return rs;\n  };\n  // render split line\n  CalendarView.prototype._drawSplitline = function (points, lineStyle, group) {\n    var poyline = new graphic.Polyline({\n      z2: 20,\n      shape: {\n        points: points\n      },\n      style: lineStyle\n    });\n    group.add(poyline);\n  };\n  // render month line of one week points\n  CalendarView.prototype._getLinePointsOfOneWeek = function (calendarModel, date, orient) {\n    var coordSys = calendarModel.coordinateSystem;\n    var parsedDate = coordSys.getDateInfo(date);\n    var points = [];\n    for (var i = 0; i < 7; i++) {\n      var tmpD = coordSys.getNextNDay(parsedDate.time, i);\n      var point = coordSys.dataToRect([tmpD.time], false);\n      points[2 * tmpD.day] = point.tl;\n      points[2 * tmpD.day + 1] = point[orient === 'horizontal' ? 'bl' : 'tr'];\n    }\n    return points;\n  };\n  CalendarView.prototype._formatterLabel = function (formatter, params) {\n    if (isString(formatter) && formatter) {\n      return formatTplSimple(formatter, params);\n    }\n    if (isFunction(formatter)) {\n      return formatter(params);\n    }\n    return params.nameMap;\n  };\n  CalendarView.prototype._yearTextPositionControl = function (textEl, point, orient, position, margin) {\n    var x = point[0];\n    var y = point[1];\n    var aligns = ['center', 'bottom'];\n    if (position === 'bottom') {\n      y += margin;\n      aligns = ['center', 'top'];\n    } else if (position === 'left') {\n      x -= margin;\n    } else if (position === 'right') {\n      x += margin;\n      aligns = ['center', 'top'];\n    } else {\n      // top\n      y -= margin;\n    }\n    var rotate = 0;\n    if (position === 'left' || position === 'right') {\n      rotate = Math.PI / 2;\n    }\n    return {\n      rotation: rotate,\n      x: x,\n      y: y,\n      style: {\n        align: aligns[0],\n        verticalAlign: aligns[1]\n      }\n    };\n  };\n  // render year\n  CalendarView.prototype._renderYearText = function (calendarModel, rangeData, orient, group) {\n    var yearLabel = calendarModel.getModel('yearLabel');\n    if (!yearLabel.get('show')) {\n      return;\n    }\n    var margin = yearLabel.get('margin');\n    var pos = yearLabel.get('position');\n    if (!pos) {\n      pos = orient !== 'horizontal' ? 'top' : 'left';\n    }\n    var points = [this._tlpoints[this._tlpoints.length - 1], this._blpoints[0]];\n    var xc = (points[0][0] + points[1][0]) / 2;\n    var yc = (points[0][1] + points[1][1]) / 2;\n    var idx = orient === 'horizontal' ? 0 : 1;\n    var posPoints = {\n      top: [xc, points[idx][1]],\n      bottom: [xc, points[1 - idx][1]],\n      left: [points[1 - idx][0], yc],\n      right: [points[idx][0], yc]\n    };\n    var name = rangeData.start.y;\n    if (+rangeData.end.y > +rangeData.start.y) {\n      name = name + '-' + rangeData.end.y;\n    }\n    var formatter = yearLabel.get('formatter');\n    var params = {\n      start: rangeData.start.y,\n      end: rangeData.end.y,\n      nameMap: name\n    };\n    var content = this._formatterLabel(formatter, params);\n    var yearText = new graphic.Text({\n      z2: 30,\n      style: createTextStyle(yearLabel, {\n        text: content\n      })\n    });\n    yearText.attr(this._yearTextPositionControl(yearText, posPoints[pos], orient, pos, margin));\n    group.add(yearText);\n  };\n  CalendarView.prototype._monthTextPositionControl = function (point, isCenter, orient, position, margin) {\n    var align = 'left';\n    var vAlign = 'top';\n    var x = point[0];\n    var y = point[1];\n    if (orient === 'horizontal') {\n      y = y + margin;\n      if (isCenter) {\n        align = 'center';\n      }\n      if (position === 'start') {\n        vAlign = 'bottom';\n      }\n    } else {\n      x = x + margin;\n      if (isCenter) {\n        vAlign = 'middle';\n      }\n      if (position === 'start') {\n        align = 'right';\n      }\n    }\n    return {\n      x: x,\n      y: y,\n      align: align,\n      verticalAlign: vAlign\n    };\n  };\n  // render month and year text\n  CalendarView.prototype._renderMonthText = function (calendarModel, localeModel, orient, group) {\n    var monthLabel = calendarModel.getModel('monthLabel');\n    if (!monthLabel.get('show')) {\n      return;\n    }\n    var nameMap = monthLabel.get('nameMap');\n    var margin = monthLabel.get('margin');\n    var pos = monthLabel.get('position');\n    var align = monthLabel.get('align');\n    var termPoints = [this._tlpoints, this._blpoints];\n    if (!nameMap || isString(nameMap)) {\n      if (nameMap) {\n        // case-sensitive\n        localeModel = getLocaleModel(nameMap) || localeModel;\n      }\n      // PENDING\n      // for ZH locale, original form is `` but current form is `1`\n      nameMap = localeModel.get(['time', 'monthAbbr']) || [];\n    }\n    var idx = pos === 'start' ? 0 : 1;\n    var axis = orient === 'horizontal' ? 0 : 1;\n    margin = pos === 'start' ? -margin : margin;\n    var isCenter = align === 'center';\n    for (var i = 0; i < termPoints[idx].length - 1; i++) {\n      var tmp = termPoints[idx][i].slice();\n      var firstDay = this._firstDayOfMonth[i];\n      if (isCenter) {\n        var firstDayPoints = this._firstDayPoints[i];\n        tmp[axis] = (firstDayPoints[axis] + termPoints[0][i + 1][axis]) / 2;\n      }\n      var formatter = monthLabel.get('formatter');\n      var name_1 = nameMap[+firstDay.m - 1];\n      var params = {\n        yyyy: firstDay.y,\n        yy: (firstDay.y + '').slice(2),\n        MM: firstDay.m,\n        M: +firstDay.m,\n        nameMap: name_1\n      };\n      var content = this._formatterLabel(formatter, params);\n      var monthText = new graphic.Text({\n        z2: 30,\n        style: extend(createTextStyle(monthLabel, {\n          text: content\n        }), this._monthTextPositionControl(tmp, isCenter, orient, pos, margin))\n      });\n      group.add(monthText);\n    }\n  };\n  CalendarView.prototype._weekTextPositionControl = function (point, orient, position, margin, cellSize) {\n    var align = 'center';\n    var vAlign = 'middle';\n    var x = point[0];\n    var y = point[1];\n    var isStart = position === 'start';\n    if (orient === 'horizontal') {\n      x = x + margin + (isStart ? 1 : -1) * cellSize[0] / 2;\n      align = isStart ? 'right' : 'left';\n    } else {\n      y = y + margin + (isStart ? 1 : -1) * cellSize[1] / 2;\n      vAlign = isStart ? 'bottom' : 'top';\n    }\n    return {\n      x: x,\n      y: y,\n      align: align,\n      verticalAlign: vAlign\n    };\n  };\n  // render weeks\n  CalendarView.prototype._renderWeekText = function (calendarModel, localeModel, rangeData, orient, group) {\n    var dayLabel = calendarModel.getModel('dayLabel');\n    if (!dayLabel.get('show')) {\n      return;\n    }\n    var coordSys = calendarModel.coordinateSystem;\n    var pos = dayLabel.get('position');\n    var nameMap = dayLabel.get('nameMap');\n    var margin = dayLabel.get('margin');\n    var firstDayOfWeek = coordSys.getFirstDayOfWeek();\n    if (!nameMap || isString(nameMap)) {\n      if (nameMap) {\n        // case-sensitive\n        localeModel = getLocaleModel(nameMap) || localeModel;\n      }\n      // Use the first letter of `dayOfWeekAbbr` if `dayOfWeekShort` doesn't exist in the locale file\n      var dayOfWeekShort = localeModel.get(['time', 'dayOfWeekShort']);\n      nameMap = dayOfWeekShort || map(localeModel.get(['time', 'dayOfWeekAbbr']), function (val) {\n        return val[0];\n      });\n    }\n    var start = coordSys.getNextNDay(rangeData.end.time, 7 - rangeData.lweek).time;\n    var cellSize = [coordSys.getCellWidth(), coordSys.getCellHeight()];\n    margin = parsePercent(margin, Math.min(cellSize[1], cellSize[0]));\n    if (pos === 'start') {\n      start = coordSys.getNextNDay(rangeData.start.time, -(7 + rangeData.fweek)).time;\n      margin = -margin;\n    }\n    for (var i = 0; i < 7; i++) {\n      var tmpD = coordSys.getNextNDay(start, i);\n      var point = coordSys.dataToRect([tmpD.time], false).center;\n      var day = i;\n      day = Math.abs((i + firstDayOfWeek) % 7);\n      var weekText = new graphic.Text({\n        z2: 30,\n        style: extend(createTextStyle(dayLabel, {\n          text: nameMap[day]\n        }), this._weekTextPositionControl(point, orient, pos, margin, cellSize))\n      });\n      group.add(weekText);\n    }\n  };\n  CalendarView.type = 'calendar';\n  return CalendarView;\n}(ComponentView);\nexport default CalendarView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport CalendarModel from '../../coord/calendar/CalendarModel.js';\nimport CalendarView from './CalendarView.js';\nimport Calendar from '../../coord/calendar/Calendar.js';\nexport function install(registers) {\n  registers.registerComponentModel(CalendarModel);\n  registers.registerComponentView(CalendarView);\n  registers.registerCoordinateSystem('calendar', Calendar);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { each, createHashMap, merge, assert } from 'zrender/lib/core/util.js';\nimport ComponentModel from '../../model/Component.js';\nimport { getAxisMainType, DATA_ZOOM_AXIS_DIMENSIONS } from './helper.js';\nimport { MULTIPLE_REFERRING, SINGLE_REFERRING } from '../../util/model.js';\nvar DataZoomAxisInfo = /** @class */function () {\n  function DataZoomAxisInfo() {\n    this.indexList = [];\n    this.indexMap = [];\n  }\n  DataZoomAxisInfo.prototype.add = function (axisCmptIdx) {\n    // Remove duplication.\n    if (!this.indexMap[axisCmptIdx]) {\n      this.indexList.push(axisCmptIdx);\n      this.indexMap[axisCmptIdx] = true;\n    }\n  };\n  return DataZoomAxisInfo;\n}();\nvar DataZoomModel = /** @class */function (_super) {\n  __extends(DataZoomModel, _super);\n  function DataZoomModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = DataZoomModel.type;\n    _this._autoThrottle = true;\n    _this._noTarget = true;\n    /**\n     * It is `[rangeModeForMin, rangeModeForMax]`.\n     * The optional values for `rangeMode`:\n     * + `'value'` mode: the axis extent will always be determined by\n     *     `dataZoom.startValue` and `dataZoom.endValue`, despite\n     *     how data like and how `axis.min` and `axis.max` are.\n     * + `'percent'` mode: `100` represents 100% of the `[dMin, dMax]`,\n     *     where `dMin` is `axis.min` if `axis.min` specified, otherwise `data.extent[0]`,\n     *     and `dMax` is `axis.max` if `axis.max` specified, otherwise `data.extent[1]`.\n     *     Axis extent will be determined by the result of the percent of `[dMin, dMax]`.\n     *\n     * For example, when users are using dynamic data (update data periodically via `setOption`),\n     * if in `'value`' mode, the window will be kept in a fixed value range despite how\n     * data are appended, while if in `'percent'` mode, whe window range will be changed alone with\n     * the appended data (suppose `axis.min` and `axis.max` are not specified).\n     */\n    _this._rangePropMode = ['percent', 'percent'];\n    return _this;\n  }\n  DataZoomModel.prototype.init = function (option, parentModel, ecModel) {\n    var inputRawOption = retrieveRawOption(option);\n    /**\n     * Suppose a \"main process\" start at the point that model prepared (that is,\n     * model initialized or merged or method called in `action`).\n     * We should keep the `main process` idempotent, that is, given a set of values\n     * on `option`, we get the same result.\n     *\n     * But sometimes, values on `option` will be updated for providing users\n     * a \"final calculated value\" (`dataZoomProcessor` will do that). Those value\n     * should not be the base/input of the `main process`.\n     *\n     * So in that case we should save and keep the input of the `main process`\n     * separately, called `settledOption`.\n     *\n     * For example, consider the case:\n     * (Step_1) brush zoom the grid by `toolbox.dataZoom`,\n     *     where the original input `option.startValue`, `option.endValue` are earsed by\n     *     calculated value.\n     * (Step)2) click the legend to hide and show a series,\n     *     where the new range is calculated by the earsed `startValue` and `endValue`,\n     *     which brings incorrect result.\n     */\n    this.settledOption = inputRawOption;\n    this.mergeDefaultAndTheme(option, ecModel);\n    this._doInit(inputRawOption);\n  };\n  DataZoomModel.prototype.mergeOption = function (newOption) {\n    var inputRawOption = retrieveRawOption(newOption);\n    // FIX #2591\n    merge(this.option, newOption, true);\n    merge(this.settledOption, inputRawOption, true);\n    this._doInit(inputRawOption);\n  };\n  DataZoomModel.prototype._doInit = function (inputRawOption) {\n    var thisOption = this.option;\n    this._setDefaultThrottle(inputRawOption);\n    this._updateRangeUse(inputRawOption);\n    var settledOption = this.settledOption;\n    each([['start', 'startValue'], ['end', 'endValue']], function (names, index) {\n      // start/end has higher priority over startValue/endValue if they\n      // both set, but we should make chart.setOption({endValue: 1000})\n      // effective, rather than chart.setOption({endValue: 1000, end: null}).\n      if (this._rangePropMode[index] === 'value') {\n        thisOption[names[0]] = settledOption[names[0]] = null;\n      }\n      // Otherwise do nothing and use the merge result.\n    }, this);\n    this._resetTarget();\n  };\n  DataZoomModel.prototype._resetTarget = function () {\n    var optionOrient = this.get('orient', true);\n    var targetAxisIndexMap = this._targetAxisInfoMap = createHashMap();\n    var hasAxisSpecified = this._fillSpecifiedTargetAxis(targetAxisIndexMap);\n    if (hasAxisSpecified) {\n      this._orient = optionOrient || this._makeAutoOrientByTargetAxis();\n    } else {\n      this._orient = optionOrient || 'horizontal';\n      this._fillAutoTargetAxisByOrient(targetAxisIndexMap, this._orient);\n    }\n    this._noTarget = true;\n    targetAxisIndexMap.each(function (axisInfo) {\n      if (axisInfo.indexList.length) {\n        this._noTarget = false;\n      }\n    }, this);\n  };\n  DataZoomModel.prototype._fillSpecifiedTargetAxis = function (targetAxisIndexMap) {\n    var hasAxisSpecified = false;\n    each(DATA_ZOOM_AXIS_DIMENSIONS, function (axisDim) {\n      var refering = this.getReferringComponents(getAxisMainType(axisDim), MULTIPLE_REFERRING);\n      // When user set axisIndex as a empty array, we think that user specify axisIndex\n      // but do not want use auto mode. Because empty array may be encountered when\n      // some error occurred.\n      if (!refering.specified) {\n        return;\n      }\n      hasAxisSpecified = true;\n      var axisInfo = new DataZoomAxisInfo();\n      each(refering.models, function (axisModel) {\n        axisInfo.add(axisModel.componentIndex);\n      });\n      targetAxisIndexMap.set(axisDim, axisInfo);\n    }, this);\n    return hasAxisSpecified;\n  };\n  DataZoomModel.prototype._fillAutoTargetAxisByOrient = function (targetAxisIndexMap, orient) {\n    var ecModel = this.ecModel;\n    var needAuto = true;\n    // Find axis that parallel to dataZoom as default.\n    if (needAuto) {\n      var axisDim = orient === 'vertical' ? 'y' : 'x';\n      var axisModels = ecModel.findComponents({\n        mainType: axisDim + 'Axis'\n      });\n      setParallelAxis(axisModels, axisDim);\n    }\n    // Find axis that parallel to dataZoom as default.\n    if (needAuto) {\n      var axisModels = ecModel.findComponents({\n        mainType: 'singleAxis',\n        filter: function (axisModel) {\n          return axisModel.get('orient', true) === orient;\n        }\n      });\n      setParallelAxis(axisModels, 'single');\n    }\n    function setParallelAxis(axisModels, axisDim) {\n      // At least use the first parallel axis as the target axis.\n      var axisModel = axisModels[0];\n      if (!axisModel) {\n        return;\n      }\n      var axisInfo = new DataZoomAxisInfo();\n      axisInfo.add(axisModel.componentIndex);\n      targetAxisIndexMap.set(axisDim, axisInfo);\n      needAuto = false;\n      // Find parallel axes in the same grid.\n      if (axisDim === 'x' || axisDim === 'y') {\n        var gridModel_1 = axisModel.getReferringComponents('grid', SINGLE_REFERRING).models[0];\n        gridModel_1 && each(axisModels, function (axModel) {\n          if (axisModel.componentIndex !== axModel.componentIndex && gridModel_1 === axModel.getReferringComponents('grid', SINGLE_REFERRING).models[0]) {\n            axisInfo.add(axModel.componentIndex);\n          }\n        });\n      }\n    }\n    if (needAuto) {\n      // If no parallel axis, find the first category axis as default. (Also consider polar).\n      each(DATA_ZOOM_AXIS_DIMENSIONS, function (axisDim) {\n        if (!needAuto) {\n          return;\n        }\n        var axisModels = ecModel.findComponents({\n          mainType: getAxisMainType(axisDim),\n          filter: function (axisModel) {\n            return axisModel.get('type', true) === 'category';\n          }\n        });\n        if (axisModels[0]) {\n          var axisInfo = new DataZoomAxisInfo();\n          axisInfo.add(axisModels[0].componentIndex);\n          targetAxisIndexMap.set(axisDim, axisInfo);\n          needAuto = false;\n        }\n      }, this);\n    }\n  };\n  DataZoomModel.prototype._makeAutoOrientByTargetAxis = function () {\n    var dim;\n    // Find the first axis\n    this.eachTargetAxis(function (axisDim) {\n      !dim && (dim = axisDim);\n    }, this);\n    return dim === 'y' ? 'vertical' : 'horizontal';\n  };\n  DataZoomModel.prototype._setDefaultThrottle = function (inputRawOption) {\n    // When first time user set throttle, auto throttle ends.\n    if (inputRawOption.hasOwnProperty('throttle')) {\n      this._autoThrottle = false;\n    }\n    if (this._autoThrottle) {\n      var globalOption = this.ecModel.option;\n      this.option.throttle = globalOption.animation && globalOption.animationDurationUpdate > 0 ? 100 : 20;\n    }\n  };\n  DataZoomModel.prototype._updateRangeUse = function (inputRawOption) {\n    var rangePropMode = this._rangePropMode;\n    var rangeModeInOption = this.get('rangeMode');\n    each([['start', 'startValue'], ['end', 'endValue']], function (names, index) {\n      var percentSpecified = inputRawOption[names[0]] != null;\n      var valueSpecified = inputRawOption[names[1]] != null;\n      if (percentSpecified && !valueSpecified) {\n        rangePropMode[index] = 'percent';\n      } else if (!percentSpecified && valueSpecified) {\n        rangePropMode[index] = 'value';\n      } else if (rangeModeInOption) {\n        rangePropMode[index] = rangeModeInOption[index];\n      } else if (percentSpecified) {\n        // percentSpecified && valueSpecified\n        rangePropMode[index] = 'percent';\n      }\n      // else remain its original setting.\n    });\n  };\n\n  DataZoomModel.prototype.noTarget = function () {\n    return this._noTarget;\n  };\n  DataZoomModel.prototype.getFirstTargetAxisModel = function () {\n    var firstAxisModel;\n    this.eachTargetAxis(function (axisDim, axisIndex) {\n      if (firstAxisModel == null) {\n        firstAxisModel = this.ecModel.getComponent(getAxisMainType(axisDim), axisIndex);\n      }\n    }, this);\n    return firstAxisModel;\n  };\n  /**\n   * @param {Function} callback param: axisModel, dimNames, axisIndex, dataZoomModel, ecModel\n   */\n  DataZoomModel.prototype.eachTargetAxis = function (callback, context) {\n    this._targetAxisInfoMap.each(function (axisInfo, axisDim) {\n      each(axisInfo.indexList, function (axisIndex) {\n        callback.call(context, axisDim, axisIndex);\n      });\n    });\n  };\n  /**\n   * @return If not found, return null/undefined.\n   */\n  DataZoomModel.prototype.getAxisProxy = function (axisDim, axisIndex) {\n    var axisModel = this.getAxisModel(axisDim, axisIndex);\n    if (axisModel) {\n      return axisModel.__dzAxisProxy;\n    }\n  };\n  /**\n   * @return If not found, return null/undefined.\n   */\n  DataZoomModel.prototype.getAxisModel = function (axisDim, axisIndex) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(axisDim && axisIndex != null);\n    }\n    var axisInfo = this._targetAxisInfoMap.get(axisDim);\n    if (axisInfo && axisInfo.indexMap[axisIndex]) {\n      return this.ecModel.getComponent(getAxisMainType(axisDim), axisIndex);\n    }\n  };\n  /**\n   * If not specified, set to undefined.\n   */\n  DataZoomModel.prototype.setRawRange = function (opt) {\n    var thisOption = this.option;\n    var settledOption = this.settledOption;\n    each([['start', 'startValue'], ['end', 'endValue']], function (names) {\n      // Consider the pair <start, startValue>:\n      // If one has value and the other one is `null/undefined`, we both set them\n      // to `settledOption`. This strategy enables the feature to clear the original\n      // value in `settledOption` to `null/undefined`.\n      // But if both of them are `null/undefined`, we do not set them to `settledOption`\n      // and keep `settledOption` with the original value. This strategy enables users to\n      // only set <end or endValue> but not set <start or startValue> when calling\n      // `dispatchAction`.\n      // The pair <end, endValue> is treated in the same way.\n      if (opt[names[0]] != null || opt[names[1]] != null) {\n        thisOption[names[0]] = settledOption[names[0]] = opt[names[0]];\n        thisOption[names[1]] = settledOption[names[1]] = opt[names[1]];\n      }\n    }, this);\n    this._updateRangeUse(opt);\n  };\n  DataZoomModel.prototype.setCalculatedRange = function (opt) {\n    var option = this.option;\n    each(['start', 'startValue', 'end', 'endValue'], function (name) {\n      option[name] = opt[name];\n    });\n  };\n  DataZoomModel.prototype.getPercentRange = function () {\n    var axisProxy = this.findRepresentativeAxisProxy();\n    if (axisProxy) {\n      return axisProxy.getDataPercentWindow();\n    }\n  };\n  /**\n   * For example, chart.getModel().getComponent('dataZoom').getValueRange('y', 0);\n   *\n   * @return [startValue, endValue] value can only be '-' or finite number.\n   */\n  DataZoomModel.prototype.getValueRange = function (axisDim, axisIndex) {\n    if (axisDim == null && axisIndex == null) {\n      var axisProxy = this.findRepresentativeAxisProxy();\n      if (axisProxy) {\n        return axisProxy.getDataValueWindow();\n      }\n    } else {\n      return this.getAxisProxy(axisDim, axisIndex).getDataValueWindow();\n    }\n  };\n  /**\n   * @param axisModel If axisModel given, find axisProxy\n   *      corresponding to the axisModel\n   */\n  DataZoomModel.prototype.findRepresentativeAxisProxy = function (axisModel) {\n    if (axisModel) {\n      return axisModel.__dzAxisProxy;\n    }\n    // Find the first hosted axisProxy\n    var firstProxy;\n    var axisDimList = this._targetAxisInfoMap.keys();\n    for (var i = 0; i < axisDimList.length; i++) {\n      var axisDim = axisDimList[i];\n      var axisInfo = this._targetAxisInfoMap.get(axisDim);\n      for (var j = 0; j < axisInfo.indexList.length; j++) {\n        var proxy = this.getAxisProxy(axisDim, axisInfo.indexList[j]);\n        if (proxy.hostedBy(this)) {\n          return proxy;\n        }\n        if (!firstProxy) {\n          firstProxy = proxy;\n        }\n      }\n    }\n    // If no hosted proxy found, still need to return a proxy.\n    // This case always happens in toolbox dataZoom, where axes are all hosted by\n    // other dataZooms.\n    return firstProxy;\n  };\n  DataZoomModel.prototype.getRangePropMode = function () {\n    return this._rangePropMode.slice();\n  };\n  DataZoomModel.prototype.getOrient = function () {\n    if (process.env.NODE_ENV !== 'production') {\n      // Should not be called before initialized.\n      assert(this._orient);\n    }\n    return this._orient;\n  };\n  DataZoomModel.type = 'dataZoom';\n  DataZoomModel.dependencies = ['xAxis', 'yAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'series', 'toolbox'];\n  DataZoomModel.defaultOption = {\n    // zlevel: 0,\n    z: 4,\n    filterMode: 'filter',\n    start: 0,\n    end: 100\n  };\n  return DataZoomModel;\n}(ComponentModel);\n/**\n * Retrieve those raw params from option, which will be cached separately,\n * because they will be overwritten by normalized/calculated values in the main\n * process.\n */\nfunction retrieveRawOption(option) {\n  var ret = {};\n  each(['start', 'end', 'startValue', 'endValue', 'throttle'], function (name) {\n    option.hasOwnProperty(name) && (ret[name] = option[name]);\n  });\n  return ret;\n}\nexport default DataZoomModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentView from '../../view/Component.js';\nvar DataZoomView = /** @class */function (_super) {\n  __extends(DataZoomView, _super);\n  function DataZoomView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = DataZoomView.type;\n    return _this;\n  }\n  DataZoomView.prototype.render = function (dataZoomModel, ecModel, api, payload) {\n    this.dataZoomModel = dataZoomModel;\n    this.ecModel = ecModel;\n    this.api = api;\n  };\n  DataZoomView.type = 'dataZoom';\n  return DataZoomView;\n}(ComponentView);\nexport default DataZoomView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { indexOf, createHashMap, assert } from 'zrender/lib/core/util.js';\nexport var DATA_ZOOM_AXIS_DIMENSIONS = ['x', 'y', 'radius', 'angle', 'single'];\n// Supported coords.\n// FIXME: polar has been broken (but rarely used).\nvar SERIES_COORDS = ['cartesian2d', 'polar', 'singleAxis'];\nexport function isCoordSupported(seriesModel) {\n  var coordType = seriesModel.get('coordinateSystem');\n  return indexOf(SERIES_COORDS, coordType) >= 0;\n}\nexport function getAxisMainType(axisDim) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert(axisDim);\n  }\n  return axisDim + 'Axis';\n}\nexport function getAxisIndexPropName(axisDim) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert(axisDim);\n  }\n  return axisDim + 'AxisIndex';\n}\nexport function getAxisIdPropName(axisDim) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert(axisDim);\n  }\n  return axisDim + 'AxisId';\n}\n/**\n * If two dataZoomModels has the same axis controlled, we say that they are 'linked'.\n * This function finds all linked dataZoomModels start from the given payload.\n */\nexport function findEffectedDataZooms(ecModel, payload) {\n  // Key: `DataZoomAxisDimension`\n  var axisRecords = createHashMap();\n  var effectedModels = [];\n  // Key: uid of dataZoomModel\n  var effectedModelMap = createHashMap();\n  // Find the dataZooms specified by payload.\n  ecModel.eachComponent({\n    mainType: 'dataZoom',\n    query: payload\n  }, function (dataZoomModel) {\n    if (!effectedModelMap.get(dataZoomModel.uid)) {\n      addToEffected(dataZoomModel);\n    }\n  });\n  // Start from the given dataZoomModels, travel the graph to find\n  // all of the linked dataZoom models.\n  var foundNewLink;\n  do {\n    foundNewLink = false;\n    ecModel.eachComponent('dataZoom', processSingle);\n  } while (foundNewLink);\n  function processSingle(dataZoomModel) {\n    if (!effectedModelMap.get(dataZoomModel.uid) && isLinked(dataZoomModel)) {\n      addToEffected(dataZoomModel);\n      foundNewLink = true;\n    }\n  }\n  function addToEffected(dataZoom) {\n    effectedModelMap.set(dataZoom.uid, true);\n    effectedModels.push(dataZoom);\n    markAxisControlled(dataZoom);\n  }\n  function isLinked(dataZoomModel) {\n    var isLink = false;\n    dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n      var axisIdxArr = axisRecords.get(axisDim);\n      if (axisIdxArr && axisIdxArr[axisIndex]) {\n        isLink = true;\n      }\n    });\n    return isLink;\n  }\n  function markAxisControlled(dataZoomModel) {\n    dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n      (axisRecords.get(axisDim) || axisRecords.set(axisDim, []))[axisIndex] = true;\n    });\n  }\n  return effectedModels;\n}\n/**\n * Find the first target coordinate system.\n * Available after model built.\n *\n * @return Like {\n *                  grid: [\n *                      {model: coord0, axisModels: [axis1, axis3], coordIndex: 1},\n *                      {model: coord1, axisModels: [axis0, axis2], coordIndex: 0},\n *                      ...\n *                  ],  // cartesians must not be null/undefined.\n *                  polar: [\n *                      {model: coord0, axisModels: [axis4], coordIndex: 0},\n *                      ...\n *                  ],  // polars must not be null/undefined.\n *                  singleAxis: [\n *                      {model: coord0, axisModels: [], coordIndex: 0}\n *                  ]\n *              }\n */\nexport function collectReferCoordSysModelInfo(dataZoomModel) {\n  var ecModel = dataZoomModel.ecModel;\n  var coordSysInfoWrap = {\n    infoList: [],\n    infoMap: createHashMap()\n  };\n  dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n    var axisModel = ecModel.getComponent(getAxisMainType(axisDim), axisIndex);\n    if (!axisModel) {\n      return;\n    }\n    var coordSysModel = axisModel.getCoordSysModel();\n    if (!coordSysModel) {\n      return;\n    }\n    var coordSysUid = coordSysModel.uid;\n    var coordSysInfo = coordSysInfoWrap.infoMap.get(coordSysUid);\n    if (!coordSysInfo) {\n      coordSysInfo = {\n        model: coordSysModel,\n        axisModels: []\n      };\n      coordSysInfoWrap.infoList.push(coordSysInfo);\n      coordSysInfoWrap.infoMap.set(coordSysUid, coordSysInfo);\n    }\n    coordSysInfo.axisModels.push(axisModel);\n  });\n  return coordSysInfoWrap;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { makeInner } from '../../util/model.js';\nvar each = zrUtil.each;\nvar inner = makeInner();\n/**\n * @param ecModel\n * @param newSnapshot key is dataZoomId\n */\nexport function push(ecModel, newSnapshot) {\n  var storedSnapshots = getStoreSnapshots(ecModel);\n  // If previous dataZoom can not be found,\n  // complete an range with current range.\n  each(newSnapshot, function (batchItem, dataZoomId) {\n    var i = storedSnapshots.length - 1;\n    for (; i >= 0; i--) {\n      var snapshot = storedSnapshots[i];\n      if (snapshot[dataZoomId]) {\n        break;\n      }\n    }\n    if (i < 0) {\n      // No origin range set, create one by current range.\n      var dataZoomModel = ecModel.queryComponents({\n        mainType: 'dataZoom',\n        subType: 'select',\n        id: dataZoomId\n      })[0];\n      if (dataZoomModel) {\n        var percentRange = dataZoomModel.getPercentRange();\n        storedSnapshots[0][dataZoomId] = {\n          dataZoomId: dataZoomId,\n          start: percentRange[0],\n          end: percentRange[1]\n        };\n      }\n    }\n  });\n  storedSnapshots.push(newSnapshot);\n}\nexport function pop(ecModel) {\n  var storedSnapshots = getStoreSnapshots(ecModel);\n  var head = storedSnapshots[storedSnapshots.length - 1];\n  storedSnapshots.length > 1 && storedSnapshots.pop();\n  // Find top for all dataZoom.\n  var snapshot = {};\n  each(head, function (batchItem, dataZoomId) {\n    for (var i = storedSnapshots.length - 1; i >= 0; i--) {\n      batchItem = storedSnapshots[i][dataZoomId];\n      if (batchItem) {\n        snapshot[dataZoomId] = batchItem;\n        break;\n      }\n    }\n  });\n  return snapshot;\n}\nexport function clear(ecModel) {\n  inner(ecModel).snapshots = null;\n}\nexport function count(ecModel) {\n  return getStoreSnapshots(ecModel).length;\n}\n/**\n * History length of each dataZoom may be different.\n * this._history[0] is used to store origin range.\n */\nfunction getStoreSnapshots(ecModel) {\n  var store = inner(ecModel);\n  if (!store.snapshots) {\n    store.snapshots = [{}];\n  }\n  return store.snapshots;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension.js';\nimport { install as installDataZoomInside } from './installDataZoomInside.js';\nimport { install as installDataZoomSlider } from './installDataZoomSlider.js';\nexport function install(registers) {\n  use(installDataZoomInside);\n  use(installDataZoomSlider);\n  // Do not install './dataZoomSelect',\n  // since it only work for toolbox dataZoom.\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as numberUtil from '../../util/number.js';\nimport sliderMove from '../helper/sliderMove.js';\nimport { unionAxisExtentFromData } from '../../coord/axisHelper.js';\nimport { ensureScaleRawExtentInfo } from '../../coord/scaleRawExtentInfo.js';\nimport { getAxisMainType, isCoordSupported } from './helper.js';\nimport { SINGLE_REFERRING } from '../../util/model.js';\nvar each = zrUtil.each;\nvar asc = numberUtil.asc;\n/**\n * Operate single axis.\n * One axis can only operated by one axis operator.\n * Different dataZoomModels may be defined to operate the same axis.\n * (i.e. 'inside' data zoom and 'slider' data zoom components)\n * So dataZoomModels share one axisProxy in that case.\n */\nvar AxisProxy = /** @class */function () {\n  function AxisProxy(dimName, axisIndex, dataZoomModel, ecModel) {\n    this._dimName = dimName;\n    this._axisIndex = axisIndex;\n    this.ecModel = ecModel;\n    this._dataZoomModel = dataZoomModel;\n    // /**\n    //  * @readOnly\n    //  * @private\n    //  */\n    // this.hasSeriesStacked;\n  }\n  /**\n   * Whether the axisProxy is hosted by dataZoomModel.\n   */\n  AxisProxy.prototype.hostedBy = function (dataZoomModel) {\n    return this._dataZoomModel === dataZoomModel;\n  };\n  /**\n   * @return Value can only be NaN or finite value.\n   */\n  AxisProxy.prototype.getDataValueWindow = function () {\n    return this._valueWindow.slice();\n  };\n  /**\n   * @return {Array.<number>}\n   */\n  AxisProxy.prototype.getDataPercentWindow = function () {\n    return this._percentWindow.slice();\n  };\n  AxisProxy.prototype.getTargetSeriesModels = function () {\n    var seriesModels = [];\n    this.ecModel.eachSeries(function (seriesModel) {\n      if (isCoordSupported(seriesModel)) {\n        var axisMainType = getAxisMainType(this._dimName);\n        var axisModel = seriesModel.getReferringComponents(axisMainType, SINGLE_REFERRING).models[0];\n        if (axisModel && this._axisIndex === axisModel.componentIndex) {\n          seriesModels.push(seriesModel);\n        }\n      }\n    }, this);\n    return seriesModels;\n  };\n  AxisProxy.prototype.getAxisModel = function () {\n    return this.ecModel.getComponent(this._dimName + 'Axis', this._axisIndex);\n  };\n  AxisProxy.prototype.getMinMaxSpan = function () {\n    return zrUtil.clone(this._minMaxSpan);\n  };\n  /**\n   * Only calculate by given range and this._dataExtent, do not change anything.\n   */\n  AxisProxy.prototype.calculateDataWindow = function (opt) {\n    var dataExtent = this._dataExtent;\n    var axisModel = this.getAxisModel();\n    var scale = axisModel.axis.scale;\n    var rangePropMode = this._dataZoomModel.getRangePropMode();\n    var percentExtent = [0, 100];\n    var percentWindow = [];\n    var valueWindow = [];\n    var hasPropModeValue;\n    each(['start', 'end'], function (prop, idx) {\n      var boundPercent = opt[prop];\n      var boundValue = opt[prop + 'Value'];\n      // Notice: dataZoom is based either on `percentProp` ('start', 'end') or\n      // on `valueProp` ('startValue', 'endValue'). (They are based on the data extent\n      // but not min/max of axis, which will be calculated by data window then).\n      // The former one is suitable for cases that a dataZoom component controls multiple\n      // axes with different unit or extent, and the latter one is suitable for accurate\n      // zoom by pixel (e.g., in dataZoomSelect).\n      // we use `getRangePropMode()` to mark which prop is used. `rangePropMode` is updated\n      // only when setOption or dispatchAction, otherwise it remains its original value.\n      // (Why not only record `percentProp` and always map to `valueProp`? Because\n      // the map `valueProp` -> `percentProp` -> `valueProp` probably not the original\n      // `valueProp`. consider two axes constrolled by one dataZoom. They have different\n      // data extent. All of values that are overflow the `dataExtent` will be calculated\n      // to percent '100%').\n      if (rangePropMode[idx] === 'percent') {\n        boundPercent == null && (boundPercent = percentExtent[idx]);\n        // Use scale.parse to math round for category or time axis.\n        boundValue = scale.parse(numberUtil.linearMap(boundPercent, percentExtent, dataExtent));\n      } else {\n        hasPropModeValue = true;\n        boundValue = boundValue == null ? dataExtent[idx] : scale.parse(boundValue);\n        // Calculating `percent` from `value` may be not accurate, because\n        // This calculation can not be inversed, because all of values that\n        // are overflow the `dataExtent` will be calculated to percent '100%'\n        boundPercent = numberUtil.linearMap(boundValue, dataExtent, percentExtent);\n      }\n      // valueWindow[idx] = round(boundValue);\n      // percentWindow[idx] = round(boundPercent);\n      // fallback to extent start/end when parsed value or percent is invalid\n      valueWindow[idx] = boundValue == null || isNaN(boundValue) ? dataExtent[idx] : boundValue;\n      percentWindow[idx] = boundPercent == null || isNaN(boundPercent) ? percentExtent[idx] : boundPercent;\n    });\n    asc(valueWindow);\n    asc(percentWindow);\n    // The windows from user calling of `dispatchAction` might be out of the extent,\n    // or do not obey the `min/maxSpan`, `min/maxValueSpan`. But we don't restrict window\n    // by `zoomLock` here, because we see `zoomLock` just as a interaction constraint,\n    // where API is able to initialize/modify the window size even though `zoomLock`\n    // specified.\n    var spans = this._minMaxSpan;\n    hasPropModeValue ? restrictSet(valueWindow, percentWindow, dataExtent, percentExtent, false) : restrictSet(percentWindow, valueWindow, percentExtent, dataExtent, true);\n    function restrictSet(fromWindow, toWindow, fromExtent, toExtent, toValue) {\n      var suffix = toValue ? 'Span' : 'ValueSpan';\n      sliderMove(0, fromWindow, fromExtent, 'all', spans['min' + suffix], spans['max' + suffix]);\n      for (var i = 0; i < 2; i++) {\n        toWindow[i] = numberUtil.linearMap(fromWindow[i], fromExtent, toExtent, true);\n        toValue && (toWindow[i] = scale.parse(toWindow[i]));\n      }\n    }\n    return {\n      valueWindow: valueWindow,\n      percentWindow: percentWindow\n    };\n  };\n  /**\n   * Notice: reset should not be called before series.restoreData() is called,\n   * so it is recommended to be called in \"process stage\" but not \"model init\n   * stage\".\n   */\n  AxisProxy.prototype.reset = function (dataZoomModel) {\n    if (dataZoomModel !== this._dataZoomModel) {\n      return;\n    }\n    var targetSeries = this.getTargetSeriesModels();\n    // Culculate data window and data extent, and record them.\n    this._dataExtent = calculateDataExtent(this, this._dimName, targetSeries);\n    // `calculateDataWindow` uses min/maxSpan.\n    this._updateMinMaxSpan();\n    var dataWindow = this.calculateDataWindow(dataZoomModel.settledOption);\n    this._valueWindow = dataWindow.valueWindow;\n    this._percentWindow = dataWindow.percentWindow;\n    // Update axis setting then.\n    this._setAxisModel();\n  };\n  AxisProxy.prototype.filterData = function (dataZoomModel, api) {\n    if (dataZoomModel !== this._dataZoomModel) {\n      return;\n    }\n    var axisDim = this._dimName;\n    var seriesModels = this.getTargetSeriesModels();\n    var filterMode = dataZoomModel.get('filterMode');\n    var valueWindow = this._valueWindow;\n    if (filterMode === 'none') {\n      return;\n    }\n    // FIXME\n    // Toolbox may has dataZoom injected. And if there are stacked bar chart\n    // with NaN data, NaN will be filtered and stack will be wrong.\n    // So we need to force the mode to be set empty.\n    // In fect, it is not a big deal that do not support filterMode-'filter'\n    // when using toolbox#dataZoom, utill tooltip#dataZoom support \"single axis\n    // selection\" some day, which might need \"adapt to data extent on the\n    // otherAxis\", which is disabled by filterMode-'empty'.\n    // But currently, stack has been fixed to based on value but not index,\n    // so this is not an issue any more.\n    // let otherAxisModel = this.getOtherAxisModel();\n    // if (dataZoomModel.get('$fromToolbox')\n    //     && otherAxisModel\n    //     && otherAxisModel.hasSeriesStacked\n    // ) {\n    //     filterMode = 'empty';\n    // }\n    // TODO\n    // filterMode 'weakFilter' and 'empty' is not optimized for huge data yet.\n    each(seriesModels, function (seriesModel) {\n      var seriesData = seriesModel.getData();\n      var dataDims = seriesData.mapDimensionsAll(axisDim);\n      if (!dataDims.length) {\n        return;\n      }\n      if (filterMode === 'weakFilter') {\n        var store_1 = seriesData.getStore();\n        var dataDimIndices_1 = zrUtil.map(dataDims, function (dim) {\n          return seriesData.getDimensionIndex(dim);\n        }, seriesData);\n        seriesData.filterSelf(function (dataIndex) {\n          var leftOut;\n          var rightOut;\n          var hasValue;\n          for (var i = 0; i < dataDims.length; i++) {\n            var value = store_1.get(dataDimIndices_1[i], dataIndex);\n            var thisHasValue = !isNaN(value);\n            var thisLeftOut = value < valueWindow[0];\n            var thisRightOut = value > valueWindow[1];\n            if (thisHasValue && !thisLeftOut && !thisRightOut) {\n              return true;\n            }\n            thisHasValue && (hasValue = true);\n            thisLeftOut && (leftOut = true);\n            thisRightOut && (rightOut = true);\n          }\n          // If both left out and right out, do not filter.\n          return hasValue && leftOut && rightOut;\n        });\n      } else {\n        each(dataDims, function (dim) {\n          if (filterMode === 'empty') {\n            seriesModel.setData(seriesData = seriesData.map(dim, function (value) {\n              return !isInWindow(value) ? NaN : value;\n            }));\n          } else {\n            var range = {};\n            range[dim] = valueWindow;\n            // console.time('select');\n            seriesData.selectRange(range);\n            // console.timeEnd('select');\n          }\n        });\n      }\n\n      each(dataDims, function (dim) {\n        seriesData.setApproximateExtent(valueWindow, dim);\n      });\n    });\n    function isInWindow(value) {\n      return value >= valueWindow[0] && value <= valueWindow[1];\n    }\n  };\n  AxisProxy.prototype._updateMinMaxSpan = function () {\n    var minMaxSpan = this._minMaxSpan = {};\n    var dataZoomModel = this._dataZoomModel;\n    var dataExtent = this._dataExtent;\n    each(['min', 'max'], function (minMax) {\n      var percentSpan = dataZoomModel.get(minMax + 'Span');\n      var valueSpan = dataZoomModel.get(minMax + 'ValueSpan');\n      valueSpan != null && (valueSpan = this.getAxisModel().axis.scale.parse(valueSpan));\n      // minValueSpan and maxValueSpan has higher priority than minSpan and maxSpan\n      if (valueSpan != null) {\n        percentSpan = numberUtil.linearMap(dataExtent[0] + valueSpan, dataExtent, [0, 100], true);\n      } else if (percentSpan != null) {\n        valueSpan = numberUtil.linearMap(percentSpan, [0, 100], dataExtent, true) - dataExtent[0];\n      }\n      minMaxSpan[minMax + 'Span'] = percentSpan;\n      minMaxSpan[minMax + 'ValueSpan'] = valueSpan;\n    }, this);\n  };\n  AxisProxy.prototype._setAxisModel = function () {\n    var axisModel = this.getAxisModel();\n    var percentWindow = this._percentWindow;\n    var valueWindow = this._valueWindow;\n    if (!percentWindow) {\n      return;\n    }\n    // [0, 500]: arbitrary value, guess axis extent.\n    var precision = numberUtil.getPixelPrecision(valueWindow, [0, 500]);\n    precision = Math.min(precision, 20);\n    // For value axis, if min/max/scale are not set, we just use the extent obtained\n    // by series data, which may be a little different from the extent calculated by\n    // `axisHelper.getScaleExtent`. But the different just affects the experience a\n    // little when zooming. So it will not be fixed until some users require it strongly.\n    var rawExtentInfo = axisModel.axis.scale.rawExtentInfo;\n    if (percentWindow[0] !== 0) {\n      rawExtentInfo.setDeterminedMinMax('min', +valueWindow[0].toFixed(precision));\n    }\n    if (percentWindow[1] !== 100) {\n      rawExtentInfo.setDeterminedMinMax('max', +valueWindow[1].toFixed(precision));\n    }\n    rawExtentInfo.freeze();\n  };\n  return AxisProxy;\n}();\nfunction calculateDataExtent(axisProxy, axisDim, seriesModels) {\n  var dataExtent = [Infinity, -Infinity];\n  each(seriesModels, function (seriesModel) {\n    unionAxisExtentFromData(dataExtent, seriesModel.getData(), axisDim);\n  });\n  // It is important to get \"consistent\" extent when more then one axes is\n  // controlled by a `dataZoom`, otherwise those axes will not be synchronized\n  // when zooming. But it is difficult to know what is \"consistent\", considering\n  // axes have different type or even different meanings (For example, two\n  // time axes are used to compare data of the same date in different years).\n  // So basically dataZoom just obtains extent by series.data (in category axis\n  // extent can be obtained from axis.data).\n  // Nevertheless, user can set min/max/scale on axes to make extent of axes\n  // consistent.\n  var axisModel = axisProxy.getAxisModel();\n  var rawExtentResult = ensureScaleRawExtentInfo(axisModel.axis.scale, axisModel, dataExtent).calculate();\n  return [rawExtentResult.min, rawExtentResult.max];\n}\nexport default AxisProxy;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap, each } from 'zrender/lib/core/util.js';\nimport { getAxisMainType } from './helper.js';\nimport AxisProxy from './AxisProxy.js';\nvar dataZoomProcessor = {\n  // `dataZoomProcessor` will only be performed in needed series. Consider if\n  // there is a line series and a pie series, it is better not to update the\n  // line series if only pie series is needed to be updated.\n  getTargetSeries: function (ecModel) {\n    function eachAxisModel(cb) {\n      ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n        dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n          var axisModel = ecModel.getComponent(getAxisMainType(axisDim), axisIndex);\n          cb(axisDim, axisIndex, axisModel, dataZoomModel);\n        });\n      });\n    }\n    // FIXME: it brings side-effect to `getTargetSeries`.\n    // Prepare axis proxies.\n    eachAxisModel(function (axisDim, axisIndex, axisModel, dataZoomModel) {\n      // dispose all last axis proxy, in case that some axis are deleted.\n      axisModel.__dzAxisProxy = null;\n    });\n    var proxyList = [];\n    eachAxisModel(function (axisDim, axisIndex, axisModel, dataZoomModel) {\n      // Different dataZooms may constrol the same axis. In that case,\n      // an axisProxy serves both of them.\n      if (!axisModel.__dzAxisProxy) {\n        // Use the first dataZoomModel as the main model of axisProxy.\n        axisModel.__dzAxisProxy = new AxisProxy(axisDim, axisIndex, dataZoomModel, ecModel);\n        proxyList.push(axisModel.__dzAxisProxy);\n      }\n    });\n    var seriesModelMap = createHashMap();\n    each(proxyList, function (axisProxy) {\n      each(axisProxy.getTargetSeriesModels(), function (seriesModel) {\n        seriesModelMap.set(seriesModel.uid, seriesModel);\n      });\n    });\n    return seriesModelMap;\n  },\n  // Consider appendData, where filter should be performed. Because data process is\n  // in block mode currently, it is not need to worry about that the overallProgress\n  // execute every frame.\n  overallReset: function (ecModel, api) {\n    ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n      // We calculate window and reset axis here but not in model\n      // init stage and not after action dispatch handler, because\n      // reset should be called after seriesData.restoreData.\n      dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n        dataZoomModel.getAxisProxy(axisDim, axisIndex).reset(dataZoomModel);\n      });\n      // Caution: data zoom filtering is order sensitive when using\n      // percent range and no min/max/scale set on axis.\n      // For example, we have dataZoom definition:\n      // [\n      //      {xAxisIndex: 0, start: 30, end: 70},\n      //      {yAxisIndex: 0, start: 20, end: 80}\n      // ]\n      // In this case, [20, 80] of y-dataZoom should be based on data\n      // that have filtered by x-dataZoom using range of [30, 70],\n      // but should not be based on full raw data. Thus sliding\n      // x-dataZoom will change both ranges of xAxis and yAxis,\n      // while sliding y-dataZoom will only change the range of yAxis.\n      // So we should filter x-axis after reset x-axis immediately,\n      // and then reset y-axis and filter y-axis.\n      dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n        dataZoomModel.getAxisProxy(axisDim, axisIndex).filterData(dataZoomModel, api);\n      });\n    });\n    ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n      // Fullfill all of the range props so that user\n      // is able to get them from chart.getOption().\n      var axisProxy = dataZoomModel.findRepresentativeAxisProxy();\n      if (axisProxy) {\n        var percentRange = axisProxy.getDataPercentWindow();\n        var valueRange = axisProxy.getDataValueWindow();\n        dataZoomModel.setCalculatedRange({\n          start: percentRange[0],\n          end: percentRange[1],\n          startValue: valueRange[0],\n          endValue: valueRange[1]\n        });\n      }\n    });\n  }\n};\nexport default dataZoomProcessor;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { findEffectedDataZooms } from './helper.js';\nimport { each } from 'zrender/lib/core/util.js';\nexport default function installDataZoomAction(registers) {\n  registers.registerAction('dataZoom', function (payload, ecModel) {\n    var effectedModels = findEffectedDataZooms(ecModel, payload);\n    each(effectedModels, function (dataZoomModel) {\n      dataZoomModel.setRawRange({\n        start: payload.start,\n        end: payload.end,\n        startValue: payload.startValue,\n        endValue: payload.endValue\n      });\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport dataZoomProcessor from './dataZoomProcessor.js';\nimport installDataZoomAction from './dataZoomAction.js';\nvar installed = false;\nexport default function installCommon(registers) {\n  if (installed) {\n    return;\n  }\n  installed = true;\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.FILTER, dataZoomProcessor);\n  installDataZoomAction(registers);\n  registers.registerSubTypeDefaulter('dataZoom', function () {\n    // Default 'slider' when no type specified.\n    return 'slider';\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomModel from './DataZoomModel.js';\nimport { inheritDefaultOption } from '../../util/component.js';\nvar InsideZoomModel = /** @class */function (_super) {\n  __extends(InsideZoomModel, _super);\n  function InsideZoomModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = InsideZoomModel.type;\n    return _this;\n  }\n  InsideZoomModel.type = 'dataZoom.inside';\n  InsideZoomModel.defaultOption = inheritDefaultOption(DataZoomModel.defaultOption, {\n    disabled: false,\n    zoomLock: false,\n    zoomOnMouseWheel: true,\n    moveOnMouseMove: true,\n    moveOnMouseWheel: false,\n    preventDefaultMouseMove: true\n  });\n  return InsideZoomModel;\n}(DataZoomModel);\nexport default InsideZoomModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Only create one roam controller for each coordinate system.\n// one roam controller might be refered by two inside data zoom\n// components (for example, one for x and one for y). When user\n// pan or zoom, only dispatch one action for those data zoom\n// components.\nimport RoamController from '../../component/helper/RoamController.js';\nimport * as throttleUtil from '../../util/throttle.js';\nimport { makeInner } from '../../util/model.js';\nimport { each, curry, createHashMap } from 'zrender/lib/core/util.js';\nimport { collectReferCoordSysModelInfo } from './helper.js';\nvar inner = makeInner();\nexport function setViewInfoToCoordSysRecord(api, dataZoomModel, getRange) {\n  inner(api).coordSysRecordMap.each(function (coordSysRecord) {\n    var dzInfo = coordSysRecord.dataZoomInfoMap.get(dataZoomModel.uid);\n    if (dzInfo) {\n      dzInfo.getRange = getRange;\n    }\n  });\n}\nexport function disposeCoordSysRecordIfNeeded(api, dataZoomModel) {\n  var coordSysRecordMap = inner(api).coordSysRecordMap;\n  var coordSysKeyArr = coordSysRecordMap.keys();\n  for (var i = 0; i < coordSysKeyArr.length; i++) {\n    var coordSysKey = coordSysKeyArr[i];\n    var coordSysRecord = coordSysRecordMap.get(coordSysKey);\n    var dataZoomInfoMap = coordSysRecord.dataZoomInfoMap;\n    if (dataZoomInfoMap) {\n      var dzUid = dataZoomModel.uid;\n      var dzInfo = dataZoomInfoMap.get(dzUid);\n      if (dzInfo) {\n        dataZoomInfoMap.removeKey(dzUid);\n        if (!dataZoomInfoMap.keys().length) {\n          disposeCoordSysRecord(coordSysRecordMap, coordSysRecord);\n        }\n      }\n    }\n  }\n}\nfunction disposeCoordSysRecord(coordSysRecordMap, coordSysRecord) {\n  if (coordSysRecord) {\n    coordSysRecordMap.removeKey(coordSysRecord.model.uid);\n    var controller = coordSysRecord.controller;\n    controller && controller.dispose();\n  }\n}\nfunction createCoordSysRecord(api, coordSysModel) {\n  // These init props will never change after record created.\n  var coordSysRecord = {\n    model: coordSysModel,\n    containsPoint: curry(containsPoint, coordSysModel),\n    dispatchAction: curry(dispatchAction, api),\n    dataZoomInfoMap: null,\n    controller: null\n  };\n  // Must not do anything depends on coordSysRecord outside the event handler here,\n  // because coordSysRecord not completed yet.\n  var controller = coordSysRecord.controller = new RoamController(api.getZr());\n  each(['pan', 'zoom', 'scrollMove'], function (eventName) {\n    controller.on(eventName, function (event) {\n      var batch = [];\n      coordSysRecord.dataZoomInfoMap.each(function (dzInfo) {\n        // Check whether the behaviors (zoomOnMouseWheel, moveOnMouseMove,\n        // moveOnMouseWheel, ...) enabled.\n        if (!event.isAvailableBehavior(dzInfo.model.option)) {\n          return;\n        }\n        var method = (dzInfo.getRange || {})[eventName];\n        var range = method && method(dzInfo.dzReferCoordSysInfo, coordSysRecord.model.mainType, coordSysRecord.controller, event);\n        !dzInfo.model.get('disabled', true) && range && batch.push({\n          dataZoomId: dzInfo.model.id,\n          start: range[0],\n          end: range[1]\n        });\n      });\n      batch.length && coordSysRecord.dispatchAction(batch);\n    });\n  });\n  return coordSysRecord;\n}\n/**\n * This action will be throttled.\n */\nfunction dispatchAction(api, batch) {\n  if (!api.isDisposed()) {\n    api.dispatchAction({\n      type: 'dataZoom',\n      animation: {\n        easing: 'cubicOut',\n        duration: 100\n      },\n      batch: batch\n    });\n  }\n}\nfunction containsPoint(coordSysModel, e, x, y) {\n  return coordSysModel.coordinateSystem.containPoint([x, y]);\n}\n/**\n * Merge roamController settings when multiple dataZooms share one roamController.\n */\nfunction mergeControllerParams(dataZoomInfoMap) {\n  var controlType;\n  // DO NOT use reserved word (true, false, undefined) as key literally. Even if encapsulated\n  // as string, it is probably revert to reserved word by compress tool. See #7411.\n  var prefix = 'type_';\n  var typePriority = {\n    'type_true': 2,\n    'type_move': 1,\n    'type_false': 0,\n    'type_undefined': -1\n  };\n  var preventDefaultMouseMove = true;\n  dataZoomInfoMap.each(function (dataZoomInfo) {\n    var dataZoomModel = dataZoomInfo.model;\n    var oneType = dataZoomModel.get('disabled', true) ? false : dataZoomModel.get('zoomLock', true) ? 'move' : true;\n    if (typePriority[prefix + oneType] > typePriority[prefix + controlType]) {\n      controlType = oneType;\n    }\n    // Prevent default move event by default. If one false, do not prevent. Otherwise\n    // users may be confused why it does not work when multiple insideZooms exist.\n    preventDefaultMouseMove = preventDefaultMouseMove && dataZoomModel.get('preventDefaultMouseMove', true);\n  });\n  return {\n    controlType: controlType,\n    opt: {\n      // RoamController will enable all of these functionalities,\n      // and the final behavior is determined by its event listener\n      // provided by each inside zoom.\n      zoomOnMouseWheel: true,\n      moveOnMouseMove: true,\n      moveOnMouseWheel: true,\n      preventDefaultMouseMove: !!preventDefaultMouseMove\n    }\n  };\n}\nexport function installDataZoomRoamProcessor(registers) {\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.FILTER, function (ecModel, api) {\n    var apiInner = inner(api);\n    var coordSysRecordMap = apiInner.coordSysRecordMap || (apiInner.coordSysRecordMap = createHashMap());\n    coordSysRecordMap.each(function (coordSysRecord) {\n      // `coordSysRecordMap` always exists (because it holds the `roam controller`, which should\n      // better not re-create each time), but clear `dataZoomInfoMap` each round of the workflow.\n      coordSysRecord.dataZoomInfoMap = null;\n    });\n    ecModel.eachComponent({\n      mainType: 'dataZoom',\n      subType: 'inside'\n    }, function (dataZoomModel) {\n      var dzReferCoordSysWrap = collectReferCoordSysModelInfo(dataZoomModel);\n      each(dzReferCoordSysWrap.infoList, function (dzCoordSysInfo) {\n        var coordSysUid = dzCoordSysInfo.model.uid;\n        var coordSysRecord = coordSysRecordMap.get(coordSysUid) || coordSysRecordMap.set(coordSysUid, createCoordSysRecord(api, dzCoordSysInfo.model));\n        var dataZoomInfoMap = coordSysRecord.dataZoomInfoMap || (coordSysRecord.dataZoomInfoMap = createHashMap());\n        // Notice these props might be changed each time for a single dataZoomModel.\n        dataZoomInfoMap.set(dataZoomModel.uid, {\n          dzReferCoordSysInfo: dzCoordSysInfo,\n          model: dataZoomModel,\n          getRange: null\n        });\n      });\n    });\n    // (1) Merge dataZoom settings for each coord sys and set to the roam controller.\n    // (2) Clear coord sys if not refered by any dataZoom.\n    coordSysRecordMap.each(function (coordSysRecord) {\n      var controller = coordSysRecord.controller;\n      var firstDzInfo;\n      var dataZoomInfoMap = coordSysRecord.dataZoomInfoMap;\n      if (dataZoomInfoMap) {\n        var firstDzKey = dataZoomInfoMap.keys()[0];\n        if (firstDzKey != null) {\n          firstDzInfo = dataZoomInfoMap.get(firstDzKey);\n        }\n      }\n      if (!firstDzInfo) {\n        disposeCoordSysRecord(coordSysRecordMap, coordSysRecord);\n        return;\n      }\n      var controllerParams = mergeControllerParams(dataZoomInfoMap);\n      controller.enable(controllerParams.controlType, controllerParams.opt);\n      controller.setPointerChecker(coordSysRecord.containsPoint);\n      throttleUtil.createOrUpdate(coordSysRecord, 'dispatchAction', firstDzInfo.model.get('throttle', true), 'fixRate');\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomView from './DataZoomView.js';\nimport sliderMove from '../helper/sliderMove.js';\nimport * as roams from './roams.js';\nimport { bind } from 'zrender/lib/core/util.js';\nvar InsideZoomView = /** @class */function (_super) {\n  __extends(InsideZoomView, _super);\n  function InsideZoomView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = 'dataZoom.inside';\n    return _this;\n  }\n  InsideZoomView.prototype.render = function (dataZoomModel, ecModel, api) {\n    _super.prototype.render.apply(this, arguments);\n    if (dataZoomModel.noTarget()) {\n      this._clear();\n      return;\n    }\n    // Hence the `throttle` util ensures to preserve command order,\n    // here simply updating range all the time will not cause missing\n    // any of the the roam change.\n    this.range = dataZoomModel.getPercentRange();\n    // Reset controllers.\n    roams.setViewInfoToCoordSysRecord(api, dataZoomModel, {\n      pan: bind(getRangeHandlers.pan, this),\n      zoom: bind(getRangeHandlers.zoom, this),\n      scrollMove: bind(getRangeHandlers.scrollMove, this)\n    });\n  };\n  InsideZoomView.prototype.dispose = function () {\n    this._clear();\n    _super.prototype.dispose.apply(this, arguments);\n  };\n  InsideZoomView.prototype._clear = function () {\n    roams.disposeCoordSysRecordIfNeeded(this.api, this.dataZoomModel);\n    this.range = null;\n  };\n  InsideZoomView.type = 'dataZoom.inside';\n  return InsideZoomView;\n}(DataZoomView);\nvar getRangeHandlers = {\n  zoom: function (coordSysInfo, coordSysMainType, controller, e) {\n    var lastRange = this.range;\n    var range = lastRange.slice();\n    // Calculate transform by the first axis.\n    var axisModel = coordSysInfo.axisModels[0];\n    if (!axisModel) {\n      return;\n    }\n    var directionInfo = getDirectionInfo[coordSysMainType](null, [e.originX, e.originY], axisModel, controller, coordSysInfo);\n    var percentPoint = (directionInfo.signal > 0 ? directionInfo.pixelStart + directionInfo.pixelLength - directionInfo.pixel : directionInfo.pixel - directionInfo.pixelStart) / directionInfo.pixelLength * (range[1] - range[0]) + range[0];\n    var scale = Math.max(1 / e.scale, 0);\n    range[0] = (range[0] - percentPoint) * scale + percentPoint;\n    range[1] = (range[1] - percentPoint) * scale + percentPoint;\n    // Restrict range.\n    var minMaxSpan = this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n    sliderMove(0, range, [0, 100], 0, minMaxSpan.minSpan, minMaxSpan.maxSpan);\n    this.range = range;\n    if (lastRange[0] !== range[0] || lastRange[1] !== range[1]) {\n      return range;\n    }\n  },\n  pan: makeMover(function (range, axisModel, coordSysInfo, coordSysMainType, controller, e) {\n    var directionInfo = getDirectionInfo[coordSysMainType]([e.oldX, e.oldY], [e.newX, e.newY], axisModel, controller, coordSysInfo);\n    return directionInfo.signal * (range[1] - range[0]) * directionInfo.pixel / directionInfo.pixelLength;\n  }),\n  scrollMove: makeMover(function (range, axisModel, coordSysInfo, coordSysMainType, controller, e) {\n    var directionInfo = getDirectionInfo[coordSysMainType]([0, 0], [e.scrollDelta, e.scrollDelta], axisModel, controller, coordSysInfo);\n    return directionInfo.signal * (range[1] - range[0]) * e.scrollDelta;\n  })\n};\nfunction makeMover(getPercentDelta) {\n  return function (coordSysInfo, coordSysMainType, controller, e) {\n    var lastRange = this.range;\n    var range = lastRange.slice();\n    // Calculate transform by the first axis.\n    var axisModel = coordSysInfo.axisModels[0];\n    if (!axisModel) {\n      return;\n    }\n    var percentDelta = getPercentDelta(range, axisModel, coordSysInfo, coordSysMainType, controller, e);\n    sliderMove(percentDelta, range, [0, 100], 'all');\n    this.range = range;\n    if (lastRange[0] !== range[0] || lastRange[1] !== range[1]) {\n      return range;\n    }\n  };\n}\nvar getDirectionInfo = {\n  grid: function (oldPoint, newPoint, axisModel, controller, coordSysInfo) {\n    var axis = axisModel.axis;\n    var ret = {};\n    var rect = coordSysInfo.model.coordinateSystem.getRect();\n    oldPoint = oldPoint || [0, 0];\n    if (axis.dim === 'x') {\n      ret.pixel = newPoint[0] - oldPoint[0];\n      ret.pixelLength = rect.width;\n      ret.pixelStart = rect.x;\n      ret.signal = axis.inverse ? 1 : -1;\n    } else {\n      // axis.dim === 'y'\n      ret.pixel = newPoint[1] - oldPoint[1];\n      ret.pixelLength = rect.height;\n      ret.pixelStart = rect.y;\n      ret.signal = axis.inverse ? -1 : 1;\n    }\n    return ret;\n  },\n  polar: function (oldPoint, newPoint, axisModel, controller, coordSysInfo) {\n    var axis = axisModel.axis;\n    var ret = {};\n    var polar = coordSysInfo.model.coordinateSystem;\n    var radiusExtent = polar.getRadiusAxis().getExtent();\n    var angleExtent = polar.getAngleAxis().getExtent();\n    oldPoint = oldPoint ? polar.pointToCoord(oldPoint) : [0, 0];\n    newPoint = polar.pointToCoord(newPoint);\n    if (axisModel.mainType === 'radiusAxis') {\n      ret.pixel = newPoint[0] - oldPoint[0];\n      // ret.pixelLength = Math.abs(radiusExtent[1] - radiusExtent[0]);\n      // ret.pixelStart = Math.min(radiusExtent[0], radiusExtent[1]);\n      ret.pixelLength = radiusExtent[1] - radiusExtent[0];\n      ret.pixelStart = radiusExtent[0];\n      ret.signal = axis.inverse ? 1 : -1;\n    } else {\n      // 'angleAxis'\n      ret.pixel = newPoint[1] - oldPoint[1];\n      // ret.pixelLength = Math.abs(angleExtent[1] - angleExtent[0]);\n      // ret.pixelStart = Math.min(angleExtent[0], angleExtent[1]);\n      ret.pixelLength = angleExtent[1] - angleExtent[0];\n      ret.pixelStart = angleExtent[0];\n      ret.signal = axis.inverse ? -1 : 1;\n    }\n    return ret;\n  },\n  singleAxis: function (oldPoint, newPoint, axisModel, controller, coordSysInfo) {\n    var axis = axisModel.axis;\n    var rect = coordSysInfo.model.coordinateSystem.getRect();\n    var ret = {};\n    oldPoint = oldPoint || [0, 0];\n    if (axis.orient === 'horizontal') {\n      ret.pixel = newPoint[0] - oldPoint[0];\n      ret.pixelLength = rect.width;\n      ret.pixelStart = rect.x;\n      ret.signal = axis.inverse ? 1 : -1;\n    } else {\n      // 'vertical'\n      ret.pixel = newPoint[1] - oldPoint[1];\n      ret.pixelLength = rect.height;\n      ret.pixelStart = rect.y;\n      ret.signal = axis.inverse ? -1 : 1;\n    }\n    return ret;\n  }\n};\nexport default InsideZoomView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport InsideZoomModel from './InsideZoomModel.js';\nimport InsideZoomView from './InsideZoomView.js';\nimport { installDataZoomRoamProcessor } from './roams.js';\nimport installCommon from './installCommon.js';\nexport function install(registers) {\n  installCommon(registers);\n  registers.registerComponentModel(InsideZoomModel);\n  registers.registerComponentView(InsideZoomView);\n  installDataZoomRoamProcessor(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomModel from './DataZoomModel.js';\nvar SelectDataZoomModel = /** @class */function (_super) {\n  __extends(SelectDataZoomModel, _super);\n  function SelectDataZoomModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SelectDataZoomModel.type;\n    return _this;\n  }\n  SelectDataZoomModel.type = 'dataZoom.select';\n  return SelectDataZoomModel;\n}(DataZoomModel);\nexport default SelectDataZoomModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomView from './DataZoomView.js';\nvar SelectDataZoomView = /** @class */function (_super) {\n  __extends(SelectDataZoomView, _super);\n  function SelectDataZoomView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SelectDataZoomView.type;\n    return _this;\n  }\n  SelectDataZoomView.type = 'dataZoom.select';\n  return SelectDataZoomView;\n}(DataZoomView);\nexport default SelectDataZoomView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport SelectZoomModel from './SelectZoomModel.js';\nimport SelectZoomView from './SelectZoomView.js';\nimport installCommon from './installCommon.js';\nexport function install(registers) {\n  registers.registerComponentModel(SelectZoomModel);\n  registers.registerComponentView(SelectZoomView);\n  installCommon(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomModel from './DataZoomModel.js';\nimport { inheritDefaultOption } from '../../util/component.js';\nvar SliderZoomModel = /** @class */function (_super) {\n  __extends(SliderZoomModel, _super);\n  function SliderZoomModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SliderZoomModel.type;\n    return _this;\n  }\n  SliderZoomModel.type = 'dataZoom.slider';\n  SliderZoomModel.layoutMode = 'box';\n  SliderZoomModel.defaultOption = inheritDefaultOption(DataZoomModel.defaultOption, {\n    show: true,\n    // deault value can only be drived in view stage.\n    right: 'ph',\n    top: 'ph',\n    width: 'ph',\n    height: 'ph',\n    left: null,\n    bottom: null,\n    borderColor: '#d2dbee',\n    borderRadius: 3,\n    backgroundColor: 'rgba(47,69,84,0)',\n    // dataBackgroundColor: '#ddd',\n    dataBackground: {\n      lineStyle: {\n        color: '#d2dbee',\n        width: 0.5\n      },\n      areaStyle: {\n        color: '#d2dbee',\n        opacity: 0.2\n      }\n    },\n    selectedDataBackground: {\n      lineStyle: {\n        color: '#8fb0f7',\n        width: 0.5\n      },\n      areaStyle: {\n        color: '#8fb0f7',\n        opacity: 0.2\n      }\n    },\n    // Color of selected window.\n    fillerColor: 'rgba(135,175,274,0.2)',\n    handleIcon: 'path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z',\n    // Percent of the slider height\n    handleSize: '100%',\n    handleStyle: {\n      color: '#fff',\n      borderColor: '#ACB8D1'\n    },\n    moveHandleSize: 7,\n    moveHandleIcon: 'path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z',\n    moveHandleStyle: {\n      color: '#D2DBEE',\n      opacity: 0.7\n    },\n    showDetail: true,\n    showDataShadow: 'auto',\n    realtime: true,\n    zoomLock: false,\n    textStyle: {\n      color: '#6E7079'\n    },\n    brushSelect: true,\n    brushStyle: {\n      color: 'rgba(135,175,274,0.15)'\n    },\n    emphasis: {\n      handleStyle: {\n        borderColor: '#8FB0F7'\n      },\n      moveHandleStyle: {\n        color: '#8FB0F7'\n      }\n    }\n  });\n  return SliderZoomModel;\n}(DataZoomModel);\nexport default SliderZoomModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { bind, each, isFunction, isString, indexOf } from 'zrender/lib/core/util.js';\nimport * as eventTool from 'zrender/lib/core/event.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as throttle from '../../util/throttle.js';\nimport DataZoomView from './DataZoomView.js';\nimport { linearMap, asc, parsePercent } from '../../util/number.js';\nimport * as layout from '../../util/layout.js';\nimport sliderMove from '../helper/sliderMove.js';\nimport { getAxisMainType, collectReferCoordSysModelInfo } from './helper.js';\nimport { enableHoverEmphasis } from '../../util/states.js';\nimport { createSymbol, symbolBuildProxies } from '../../util/symbol.js';\nimport { deprecateLog } from '../../util/log.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nvar Rect = graphic.Rect;\n// Constants\nvar DEFAULT_LOCATION_EDGE_GAP = 7;\nvar DEFAULT_FRAME_BORDER_WIDTH = 1;\nvar DEFAULT_FILLER_SIZE = 30;\nvar DEFAULT_MOVE_HANDLE_SIZE = 7;\nvar HORIZONTAL = 'horizontal';\nvar VERTICAL = 'vertical';\nvar LABEL_GAP = 5;\nvar SHOW_DATA_SHADOW_SERIES_TYPE = ['line', 'bar', 'candlestick', 'scatter'];\nvar REALTIME_ANIMATION_CONFIG = {\n  easing: 'cubicOut',\n  duration: 100,\n  delay: 0\n};\nvar SliderZoomView = /** @class */function (_super) {\n  __extends(SliderZoomView, _super);\n  function SliderZoomView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SliderZoomView.type;\n    _this._displayables = {};\n    return _this;\n  }\n  SliderZoomView.prototype.init = function (ecModel, api) {\n    this.api = api;\n    // A unique handler for each dataZoom component\n    this._onBrush = bind(this._onBrush, this);\n    this._onBrushEnd = bind(this._onBrushEnd, this);\n  };\n  SliderZoomView.prototype.render = function (dataZoomModel, ecModel, api, payload) {\n    _super.prototype.render.apply(this, arguments);\n    throttle.createOrUpdate(this, '_dispatchZoomAction', dataZoomModel.get('throttle'), 'fixRate');\n    this._orient = dataZoomModel.getOrient();\n    if (dataZoomModel.get('show') === false) {\n      this.group.removeAll();\n      return;\n    }\n    if (dataZoomModel.noTarget()) {\n      this._clear();\n      this.group.removeAll();\n      return;\n    }\n    // Notice: this._resetInterval() should not be executed when payload.type\n    // is 'dataZoom', origin this._range should be maintained, otherwise 'pan'\n    // or 'zoom' info will be missed because of 'throttle' of this.dispatchAction,\n    if (!payload || payload.type !== 'dataZoom' || payload.from !== this.uid) {\n      this._buildView();\n    }\n    this._updateView();\n  };\n  SliderZoomView.prototype.dispose = function () {\n    this._clear();\n    _super.prototype.dispose.apply(this, arguments);\n  };\n  SliderZoomView.prototype._clear = function () {\n    throttle.clear(this, '_dispatchZoomAction');\n    var zr = this.api.getZr();\n    zr.off('mousemove', this._onBrush);\n    zr.off('mouseup', this._onBrushEnd);\n  };\n  SliderZoomView.prototype._buildView = function () {\n    var thisGroup = this.group;\n    thisGroup.removeAll();\n    this._brushing = false;\n    this._displayables.brushRect = null;\n    this._resetLocation();\n    this._resetInterval();\n    var barGroup = this._displayables.sliderGroup = new graphic.Group();\n    this._renderBackground();\n    this._renderHandle();\n    this._renderDataShadow();\n    thisGroup.add(barGroup);\n    this._positionGroup();\n  };\n  SliderZoomView.prototype._resetLocation = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var api = this.api;\n    var showMoveHandle = dataZoomModel.get('brushSelect');\n    var moveHandleSize = showMoveHandle ? DEFAULT_MOVE_HANDLE_SIZE : 0;\n    // If some of x/y/width/height are not specified,\n    // auto-adapt according to target grid.\n    var coordRect = this._findCoordRect();\n    var ecSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    // Default align by coordinate system rect.\n    var positionInfo = this._orient === HORIZONTAL ? {\n      // Why using 'right', because right should be used in vertical,\n      // and it is better to be consistent for dealing with position param merge.\n      right: ecSize.width - coordRect.x - coordRect.width,\n      top: ecSize.height - DEFAULT_FILLER_SIZE - DEFAULT_LOCATION_EDGE_GAP - moveHandleSize,\n      width: coordRect.width,\n      height: DEFAULT_FILLER_SIZE\n    } : {\n      right: DEFAULT_LOCATION_EDGE_GAP,\n      top: coordRect.y,\n      width: DEFAULT_FILLER_SIZE,\n      height: coordRect.height\n    };\n    // Do not write back to option and replace value 'ph', because\n    // the 'ph' value should be recalculated when resize.\n    var layoutParams = layout.getLayoutParams(dataZoomModel.option);\n    // Replace the placeholder value.\n    each(['right', 'top', 'width', 'height'], function (name) {\n      if (layoutParams[name] === 'ph') {\n        layoutParams[name] = positionInfo[name];\n      }\n    });\n    var layoutRect = layout.getLayoutRect(layoutParams, ecSize);\n    this._location = {\n      x: layoutRect.x,\n      y: layoutRect.y\n    };\n    this._size = [layoutRect.width, layoutRect.height];\n    this._orient === VERTICAL && this._size.reverse();\n  };\n  SliderZoomView.prototype._positionGroup = function () {\n    var thisGroup = this.group;\n    var location = this._location;\n    var orient = this._orient;\n    // Just use the first axis to determine mapping.\n    var targetAxisModel = this.dataZoomModel.getFirstTargetAxisModel();\n    var inverse = targetAxisModel && targetAxisModel.get('inverse');\n    var sliderGroup = this._displayables.sliderGroup;\n    var otherAxisInverse = (this._dataShadowInfo || {}).otherAxisInverse;\n    // Transform barGroup.\n    sliderGroup.attr(orient === HORIZONTAL && !inverse ? {\n      scaleY: otherAxisInverse ? 1 : -1,\n      scaleX: 1\n    } : orient === HORIZONTAL && inverse ? {\n      scaleY: otherAxisInverse ? 1 : -1,\n      scaleX: -1\n    } : orient === VERTICAL && !inverse ? {\n      scaleY: otherAxisInverse ? -1 : 1,\n      scaleX: 1,\n      rotation: Math.PI / 2\n    }\n    // Don't use Math.PI, considering shadow direction.\n    : {\n      scaleY: otherAxisInverse ? -1 : 1,\n      scaleX: -1,\n      rotation: Math.PI / 2\n    });\n    // Position barGroup\n    var rect = thisGroup.getBoundingRect([sliderGroup]);\n    thisGroup.x = location.x - rect.x;\n    thisGroup.y = location.y - rect.y;\n    thisGroup.markRedraw();\n  };\n  SliderZoomView.prototype._getViewExtent = function () {\n    return [0, this._size[0]];\n  };\n  SliderZoomView.prototype._renderBackground = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var size = this._size;\n    var barGroup = this._displayables.sliderGroup;\n    var brushSelect = dataZoomModel.get('brushSelect');\n    barGroup.add(new Rect({\n      silent: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: dataZoomModel.get('backgroundColor')\n      },\n      z2: -40\n    }));\n    // Click panel, over shadow, below handles.\n    var clickPanel = new Rect({\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: 'transparent'\n      },\n      z2: 0,\n      onclick: bind(this._onClickPanel, this)\n    });\n    var zr = this.api.getZr();\n    if (brushSelect) {\n      clickPanel.on('mousedown', this._onBrushStart, this);\n      clickPanel.cursor = 'crosshair';\n      zr.on('mousemove', this._onBrush);\n      zr.on('mouseup', this._onBrushEnd);\n    } else {\n      zr.off('mousemove', this._onBrush);\n      zr.off('mouseup', this._onBrushEnd);\n    }\n    barGroup.add(clickPanel);\n  };\n  SliderZoomView.prototype._renderDataShadow = function () {\n    var info = this._dataShadowInfo = this._prepareDataShadowInfo();\n    this._displayables.dataShadowSegs = [];\n    if (!info) {\n      return;\n    }\n    var size = this._size;\n    var oldSize = this._shadowSize || [];\n    var seriesModel = info.series;\n    var data = seriesModel.getRawData();\n    var candlestickDim = seriesModel.getShadowDim && seriesModel.getShadowDim();\n    var otherDim = candlestickDim && data.getDimensionInfo(candlestickDim) ? seriesModel.getShadowDim() // @see candlestick\n    : info.otherDim;\n    if (otherDim == null) {\n      return;\n    }\n    var polygonPts = this._shadowPolygonPts;\n    var polylinePts = this._shadowPolylinePts;\n    // Not re-render if data doesn't change.\n    if (data !== this._shadowData || otherDim !== this._shadowDim || size[0] !== oldSize[0] || size[1] !== oldSize[1]) {\n      var otherDataExtent_1 = data.getDataExtent(otherDim);\n      // Nice extent.\n      var otherOffset = (otherDataExtent_1[1] - otherDataExtent_1[0]) * 0.3;\n      otherDataExtent_1 = [otherDataExtent_1[0] - otherOffset, otherDataExtent_1[1] + otherOffset];\n      var otherShadowExtent_1 = [0, size[1]];\n      var thisShadowExtent = [0, size[0]];\n      var areaPoints_1 = [[size[0], 0], [0, 0]];\n      var linePoints_1 = [];\n      var step_1 = thisShadowExtent[1] / (data.count() - 1);\n      var thisCoord_1 = 0;\n      // Optimize for large data shadow\n      var stride_1 = Math.round(data.count() / size[0]);\n      var lastIsEmpty_1;\n      data.each([otherDim], function (value, index) {\n        if (stride_1 > 0 && index % stride_1) {\n          thisCoord_1 += step_1;\n          return;\n        }\n        // FIXME\n        // Should consider axis.min/axis.max when drawing dataShadow.\n        // FIXME\n        // list\n        var isEmpty = value == null || isNaN(value) || value === '';\n        // See #4235.\n        var otherCoord = isEmpty ? 0 : linearMap(value, otherDataExtent_1, otherShadowExtent_1, true);\n        // Attempt to draw data shadow precisely when there are empty value.\n        if (isEmpty && !lastIsEmpty_1 && index) {\n          areaPoints_1.push([areaPoints_1[areaPoints_1.length - 1][0], 0]);\n          linePoints_1.push([linePoints_1[linePoints_1.length - 1][0], 0]);\n        } else if (!isEmpty && lastIsEmpty_1) {\n          areaPoints_1.push([thisCoord_1, 0]);\n          linePoints_1.push([thisCoord_1, 0]);\n        }\n        areaPoints_1.push([thisCoord_1, otherCoord]);\n        linePoints_1.push([thisCoord_1, otherCoord]);\n        thisCoord_1 += step_1;\n        lastIsEmpty_1 = isEmpty;\n      });\n      polygonPts = this._shadowPolygonPts = areaPoints_1;\n      polylinePts = this._shadowPolylinePts = linePoints_1;\n    }\n    this._shadowData = data;\n    this._shadowDim = otherDim;\n    this._shadowSize = [size[0], size[1]];\n    var dataZoomModel = this.dataZoomModel;\n    function createDataShadowGroup(isSelectedArea) {\n      var model = dataZoomModel.getModel(isSelectedArea ? 'selectedDataBackground' : 'dataBackground');\n      var group = new graphic.Group();\n      var polygon = new graphic.Polygon({\n        shape: {\n          points: polygonPts\n        },\n        segmentIgnoreThreshold: 1,\n        style: model.getModel('areaStyle').getAreaStyle(),\n        silent: true,\n        z2: -20\n      });\n      var polyline = new graphic.Polyline({\n        shape: {\n          points: polylinePts\n        },\n        segmentIgnoreThreshold: 1,\n        style: model.getModel('lineStyle').getLineStyle(),\n        silent: true,\n        z2: -19\n      });\n      group.add(polygon);\n      group.add(polyline);\n      return group;\n    }\n    // let dataBackgroundModel = dataZoomModel.getModel('dataBackground');\n    for (var i = 0; i < 3; i++) {\n      var group = createDataShadowGroup(i === 1);\n      this._displayables.sliderGroup.add(group);\n      this._displayables.dataShadowSegs.push(group);\n    }\n  };\n  SliderZoomView.prototype._prepareDataShadowInfo = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var showDataShadow = dataZoomModel.get('showDataShadow');\n    if (showDataShadow === false) {\n      return;\n    }\n    // Find a representative series.\n    var result;\n    var ecModel = this.ecModel;\n    dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n      var seriesModels = dataZoomModel.getAxisProxy(axisDim, axisIndex).getTargetSeriesModels();\n      each(seriesModels, function (seriesModel) {\n        if (result) {\n          return;\n        }\n        if (showDataShadow !== true && indexOf(SHOW_DATA_SHADOW_SERIES_TYPE, seriesModel.get('type')) < 0) {\n          return;\n        }\n        var thisAxis = ecModel.getComponent(getAxisMainType(axisDim), axisIndex).axis;\n        var otherDim = getOtherDim(axisDim);\n        var otherAxisInverse;\n        var coordSys = seriesModel.coordinateSystem;\n        if (otherDim != null && coordSys.getOtherAxis) {\n          otherAxisInverse = coordSys.getOtherAxis(thisAxis).inverse;\n        }\n        otherDim = seriesModel.getData().mapDimension(otherDim);\n        result = {\n          thisAxis: thisAxis,\n          series: seriesModel,\n          thisDim: axisDim,\n          otherDim: otherDim,\n          otherAxisInverse: otherAxisInverse\n        };\n      }, this);\n    }, this);\n    return result;\n  };\n  SliderZoomView.prototype._renderHandle = function () {\n    var thisGroup = this.group;\n    var displayables = this._displayables;\n    var handles = displayables.handles = [null, null];\n    var handleLabels = displayables.handleLabels = [null, null];\n    var sliderGroup = this._displayables.sliderGroup;\n    var size = this._size;\n    var dataZoomModel = this.dataZoomModel;\n    var api = this.api;\n    var borderRadius = dataZoomModel.get('borderRadius') || 0;\n    var brushSelect = dataZoomModel.get('brushSelect');\n    var filler = displayables.filler = new Rect({\n      silent: brushSelect,\n      style: {\n        fill: dataZoomModel.get('fillerColor')\n      },\n      textConfig: {\n        position: 'inside'\n      }\n    });\n    sliderGroup.add(filler);\n    // Frame border.\n    sliderGroup.add(new Rect({\n      silent: true,\n      subPixelOptimize: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1],\n        r: borderRadius\n      },\n      style: {\n        // deprecated option\n        stroke: dataZoomModel.get('dataBackgroundColor') || dataZoomModel.get('borderColor'),\n        lineWidth: DEFAULT_FRAME_BORDER_WIDTH,\n        fill: 'rgba(0,0,0,0)'\n      }\n    }));\n    // Left and right handle to resize\n    each([0, 1], function (handleIndex) {\n      var iconStr = dataZoomModel.get('handleIcon');\n      if (!symbolBuildProxies[iconStr] && iconStr.indexOf('path://') < 0 && iconStr.indexOf('image://') < 0) {\n        // Compatitable with the old icon parsers. Which can use a path string without path://\n        iconStr = 'path://' + iconStr;\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateLog('handleIcon now needs \\'path://\\' prefix when using a path string');\n        }\n      }\n      var path = createSymbol(iconStr, -1, 0, 2, 2, null, true);\n      path.attr({\n        cursor: getCursor(this._orient),\n        draggable: true,\n        drift: bind(this._onDragMove, this, handleIndex),\n        ondragend: bind(this._onDragEnd, this),\n        onmouseover: bind(this._showDataInfo, this, true),\n        onmouseout: bind(this._showDataInfo, this, false),\n        z2: 5\n      });\n      var bRect = path.getBoundingRect();\n      var handleSize = dataZoomModel.get('handleSize');\n      this._handleHeight = parsePercent(handleSize, this._size[1]);\n      this._handleWidth = bRect.width / bRect.height * this._handleHeight;\n      path.setStyle(dataZoomModel.getModel('handleStyle').getItemStyle());\n      path.style.strokeNoScale = true;\n      path.rectHover = true;\n      path.ensureState('emphasis').style = dataZoomModel.getModel(['emphasis', 'handleStyle']).getItemStyle();\n      enableHoverEmphasis(path);\n      var handleColor = dataZoomModel.get('handleColor'); // deprecated option\n      // Compatitable with previous version\n      if (handleColor != null) {\n        path.style.fill = handleColor;\n      }\n      sliderGroup.add(handles[handleIndex] = path);\n      var textStyleModel = dataZoomModel.getModel('textStyle');\n      thisGroup.add(handleLabels[handleIndex] = new graphic.Text({\n        silent: true,\n        invisible: true,\n        style: createTextStyle(textStyleModel, {\n          x: 0,\n          y: 0,\n          text: '',\n          verticalAlign: 'middle',\n          align: 'center',\n          fill: textStyleModel.getTextColor(),\n          font: textStyleModel.getFont()\n        }),\n        z2: 10\n      }));\n    }, this);\n    // Handle to move. Only visible when brushSelect is set true.\n    var actualMoveZone = filler;\n    if (brushSelect) {\n      var moveHandleHeight = parsePercent(dataZoomModel.get('moveHandleSize'), size[1]);\n      var moveHandle_1 = displayables.moveHandle = new graphic.Rect({\n        style: dataZoomModel.getModel('moveHandleStyle').getItemStyle(),\n        silent: true,\n        shape: {\n          r: [0, 0, 2, 2],\n          y: size[1] - 0.5,\n          height: moveHandleHeight\n        }\n      });\n      var iconSize = moveHandleHeight * 0.8;\n      var moveHandleIcon = displayables.moveHandleIcon = createSymbol(dataZoomModel.get('moveHandleIcon'), -iconSize / 2, -iconSize / 2, iconSize, iconSize, '#fff', true);\n      moveHandleIcon.silent = true;\n      moveHandleIcon.y = size[1] + moveHandleHeight / 2 - 0.5;\n      moveHandle_1.ensureState('emphasis').style = dataZoomModel.getModel(['emphasis', 'moveHandleStyle']).getItemStyle();\n      var moveZoneExpandSize = Math.min(size[1] / 2, Math.max(moveHandleHeight, 10));\n      actualMoveZone = displayables.moveZone = new graphic.Rect({\n        invisible: true,\n        shape: {\n          y: size[1] - moveZoneExpandSize,\n          height: moveHandleHeight + moveZoneExpandSize\n        }\n      });\n      actualMoveZone.on('mouseover', function () {\n        api.enterEmphasis(moveHandle_1);\n      }).on('mouseout', function () {\n        api.leaveEmphasis(moveHandle_1);\n      });\n      sliderGroup.add(moveHandle_1);\n      sliderGroup.add(moveHandleIcon);\n      sliderGroup.add(actualMoveZone);\n    }\n    actualMoveZone.attr({\n      draggable: true,\n      cursor: getCursor(this._orient),\n      drift: bind(this._onDragMove, this, 'all'),\n      ondragstart: bind(this._showDataInfo, this, true),\n      ondragend: bind(this._onDragEnd, this),\n      onmouseover: bind(this._showDataInfo, this, true),\n      onmouseout: bind(this._showDataInfo, this, false)\n    });\n  };\n  SliderZoomView.prototype._resetInterval = function () {\n    var range = this._range = this.dataZoomModel.getPercentRange();\n    var viewExtent = this._getViewExtent();\n    this._handleEnds = [linearMap(range[0], [0, 100], viewExtent, true), linearMap(range[1], [0, 100], viewExtent, true)];\n  };\n  SliderZoomView.prototype._updateInterval = function (handleIndex, delta) {\n    var dataZoomModel = this.dataZoomModel;\n    var handleEnds = this._handleEnds;\n    var viewExtend = this._getViewExtent();\n    var minMaxSpan = dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n    var percentExtent = [0, 100];\n    sliderMove(delta, handleEnds, viewExtend, dataZoomModel.get('zoomLock') ? 'all' : handleIndex, minMaxSpan.minSpan != null ? linearMap(minMaxSpan.minSpan, percentExtent, viewExtend, true) : null, minMaxSpan.maxSpan != null ? linearMap(minMaxSpan.maxSpan, percentExtent, viewExtend, true) : null);\n    var lastRange = this._range;\n    var range = this._range = asc([linearMap(handleEnds[0], viewExtend, percentExtent, true), linearMap(handleEnds[1], viewExtend, percentExtent, true)]);\n    return !lastRange || lastRange[0] !== range[0] || lastRange[1] !== range[1];\n  };\n  SliderZoomView.prototype._updateView = function (nonRealtime) {\n    var displaybles = this._displayables;\n    var handleEnds = this._handleEnds;\n    var handleInterval = asc(handleEnds.slice());\n    var size = this._size;\n    each([0, 1], function (handleIndex) {\n      // Handles\n      var handle = displaybles.handles[handleIndex];\n      var handleHeight = this._handleHeight;\n      handle.attr({\n        scaleX: handleHeight / 2,\n        scaleY: handleHeight / 2,\n        // This is a trick, by adding an extra tiny offset to let the default handle's end point align to the drag window.\n        // NOTE: It may affect some custom shapes a bit. But we prefer to have better result by default.\n        x: handleEnds[handleIndex] + (handleIndex ? -1 : 1),\n        y: size[1] / 2 - handleHeight / 2\n      });\n    }, this);\n    // Filler\n    displaybles.filler.setShape({\n      x: handleInterval[0],\n      y: 0,\n      width: handleInterval[1] - handleInterval[0],\n      height: size[1]\n    });\n    var viewExtent = {\n      x: handleInterval[0],\n      width: handleInterval[1] - handleInterval[0]\n    };\n    // Move handle\n    if (displaybles.moveHandle) {\n      displaybles.moveHandle.setShape(viewExtent);\n      displaybles.moveZone.setShape(viewExtent);\n      // Force update path on the invisible object\n      displaybles.moveZone.getBoundingRect();\n      displaybles.moveHandleIcon && displaybles.moveHandleIcon.attr('x', viewExtent.x + viewExtent.width / 2);\n    }\n    // update clip path of shadow.\n    var dataShadowSegs = displaybles.dataShadowSegs;\n    var segIntervals = [0, handleInterval[0], handleInterval[1], size[0]];\n    for (var i = 0; i < dataShadowSegs.length; i++) {\n      var segGroup = dataShadowSegs[i];\n      var clipPath = segGroup.getClipPath();\n      if (!clipPath) {\n        clipPath = new graphic.Rect();\n        segGroup.setClipPath(clipPath);\n      }\n      clipPath.setShape({\n        x: segIntervals[i],\n        y: 0,\n        width: segIntervals[i + 1] - segIntervals[i],\n        height: size[1]\n      });\n    }\n    this._updateDataInfo(nonRealtime);\n  };\n  SliderZoomView.prototype._updateDataInfo = function (nonRealtime) {\n    var dataZoomModel = this.dataZoomModel;\n    var displaybles = this._displayables;\n    var handleLabels = displaybles.handleLabels;\n    var orient = this._orient;\n    var labelTexts = ['', ''];\n    // FIXME\n    // dateformatterautoformatterec2 date.getAutoFormatter\n    if (dataZoomModel.get('showDetail')) {\n      var axisProxy = dataZoomModel.findRepresentativeAxisProxy();\n      if (axisProxy) {\n        var axis = axisProxy.getAxisModel().axis;\n        var range = this._range;\n        var dataInterval = nonRealtime\n        // See #4434, data and axis are not processed and reset yet in non-realtime mode.\n        ? axisProxy.calculateDataWindow({\n          start: range[0],\n          end: range[1]\n        }).valueWindow : axisProxy.getDataValueWindow();\n        labelTexts = [this._formatLabel(dataInterval[0], axis), this._formatLabel(dataInterval[1], axis)];\n      }\n    }\n    var orderedHandleEnds = asc(this._handleEnds.slice());\n    setLabel.call(this, 0);\n    setLabel.call(this, 1);\n    function setLabel(handleIndex) {\n      // Label\n      // Text should not transform by barGroup.\n      // Ignore handlers transform\n      var barTransform = graphic.getTransform(displaybles.handles[handleIndex].parent, this.group);\n      var direction = graphic.transformDirection(handleIndex === 0 ? 'right' : 'left', barTransform);\n      var offset = this._handleWidth / 2 + LABEL_GAP;\n      var textPoint = graphic.applyTransform([orderedHandleEnds[handleIndex] + (handleIndex === 0 ? -offset : offset), this._size[1] / 2], barTransform);\n      handleLabels[handleIndex].setStyle({\n        x: textPoint[0],\n        y: textPoint[1],\n        verticalAlign: orient === HORIZONTAL ? 'middle' : direction,\n        align: orient === HORIZONTAL ? direction : 'center',\n        text: labelTexts[handleIndex]\n      });\n    }\n  };\n  SliderZoomView.prototype._formatLabel = function (value, axis) {\n    var dataZoomModel = this.dataZoomModel;\n    var labelFormatter = dataZoomModel.get('labelFormatter');\n    var labelPrecision = dataZoomModel.get('labelPrecision');\n    if (labelPrecision == null || labelPrecision === 'auto') {\n      labelPrecision = axis.getPixelPrecision();\n    }\n    var valueStr = value == null || isNaN(value) ? ''\n    // FIXME Glue code\n    : axis.type === 'category' || axis.type === 'time' ? axis.scale.getLabel({\n      value: Math.round(value)\n    })\n    // param of toFixed should less then 20.\n    : value.toFixed(Math.min(labelPrecision, 20));\n    return isFunction(labelFormatter) ? labelFormatter(value, valueStr) : isString(labelFormatter) ? labelFormatter.replace('{value}', valueStr) : valueStr;\n  };\n  /**\n   * @param showOrHide true: show, false: hide\n   */\n  SliderZoomView.prototype._showDataInfo = function (showOrHide) {\n    // Always show when drgging.\n    showOrHide = this._dragging || showOrHide;\n    var displayables = this._displayables;\n    var handleLabels = displayables.handleLabels;\n    handleLabels[0].attr('invisible', !showOrHide);\n    handleLabels[1].attr('invisible', !showOrHide);\n    // Highlight move handle\n    displayables.moveHandle && this.api[showOrHide ? 'enterEmphasis' : 'leaveEmphasis'](displayables.moveHandle, 1);\n  };\n  SliderZoomView.prototype._onDragMove = function (handleIndex, dx, dy, event) {\n    this._dragging = true;\n    // For mobile device, prevent screen slider on the button.\n    eventTool.stop(event.event);\n    // Transform dx, dy to bar coordination.\n    var barTransform = this._displayables.sliderGroup.getLocalTransform();\n    var vertex = graphic.applyTransform([dx, dy], barTransform, true);\n    var changed = this._updateInterval(handleIndex, vertex[0]);\n    var realtime = this.dataZoomModel.get('realtime');\n    this._updateView(!realtime);\n    // Avoid dispatch dataZoom repeatly but range not changed,\n    // which cause bad visual effect when progressive enabled.\n    changed && realtime && this._dispatchZoomAction(true);\n  };\n  SliderZoomView.prototype._onDragEnd = function () {\n    this._dragging = false;\n    this._showDataInfo(false);\n    // While in realtime mode and stream mode, dispatch action when\n    // drag end will cause the whole view rerender, which is unnecessary.\n    var realtime = this.dataZoomModel.get('realtime');\n    !realtime && this._dispatchZoomAction(false);\n  };\n  SliderZoomView.prototype._onClickPanel = function (e) {\n    var size = this._size;\n    var localPoint = this._displayables.sliderGroup.transformCoordToLocal(e.offsetX, e.offsetY);\n    if (localPoint[0] < 0 || localPoint[0] > size[0] || localPoint[1] < 0 || localPoint[1] > size[1]) {\n      return;\n    }\n    var handleEnds = this._handleEnds;\n    var center = (handleEnds[0] + handleEnds[1]) / 2;\n    var changed = this._updateInterval('all', localPoint[0] - center);\n    this._updateView();\n    changed && this._dispatchZoomAction(false);\n  };\n  SliderZoomView.prototype._onBrushStart = function (e) {\n    var x = e.offsetX;\n    var y = e.offsetY;\n    this._brushStart = new graphic.Point(x, y);\n    this._brushing = true;\n    this._brushStartTime = +new Date();\n    // this._updateBrushRect(x, y);\n  };\n\n  SliderZoomView.prototype._onBrushEnd = function (e) {\n    if (!this._brushing) {\n      return;\n    }\n    var brushRect = this._displayables.brushRect;\n    this._brushing = false;\n    if (!brushRect) {\n      return;\n    }\n    brushRect.attr('ignore', true);\n    var brushShape = brushRect.shape;\n    var brushEndTime = +new Date();\n    // console.log(brushEndTime - this._brushStartTime);\n    if (brushEndTime - this._brushStartTime < 200 && Math.abs(brushShape.width) < 5) {\n      // Will treat it as a click\n      return;\n    }\n    var viewExtend = this._getViewExtent();\n    var percentExtent = [0, 100];\n    this._range = asc([linearMap(brushShape.x, viewExtend, percentExtent, true), linearMap(brushShape.x + brushShape.width, viewExtend, percentExtent, true)]);\n    this._handleEnds = [brushShape.x, brushShape.x + brushShape.width];\n    this._updateView();\n    this._dispatchZoomAction(false);\n  };\n  SliderZoomView.prototype._onBrush = function (e) {\n    if (this._brushing) {\n      // For mobile device, prevent screen slider on the button.\n      eventTool.stop(e.event);\n      this._updateBrushRect(e.offsetX, e.offsetY);\n    }\n  };\n  SliderZoomView.prototype._updateBrushRect = function (mouseX, mouseY) {\n    var displayables = this._displayables;\n    var dataZoomModel = this.dataZoomModel;\n    var brushRect = displayables.brushRect;\n    if (!brushRect) {\n      brushRect = displayables.brushRect = new Rect({\n        silent: true,\n        style: dataZoomModel.getModel('brushStyle').getItemStyle()\n      });\n      displayables.sliderGroup.add(brushRect);\n    }\n    brushRect.attr('ignore', false);\n    var brushStart = this._brushStart;\n    var sliderGroup = this._displayables.sliderGroup;\n    var endPoint = sliderGroup.transformCoordToLocal(mouseX, mouseY);\n    var startPoint = sliderGroup.transformCoordToLocal(brushStart.x, brushStart.y);\n    var size = this._size;\n    endPoint[0] = Math.max(Math.min(size[0], endPoint[0]), 0);\n    brushRect.setShape({\n      x: startPoint[0],\n      y: 0,\n      width: endPoint[0] - startPoint[0],\n      height: size[1]\n    });\n  };\n  /**\n   * This action will be throttled.\n   */\n  SliderZoomView.prototype._dispatchZoomAction = function (realtime) {\n    var range = this._range;\n    this.api.dispatchAction({\n      type: 'dataZoom',\n      from: this.uid,\n      dataZoomId: this.dataZoomModel.id,\n      animation: realtime ? REALTIME_ANIMATION_CONFIG : null,\n      start: range[0],\n      end: range[1]\n    });\n  };\n  SliderZoomView.prototype._findCoordRect = function () {\n    // Find the grid corresponding to the first axis referred by dataZoom.\n    var rect;\n    var coordSysInfoList = collectReferCoordSysModelInfo(this.dataZoomModel).infoList;\n    if (!rect && coordSysInfoList.length) {\n      var coordSys = coordSysInfoList[0].model.coordinateSystem;\n      rect = coordSys.getRect && coordSys.getRect();\n    }\n    if (!rect) {\n      var width = this.api.getWidth();\n      var height = this.api.getHeight();\n      rect = {\n        x: width * 0.2,\n        y: height * 0.2,\n        width: width * 0.6,\n        height: height * 0.6\n      };\n    }\n    return rect;\n  };\n  SliderZoomView.type = 'dataZoom.slider';\n  return SliderZoomView;\n}(DataZoomView);\nfunction getOtherDim(thisDim) {\n  // FIXME\n  // getOtherAxis\n  var map = {\n    x: 'y',\n    y: 'x',\n    radius: 'angle',\n    angle: 'radius'\n  };\n  return map[thisDim];\n}\nfunction getCursor(orient) {\n  return orient === 'vertical' ? 'ns-resize' : 'ew-resize';\n}\nexport default SliderZoomView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport SliderZoomModel from './SliderZoomModel.js';\nimport SliderZoomView from './SliderZoomView.js';\nimport installCommon from './installCommon.js';\nexport function install(registers) {\n  registers.registerComponentModel(SliderZoomModel);\n  registers.registerComponentView(SliderZoomView);\n  installCommon(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * This module is imported by echarts directly.\n *\n * Notice:\n * Always keep this file exists for backward compatibility.\n * Because before 4.1.0, dataset is an optional component,\n * some users may import this module manually.\n */\nimport ComponentModel from '../../model/Component.js';\nimport ComponentView from '../../view/Component.js';\nimport { SERIES_LAYOUT_BY_COLUMN } from '../../util/types.js';\nimport { disableTransformOptionMerge, SourceManager } from '../../data/helper/sourceManager.js';\nvar DatasetModel = /** @class */function (_super) {\n  __extends(DatasetModel, _super);\n  function DatasetModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = 'dataset';\n    return _this;\n  }\n  DatasetModel.prototype.init = function (option, parentModel, ecModel) {\n    _super.prototype.init.call(this, option, parentModel, ecModel);\n    this._sourceManager = new SourceManager(this);\n    disableTransformOptionMerge(this);\n  };\n  DatasetModel.prototype.mergeOption = function (newOption, ecModel) {\n    _super.prototype.mergeOption.call(this, newOption, ecModel);\n    disableTransformOptionMerge(this);\n  };\n  DatasetModel.prototype.optionUpdated = function () {\n    this._sourceManager.dirty();\n  };\n  DatasetModel.prototype.getSourceManager = function () {\n    return this._sourceManager;\n  };\n  DatasetModel.type = 'dataset';\n  DatasetModel.defaultOption = {\n    seriesLayoutBy: SERIES_LAYOUT_BY_COLUMN\n  };\n  return DatasetModel;\n}(ComponentModel);\nexport { DatasetModel };\nvar DatasetView = /** @class */function (_super) {\n  __extends(DatasetView, _super);\n  function DatasetView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = 'dataset';\n    return _this;\n  }\n  DatasetView.type = 'dataset';\n  return DatasetView;\n}(ComponentView);\nexport function install(registers) {\n  registers.registerComponentModel(DatasetModel);\n  registers.registerComponentView(DatasetView);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport MapDraw from '../helper/MapDraw.js';\nimport ComponentView from '../../view/Component.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { findEventDispatcher } from '../../util/event.js';\nvar GeoView = /** @class */function (_super) {\n  __extends(GeoView, _super);\n  function GeoView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = GeoView.type;\n    _this.focusBlurEnabled = true;\n    return _this;\n  }\n  GeoView.prototype.init = function (ecModel, api) {\n    this._api = api;\n  };\n  GeoView.prototype.render = function (geoModel, ecModel, api, payload) {\n    this._model = geoModel;\n    if (!geoModel.get('show')) {\n      this._mapDraw && this._mapDraw.remove();\n      this._mapDraw = null;\n      return;\n    }\n    if (!this._mapDraw) {\n      this._mapDraw = new MapDraw(api);\n    }\n    var mapDraw = this._mapDraw;\n    mapDraw.draw(geoModel, ecModel, api, this, payload);\n    mapDraw.group.on('click', this._handleRegionClick, this);\n    mapDraw.group.silent = geoModel.get('silent');\n    this.group.add(mapDraw.group);\n    this.updateSelectStatus(geoModel, ecModel, api);\n  };\n  GeoView.prototype._handleRegionClick = function (e) {\n    var eventData;\n    findEventDispatcher(e.target, function (current) {\n      return (eventData = getECData(current).eventData) != null;\n    }, true);\n    if (eventData) {\n      this._api.dispatchAction({\n        type: 'geoToggleSelect',\n        geoId: this._model.id,\n        name: eventData.name\n      });\n    }\n  };\n  GeoView.prototype.updateSelectStatus = function (model, ecModel, api) {\n    var _this = this;\n    this._mapDraw.group.traverse(function (node) {\n      var eventData = getECData(node).eventData;\n      if (eventData) {\n        _this._model.isSelected(eventData.name) ? api.enterSelect(node) : api.leaveSelect(node);\n        // No need to traverse children.\n        return true;\n      }\n    });\n  };\n  GeoView.prototype.findHighDownDispatchers = function (name) {\n    return this._mapDraw && this._mapDraw.findHighDownDispatchers(name, this._model);\n  };\n  GeoView.prototype.dispose = function () {\n    this._mapDraw && this._mapDraw.remove();\n  };\n  GeoView.type = 'geo';\n  return GeoView;\n}(ComponentView);\nexport default GeoView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport GeoModel from '../../coord/geo/GeoModel.js';\nimport geoCreator from '../../coord/geo/geoCreator.js';\nimport { each } from 'zrender/lib/core/util.js';\nimport { updateCenterAndZoom } from '../../action/roamHelper.js';\nimport GeoView from './GeoView.js';\nimport geoSourceManager from '../../coord/geo/geoSourceManager.js';\nfunction registerMap(mapName, geoJson, specialAreas) {\n  geoSourceManager.registerMap(mapName, geoJson, specialAreas);\n}\nexport function install(registers) {\n  registers.registerCoordinateSystem('geo', geoCreator);\n  registers.registerComponentModel(GeoModel);\n  registers.registerComponentView(GeoView);\n  registers.registerImpl('registerMap', registerMap);\n  registers.registerImpl('getMap', function (mapName) {\n    return geoSourceManager.getMapForUser(mapName);\n  });\n  function makeAction(method, actionInfo) {\n    actionInfo.update = 'geo:updateSelectStatus';\n    registers.registerAction(actionInfo, function (payload, ecModel) {\n      var selected = {};\n      var allSelected = [];\n      ecModel.eachComponent({\n        mainType: 'geo',\n        query: payload\n      }, function (geoModel) {\n        geoModel[method](payload.name);\n        var geo = geoModel.coordinateSystem;\n        each(geo.regions, function (region) {\n          selected[region.name] = geoModel.isSelected(region.name) || false;\n        });\n        // Notice: there might be duplicated name in different regions.\n        var names = [];\n        each(selected, function (v, name) {\n          selected[name] && names.push(name);\n        });\n        allSelected.push({\n          geoIndex: geoModel.componentIndex,\n          // Use singular, the same naming convention as the event `selectchanged`.\n          name: names\n        });\n      });\n      return {\n        selected: selected,\n        allSelected: allSelected,\n        name: payload.name\n      };\n    });\n  }\n  makeAction('toggleSelected', {\n    type: 'geoToggleSelect',\n    event: 'geoselectchanged'\n  });\n  makeAction('select', {\n    type: 'geoSelect',\n    event: 'geoselected'\n  });\n  makeAction('unSelect', {\n    type: 'geoUnSelect',\n    event: 'geounselected'\n  });\n  /**\n   * @payload\n   * @property {string} [componentType=series]\n   * @property {number} [dx]\n   * @property {number} [dy]\n   * @property {number} [zoom]\n   * @property {number} [originX]\n   * @property {number} [originY]\n   */\n  registers.registerAction({\n    type: 'geoRoam',\n    event: 'geoRoam',\n    update: 'updateTransform'\n  }, function (payload, ecModel, api) {\n    var componentType = payload.componentType || 'series';\n    ecModel.eachComponent({\n      mainType: componentType,\n      query: payload\n    }, function (componentModel) {\n      var geo = componentModel.coordinateSystem;\n      if (geo.type !== 'geo') {\n        return;\n      }\n      var res = updateCenterAndZoom(geo, payload, componentModel.get('scaleLimit'), api);\n      componentModel.setCenter && componentModel.setCenter(res.center);\n      componentModel.setZoom && componentModel.setZoom(res.zoom);\n      // All map series with same `map` use the same geo coordinate system\n      // So the center and zoom must be in sync. Include the series not selected by legend\n      if (componentType === 'series') {\n        each(componentModel.seriesGroup, function (seriesModel) {\n          seriesModel.setCenter(res.center);\n          seriesModel.setZoom(res.zoom);\n        });\n      }\n    });\n  });\n}"],"names":["ariaPreprocessor","option","aria","show","enabled","label","zrUtil","name","install","registers","registerPreprocessor","registerVisual","PRIORITY","VISUAL","ARIA","ariaVisual","inner","makeInner","clone","bind","BaseAxisPointer","this","_dragging","animationThreshold","prototype","render","axisModel","axisPointerModel","api","forceRender","value","get","status","_axisModel","_axisPointerModel","_api","_lastValue","_lastStatus","group","_group","handle","_handle","hide","elOption","makeElOption","graphicKey","_lastGraphicKey","clear","moveAnimation","_moveAnimation","determineAnimation","doUpdateProps","updateProps","updatePointerEl","updateLabelEl","graphic","createPointerEl","createLabelEl","getZr","add","updateMandatoryProps","_renderHandle","remove","dispose","animation","axis","isCategoryAxis","type","useSnap","getBandWidth","seriesDataCount","axisPointerModelHelper","axisExtent","getExtent","Math","abs","pointerOption","pointer","pointerEl","labelEl","updateLabelShowHide","setStyle","style","shape","x","y","updateHandleTransform","isInit","zr","handleModel","getModel","cursor","draggable","onmousemove","e","eventTool","event","onmousedown","_onHandleDragMove","drift","ondragend","_onHandleDragEnd","getItemStyle","handleSize","scaleX","scaleY","throttleUtil","_moveHandleToValue","getHandleTransProps","getHandleTransform","dx","dy","trans","_payloadInfo","stopAnimation","attr","lastProp","_doDispatchAxisPointer","payloadInfo","dispatchAction","cursorPoint","tooltipOption","axesInfo","axisDim","dim","axisIndex","componentIndex","doClear","buildLabel","xy","wh","xDimIndex","width","height","animationModel","el","props","propsEqual","lastProps","newProps","equals_1","item","key","rotation","silent","z","zlevel","traverse","PolarAxisPointer","_super","apply","arguments","__extends","PI","polar","otherAxis","getOtherAxis","otherExtent","coordValue","dataToCoord","axisPointerType","elStyle","viewHelper","pointerShapeBuilder","labelMargin","labelPos","getLabelPosition","coord","axisAngle","getAngleAxis","position","align","verticalAlign","radiusExtent","getRadiusAxis","transform","matrix","cx","cy","labelRotation","labelLayout","AxisBuilder","innerTextLayout","textAlign","textVerticalAlign","r","coordToPoint","line","shadow","bandWidth","max","radian","XY","WH","SingleAxisPointer","coordSys","coordinateSystem","getGlobalExtent","getPointDimIndex","pixelValue","dataToPoint","layoutInfo","singleAxisHelper","labelInside","labelDirection","delta","dimIndex","currPosition","min","cursorOtherValue","targetShape","subPixelOptimize","span","isHorizontal","rect","getRect","findPointFromSeries","finder","ecModel","seriesModel","point","seriesIndex","getSeriesByIndex","data","getData","dataIndex","modelUtil","getItemGraphicEl","getTooltipPosition","isStacked","baseAxis","getBaseAxis","valueAxis","valueAxisDim","baseAxisDim","baseDataOffset","baseDim","mapDimension","stackedData","getCalculationInfo","getValues","dimensions","getBoundingRect","applyTransform","each","register","handler","env","node","records","initGlobalListeners","record","useHandler","eventType","cb","on","dis","makeDispatchAction","dispatchTooltipFinally","pendings","initialized","doEnter","onLeave","actuallyPayload","showLen","showTip","length","hideLen","hideTip","currTrigger","payload","pendingList","push","unregister","CartesianAxisPointer","grid","getCartesian","toGlobalCoord","cartesianAxisHelper","model","pos","tooltipOptions","opt","index","getAxisDimIndex","AxisPointerModel","_this","defaultOption","snap","triggerTooltip","triggerEmphasis","link","animationDurationUpdate","lineStyle","color","shadowStyle","formatter","precision","margin","padding","backgroundColor","borderColor","borderWidth","borderRadius","icon","size","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","throttle","ComponentModel","AxisPointerView","globalAxisPointerModel","globalTooltipModel","getComponent","triggerOn","globalListener","indexOf","offsetX","offsetY","ComponentView","axisTrigger","coordSysAxesInfo","illegalPoint","isIllegalPoint","inputAxesInfo","shouldHide","outputPayload","showValueMap","dataByCoordSys","list","map","updaters","showPointer","curry","showTooltip","coordSysMap","coordSysKey","coordSysContainsPoint","containPoint","axisInfo","inputAxisInfo","findInputAxisInfo","val","pointToData","processOnAxis","linkTriggers","tarAxisInfo","tarKey","linkGroup","srcAxisInfo","srcKey","srcValItem","mapper","scale","parse","makeMapperParam","updateModelActually","dispatchTooltipActually","dispatchHighDownActually","newValue","noSnap","outputFinder","isBlank","containData","involveSeries","buildPayloadsBySeries","payloadBatch","snapToValue","extend","minDist","Number","MAX_VALUE","minDiff","seriesModels","series","idx","seriesNestestValue","dataIndices","dataDim","mapDimensionsAll","getAxisTooltipData","result","nestestValue","indicesOfNearest","isFinite","diff","dist","dataIndexInside","getRawIndex","coordSysModel","modelHelper","coordSysItem","coordSysId","id","coordSysIndex","coordSysType","coordSysMainType","mainType","dataByAxis","axisType","axisId","valueLabelOpt","seriesDataIndices","slice","outputAxesInfo","valItem","useHandle","sampleItem","escapeConnect","highDownKey","lastHighlights","newHighlights","batchItem","toHighlight","toDownplay","notBlur","batch","i","axisName","isNaN","AxisView","registerAxisPointerClass","registerComponentModel","registerComponentView","axisPointer","isArray","registerProcessor","PROCESSOR","STATISTIC","collect","registerAction","update","seriesInvolved","collectAxesInfo","collectSeriesInfo","linksOption","linkGroups","getCoordinateSystems","axisPointerEnabled","makeKey","axesInfoInCoordSys","baseTooltipModel","getAxes","saveTooltipAxisInfo","getTooltipAxes","triggerAxis","cross","tooltipAxes","baseAxes","otherAxes","fromTooltip","axisPointerShow","isHandleTrigger","makeAxisPointerModel","axisKey","groupIndex","getLinkGroupIndex","tooltipAxisPointerModel","fields","volatileOption","field","labelOption","tooltipAxisPointerLabelShow","crossStyle","defaults","textStyle","Model","eachSeries","seriesTooltipTrigger","seriesTooltipShow","getAxis","count","linkOption","checkPropInLink","linkPropValue","axisPropValue","fixValue","getAxisInfo","extent","reverse","getAxisPointerModel","buildElStyle","styleModel","getLineStyle","fill","getAreaStyle","stroke","buildLabelElOption","text","getValueLabel","labelModel","paddings","formatUtil","font","getFont","textRect","textContain","confineInContainer","bgColor","createTextStyle","getTextColor","z2","viewWidth","getWidth","viewHeight","getHeight","getLabel","params_1","axisHelper","axisDimension","seriesData","idxItem","dataParams","getDataParams","replace","getTransformedPosition","labelOffset","buildCartesianSingleLabelElOption","textLayout","makeLineShape","p1","p2","x1","y1","x2","y2","makeRectShape","makeSectorShape","r0","startAngle","endAngle","clockwise","elementList","getAxisLineShape","rExtent","angle","start","end","getRadiusIdx","radiusAxis","inverse","fixAngleOverlap","firstItem","lastItem","pop","AngleAxisView","axisPointerClass","angleAxisModel","removeAll","angleAxis","ticksAngles","getTicksCoords","minorTickAngles","getMinorTicksCoords","labels","getViewLabels","labelItem","tickValue","getRawOrdinalNumber","angelAxisElementsBuilders","axisLine","lineStyleModel","RADIAN","angleExtent","rId","r0Id","shapeType","axisTick","tickModel","tickLen","radius","lines","tickAngleItem","minorTick","tickAngles","minorTickModel","k","axisLabel","rawCategoryData","getCategories","commonLabelModel","triggerEvent","p","labelTextAlign","labelTextVerticalAlign","rawCategoryItem","textEl","isLabelSilent","formattedLabel","eventData","makeAxisEventDataBase","targetType","rawLabel","getECData","splitLine","splitLineModel","lineColors","lineCount","Array","splitLines","colorIndex","minorSplitLine","minorSplitLineModel","splitArea","splitAreaModel","areaStyleModel","areaColors","splitAreas","prevAngle","r1","len","nameDirection","tickDirection","handleAutoShown","transformGroup","updateTransform","_transformGroup","hasBuilder","builders","getGroup","axisRotation","textRotation","direction","rotationDiff","remRadian","isRadianAroundZero","componentType","tooltipOpt","shown","pt1","pt2","v2ApplyTransform","lineCap","strokeContainThreshold","lineWidth","anid","arrows","arrowSize","isString","isNumber","arrowOffset","normalizeSymbolOffset","symbolWidth_1","symbolHeight_1","rotate","offset","sqrt","symbol","createSymbol","pt","cos","sin","axisTickLabel","ticksEls","buildAxisMajorTicks","labelEls","buildAxisLabel","fixMinMaxLabelShow","buildAxisMinorTicks","labelList","prepareLayoutList","priority","defaultAttr","ignore","hideOverlap","retrieve","axisNameAvailableWidth","nameLocation","textStyleModel","gap","gapSignal","isNameLocationCenter","nameRotation","endTextLayout","textFont","truncateOpt","ellipsis","maxWidth","nameTruncateMaxWidth","overflow","componentModel","itemName","__fullText","decomposeTransform","textPosition","textRotate","onLeft","tickEls","shouldShowAllLabels","showMinLabel","showMaxLabel","firstLabel","nextLabel","lastLabel","prevLabel","firstTick","nextTick","lastTick","prevTick","ignoreEl","isTwoLabelOverlapped","current","next","firstRect","nextRect","mRotationBack","matrixUtil","getLocalTransform","intersect","createTicks","ticksCoords","tickTransform","tickEndCoord","tickLineStyle","anidPrefix","tickCoord","tickEl","autoBatch","minorTicksCoords","minorTickLineStyle","minorTicksEls","axisLabelShow","labelRotate","itemLabelModel","isObject","textColor","getShallow","alignMin","retrieve2","alignMax","verticalAlignMin","verticalAlignMax","level","isFunction","tickIndex","axisPointerClazz","_doUpdateAxisPointerClass","updateAxisPointer","_axisPointer","_disposeAxisPointer","Clazz","getAxisPointerClass","clazz","axisBuilderAttrs","selfBuilderAttrs","CartesianAxisView","oldAxisGroup","_axisGroup","gridModel","getCoordSysModel","layout","axisBuilder","elementType","cartesians","getCartesians","isIntervalOrLogScale","axisElementBuilders","isInitialSortFromBarRacing","isInitSort","call","rectCoordAxisHandleRemove","axisView","axisGroup","gridRect","rectCoordAxisBuildSplitArea","CartesianXAxisView","CartesianYAxisView","ParallelAxisView","init","_brushController","BrushController","_onBrush","fromAxisAreaSelect","areaSelectStyle","getAreaSelectStyle","areaWidth","axisLayout","getAxisLayout","builderOpt","_refreshBrushController","extentLen","extra","create","mount","enableGlobalPan","setPanels","panelId","clipPath","brushHelper","isTargetByCursor","getLinearBrushOtherExtent","enableBrush","brushType","brushStyle","removeOnClick","updateCovers","getCoverInfoList","eventParam","coverInfoList","areas","intervals","coverInfo","coordToData","range","realtime","isEnd","parallelAxisId","findComponents","query","activeIntervals","interval","RadiusAxisView","radiusAxisModel","newAxisGroup","layoutAxis","prevRadius","SingleAxisView","clamp","areaColorsLen","lastSplitAreaColors","splitAreaColors","newSplitAreaColors","cIndex","prev","areaStyle","set","actionInfo","installParallelActions","eachComponent","parallelAxisModel","setActiveIntervals","parallelModel","setAxisExpand","DEFAULT_TOOLBOX_BTNS","brushPreprocessor","isNew","brushComponents","normalizeToArray","brush","brushComponentSpecifiedBtns","brushOpt","tbs","hasOwnProperty","toolbox","concat","feature","toolboxFeature","toolboxBrush","brushTypes","removeDuplicate","arr","flag","makeBrushCommonSelectorForSeries","area","selectors","itemLayout","selector","lineX","getLineSelectors","lineY","boundingRect","contain","polygon","polygonContain","points","BoundingRect","linePolygonIntersect","xyIndex","inLineRange","layoutRange","STATE_LIST","DISPATCH_METHOD","DISPATCH_FLAG","layoutCovers","brushModel","brushTargetManager","BrushTargetManager","setInputRanges","brushVisual","throttleType","throttleDelay","brushSelected","setBrushOption","brushOption","brushIndex","thisBrushSelected","brushId","brushName","selected","brushLink","linkedSeriesMap","selectedDataIndexForLink","rangeInfoBySeries","hasBrushExists","builder","boundingRectBuilders","selectableArea","visualMappings","visualSolution","mappingOption","mappingMethod","linkOthers","brushed","rangeInfoList","stepAParallel","hasAxisBrushed","eachActiveState","activeState","stepAOthers","brushSelector","brushModelNotControll","controlSeries","data_1","checkInRange","subType","seriesBrushSelected","seriesId","seriesName","getValueState","doDispatch","fn","isDisposed","seriesIndices","getBoundingRectFromMinMax","minMax","Infinity","rg","BrushView","_updateController","updateVisual","updateView","$from","makePanelOpts","modelId","setOutputRanges","DEFAULT_OUT_OF_BRUSH_COLOR","BrushModel","optionUpdated","newOption","thisOption","inBrush","outOfBrush","liftZ","setAreas","generateBrushOption","dependencies","brushMode","transformable","BRUSH","noop","registerFeature","BrushFeature","CalendarView","calendarModel","rangeData","getRangeInfo","orient","getOrient","localeModel","getLocaleModel","_renderDayRect","_renderLines","_renderYearText","_renderMonthText","_renderWeekText","itemRectStyleModel","sw","getCellWidth","sh","getCellHeight","time","getNextNDay","dataToRect","tl","self","_tlpoints","_blpoints","_firstDayOfMonth","_firstDayPoints","firstDay","addPoints","formatedDate","getDateInfo","m","date","setMonth","getMonth","_getLinePointsOfOneWeek","_drawSplitline","_getEdgesPoints","rs","poyline","parsedDate","tmpD","day","_formatterLabel","params","formatTplSimple","nameMap","_yearTextPositionControl","aligns","yearLabel","xc","yc","posPoints","top","bottom","left","right","content","yearText","_monthTextPositionControl","isCenter","vAlign","monthLabel","termPoints","tmp","firstDayPoints","name_1","yyyy","yy","MM","M","monthText","_weekTextPositionControl","cellSize","isStart","dayLabel","firstDayOfWeek","getFirstDayOfWeek","dayOfWeekShort","lweek","parsePercent","fweek","center","weekText","CalendarModel","registerCoordinateSystem","Calendar","DataZoomAxisInfo","indexList","indexMap","axisCmptIdx","DataZoomModel","_autoThrottle","_noTarget","_rangePropMode","parentModel","inputRawOption","retrieveRawOption","settledOption","mergeDefaultAndTheme","_doInit","mergeOption","merge","_setDefaultThrottle","_updateRangeUse","names","_resetTarget","optionOrient","targetAxisIndexMap","_targetAxisInfoMap","createHashMap","hasAxisSpecified","_fillSpecifiedTargetAxis","_orient","_makeAutoOrientByTargetAxis","_fillAutoTargetAxisByOrient","DATA_ZOOM_AXIS_DIMENSIONS","refering","getReferringComponents","getAxisMainType","MULTIPLE_REFERRING","specified","models","needAuto","axisModels","setParallelAxis","filter","gridModel_1","SINGLE_REFERRING","axModel","eachTargetAxis","globalOption","rangePropMode","rangeModeInOption","percentSpecified","valueSpecified","noTarget","getFirstTargetAxisModel","firstAxisModel","callback","context","getAxisProxy","getAxisModel","__dzAxisProxy","setRawRange","setCalculatedRange","getPercentRange","axisProxy","findRepresentativeAxisProxy","getDataPercentWindow","getValueRange","getDataValueWindow","firstProxy","axisDimList","keys","j","proxy","hostedBy","getRangePropMode","filterMode","ret","DataZoomView","dataZoomModel","SERIES_COORDS","isCoordSupported","coordType","findEffectedDataZooms","foundNewLink","axisRecords","effectedModels","effectedModelMap","uid","addToEffected","processSingle","isLinked","dataZoom","markAxisControlled","isLink","axisIdxArr","collectReferCoordSysModelInfo","coordSysInfoWrap","infoList","infoMap","coordSysUid","coordSysInfo","newSnapshot","storedSnapshots","getStoreSnapshots","dataZoomId","snapshot","queryComponents","percentRange","head","snapshots","store","use","installDataZoomInside","installDataZoomSlider","asc","numberUtil","AxisProxy","dimName","_dimName","_axisIndex","_dataZoomModel","_valueWindow","_percentWindow","getTargetSeriesModels","axisMainType","getMinMaxSpan","_minMaxSpan","calculateDataWindow","hasPropModeValue","dataExtent","_dataExtent","percentExtent","percentWindow","valueWindow","prop","boundPercent","boundValue","spans","restrictSet","fromWindow","toWindow","fromExtent","toExtent","toValue","suffix","sliderMove","reset","targetSeries","calculateDataExtent","_updateMinMaxSpan","dataWindow","_setAxisModel","filterData","dataDims","store_1","getStore","dataDimIndices_1","getDimensionIndex","filterSelf","leftOut","rightOut","hasValue","thisHasValue","thisLeftOut","thisRightOut","setData","isInWindow","NaN","selectRange","setApproximateExtent","minMaxSpan","percentSpan","valueSpan","rawExtentInfo","setDeterminedMinMax","toFixed","freeze","unionAxisExtentFromData","rawExtentResult","ensureScaleRawExtentInfo","calculate","dataZoomProcessor","getTargetSeries","eachAxisModel","proxyList","seriesModelMap","overallReset","valueRange","startValue","endValue","installDataZoomAction","installed","installCommon","FILTER","registerSubTypeDefaulter","InsideZoomModel","inheritDefaultOption","disabled","zoomLock","zoomOnMouseWheel","moveOnMouseMove","moveOnMouseWheel","preventDefaultMouseMove","setViewInfoToCoordSysRecord","getRange","coordSysRecordMap","coordSysRecord","dzInfo","dataZoomInfoMap","disposeCoordSysRecordIfNeeded","coordSysKeyArr","dzUid","removeKey","disposeCoordSysRecord","controller","createCoordSysRecord","containsPoint","RoamController","eventName","isAvailableBehavior","method","dzReferCoordSysInfo","easing","duration","mergeControllerParams","controlType","prefix","typePriority","dataZoomInfo","oneType","installDataZoomRoamProcessor","apiInner","dzReferCoordSysWrap","dzCoordSysInfo","firstDzInfo","firstDzKey","controllerParams","enable","setPointerChecker","InsideZoomView","_clear","roams","pan","getRangeHandlers","zoom","scrollMove","lastRange","directionInfo","getDirectionInfo","originX","originY","percentPoint","signal","pixelStart","pixelLength","pixel","minSpan","maxSpan","makeMover","oldX","oldY","newX","newY","scrollDelta","getPercentDelta","percentDelta","oldPoint","newPoint","pointToCoord","singleAxis","SelectDataZoomModel","SelectDataZoomView","SelectZoomModel","SelectZoomView","SliderZoomModel","layoutMode","dataBackground","opacity","selectedDataBackground","fillerColor","handleIcon","handleStyle","moveHandleSize","moveHandleIcon","moveHandleStyle","showDetail","showDataShadow","brushSelect","emphasis","Rect","DEFAULT_LOCATION_EDGE_GAP","DEFAULT_FRAME_BORDER_WIDTH","DEFAULT_FILLER_SIZE","DEFAULT_MOVE_HANDLE_SIZE","HORIZONTAL","VERTICAL","LABEL_GAP","SHOW_DATA_SHADOW_SERIES_TYPE","REALTIME_ANIMATION_CONFIG","delay","SliderZoomView","_displayables","_onBrushEnd","from","_buildView","_updateView","off","thisGroup","_brushing","brushRect","_resetLocation","_resetInterval","barGroup","sliderGroup","_renderBackground","_renderDataShadow","_positionGroup","showMoveHandle","coordRect","_findCoordRect","ecSize","positionInfo","layoutParams","layoutRect","_location","_size","location","targetAxisModel","otherAxisInverse","_dataShadowInfo","markRedraw","_getViewExtent","clickPanel","onclick","_onClickPanel","_onBrushStart","info","_prepareDataShadowInfo","dataShadowSegs","oldSize","_shadowSize","getRawData","candlestickDim","getShadowDim","otherDim","getDimensionInfo","polygonPts","_shadowPolygonPts","polylinePts","_shadowPolylinePts","_shadowData","_shadowDim","otherDataExtent_1","getDataExtent","otherOffset","lastIsEmpty_1","otherShadowExtent_1","thisShadowExtent","areaPoints_1","linePoints_1","step_1","thisCoord_1","stride_1","round","isEmpty","otherCoord","linearMap","createDataShadowGroup","isSelectedArea","segmentIgnoreThreshold","polyline","thisAxis","getOtherDim","thisDim","displayables","handles","handleLabels","filler","textConfig","handleIndex","iconStr","symbolBuildProxies","path","getCursor","_onDragMove","_onDragEnd","onmouseover","_showDataInfo","onmouseout","bRect","_handleHeight","_handleWidth","strokeNoScale","rectHover","ensureState","enableHoverEmphasis","handleColor","invisible","actualMoveZone","moveHandleHeight","moveHandle_1","moveHandle","iconSize","moveZoneExpandSize","moveZone","enterEmphasis","leaveEmphasis","ondragstart","_range","viewExtent","_handleEnds","_updateInterval","handleEnds","viewExtend","nonRealtime","displaybles","handleInterval","handleHeight","setShape","segIntervals","segGroup","getClipPath","setClipPath","_updateDataInfo","labelTexts","dataInterval","_formatLabel","orderedHandleEnds","setLabel","barTransform","getTransform","parent","transformDirection","textPoint","labelFormatter","labelPrecision","getPixelPrecision","valueStr","showOrHide","vertex","changed","_dispatchZoomAction","localPoint","transformCoordToLocal","_brushStart","_brushStartTime","Date","brushShape","brushEndTime","_updateBrushRect","mouseX","mouseY","brushStart","endPoint","startPoint","coordSysInfoList","DatasetModel","_sourceManager","SourceManager","disableTransformOptionMerge","dirty","getSourceManager","seriesLayoutBy","SERIES_LAYOUT_BY_COLUMN","DatasetView","GeoView","focusBlurEnabled","geoModel","_model","_mapDraw","MapDraw","mapDraw","draw","_handleRegionClick","updateSelectStatus","findEventDispatcher","target","geoId","isSelected","enterSelect","leaveSelect","findHighDownDispatchers","registerMap","mapName","geoJson","specialAreas","geoSourceManager","makeAction","allSelected","geo","regions","region","v","geoIndex","geoCreator","GeoModel","registerImpl","getMapForUser","res","updateCenterAndZoom","setCenter","setZoom","seriesGroup"],"sourceRoot":""}