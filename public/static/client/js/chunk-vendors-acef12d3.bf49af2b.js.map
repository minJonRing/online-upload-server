{"version":3,"file":"static/client/js/chunk-vendors-acef12d3.bf49af2b.js","mappings":"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","sources":["webpack://d1/./node_modules/zrender/node_modules/tslib/tslib.es6.js","webpack://d1/./node_modules/zrender/lib/contain/line.js","webpack://d1/./node_modules/zrender/lib/contain/polygon.js","webpack://d1/./node_modules/zrender/lib/contain/quadratic.js","webpack://d1/./node_modules/zrender/lib/contain/text.js","webpack://d1/./node_modules/zrender/lib/contain/util.js","webpack://d1/./node_modules/zrender/lib/contain/windingLine.js","webpack://d1/./node_modules/zrender/lib/core/BoundingRect.js","webpack://d1/./node_modules/zrender/lib/core/Eventful.js","webpack://d1/./node_modules/zrender/lib/core/GestureMgr.js","webpack://d1/./node_modules/zrender/lib/core/LRU.js","webpack://d1/./node_modules/zrender/lib/core/OrientedBoundingRect.js","webpack://d1/./node_modules/zrender/lib/core/PathProxy.js","webpack://d1/./node_modules/zrender/lib/core/Point.js","webpack://d1/./node_modules/zrender/lib/core/Transformable.js","webpack://d1/./node_modules/zrender/lib/core/WeakMap.js","webpack://d1/./node_modules/zrender/lib/core/bbox.js","webpack://d1/./node_modules/zrender/lib/core/curve.js","webpack://d1/./node_modules/zrender/lib/core/fourPointsTransform.js","webpack://d1/./node_modules/zrender/lib/core/dom.js","webpack://d1/./node_modules/zrender/lib/core/env.js","webpack://d1/./node_modules/zrender/lib/core/event.js","webpack://d1/./node_modules/zrender/lib/core/matrix.js","webpack://d1/./node_modules/zrender/lib/core/platform.js","webpack://d1/./node_modules/zrender/lib/core/timsort.js","webpack://d1/./node_modules/zrender/lib/core/util.js","webpack://d1/./node_modules/zrender/lib/core/vector.js","webpack://d1/./node_modules/zrender/lib/graphic/CompoundPath.js","webpack://d1/./node_modules/zrender/lib/graphic/Displayable.js","webpack://d1/./node_modules/zrender/lib/graphic/Gradient.js","webpack://d1/./node_modules/zrender/lib/graphic/Group.js","webpack://d1/./node_modules/zrender/lib/graphic/Image.js","webpack://d1/./node_modules/zrender/lib/graphic/IncrementalDisplayable.js","webpack://d1/./node_modules/zrender/lib/graphic/LinearGradient.js","webpack://d1/./node_modules/zrender/lib/contain/cubic.js","webpack://d1/./node_modules/zrender/lib/contain/arc.js","webpack://d1/./node_modules/zrender/lib/contain/path.js","webpack://d1/./node_modules/zrender/lib/graphic/Path.js","webpack://d1/./node_modules/zrender/lib/graphic/RadialGradient.js","webpack://d1/./node_modules/zrender/lib/graphic/TSpan.js","webpack://d1/./node_modules/zrender/lib/graphic/Text.js","webpack://d1/./node_modules/zrender/lib/graphic/constants.js","webpack://d1/./node_modules/zrender/lib/graphic/helper/image.js","webpack://d1/./node_modules/zrender/lib/graphic/helper/parseText.js","webpack://d1/./node_modules/zrender/lib/graphic/helper/smoothBezier.js","webpack://d1/./node_modules/zrender/lib/graphic/helper/poly.js","webpack://d1/./node_modules/zrender/lib/graphic/helper/subPixelOptimize.js","webpack://d1/./node_modules/zrender/lib/graphic/shape/Arc.js","webpack://d1/./node_modules/zrender/lib/graphic/shape/BezierCurve.js","webpack://d1/./node_modules/zrender/lib/graphic/shape/Circle.js","webpack://d1/./node_modules/zrender/lib/graphic/shape/Ellipse.js","webpack://d1/./node_modules/zrender/lib/graphic/shape/Line.js","webpack://d1/./node_modules/zrender/lib/graphic/shape/Polygon.js","webpack://d1/./node_modules/zrender/lib/graphic/shape/Polyline.js","webpack://d1/./node_modules/zrender/lib/graphic/helper/roundRect.js","webpack://d1/./node_modules/zrender/lib/graphic/shape/Rect.js","webpack://d1/./node_modules/zrender/lib/graphic/shape/Ring.js","webpack://d1/./node_modules/zrender/lib/graphic/helper/roundSector.js","webpack://d1/./node_modules/zrender/lib/graphic/shape/Sector.js","webpack://d1/./node_modules/zrender/lib/mixin/Draggable.js","webpack://d1/./node_modules/zrender/lib/svg/SVGPathRebuilder.js","webpack://d1/./node_modules/zrender/lib/svg/mapStyleToAttrs.js","webpack://d1/./node_modules/zrender/lib/svg/core.js","webpack://d1/./node_modules/zrender/lib/svg/cssClassId.js","webpack://d1/./node_modules/zrender/lib/svg/cssAnimation.js","webpack://d1/./node_modules/zrender/lib/svg/cssEmphasis.js","webpack://d1/./node_modules/zrender/lib/svg/graphic.js","webpack://d1/./node_modules/zrender/lib/svg/domapi.js","webpack://d1/./node_modules/zrender/lib/svg/patch.js","webpack://d1/./node_modules/zrender/lib/svg/Painter.js","webpack://d1/./node_modules/zrender/lib/svg/helper.js","webpack://d1/./node_modules/zrender/lib/tool/color.js","webpack://d1/./node_modules/zrender/lib/tool/convertPath.js","webpack://d1/./node_modules/zrender/lib/tool/dividePath.js","webpack://d1/./node_modules/zrender/lib/tool/morphPath.js","webpack://d1/./node_modules/zrender/lib/tool/parseSVG.js","webpack://d1/./node_modules/zrender/lib/tool/parseXML.js","webpack://d1/./node_modules/zrender/lib/tool/transformPath.js","webpack://d1/./node_modules/zrender/lib/tool/path.js","webpack://d1/./node_modules/zrender/lib/dom/HandlerProxy.js","webpack://d1/./node_modules/zrender/lib/zrender.js"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || from);\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","export function containStroke(x0, y0, x1, y1, lineWidth, x, y) {\n    if (lineWidth === 0) {\n        return false;\n    }\n    var _l = lineWidth;\n    var _a = 0;\n    var _b = x0;\n    if ((y > y0 + _l && y > y1 + _l)\n        || (y < y0 - _l && y < y1 - _l)\n        || (x > x0 + _l && x > x1 + _l)\n        || (x < x0 - _l && x < x1 - _l)) {\n        return false;\n    }\n    if (x0 !== x1) {\n        _a = (y0 - y1) / (x0 - x1);\n        _b = (x0 * y1 - x1 * y0) / (x0 - x1);\n    }\n    else {\n        return Math.abs(x - x0) <= _l / 2;\n    }\n    var tmp = _a * x - y + _b;\n    var _s = tmp * tmp / (_a * _a + 1);\n    return _s <= _l / 2 * _l / 2;\n}\n","import windingLine from './windingLine.js';\nvar EPSILON = 1e-8;\nfunction isAroundEqual(a, b) {\n    return Math.abs(a - b) < EPSILON;\n}\nexport function contain(points, x, y) {\n    var w = 0;\n    var p = points[0];\n    if (!p) {\n        return false;\n    }\n    for (var i = 1; i < points.length; i++) {\n        var p2 = points[i];\n        w += windingLine(p[0], p[1], p2[0], p2[1], x, y);\n        p = p2;\n    }\n    var p0 = points[0];\n    if (!isAroundEqual(p[0], p0[0]) || !isAroundEqual(p[1], p0[1])) {\n        w += windingLine(p[0], p[1], p0[0], p0[1], x, y);\n    }\n    return w !== 0;\n}\n","import { quadraticProjectPoint } from '../core/curve.js';\nexport function containStroke(x0, y0, x1, y1, x2, y2, lineWidth, x, y) {\n    if (lineWidth === 0) {\n        return false;\n    }\n    var _l = lineWidth;\n    if ((y > y0 + _l && y > y1 + _l && y > y2 + _l)\n        || (y < y0 - _l && y < y1 - _l && y < y2 - _l)\n        || (x > x0 + _l && x > x1 + _l && x > x2 + _l)\n        || (x < x0 - _l && x < x1 - _l && x < x2 - _l)) {\n        return false;\n    }\n    var d = quadraticProjectPoint(x0, y0, x1, y1, x2, y2, x, y, null);\n    return d <= _l / 2;\n}\n","import BoundingRect from '../core/BoundingRect.js';\nimport LRU from '../core/LRU.js';\nimport { DEFAULT_FONT, platformApi } from '../core/platform.js';\nvar textWidthCache = {};\nexport function getWidth(text, font) {\n    font = font || DEFAULT_FONT;\n    var cacheOfFont = textWidthCache[font];\n    if (!cacheOfFont) {\n        cacheOfFont = textWidthCache[font] = new LRU(500);\n    }\n    var width = cacheOfFont.get(text);\n    if (width == null) {\n        width = platformApi.measureText(text, font).width;\n        cacheOfFont.put(text, width);\n    }\n    return width;\n}\nexport function innerGetBoundingRect(text, font, textAlign, textBaseline) {\n    var width = getWidth(text, font);\n    var height = getLineHeight(font);\n    var x = adjustTextX(0, width, textAlign);\n    var y = adjustTextY(0, height, textBaseline);\n    var rect = new BoundingRect(x, y, width, height);\n    return rect;\n}\nexport function getBoundingRect(text, font, textAlign, textBaseline) {\n    var textLines = ((text || '') + '').split('\\n');\n    var len = textLines.length;\n    if (len === 1) {\n        return innerGetBoundingRect(textLines[0], font, textAlign, textBaseline);\n    }\n    else {\n        var uniondRect = new BoundingRect(0, 0, 0, 0);\n        for (var i = 0; i < textLines.length; i++) {\n            var rect = innerGetBoundingRect(textLines[i], font, textAlign, textBaseline);\n            i === 0 ? uniondRect.copy(rect) : uniondRect.union(rect);\n        }\n        return uniondRect;\n    }\n}\nexport function adjustTextX(x, width, textAlign) {\n    if (textAlign === 'right') {\n        x -= width;\n    }\n    else if (textAlign === 'center') {\n        x -= width / 2;\n    }\n    return x;\n}\nexport function adjustTextY(y, height, verticalAlign) {\n    if (verticalAlign === 'middle') {\n        y -= height / 2;\n    }\n    else if (verticalAlign === 'bottom') {\n        y -= height;\n    }\n    return y;\n}\nexport function getLineHeight(font) {\n    return getWidth('国', font);\n}\nexport function measureText(text, font) {\n    return platformApi.measureText(text, font);\n}\nexport function parsePercent(value, maxValue) {\n    if (typeof value === 'string') {\n        if (value.lastIndexOf('%') >= 0) {\n            return parseFloat(value) / 100 * maxValue;\n        }\n        return parseFloat(value);\n    }\n    return value;\n}\nexport function calculateTextPosition(out, opts, rect) {\n    var textPosition = opts.position || 'inside';\n    var distance = opts.distance != null ? opts.distance : 5;\n    var height = rect.height;\n    var width = rect.width;\n    var halfHeight = height / 2;\n    var x = rect.x;\n    var y = rect.y;\n    var textAlign = 'left';\n    var textVerticalAlign = 'top';\n    if (textPosition instanceof Array) {\n        x += parsePercent(textPosition[0], rect.width);\n        y += parsePercent(textPosition[1], rect.height);\n        textAlign = null;\n        textVerticalAlign = null;\n    }\n    else {\n        switch (textPosition) {\n            case 'left':\n                x -= distance;\n                y += halfHeight;\n                textAlign = 'right';\n                textVerticalAlign = 'middle';\n                break;\n            case 'right':\n                x += distance + width;\n                y += halfHeight;\n                textVerticalAlign = 'middle';\n                break;\n            case 'top':\n                x += width / 2;\n                y -= distance;\n                textAlign = 'center';\n                textVerticalAlign = 'bottom';\n                break;\n            case 'bottom':\n                x += width / 2;\n                y += height + distance;\n                textAlign = 'center';\n                break;\n            case 'inside':\n                x += width / 2;\n                y += halfHeight;\n                textAlign = 'center';\n                textVerticalAlign = 'middle';\n                break;\n            case 'insideLeft':\n                x += distance;\n                y += halfHeight;\n                textVerticalAlign = 'middle';\n                break;\n            case 'insideRight':\n                x += width - distance;\n                y += halfHeight;\n                textAlign = 'right';\n                textVerticalAlign = 'middle';\n                break;\n            case 'insideTop':\n                x += width / 2;\n                y += distance;\n                textAlign = 'center';\n                break;\n            case 'insideBottom':\n                x += width / 2;\n                y += height - distance;\n                textAlign = 'center';\n                textVerticalAlign = 'bottom';\n                break;\n            case 'insideTopLeft':\n                x += distance;\n                y += distance;\n                break;\n            case 'insideTopRight':\n                x += width - distance;\n                y += distance;\n                textAlign = 'right';\n                break;\n            case 'insideBottomLeft':\n                x += distance;\n                y += height - distance;\n                textVerticalAlign = 'bottom';\n                break;\n            case 'insideBottomRight':\n                x += width - distance;\n                y += height - distance;\n                textAlign = 'right';\n                textVerticalAlign = 'bottom';\n                break;\n        }\n    }\n    out = out || {};\n    out.x = x;\n    out.y = y;\n    out.align = textAlign;\n    out.verticalAlign = textVerticalAlign;\n    return out;\n}\n","var PI2 = Math.PI * 2;\nexport function normalizeRadian(angle) {\n    angle %= PI2;\n    if (angle < 0) {\n        angle += PI2;\n    }\n    return angle;\n}\n","export default function windingLine(x0, y0, x1, y1, x, y) {\n    if ((y > y0 && y > y1) || (y < y0 && y < y1)) {\n        return 0;\n    }\n    if (y1 === y0) {\n        return 0;\n    }\n    var t = (y - y0) / (y1 - y0);\n    var dir = y1 < y0 ? 1 : -1;\n    if (t === 1 || t === 0) {\n        dir = y1 < y0 ? 0.5 : -0.5;\n    }\n    var x_ = t * (x1 - x0) + x0;\n    return x_ === x ? Infinity : x_ > x ? dir : 0;\n}\n","import * as matrix from './matrix.js';\nimport Point from './Point.js';\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar lt = new Point();\nvar rb = new Point();\nvar lb = new Point();\nvar rt = new Point();\nvar minTv = new Point();\nvar maxTv = new Point();\nvar BoundingRect = (function () {\n    function BoundingRect(x, y, width, height) {\n        if (width < 0) {\n            x = x + width;\n            width = -width;\n        }\n        if (height < 0) {\n            y = y + height;\n            height = -height;\n        }\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n    }\n    BoundingRect.prototype.union = function (other) {\n        var x = mathMin(other.x, this.x);\n        var y = mathMin(other.y, this.y);\n        if (isFinite(this.x) && isFinite(this.width)) {\n            this.width = mathMax(other.x + other.width, this.x + this.width) - x;\n        }\n        else {\n            this.width = other.width;\n        }\n        if (isFinite(this.y) && isFinite(this.height)) {\n            this.height = mathMax(other.y + other.height, this.y + this.height) - y;\n        }\n        else {\n            this.height = other.height;\n        }\n        this.x = x;\n        this.y = y;\n    };\n    BoundingRect.prototype.applyTransform = function (m) {\n        BoundingRect.applyTransform(this, this, m);\n    };\n    BoundingRect.prototype.calculateTransform = function (b) {\n        var a = this;\n        var sx = b.width / a.width;\n        var sy = b.height / a.height;\n        var m = matrix.create();\n        matrix.translate(m, m, [-a.x, -a.y]);\n        matrix.scale(m, m, [sx, sy]);\n        matrix.translate(m, m, [b.x, b.y]);\n        return m;\n    };\n    BoundingRect.prototype.intersect = function (b, mtv) {\n        if (!b) {\n            return false;\n        }\n        if (!(b instanceof BoundingRect)) {\n            b = BoundingRect.create(b);\n        }\n        var a = this;\n        var ax0 = a.x;\n        var ax1 = a.x + a.width;\n        var ay0 = a.y;\n        var ay1 = a.y + a.height;\n        var bx0 = b.x;\n        var bx1 = b.x + b.width;\n        var by0 = b.y;\n        var by1 = b.y + b.height;\n        var overlap = !(ax1 < bx0 || bx1 < ax0 || ay1 < by0 || by1 < ay0);\n        if (mtv) {\n            var dMin = Infinity;\n            var dMax = 0;\n            var d0 = Math.abs(ax1 - bx0);\n            var d1 = Math.abs(bx1 - ax0);\n            var d2 = Math.abs(ay1 - by0);\n            var d3 = Math.abs(by1 - ay0);\n            var dx = Math.min(d0, d1);\n            var dy = Math.min(d2, d3);\n            if (ax1 < bx0 || bx1 < ax0) {\n                if (dx > dMax) {\n                    dMax = dx;\n                    if (d0 < d1) {\n                        Point.set(maxTv, -d0, 0);\n                    }\n                    else {\n                        Point.set(maxTv, d1, 0);\n                    }\n                }\n            }\n            else {\n                if (dx < dMin) {\n                    dMin = dx;\n                    if (d0 < d1) {\n                        Point.set(minTv, d0, 0);\n                    }\n                    else {\n                        Point.set(minTv, -d1, 0);\n                    }\n                }\n            }\n            if (ay1 < by0 || by1 < ay0) {\n                if (dy > dMax) {\n                    dMax = dy;\n                    if (d2 < d3) {\n                        Point.set(maxTv, 0, -d2);\n                    }\n                    else {\n                        Point.set(maxTv, 0, d3);\n                    }\n                }\n            }\n            else {\n                if (dx < dMin) {\n                    dMin = dx;\n                    if (d2 < d3) {\n                        Point.set(minTv, 0, d2);\n                    }\n                    else {\n                        Point.set(minTv, 0, -d3);\n                    }\n                }\n            }\n        }\n        if (mtv) {\n            Point.copy(mtv, overlap ? minTv : maxTv);\n        }\n        return overlap;\n    };\n    BoundingRect.prototype.contain = function (x, y) {\n        var rect = this;\n        return x >= rect.x\n            && x <= (rect.x + rect.width)\n            && y >= rect.y\n            && y <= (rect.y + rect.height);\n    };\n    BoundingRect.prototype.clone = function () {\n        return new BoundingRect(this.x, this.y, this.width, this.height);\n    };\n    BoundingRect.prototype.copy = function (other) {\n        BoundingRect.copy(this, other);\n    };\n    BoundingRect.prototype.plain = function () {\n        return {\n            x: this.x,\n            y: this.y,\n            width: this.width,\n            height: this.height\n        };\n    };\n    BoundingRect.prototype.isFinite = function () {\n        return isFinite(this.x)\n            && isFinite(this.y)\n            && isFinite(this.width)\n            && isFinite(this.height);\n    };\n    BoundingRect.prototype.isZero = function () {\n        return this.width === 0 || this.height === 0;\n    };\n    BoundingRect.create = function (rect) {\n        return new BoundingRect(rect.x, rect.y, rect.width, rect.height);\n    };\n    BoundingRect.copy = function (target, source) {\n        target.x = source.x;\n        target.y = source.y;\n        target.width = source.width;\n        target.height = source.height;\n    };\n    BoundingRect.applyTransform = function (target, source, m) {\n        if (!m) {\n            if (target !== source) {\n                BoundingRect.copy(target, source);\n            }\n            return;\n        }\n        if (m[1] < 1e-5 && m[1] > -1e-5 && m[2] < 1e-5 && m[2] > -1e-5) {\n            var sx = m[0];\n            var sy = m[3];\n            var tx = m[4];\n            var ty = m[5];\n            target.x = source.x * sx + tx;\n            target.y = source.y * sy + ty;\n            target.width = source.width * sx;\n            target.height = source.height * sy;\n            if (target.width < 0) {\n                target.x += target.width;\n                target.width = -target.width;\n            }\n            if (target.height < 0) {\n                target.y += target.height;\n                target.height = -target.height;\n            }\n            return;\n        }\n        lt.x = lb.x = source.x;\n        lt.y = rt.y = source.y;\n        rb.x = rt.x = source.x + source.width;\n        rb.y = lb.y = source.y + source.height;\n        lt.transform(m);\n        rt.transform(m);\n        rb.transform(m);\n        lb.transform(m);\n        target.x = mathMin(lt.x, rb.x, lb.x, rt.x);\n        target.y = mathMin(lt.y, rb.y, lb.y, rt.y);\n        var maxX = mathMax(lt.x, rb.x, lb.x, rt.x);\n        var maxY = mathMax(lt.y, rb.y, lb.y, rt.y);\n        target.width = maxX - target.x;\n        target.height = maxY - target.y;\n    };\n    return BoundingRect;\n}());\nexport default BoundingRect;\n","var Eventful = (function () {\n    function Eventful(eventProcessors) {\n        if (eventProcessors) {\n            this._$eventProcessor = eventProcessors;\n        }\n    }\n    Eventful.prototype.on = function (event, query, handler, context) {\n        if (!this._$handlers) {\n            this._$handlers = {};\n        }\n        var _h = this._$handlers;\n        if (typeof query === 'function') {\n            context = handler;\n            handler = query;\n            query = null;\n        }\n        if (!handler || !event) {\n            return this;\n        }\n        var eventProcessor = this._$eventProcessor;\n        if (query != null && eventProcessor && eventProcessor.normalizeQuery) {\n            query = eventProcessor.normalizeQuery(query);\n        }\n        if (!_h[event]) {\n            _h[event] = [];\n        }\n        for (var i = 0; i < _h[event].length; i++) {\n            if (_h[event][i].h === handler) {\n                return this;\n            }\n        }\n        var wrap = {\n            h: handler,\n            query: query,\n            ctx: (context || this),\n            callAtLast: handler.zrEventfulCallAtLast\n        };\n        var lastIndex = _h[event].length - 1;\n        var lastWrap = _h[event][lastIndex];\n        (lastWrap && lastWrap.callAtLast)\n            ? _h[event].splice(lastIndex, 0, wrap)\n            : _h[event].push(wrap);\n        return this;\n    };\n    Eventful.prototype.isSilent = function (eventName) {\n        var _h = this._$handlers;\n        return !_h || !_h[eventName] || !_h[eventName].length;\n    };\n    Eventful.prototype.off = function (eventType, handler) {\n        var _h = this._$handlers;\n        if (!_h) {\n            return this;\n        }\n        if (!eventType) {\n            this._$handlers = {};\n            return this;\n        }\n        if (handler) {\n            if (_h[eventType]) {\n                var newList = [];\n                for (var i = 0, l = _h[eventType].length; i < l; i++) {\n                    if (_h[eventType][i].h !== handler) {\n                        newList.push(_h[eventType][i]);\n                    }\n                }\n                _h[eventType] = newList;\n            }\n            if (_h[eventType] && _h[eventType].length === 0) {\n                delete _h[eventType];\n            }\n        }\n        else {\n            delete _h[eventType];\n        }\n        return this;\n    };\n    Eventful.prototype.trigger = function (eventType) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!this._$handlers) {\n            return this;\n        }\n        var _h = this._$handlers[eventType];\n        var eventProcessor = this._$eventProcessor;\n        if (_h) {\n            var argLen = args.length;\n            var len = _h.length;\n            for (var i = 0; i < len; i++) {\n                var hItem = _h[i];\n                if (eventProcessor\n                    && eventProcessor.filter\n                    && hItem.query != null\n                    && !eventProcessor.filter(eventType, hItem.query)) {\n                    continue;\n                }\n                switch (argLen) {\n                    case 0:\n                        hItem.h.call(hItem.ctx);\n                        break;\n                    case 1:\n                        hItem.h.call(hItem.ctx, args[0]);\n                        break;\n                    case 2:\n                        hItem.h.call(hItem.ctx, args[0], args[1]);\n                        break;\n                    default:\n                        hItem.h.apply(hItem.ctx, args);\n                        break;\n                }\n            }\n        }\n        eventProcessor && eventProcessor.afterTrigger\n            && eventProcessor.afterTrigger(eventType);\n        return this;\n    };\n    Eventful.prototype.triggerWithContext = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!this._$handlers) {\n            return this;\n        }\n        var _h = this._$handlers[type];\n        var eventProcessor = this._$eventProcessor;\n        if (_h) {\n            var argLen = args.length;\n            var ctx = args[argLen - 1];\n            var len = _h.length;\n            for (var i = 0; i < len; i++) {\n                var hItem = _h[i];\n                if (eventProcessor\n                    && eventProcessor.filter\n                    && hItem.query != null\n                    && !eventProcessor.filter(type, hItem.query)) {\n                    continue;\n                }\n                switch (argLen) {\n                    case 0:\n                        hItem.h.call(ctx);\n                        break;\n                    case 1:\n                        hItem.h.call(ctx, args[0]);\n                        break;\n                    case 2:\n                        hItem.h.call(ctx, args[0], args[1]);\n                        break;\n                    default:\n                        hItem.h.apply(ctx, args.slice(1, argLen - 1));\n                        break;\n                }\n            }\n        }\n        eventProcessor && eventProcessor.afterTrigger\n            && eventProcessor.afterTrigger(type);\n        return this;\n    };\n    return Eventful;\n}());\nexport default Eventful;\n","import * as eventUtil from './event.js';\nvar GestureMgr = (function () {\n    function GestureMgr() {\n        this._track = [];\n    }\n    GestureMgr.prototype.recognize = function (event, target, root) {\n        this._doTrack(event, target, root);\n        return this._recognize(event);\n    };\n    GestureMgr.prototype.clear = function () {\n        this._track.length = 0;\n        return this;\n    };\n    GestureMgr.prototype._doTrack = function (event, target, root) {\n        var touches = event.touches;\n        if (!touches) {\n            return;\n        }\n        var trackItem = {\n            points: [],\n            touches: [],\n            target: target,\n            event: event\n        };\n        for (var i = 0, len = touches.length; i < len; i++) {\n            var touch = touches[i];\n            var pos = eventUtil.clientToLocal(root, touch, {});\n            trackItem.points.push([pos.zrX, pos.zrY]);\n            trackItem.touches.push(touch);\n        }\n        this._track.push(trackItem);\n    };\n    GestureMgr.prototype._recognize = function (event) {\n        for (var eventName in recognizers) {\n            if (recognizers.hasOwnProperty(eventName)) {\n                var gestureInfo = recognizers[eventName](this._track, event);\n                if (gestureInfo) {\n                    return gestureInfo;\n                }\n            }\n        }\n    };\n    return GestureMgr;\n}());\nexport { GestureMgr };\nfunction dist(pointPair) {\n    var dx = pointPair[1][0] - pointPair[0][0];\n    var dy = pointPair[1][1] - pointPair[0][1];\n    return Math.sqrt(dx * dx + dy * dy);\n}\nfunction center(pointPair) {\n    return [\n        (pointPair[0][0] + pointPair[1][0]) / 2,\n        (pointPair[0][1] + pointPair[1][1]) / 2\n    ];\n}\nvar recognizers = {\n    pinch: function (tracks, event) {\n        var trackLen = tracks.length;\n        if (!trackLen) {\n            return;\n        }\n        var pinchEnd = (tracks[trackLen - 1] || {}).points;\n        var pinchPre = (tracks[trackLen - 2] || {}).points || pinchEnd;\n        if (pinchPre\n            && pinchPre.length > 1\n            && pinchEnd\n            && pinchEnd.length > 1) {\n            var pinchScale = dist(pinchEnd) / dist(pinchPre);\n            !isFinite(pinchScale) && (pinchScale = 1);\n            event.pinchScale = pinchScale;\n            var pinchCenter = center(pinchEnd);\n            event.pinchX = pinchCenter[0];\n            event.pinchY = pinchCenter[1];\n            return {\n                type: 'pinch',\n                target: tracks[0].target,\n                event: event\n            };\n        }\n    }\n};\n","var Entry = (function () {\n    function Entry(val) {\n        this.value = val;\n    }\n    return Entry;\n}());\nexport { Entry };\nvar LinkedList = (function () {\n    function LinkedList() {\n        this._len = 0;\n    }\n    LinkedList.prototype.insert = function (val) {\n        var entry = new Entry(val);\n        this.insertEntry(entry);\n        return entry;\n    };\n    LinkedList.prototype.insertEntry = function (entry) {\n        if (!this.head) {\n            this.head = this.tail = entry;\n        }\n        else {\n            this.tail.next = entry;\n            entry.prev = this.tail;\n            entry.next = null;\n            this.tail = entry;\n        }\n        this._len++;\n    };\n    LinkedList.prototype.remove = function (entry) {\n        var prev = entry.prev;\n        var next = entry.next;\n        if (prev) {\n            prev.next = next;\n        }\n        else {\n            this.head = next;\n        }\n        if (next) {\n            next.prev = prev;\n        }\n        else {\n            this.tail = prev;\n        }\n        entry.next = entry.prev = null;\n        this._len--;\n    };\n    LinkedList.prototype.len = function () {\n        return this._len;\n    };\n    LinkedList.prototype.clear = function () {\n        this.head = this.tail = null;\n        this._len = 0;\n    };\n    return LinkedList;\n}());\nexport { LinkedList };\nvar LRU = (function () {\n    function LRU(maxSize) {\n        this._list = new LinkedList();\n        this._maxSize = 10;\n        this._map = {};\n        this._maxSize = maxSize;\n    }\n    LRU.prototype.put = function (key, value) {\n        var list = this._list;\n        var map = this._map;\n        var removed = null;\n        if (map[key] == null) {\n            var len = list.len();\n            var entry = this._lastRemovedEntry;\n            if (len >= this._maxSize && len > 0) {\n                var leastUsedEntry = list.head;\n                list.remove(leastUsedEntry);\n                delete map[leastUsedEntry.key];\n                removed = leastUsedEntry.value;\n                this._lastRemovedEntry = leastUsedEntry;\n            }\n            if (entry) {\n                entry.value = value;\n            }\n            else {\n                entry = new Entry(value);\n            }\n            entry.key = key;\n            list.insertEntry(entry);\n            map[key] = entry;\n        }\n        return removed;\n    };\n    LRU.prototype.get = function (key) {\n        var entry = this._map[key];\n        var list = this._list;\n        if (entry != null) {\n            if (entry !== list.tail) {\n                list.remove(entry);\n                list.insertEntry(entry);\n            }\n            return entry.value;\n        }\n    };\n    LRU.prototype.clear = function () {\n        this._list.clear();\n        this._map = {};\n    };\n    LRU.prototype.len = function () {\n        return this._list.len();\n    };\n    return LRU;\n}());\nexport default LRU;\n","import Point from './Point.js';\nvar extent = [0, 0];\nvar extent2 = [0, 0];\nvar minTv = new Point();\nvar maxTv = new Point();\nvar OrientedBoundingRect = (function () {\n    function OrientedBoundingRect(rect, transform) {\n        this._corners = [];\n        this._axes = [];\n        this._origin = [0, 0];\n        for (var i = 0; i < 4; i++) {\n            this._corners[i] = new Point();\n        }\n        for (var i = 0; i < 2; i++) {\n            this._axes[i] = new Point();\n        }\n        if (rect) {\n            this.fromBoundingRect(rect, transform);\n        }\n    }\n    OrientedBoundingRect.prototype.fromBoundingRect = function (rect, transform) {\n        var corners = this._corners;\n        var axes = this._axes;\n        var x = rect.x;\n        var y = rect.y;\n        var x2 = x + rect.width;\n        var y2 = y + rect.height;\n        corners[0].set(x, y);\n        corners[1].set(x2, y);\n        corners[2].set(x2, y2);\n        corners[3].set(x, y2);\n        if (transform) {\n            for (var i = 0; i < 4; i++) {\n                corners[i].transform(transform);\n            }\n        }\n        Point.sub(axes[0], corners[1], corners[0]);\n        Point.sub(axes[1], corners[3], corners[0]);\n        axes[0].normalize();\n        axes[1].normalize();\n        for (var i = 0; i < 2; i++) {\n            this._origin[i] = axes[i].dot(corners[0]);\n        }\n    };\n    OrientedBoundingRect.prototype.intersect = function (other, mtv) {\n        var overlapped = true;\n        var noMtv = !mtv;\n        minTv.set(Infinity, Infinity);\n        maxTv.set(0, 0);\n        if (!this._intersectCheckOneSide(this, other, minTv, maxTv, noMtv, 1)) {\n            overlapped = false;\n            if (noMtv) {\n                return overlapped;\n            }\n        }\n        if (!this._intersectCheckOneSide(other, this, minTv, maxTv, noMtv, -1)) {\n            overlapped = false;\n            if (noMtv) {\n                return overlapped;\n            }\n        }\n        if (!noMtv) {\n            Point.copy(mtv, overlapped ? minTv : maxTv);\n        }\n        return overlapped;\n    };\n    OrientedBoundingRect.prototype._intersectCheckOneSide = function (self, other, minTv, maxTv, noMtv, inverse) {\n        var overlapped = true;\n        for (var i = 0; i < 2; i++) {\n            var axis = this._axes[i];\n            this._getProjMinMaxOnAxis(i, self._corners, extent);\n            this._getProjMinMaxOnAxis(i, other._corners, extent2);\n            if (extent[1] < extent2[0] || extent[0] > extent2[1]) {\n                overlapped = false;\n                if (noMtv) {\n                    return overlapped;\n                }\n                var dist0 = Math.abs(extent2[0] - extent[1]);\n                var dist1 = Math.abs(extent[0] - extent2[1]);\n                if (Math.min(dist0, dist1) > maxTv.len()) {\n                    if (dist0 < dist1) {\n                        Point.scale(maxTv, axis, -dist0 * inverse);\n                    }\n                    else {\n                        Point.scale(maxTv, axis, dist1 * inverse);\n                    }\n                }\n            }\n            else if (minTv) {\n                var dist0 = Math.abs(extent2[0] - extent[1]);\n                var dist1 = Math.abs(extent[0] - extent2[1]);\n                if (Math.min(dist0, dist1) < minTv.len()) {\n                    if (dist0 < dist1) {\n                        Point.scale(minTv, axis, dist0 * inverse);\n                    }\n                    else {\n                        Point.scale(minTv, axis, -dist1 * inverse);\n                    }\n                }\n            }\n        }\n        return overlapped;\n    };\n    OrientedBoundingRect.prototype._getProjMinMaxOnAxis = function (dim, corners, out) {\n        var axis = this._axes[dim];\n        var origin = this._origin;\n        var proj = corners[0].dot(axis) + origin[dim];\n        var min = proj;\n        var max = proj;\n        for (var i = 1; i < corners.length; i++) {\n            var proj_1 = corners[i].dot(axis) + origin[dim];\n            min = Math.min(proj_1, min);\n            max = Math.max(proj_1, max);\n        }\n        out[0] = min;\n        out[1] = max;\n    };\n    return OrientedBoundingRect;\n}());\nexport default OrientedBoundingRect;\n","import * as vec2 from './vector.js';\nimport BoundingRect from './BoundingRect.js';\nimport { devicePixelRatio as dpr } from '../config.js';\nimport { fromLine, fromCubic, fromQuadratic, fromArc } from './bbox.js';\nimport { cubicLength, cubicSubdivide, quadraticLength, quadraticSubdivide } from './curve.js';\nvar CMD = {\n    M: 1,\n    L: 2,\n    C: 3,\n    Q: 4,\n    A: 5,\n    Z: 6,\n    R: 7\n};\nvar tmpOutX = [];\nvar tmpOutY = [];\nvar min = [];\nvar max = [];\nvar min2 = [];\nvar max2 = [];\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathCos = Math.cos;\nvar mathSin = Math.sin;\nvar mathAbs = Math.abs;\nvar PI = Math.PI;\nvar PI2 = PI * 2;\nvar hasTypedArray = typeof Float32Array !== 'undefined';\nvar tmpAngles = [];\nfunction modPI2(radian) {\n    var n = Math.round(radian / PI * 1e8) / 1e8;\n    return (n % 2) * PI;\n}\nexport function normalizeArcAngles(angles, anticlockwise) {\n    var newStartAngle = modPI2(angles[0]);\n    if (newStartAngle < 0) {\n        newStartAngle += PI2;\n    }\n    var delta = newStartAngle - angles[0];\n    var newEndAngle = angles[1];\n    newEndAngle += delta;\n    if (!anticlockwise && newEndAngle - newStartAngle >= PI2) {\n        newEndAngle = newStartAngle + PI2;\n    }\n    else if (anticlockwise && newStartAngle - newEndAngle >= PI2) {\n        newEndAngle = newStartAngle - PI2;\n    }\n    else if (!anticlockwise && newStartAngle > newEndAngle) {\n        newEndAngle = newStartAngle + (PI2 - modPI2(newStartAngle - newEndAngle));\n    }\n    else if (anticlockwise && newStartAngle < newEndAngle) {\n        newEndAngle = newStartAngle - (PI2 - modPI2(newEndAngle - newStartAngle));\n    }\n    angles[0] = newStartAngle;\n    angles[1] = newEndAngle;\n}\nvar PathProxy = (function () {\n    function PathProxy(notSaveData) {\n        this.dpr = 1;\n        this._xi = 0;\n        this._yi = 0;\n        this._x0 = 0;\n        this._y0 = 0;\n        this._len = 0;\n        if (notSaveData) {\n            this._saveData = false;\n        }\n        if (this._saveData) {\n            this.data = [];\n        }\n    }\n    PathProxy.prototype.increaseVersion = function () {\n        this._version++;\n    };\n    PathProxy.prototype.getVersion = function () {\n        return this._version;\n    };\n    PathProxy.prototype.setScale = function (sx, sy, segmentIgnoreThreshold) {\n        segmentIgnoreThreshold = segmentIgnoreThreshold || 0;\n        if (segmentIgnoreThreshold > 0) {\n            this._ux = mathAbs(segmentIgnoreThreshold / dpr / sx) || 0;\n            this._uy = mathAbs(segmentIgnoreThreshold / dpr / sy) || 0;\n        }\n    };\n    PathProxy.prototype.setDPR = function (dpr) {\n        this.dpr = dpr;\n    };\n    PathProxy.prototype.setContext = function (ctx) {\n        this._ctx = ctx;\n    };\n    PathProxy.prototype.getContext = function () {\n        return this._ctx;\n    };\n    PathProxy.prototype.beginPath = function () {\n        this._ctx && this._ctx.beginPath();\n        this.reset();\n        return this;\n    };\n    PathProxy.prototype.reset = function () {\n        if (this._saveData) {\n            this._len = 0;\n        }\n        if (this._pathSegLen) {\n            this._pathSegLen = null;\n            this._pathLen = 0;\n        }\n        this._version++;\n    };\n    PathProxy.prototype.moveTo = function (x, y) {\n        this._drawPendingPt();\n        this.addData(CMD.M, x, y);\n        this._ctx && this._ctx.moveTo(x, y);\n        this._x0 = x;\n        this._y0 = y;\n        this._xi = x;\n        this._yi = y;\n        return this;\n    };\n    PathProxy.prototype.lineTo = function (x, y) {\n        var dx = mathAbs(x - this._xi);\n        var dy = mathAbs(y - this._yi);\n        var exceedUnit = dx > this._ux || dy > this._uy;\n        this.addData(CMD.L, x, y);\n        if (this._ctx && exceedUnit) {\n            this._ctx.lineTo(x, y);\n        }\n        if (exceedUnit) {\n            this._xi = x;\n            this._yi = y;\n            this._pendingPtDist = 0;\n        }\n        else {\n            var d2 = dx * dx + dy * dy;\n            if (d2 > this._pendingPtDist) {\n                this._pendingPtX = x;\n                this._pendingPtY = y;\n                this._pendingPtDist = d2;\n            }\n        }\n        return this;\n    };\n    PathProxy.prototype.bezierCurveTo = function (x1, y1, x2, y2, x3, y3) {\n        this._drawPendingPt();\n        this.addData(CMD.C, x1, y1, x2, y2, x3, y3);\n        if (this._ctx) {\n            this._ctx.bezierCurveTo(x1, y1, x2, y2, x3, y3);\n        }\n        this._xi = x3;\n        this._yi = y3;\n        return this;\n    };\n    PathProxy.prototype.quadraticCurveTo = function (x1, y1, x2, y2) {\n        this._drawPendingPt();\n        this.addData(CMD.Q, x1, y1, x2, y2);\n        if (this._ctx) {\n            this._ctx.quadraticCurveTo(x1, y1, x2, y2);\n        }\n        this._xi = x2;\n        this._yi = y2;\n        return this;\n    };\n    PathProxy.prototype.arc = function (cx, cy, r, startAngle, endAngle, anticlockwise) {\n        this._drawPendingPt();\n        tmpAngles[0] = startAngle;\n        tmpAngles[1] = endAngle;\n        normalizeArcAngles(tmpAngles, anticlockwise);\n        startAngle = tmpAngles[0];\n        endAngle = tmpAngles[1];\n        var delta = endAngle - startAngle;\n        this.addData(CMD.A, cx, cy, r, r, startAngle, delta, 0, anticlockwise ? 0 : 1);\n        this._ctx && this._ctx.arc(cx, cy, r, startAngle, endAngle, anticlockwise);\n        this._xi = mathCos(endAngle) * r + cx;\n        this._yi = mathSin(endAngle) * r + cy;\n        return this;\n    };\n    PathProxy.prototype.arcTo = function (x1, y1, x2, y2, radius) {\n        this._drawPendingPt();\n        if (this._ctx) {\n            this._ctx.arcTo(x1, y1, x2, y2, radius);\n        }\n        return this;\n    };\n    PathProxy.prototype.rect = function (x, y, w, h) {\n        this._drawPendingPt();\n        this._ctx && this._ctx.rect(x, y, w, h);\n        this.addData(CMD.R, x, y, w, h);\n        return this;\n    };\n    PathProxy.prototype.closePath = function () {\n        this._drawPendingPt();\n        this.addData(CMD.Z);\n        var ctx = this._ctx;\n        var x0 = this._x0;\n        var y0 = this._y0;\n        if (ctx) {\n            ctx.closePath();\n        }\n        this._xi = x0;\n        this._yi = y0;\n        return this;\n    };\n    PathProxy.prototype.fill = function (ctx) {\n        ctx && ctx.fill();\n        this.toStatic();\n    };\n    PathProxy.prototype.stroke = function (ctx) {\n        ctx && ctx.stroke();\n        this.toStatic();\n    };\n    PathProxy.prototype.len = function () {\n        return this._len;\n    };\n    PathProxy.prototype.setData = function (data) {\n        var len = data.length;\n        if (!(this.data && this.data.length === len) && hasTypedArray) {\n            this.data = new Float32Array(len);\n        }\n        for (var i = 0; i < len; i++) {\n            this.data[i] = data[i];\n        }\n        this._len = len;\n    };\n    PathProxy.prototype.appendPath = function (path) {\n        if (!(path instanceof Array)) {\n            path = [path];\n        }\n        var len = path.length;\n        var appendSize = 0;\n        var offset = this._len;\n        for (var i = 0; i < len; i++) {\n            appendSize += path[i].len();\n        }\n        if (hasTypedArray && (this.data instanceof Float32Array)) {\n            this.data = new Float32Array(offset + appendSize);\n        }\n        for (var i = 0; i < len; i++) {\n            var appendPathData = path[i].data;\n            for (var k = 0; k < appendPathData.length; k++) {\n                this.data[offset++] = appendPathData[k];\n            }\n        }\n        this._len = offset;\n    };\n    PathProxy.prototype.addData = function (cmd, a, b, c, d, e, f, g, h) {\n        if (!this._saveData) {\n            return;\n        }\n        var data = this.data;\n        if (this._len + arguments.length > data.length) {\n            this._expandData();\n            data = this.data;\n        }\n        for (var i = 0; i < arguments.length; i++) {\n            data[this._len++] = arguments[i];\n        }\n    };\n    PathProxy.prototype._drawPendingPt = function () {\n        if (this._pendingPtDist > 0) {\n            this._ctx && this._ctx.lineTo(this._pendingPtX, this._pendingPtY);\n            this._pendingPtDist = 0;\n        }\n    };\n    PathProxy.prototype._expandData = function () {\n        if (!(this.data instanceof Array)) {\n            var newData = [];\n            for (var i = 0; i < this._len; i++) {\n                newData[i] = this.data[i];\n            }\n            this.data = newData;\n        }\n    };\n    PathProxy.prototype.toStatic = function () {\n        if (!this._saveData) {\n            return;\n        }\n        this._drawPendingPt();\n        var data = this.data;\n        if (data instanceof Array) {\n            data.length = this._len;\n            if (hasTypedArray && this._len > 11) {\n                this.data = new Float32Array(data);\n            }\n        }\n    };\n    PathProxy.prototype.getBoundingRect = function () {\n        min[0] = min[1] = min2[0] = min2[1] = Number.MAX_VALUE;\n        max[0] = max[1] = max2[0] = max2[1] = -Number.MAX_VALUE;\n        var data = this.data;\n        var xi = 0;\n        var yi = 0;\n        var x0 = 0;\n        var y0 = 0;\n        var i;\n        for (i = 0; i < this._len;) {\n            var cmd = data[i++];\n            var isFirst = i === 1;\n            if (isFirst) {\n                xi = data[i];\n                yi = data[i + 1];\n                x0 = xi;\n                y0 = yi;\n            }\n            switch (cmd) {\n                case CMD.M:\n                    xi = x0 = data[i++];\n                    yi = y0 = data[i++];\n                    min2[0] = x0;\n                    min2[1] = y0;\n                    max2[0] = x0;\n                    max2[1] = y0;\n                    break;\n                case CMD.L:\n                    fromLine(xi, yi, data[i], data[i + 1], min2, max2);\n                    xi = data[i++];\n                    yi = data[i++];\n                    break;\n                case CMD.C:\n                    fromCubic(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], min2, max2);\n                    xi = data[i++];\n                    yi = data[i++];\n                    break;\n                case CMD.Q:\n                    fromQuadratic(xi, yi, data[i++], data[i++], data[i], data[i + 1], min2, max2);\n                    xi = data[i++];\n                    yi = data[i++];\n                    break;\n                case CMD.A:\n                    var cx = data[i++];\n                    var cy = data[i++];\n                    var rx = data[i++];\n                    var ry = data[i++];\n                    var startAngle = data[i++];\n                    var endAngle = data[i++] + startAngle;\n                    i += 1;\n                    var anticlockwise = !data[i++];\n                    if (isFirst) {\n                        x0 = mathCos(startAngle) * rx + cx;\n                        y0 = mathSin(startAngle) * ry + cy;\n                    }\n                    fromArc(cx, cy, rx, ry, startAngle, endAngle, anticlockwise, min2, max2);\n                    xi = mathCos(endAngle) * rx + cx;\n                    yi = mathSin(endAngle) * ry + cy;\n                    break;\n                case CMD.R:\n                    x0 = xi = data[i++];\n                    y0 = yi = data[i++];\n                    var width = data[i++];\n                    var height = data[i++];\n                    fromLine(x0, y0, x0 + width, y0 + height, min2, max2);\n                    break;\n                case CMD.Z:\n                    xi = x0;\n                    yi = y0;\n                    break;\n            }\n            vec2.min(min, min, min2);\n            vec2.max(max, max, max2);\n        }\n        if (i === 0) {\n            min[0] = min[1] = max[0] = max[1] = 0;\n        }\n        return new BoundingRect(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n    };\n    PathProxy.prototype._calculateLength = function () {\n        var data = this.data;\n        var len = this._len;\n        var ux = this._ux;\n        var uy = this._uy;\n        var xi = 0;\n        var yi = 0;\n        var x0 = 0;\n        var y0 = 0;\n        if (!this._pathSegLen) {\n            this._pathSegLen = [];\n        }\n        var pathSegLen = this._pathSegLen;\n        var pathTotalLen = 0;\n        var segCount = 0;\n        for (var i = 0; i < len;) {\n            var cmd = data[i++];\n            var isFirst = i === 1;\n            if (isFirst) {\n                xi = data[i];\n                yi = data[i + 1];\n                x0 = xi;\n                y0 = yi;\n            }\n            var l = -1;\n            switch (cmd) {\n                case CMD.M:\n                    xi = x0 = data[i++];\n                    yi = y0 = data[i++];\n                    break;\n                case CMD.L: {\n                    var x2 = data[i++];\n                    var y2 = data[i++];\n                    var dx = x2 - xi;\n                    var dy = y2 - yi;\n                    if (mathAbs(dx) > ux || mathAbs(dy) > uy || i === len - 1) {\n                        l = Math.sqrt(dx * dx + dy * dy);\n                        xi = x2;\n                        yi = y2;\n                    }\n                    break;\n                }\n                case CMD.C: {\n                    var x1 = data[i++];\n                    var y1 = data[i++];\n                    var x2 = data[i++];\n                    var y2 = data[i++];\n                    var x3 = data[i++];\n                    var y3 = data[i++];\n                    l = cubicLength(xi, yi, x1, y1, x2, y2, x3, y3, 10);\n                    xi = x3;\n                    yi = y3;\n                    break;\n                }\n                case CMD.Q: {\n                    var x1 = data[i++];\n                    var y1 = data[i++];\n                    var x2 = data[i++];\n                    var y2 = data[i++];\n                    l = quadraticLength(xi, yi, x1, y1, x2, y2, 10);\n                    xi = x2;\n                    yi = y2;\n                    break;\n                }\n                case CMD.A:\n                    var cx = data[i++];\n                    var cy = data[i++];\n                    var rx = data[i++];\n                    var ry = data[i++];\n                    var startAngle = data[i++];\n                    var delta = data[i++];\n                    var endAngle = delta + startAngle;\n                    i += 1;\n                    if (isFirst) {\n                        x0 = mathCos(startAngle) * rx + cx;\n                        y0 = mathSin(startAngle) * ry + cy;\n                    }\n                    l = mathMax(rx, ry) * mathMin(PI2, Math.abs(delta));\n                    xi = mathCos(endAngle) * rx + cx;\n                    yi = mathSin(endAngle) * ry + cy;\n                    break;\n                case CMD.R: {\n                    x0 = xi = data[i++];\n                    y0 = yi = data[i++];\n                    var width = data[i++];\n                    var height = data[i++];\n                    l = width * 2 + height * 2;\n                    break;\n                }\n                case CMD.Z: {\n                    var dx = x0 - xi;\n                    var dy = y0 - yi;\n                    l = Math.sqrt(dx * dx + dy * dy);\n                    xi = x0;\n                    yi = y0;\n                    break;\n                }\n            }\n            if (l >= 0) {\n                pathSegLen[segCount++] = l;\n                pathTotalLen += l;\n            }\n        }\n        this._pathLen = pathTotalLen;\n        return pathTotalLen;\n    };\n    PathProxy.prototype.rebuildPath = function (ctx, percent) {\n        var d = this.data;\n        var ux = this._ux;\n        var uy = this._uy;\n        var len = this._len;\n        var x0;\n        var y0;\n        var xi;\n        var yi;\n        var x;\n        var y;\n        var drawPart = percent < 1;\n        var pathSegLen;\n        var pathTotalLen;\n        var accumLength = 0;\n        var segCount = 0;\n        var displayedLength;\n        var pendingPtDist = 0;\n        var pendingPtX;\n        var pendingPtY;\n        if (drawPart) {\n            if (!this._pathSegLen) {\n                this._calculateLength();\n            }\n            pathSegLen = this._pathSegLen;\n            pathTotalLen = this._pathLen;\n            displayedLength = percent * pathTotalLen;\n            if (!displayedLength) {\n                return;\n            }\n        }\n        lo: for (var i = 0; i < len;) {\n            var cmd = d[i++];\n            var isFirst = i === 1;\n            if (isFirst) {\n                xi = d[i];\n                yi = d[i + 1];\n                x0 = xi;\n                y0 = yi;\n            }\n            if (cmd !== CMD.L && pendingPtDist > 0) {\n                ctx.lineTo(pendingPtX, pendingPtY);\n                pendingPtDist = 0;\n            }\n            switch (cmd) {\n                case CMD.M:\n                    x0 = xi = d[i++];\n                    y0 = yi = d[i++];\n                    ctx.moveTo(xi, yi);\n                    break;\n                case CMD.L: {\n                    x = d[i++];\n                    y = d[i++];\n                    var dx = mathAbs(x - xi);\n                    var dy = mathAbs(y - yi);\n                    if (dx > ux || dy > uy) {\n                        if (drawPart) {\n                            var l = pathSegLen[segCount++];\n                            if (accumLength + l > displayedLength) {\n                                var t = (displayedLength - accumLength) / l;\n                                ctx.lineTo(xi * (1 - t) + x * t, yi * (1 - t) + y * t);\n                                break lo;\n                            }\n                            accumLength += l;\n                        }\n                        ctx.lineTo(x, y);\n                        xi = x;\n                        yi = y;\n                        pendingPtDist = 0;\n                    }\n                    else {\n                        var d2 = dx * dx + dy * dy;\n                        if (d2 > pendingPtDist) {\n                            pendingPtX = x;\n                            pendingPtY = y;\n                            pendingPtDist = d2;\n                        }\n                    }\n                    break;\n                }\n                case CMD.C: {\n                    var x1 = d[i++];\n                    var y1 = d[i++];\n                    var x2 = d[i++];\n                    var y2 = d[i++];\n                    var x3 = d[i++];\n                    var y3 = d[i++];\n                    if (drawPart) {\n                        var l = pathSegLen[segCount++];\n                        if (accumLength + l > displayedLength) {\n                            var t = (displayedLength - accumLength) / l;\n                            cubicSubdivide(xi, x1, x2, x3, t, tmpOutX);\n                            cubicSubdivide(yi, y1, y2, y3, t, tmpOutY);\n                            ctx.bezierCurveTo(tmpOutX[1], tmpOutY[1], tmpOutX[2], tmpOutY[2], tmpOutX[3], tmpOutY[3]);\n                            break lo;\n                        }\n                        accumLength += l;\n                    }\n                    ctx.bezierCurveTo(x1, y1, x2, y2, x3, y3);\n                    xi = x3;\n                    yi = y3;\n                    break;\n                }\n                case CMD.Q: {\n                    var x1 = d[i++];\n                    var y1 = d[i++];\n                    var x2 = d[i++];\n                    var y2 = d[i++];\n                    if (drawPart) {\n                        var l = pathSegLen[segCount++];\n                        if (accumLength + l > displayedLength) {\n                            var t = (displayedLength - accumLength) / l;\n                            quadraticSubdivide(xi, x1, x2, t, tmpOutX);\n                            quadraticSubdivide(yi, y1, y2, t, tmpOutY);\n                            ctx.quadraticCurveTo(tmpOutX[1], tmpOutY[1], tmpOutX[2], tmpOutY[2]);\n                            break lo;\n                        }\n                        accumLength += l;\n                    }\n                    ctx.quadraticCurveTo(x1, y1, x2, y2);\n                    xi = x2;\n                    yi = y2;\n                    break;\n                }\n                case CMD.A:\n                    var cx = d[i++];\n                    var cy = d[i++];\n                    var rx = d[i++];\n                    var ry = d[i++];\n                    var startAngle = d[i++];\n                    var delta = d[i++];\n                    var psi = d[i++];\n                    var anticlockwise = !d[i++];\n                    var r = (rx > ry) ? rx : ry;\n                    var isEllipse = mathAbs(rx - ry) > 1e-3;\n                    var endAngle = startAngle + delta;\n                    var breakBuild = false;\n                    if (drawPart) {\n                        var l = pathSegLen[segCount++];\n                        if (accumLength + l > displayedLength) {\n                            endAngle = startAngle + delta * (displayedLength - accumLength) / l;\n                            breakBuild = true;\n                        }\n                        accumLength += l;\n                    }\n                    if (isEllipse && ctx.ellipse) {\n                        ctx.ellipse(cx, cy, rx, ry, psi, startAngle, endAngle, anticlockwise);\n                    }\n                    else {\n                        ctx.arc(cx, cy, r, startAngle, endAngle, anticlockwise);\n                    }\n                    if (breakBuild) {\n                        break lo;\n                    }\n                    if (isFirst) {\n                        x0 = mathCos(startAngle) * rx + cx;\n                        y0 = mathSin(startAngle) * ry + cy;\n                    }\n                    xi = mathCos(endAngle) * rx + cx;\n                    yi = mathSin(endAngle) * ry + cy;\n                    break;\n                case CMD.R:\n                    x0 = xi = d[i];\n                    y0 = yi = d[i + 1];\n                    x = d[i++];\n                    y = d[i++];\n                    var width = d[i++];\n                    var height = d[i++];\n                    if (drawPart) {\n                        var l = pathSegLen[segCount++];\n                        if (accumLength + l > displayedLength) {\n                            var d_1 = displayedLength - accumLength;\n                            ctx.moveTo(x, y);\n                            ctx.lineTo(x + mathMin(d_1, width), y);\n                            d_1 -= width;\n                            if (d_1 > 0) {\n                                ctx.lineTo(x + width, y + mathMin(d_1, height));\n                            }\n                            d_1 -= height;\n                            if (d_1 > 0) {\n                                ctx.lineTo(x + mathMax(width - d_1, 0), y + height);\n                            }\n                            d_1 -= width;\n                            if (d_1 > 0) {\n                                ctx.lineTo(x, y + mathMax(height - d_1, 0));\n                            }\n                            break lo;\n                        }\n                        accumLength += l;\n                    }\n                    ctx.rect(x, y, width, height);\n                    break;\n                case CMD.Z:\n                    if (drawPart) {\n                        var l = pathSegLen[segCount++];\n                        if (accumLength + l > displayedLength) {\n                            var t = (displayedLength - accumLength) / l;\n                            ctx.lineTo(xi * (1 - t) + x0 * t, yi * (1 - t) + y0 * t);\n                            break lo;\n                        }\n                        accumLength += l;\n                    }\n                    ctx.closePath();\n                    xi = x0;\n                    yi = y0;\n            }\n        }\n    };\n    PathProxy.prototype.clone = function () {\n        var newProxy = new PathProxy();\n        var data = this.data;\n        newProxy.data = data.slice ? data.slice()\n            : Array.prototype.slice.call(data);\n        newProxy._len = this._len;\n        return newProxy;\n    };\n    PathProxy.CMD = CMD;\n    PathProxy.initDefaultProps = (function () {\n        var proto = PathProxy.prototype;\n        proto._saveData = true;\n        proto._ux = 0;\n        proto._uy = 0;\n        proto._pendingPtDist = 0;\n        proto._version = 0;\n    })();\n    return PathProxy;\n}());\nexport default PathProxy;\n","var Point = (function () {\n    function Point(x, y) {\n        this.x = x || 0;\n        this.y = y || 0;\n    }\n    Point.prototype.copy = function (other) {\n        this.x = other.x;\n        this.y = other.y;\n        return this;\n    };\n    Point.prototype.clone = function () {\n        return new Point(this.x, this.y);\n    };\n    Point.prototype.set = function (x, y) {\n        this.x = x;\n        this.y = y;\n        return this;\n    };\n    Point.prototype.equal = function (other) {\n        return other.x === this.x && other.y === this.y;\n    };\n    Point.prototype.add = function (other) {\n        this.x += other.x;\n        this.y += other.y;\n        return this;\n    };\n    Point.prototype.scale = function (scalar) {\n        this.x *= scalar;\n        this.y *= scalar;\n    };\n    Point.prototype.scaleAndAdd = function (other, scalar) {\n        this.x += other.x * scalar;\n        this.y += other.y * scalar;\n    };\n    Point.prototype.sub = function (other) {\n        this.x -= other.x;\n        this.y -= other.y;\n        return this;\n    };\n    Point.prototype.dot = function (other) {\n        return this.x * other.x + this.y * other.y;\n    };\n    Point.prototype.len = function () {\n        return Math.sqrt(this.x * this.x + this.y * this.y);\n    };\n    Point.prototype.lenSquare = function () {\n        return this.x * this.x + this.y * this.y;\n    };\n    Point.prototype.normalize = function () {\n        var len = this.len();\n        this.x /= len;\n        this.y /= len;\n        return this;\n    };\n    Point.prototype.distance = function (other) {\n        var dx = this.x - other.x;\n        var dy = this.y - other.y;\n        return Math.sqrt(dx * dx + dy * dy);\n    };\n    Point.prototype.distanceSquare = function (other) {\n        var dx = this.x - other.x;\n        var dy = this.y - other.y;\n        return dx * dx + dy * dy;\n    };\n    Point.prototype.negate = function () {\n        this.x = -this.x;\n        this.y = -this.y;\n        return this;\n    };\n    Point.prototype.transform = function (m) {\n        if (!m) {\n            return;\n        }\n        var x = this.x;\n        var y = this.y;\n        this.x = m[0] * x + m[2] * y + m[4];\n        this.y = m[1] * x + m[3] * y + m[5];\n        return this;\n    };\n    Point.prototype.toArray = function (out) {\n        out[0] = this.x;\n        out[1] = this.y;\n        return out;\n    };\n    Point.prototype.fromArray = function (input) {\n        this.x = input[0];\n        this.y = input[1];\n    };\n    Point.set = function (p, x, y) {\n        p.x = x;\n        p.y = y;\n    };\n    Point.copy = function (p, p2) {\n        p.x = p2.x;\n        p.y = p2.y;\n    };\n    Point.len = function (p) {\n        return Math.sqrt(p.x * p.x + p.y * p.y);\n    };\n    Point.lenSquare = function (p) {\n        return p.x * p.x + p.y * p.y;\n    };\n    Point.dot = function (p0, p1) {\n        return p0.x * p1.x + p0.y * p1.y;\n    };\n    Point.add = function (out, p0, p1) {\n        out.x = p0.x + p1.x;\n        out.y = p0.y + p1.y;\n    };\n    Point.sub = function (out, p0, p1) {\n        out.x = p0.x - p1.x;\n        out.y = p0.y - p1.y;\n    };\n    Point.scale = function (out, p0, scalar) {\n        out.x = p0.x * scalar;\n        out.y = p0.y * scalar;\n    };\n    Point.scaleAndAdd = function (out, p0, p1, scalar) {\n        out.x = p0.x + p1.x * scalar;\n        out.y = p0.y + p1.y * scalar;\n    };\n    Point.lerp = function (out, p0, p1, t) {\n        var onet = 1 - t;\n        out.x = onet * p0.x + t * p1.x;\n        out.y = onet * p0.y + t * p1.y;\n    };\n    return Point;\n}());\nexport default Point;\n","import * as matrix from './matrix.js';\nimport * as vector from './vector.js';\nvar mIdentity = matrix.identity;\nvar EPSILON = 5e-5;\nfunction isNotAroundZero(val) {\n    return val > EPSILON || val < -EPSILON;\n}\nvar scaleTmp = [];\nvar tmpTransform = [];\nvar originTransform = matrix.create();\nvar abs = Math.abs;\nvar Transformable = (function () {\n    function Transformable() {\n    }\n    Transformable.prototype.getLocalTransform = function (m) {\n        return Transformable.getLocalTransform(this, m);\n    };\n    Transformable.prototype.setPosition = function (arr) {\n        this.x = arr[0];\n        this.y = arr[1];\n    };\n    Transformable.prototype.setScale = function (arr) {\n        this.scaleX = arr[0];\n        this.scaleY = arr[1];\n    };\n    Transformable.prototype.setSkew = function (arr) {\n        this.skewX = arr[0];\n        this.skewY = arr[1];\n    };\n    Transformable.prototype.setOrigin = function (arr) {\n        this.originX = arr[0];\n        this.originY = arr[1];\n    };\n    Transformable.prototype.needLocalTransform = function () {\n        return isNotAroundZero(this.rotation)\n            || isNotAroundZero(this.x)\n            || isNotAroundZero(this.y)\n            || isNotAroundZero(this.scaleX - 1)\n            || isNotAroundZero(this.scaleY - 1)\n            || isNotAroundZero(this.skewX)\n            || isNotAroundZero(this.skewY);\n    };\n    Transformable.prototype.updateTransform = function () {\n        var parentTransform = this.parent && this.parent.transform;\n        var needLocalTransform = this.needLocalTransform();\n        var m = this.transform;\n        if (!(needLocalTransform || parentTransform)) {\n            if (m) {\n                mIdentity(m);\n                this.invTransform = null;\n            }\n            return;\n        }\n        m = m || matrix.create();\n        if (needLocalTransform) {\n            this.getLocalTransform(m);\n        }\n        else {\n            mIdentity(m);\n        }\n        if (parentTransform) {\n            if (needLocalTransform) {\n                matrix.mul(m, parentTransform, m);\n            }\n            else {\n                matrix.copy(m, parentTransform);\n            }\n        }\n        this.transform = m;\n        this._resolveGlobalScaleRatio(m);\n    };\n    Transformable.prototype._resolveGlobalScaleRatio = function (m) {\n        var globalScaleRatio = this.globalScaleRatio;\n        if (globalScaleRatio != null && globalScaleRatio !== 1) {\n            this.getGlobalScale(scaleTmp);\n            var relX = scaleTmp[0] < 0 ? -1 : 1;\n            var relY = scaleTmp[1] < 0 ? -1 : 1;\n            var sx = ((scaleTmp[0] - relX) * globalScaleRatio + relX) / scaleTmp[0] || 0;\n            var sy = ((scaleTmp[1] - relY) * globalScaleRatio + relY) / scaleTmp[1] || 0;\n            m[0] *= sx;\n            m[1] *= sx;\n            m[2] *= sy;\n            m[3] *= sy;\n        }\n        this.invTransform = this.invTransform || matrix.create();\n        matrix.invert(this.invTransform, m);\n    };\n    Transformable.prototype.getComputedTransform = function () {\n        var transformNode = this;\n        var ancestors = [];\n        while (transformNode) {\n            ancestors.push(transformNode);\n            transformNode = transformNode.parent;\n        }\n        while (transformNode = ancestors.pop()) {\n            transformNode.updateTransform();\n        }\n        return this.transform;\n    };\n    Transformable.prototype.setLocalTransform = function (m) {\n        if (!m) {\n            return;\n        }\n        var sx = m[0] * m[0] + m[1] * m[1];\n        var sy = m[2] * m[2] + m[3] * m[3];\n        var rotation = Math.atan2(m[1], m[0]);\n        var shearX = Math.PI / 2 + rotation - Math.atan2(m[3], m[2]);\n        sy = Math.sqrt(sy) * Math.cos(shearX);\n        sx = Math.sqrt(sx);\n        this.skewX = shearX;\n        this.skewY = 0;\n        this.rotation = -rotation;\n        this.x = +m[4];\n        this.y = +m[5];\n        this.scaleX = sx;\n        this.scaleY = sy;\n        this.originX = 0;\n        this.originY = 0;\n    };\n    Transformable.prototype.decomposeTransform = function () {\n        if (!this.transform) {\n            return;\n        }\n        var parent = this.parent;\n        var m = this.transform;\n        if (parent && parent.transform) {\n            parent.invTransform = parent.invTransform || matrix.create();\n            matrix.mul(tmpTransform, parent.invTransform, m);\n            m = tmpTransform;\n        }\n        var ox = this.originX;\n        var oy = this.originY;\n        if (ox || oy) {\n            originTransform[4] = ox;\n            originTransform[5] = oy;\n            matrix.mul(tmpTransform, m, originTransform);\n            tmpTransform[4] -= ox;\n            tmpTransform[5] -= oy;\n            m = tmpTransform;\n        }\n        this.setLocalTransform(m);\n    };\n    Transformable.prototype.getGlobalScale = function (out) {\n        var m = this.transform;\n        out = out || [];\n        if (!m) {\n            out[0] = 1;\n            out[1] = 1;\n            return out;\n        }\n        out[0] = Math.sqrt(m[0] * m[0] + m[1] * m[1]);\n        out[1] = Math.sqrt(m[2] * m[2] + m[3] * m[3]);\n        if (m[0] < 0) {\n            out[0] = -out[0];\n        }\n        if (m[3] < 0) {\n            out[1] = -out[1];\n        }\n        return out;\n    };\n    Transformable.prototype.transformCoordToLocal = function (x, y) {\n        var v2 = [x, y];\n        var invTransform = this.invTransform;\n        if (invTransform) {\n            vector.applyTransform(v2, v2, invTransform);\n        }\n        return v2;\n    };\n    Transformable.prototype.transformCoordToGlobal = function (x, y) {\n        var v2 = [x, y];\n        var transform = this.transform;\n        if (transform) {\n            vector.applyTransform(v2, v2, transform);\n        }\n        return v2;\n    };\n    Transformable.prototype.getLineScale = function () {\n        var m = this.transform;\n        return m && abs(m[0] - 1) > 1e-10 && abs(m[3] - 1) > 1e-10\n            ? Math.sqrt(abs(m[0] * m[3] - m[2] * m[1]))\n            : 1;\n    };\n    Transformable.prototype.copyTransform = function (source) {\n        copyTransform(this, source);\n    };\n    Transformable.getLocalTransform = function (target, m) {\n        m = m || [];\n        var ox = target.originX || 0;\n        var oy = target.originY || 0;\n        var sx = target.scaleX;\n        var sy = target.scaleY;\n        var ax = target.anchorX;\n        var ay = target.anchorY;\n        var rotation = target.rotation || 0;\n        var x = target.x;\n        var y = target.y;\n        var skewX = target.skewX ? Math.tan(target.skewX) : 0;\n        var skewY = target.skewY ? Math.tan(-target.skewY) : 0;\n        if (ox || oy || ax || ay) {\n            var dx = ox + ax;\n            var dy = oy + ay;\n            m[4] = -dx * sx - skewX * dy * sy;\n            m[5] = -dy * sy - skewY * dx * sx;\n        }\n        else {\n            m[4] = m[5] = 0;\n        }\n        m[0] = sx;\n        m[3] = sy;\n        m[1] = skewY * sx;\n        m[2] = skewX * sy;\n        rotation && matrix.rotate(m, m, rotation);\n        m[4] += ox + x;\n        m[5] += oy + y;\n        return m;\n    };\n    Transformable.initDefaultProps = (function () {\n        var proto = Transformable.prototype;\n        proto.scaleX =\n            proto.scaleY =\n                proto.globalScaleRatio = 1;\n        proto.x =\n            proto.y =\n                proto.originX =\n                    proto.originY =\n                        proto.skewX =\n                            proto.skewY =\n                                proto.rotation =\n                                    proto.anchorX =\n                                        proto.anchorY = 0;\n    })();\n    return Transformable;\n}());\n;\nexport var TRANSFORMABLE_PROPS = [\n    'x', 'y', 'originX', 'originY', 'anchorX', 'anchorY', 'rotation', 'scaleX', 'scaleY', 'skewX', 'skewY'\n];\nexport function copyTransform(target, source) {\n    for (var i = 0; i < TRANSFORMABLE_PROPS.length; i++) {\n        var propName = TRANSFORMABLE_PROPS[i];\n        target[propName] = source[propName];\n    }\n}\nexport default Transformable;\n","var wmUniqueIndex = Math.round(Math.random() * 9);\nvar supportDefineProperty = typeof Object.defineProperty === 'function';\nvar WeakMap = (function () {\n    function WeakMap() {\n        this._id = '__ec_inner_' + wmUniqueIndex++;\n    }\n    WeakMap.prototype.get = function (key) {\n        return this._guard(key)[this._id];\n    };\n    WeakMap.prototype.set = function (key, value) {\n        var target = this._guard(key);\n        if (supportDefineProperty) {\n            Object.defineProperty(target, this._id, {\n                value: value,\n                enumerable: false,\n                configurable: true\n            });\n        }\n        else {\n            target[this._id] = value;\n        }\n        return this;\n    };\n    WeakMap.prototype[\"delete\"] = function (key) {\n        if (this.has(key)) {\n            delete this._guard(key)[this._id];\n            return true;\n        }\n        return false;\n    };\n    WeakMap.prototype.has = function (key) {\n        return !!this._guard(key)[this._id];\n    };\n    WeakMap.prototype._guard = function (key) {\n        if (key !== Object(key)) {\n            throw TypeError('Value of WeakMap is not a non-null object.');\n        }\n        return key;\n    };\n    return WeakMap;\n}());\nexport default WeakMap;\n","import * as vec2 from './vector.js';\nimport * as curve from './curve.js';\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar PI2 = Math.PI * 2;\nvar start = vec2.create();\nvar end = vec2.create();\nvar extremity = vec2.create();\nexport function fromPoints(points, min, max) {\n    if (points.length === 0) {\n        return;\n    }\n    var p = points[0];\n    var left = p[0];\n    var right = p[0];\n    var top = p[1];\n    var bottom = p[1];\n    for (var i = 1; i < points.length; i++) {\n        p = points[i];\n        left = mathMin(left, p[0]);\n        right = mathMax(right, p[0]);\n        top = mathMin(top, p[1]);\n        bottom = mathMax(bottom, p[1]);\n    }\n    min[0] = left;\n    min[1] = top;\n    max[0] = right;\n    max[1] = bottom;\n}\nexport function fromLine(x0, y0, x1, y1, min, max) {\n    min[0] = mathMin(x0, x1);\n    min[1] = mathMin(y0, y1);\n    max[0] = mathMax(x0, x1);\n    max[1] = mathMax(y0, y1);\n}\nvar xDim = [];\nvar yDim = [];\nexport function fromCubic(x0, y0, x1, y1, x2, y2, x3, y3, min, max) {\n    var cubicExtrema = curve.cubicExtrema;\n    var cubicAt = curve.cubicAt;\n    var n = cubicExtrema(x0, x1, x2, x3, xDim);\n    min[0] = Infinity;\n    min[1] = Infinity;\n    max[0] = -Infinity;\n    max[1] = -Infinity;\n    for (var i = 0; i < n; i++) {\n        var x = cubicAt(x0, x1, x2, x3, xDim[i]);\n        min[0] = mathMin(x, min[0]);\n        max[0] = mathMax(x, max[0]);\n    }\n    n = cubicExtrema(y0, y1, y2, y3, yDim);\n    for (var i = 0; i < n; i++) {\n        var y = cubicAt(y0, y1, y2, y3, yDim[i]);\n        min[1] = mathMin(y, min[1]);\n        max[1] = mathMax(y, max[1]);\n    }\n    min[0] = mathMin(x0, min[0]);\n    max[0] = mathMax(x0, max[0]);\n    min[0] = mathMin(x3, min[0]);\n    max[0] = mathMax(x3, max[0]);\n    min[1] = mathMin(y0, min[1]);\n    max[1] = mathMax(y0, max[1]);\n    min[1] = mathMin(y3, min[1]);\n    max[1] = mathMax(y3, max[1]);\n}\nexport function fromQuadratic(x0, y0, x1, y1, x2, y2, min, max) {\n    var quadraticExtremum = curve.quadraticExtremum;\n    var quadraticAt = curve.quadraticAt;\n    var tx = mathMax(mathMin(quadraticExtremum(x0, x1, x2), 1), 0);\n    var ty = mathMax(mathMin(quadraticExtremum(y0, y1, y2), 1), 0);\n    var x = quadraticAt(x0, x1, x2, tx);\n    var y = quadraticAt(y0, y1, y2, ty);\n    min[0] = mathMin(x0, x2, x);\n    min[1] = mathMin(y0, y2, y);\n    max[0] = mathMax(x0, x2, x);\n    max[1] = mathMax(y0, y2, y);\n}\nexport function fromArc(x, y, rx, ry, startAngle, endAngle, anticlockwise, min, max) {\n    var vec2Min = vec2.min;\n    var vec2Max = vec2.max;\n    var diff = Math.abs(startAngle - endAngle);\n    if (diff % PI2 < 1e-4 && diff > 1e-4) {\n        min[0] = x - rx;\n        min[1] = y - ry;\n        max[0] = x + rx;\n        max[1] = y + ry;\n        return;\n    }\n    start[0] = mathCos(startAngle) * rx + x;\n    start[1] = mathSin(startAngle) * ry + y;\n    end[0] = mathCos(endAngle) * rx + x;\n    end[1] = mathSin(endAngle) * ry + y;\n    vec2Min(min, start, end);\n    vec2Max(max, start, end);\n    startAngle = startAngle % (PI2);\n    if (startAngle < 0) {\n        startAngle = startAngle + PI2;\n    }\n    endAngle = endAngle % (PI2);\n    if (endAngle < 0) {\n        endAngle = endAngle + PI2;\n    }\n    if (startAngle > endAngle && !anticlockwise) {\n        endAngle += PI2;\n    }\n    else if (startAngle < endAngle && anticlockwise) {\n        startAngle += PI2;\n    }\n    if (anticlockwise) {\n        var tmp = endAngle;\n        endAngle = startAngle;\n        startAngle = tmp;\n    }\n    for (var angle = 0; angle < endAngle; angle += Math.PI / 2) {\n        if (angle > startAngle) {\n            extremity[0] = mathCos(angle) * rx + x;\n            extremity[1] = mathSin(angle) * ry + y;\n            vec2Min(min, extremity, min);\n            vec2Max(max, extremity, max);\n        }\n    }\n}\n","import { create as v2Create, distSquare as v2DistSquare } from './vector.js';\nvar mathPow = Math.pow;\nvar mathSqrt = Math.sqrt;\nvar EPSILON = 1e-8;\nvar EPSILON_NUMERIC = 1e-4;\nvar THREE_SQRT = mathSqrt(3);\nvar ONE_THIRD = 1 / 3;\nvar _v0 = v2Create();\nvar _v1 = v2Create();\nvar _v2 = v2Create();\nfunction isAroundZero(val) {\n    return val > -EPSILON && val < EPSILON;\n}\nfunction isNotAroundZero(val) {\n    return val > EPSILON || val < -EPSILON;\n}\nexport function cubicAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t;\n    return onet * onet * (onet * p0 + 3 * t * p1)\n        + t * t * (t * p3 + 3 * onet * p2);\n}\nexport function cubicDerivativeAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t;\n    return 3 * (((p1 - p0) * onet + 2 * (p2 - p1) * t) * onet\n        + (p3 - p2) * t * t);\n}\nexport function cubicRootAt(p0, p1, p2, p3, val, roots) {\n    var a = p3 + 3 * (p1 - p2) - p0;\n    var b = 3 * (p2 - p1 * 2 + p0);\n    var c = 3 * (p1 - p0);\n    var d = p0 - val;\n    var A = b * b - 3 * a * c;\n    var B = b * c - 9 * a * d;\n    var C = c * c - 3 * b * d;\n    var n = 0;\n    if (isAroundZero(A) && isAroundZero(B)) {\n        if (isAroundZero(b)) {\n            roots[0] = 0;\n        }\n        else {\n            var t1 = -c / b;\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n        }\n    }\n    else {\n        var disc = B * B - 4 * A * C;\n        if (isAroundZero(disc)) {\n            var K = B / A;\n            var t1 = -b / a + K;\n            var t2 = -K / 2;\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n            if (t2 >= 0 && t2 <= 1) {\n                roots[n++] = t2;\n            }\n        }\n        else if (disc > 0) {\n            var discSqrt = mathSqrt(disc);\n            var Y1 = A * b + 1.5 * a * (-B + discSqrt);\n            var Y2 = A * b + 1.5 * a * (-B - discSqrt);\n            if (Y1 < 0) {\n                Y1 = -mathPow(-Y1, ONE_THIRD);\n            }\n            else {\n                Y1 = mathPow(Y1, ONE_THIRD);\n            }\n            if (Y2 < 0) {\n                Y2 = -mathPow(-Y2, ONE_THIRD);\n            }\n            else {\n                Y2 = mathPow(Y2, ONE_THIRD);\n            }\n            var t1 = (-b - (Y1 + Y2)) / (3 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n        }\n        else {\n            var T = (2 * A * b - 3 * a * B) / (2 * mathSqrt(A * A * A));\n            var theta = Math.acos(T) / 3;\n            var ASqrt = mathSqrt(A);\n            var tmp = Math.cos(theta);\n            var t1 = (-b - 2 * ASqrt * tmp) / (3 * a);\n            var t2 = (-b + ASqrt * (tmp + THREE_SQRT * Math.sin(theta))) / (3 * a);\n            var t3 = (-b + ASqrt * (tmp - THREE_SQRT * Math.sin(theta))) / (3 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n            if (t2 >= 0 && t2 <= 1) {\n                roots[n++] = t2;\n            }\n            if (t3 >= 0 && t3 <= 1) {\n                roots[n++] = t3;\n            }\n        }\n    }\n    return n;\n}\nexport function cubicExtrema(p0, p1, p2, p3, extrema) {\n    var b = 6 * p2 - 12 * p1 + 6 * p0;\n    var a = 9 * p1 + 3 * p3 - 3 * p0 - 9 * p2;\n    var c = 3 * p1 - 3 * p0;\n    var n = 0;\n    if (isAroundZero(a)) {\n        if (isNotAroundZero(b)) {\n            var t1 = -c / b;\n            if (t1 >= 0 && t1 <= 1) {\n                extrema[n++] = t1;\n            }\n        }\n    }\n    else {\n        var disc = b * b - 4 * a * c;\n        if (isAroundZero(disc)) {\n            extrema[0] = -b / (2 * a);\n        }\n        else if (disc > 0) {\n            var discSqrt = mathSqrt(disc);\n            var t1 = (-b + discSqrt) / (2 * a);\n            var t2 = (-b - discSqrt) / (2 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                extrema[n++] = t1;\n            }\n            if (t2 >= 0 && t2 <= 1) {\n                extrema[n++] = t2;\n            }\n        }\n    }\n    return n;\n}\nexport function cubicSubdivide(p0, p1, p2, p3, t, out) {\n    var p01 = (p1 - p0) * t + p0;\n    var p12 = (p2 - p1) * t + p1;\n    var p23 = (p3 - p2) * t + p2;\n    var p012 = (p12 - p01) * t + p01;\n    var p123 = (p23 - p12) * t + p12;\n    var p0123 = (p123 - p012) * t + p012;\n    out[0] = p0;\n    out[1] = p01;\n    out[2] = p012;\n    out[3] = p0123;\n    out[4] = p0123;\n    out[5] = p123;\n    out[6] = p23;\n    out[7] = p3;\n}\nexport function cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, out) {\n    var t;\n    var interval = 0.005;\n    var d = Infinity;\n    var prev;\n    var next;\n    var d1;\n    var d2;\n    _v0[0] = x;\n    _v0[1] = y;\n    for (var _t = 0; _t < 1; _t += 0.05) {\n        _v1[0] = cubicAt(x0, x1, x2, x3, _t);\n        _v1[1] = cubicAt(y0, y1, y2, y3, _t);\n        d1 = v2DistSquare(_v0, _v1);\n        if (d1 < d) {\n            t = _t;\n            d = d1;\n        }\n    }\n    d = Infinity;\n    for (var i = 0; i < 32; i++) {\n        if (interval < EPSILON_NUMERIC) {\n            break;\n        }\n        prev = t - interval;\n        next = t + interval;\n        _v1[0] = cubicAt(x0, x1, x2, x3, prev);\n        _v1[1] = cubicAt(y0, y1, y2, y3, prev);\n        d1 = v2DistSquare(_v1, _v0);\n        if (prev >= 0 && d1 < d) {\n            t = prev;\n            d = d1;\n        }\n        else {\n            _v2[0] = cubicAt(x0, x1, x2, x3, next);\n            _v2[1] = cubicAt(y0, y1, y2, y3, next);\n            d2 = v2DistSquare(_v2, _v0);\n            if (next <= 1 && d2 < d) {\n                t = next;\n                d = d2;\n            }\n            else {\n                interval *= 0.5;\n            }\n        }\n    }\n    if (out) {\n        out[0] = cubicAt(x0, x1, x2, x3, t);\n        out[1] = cubicAt(y0, y1, y2, y3, t);\n    }\n    return mathSqrt(d);\n}\nexport function cubicLength(x0, y0, x1, y1, x2, y2, x3, y3, iteration) {\n    var px = x0;\n    var py = y0;\n    var d = 0;\n    var step = 1 / iteration;\n    for (var i = 1; i <= iteration; i++) {\n        var t = i * step;\n        var x = cubicAt(x0, x1, x2, x3, t);\n        var y = cubicAt(y0, y1, y2, y3, t);\n        var dx = x - px;\n        var dy = y - py;\n        d += Math.sqrt(dx * dx + dy * dy);\n        px = x;\n        py = y;\n    }\n    return d;\n}\nexport function quadraticAt(p0, p1, p2, t) {\n    var onet = 1 - t;\n    return onet * (onet * p0 + 2 * t * p1) + t * t * p2;\n}\nexport function quadraticDerivativeAt(p0, p1, p2, t) {\n    return 2 * ((1 - t) * (p1 - p0) + t * (p2 - p1));\n}\nexport function quadraticRootAt(p0, p1, p2, val, roots) {\n    var a = p0 - 2 * p1 + p2;\n    var b = 2 * (p1 - p0);\n    var c = p0 - val;\n    var n = 0;\n    if (isAroundZero(a)) {\n        if (isNotAroundZero(b)) {\n            var t1 = -c / b;\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n        }\n    }\n    else {\n        var disc = b * b - 4 * a * c;\n        if (isAroundZero(disc)) {\n            var t1 = -b / (2 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n        }\n        else if (disc > 0) {\n            var discSqrt = mathSqrt(disc);\n            var t1 = (-b + discSqrt) / (2 * a);\n            var t2 = (-b - discSqrt) / (2 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                roots[n++] = t1;\n            }\n            if (t2 >= 0 && t2 <= 1) {\n                roots[n++] = t2;\n            }\n        }\n    }\n    return n;\n}\nexport function quadraticExtremum(p0, p1, p2) {\n    var divider = p0 + p2 - 2 * p1;\n    if (divider === 0) {\n        return 0.5;\n    }\n    else {\n        return (p0 - p1) / divider;\n    }\n}\nexport function quadraticSubdivide(p0, p1, p2, t, out) {\n    var p01 = (p1 - p0) * t + p0;\n    var p12 = (p2 - p1) * t + p1;\n    var p012 = (p12 - p01) * t + p01;\n    out[0] = p0;\n    out[1] = p01;\n    out[2] = p012;\n    out[3] = p012;\n    out[4] = p12;\n    out[5] = p2;\n}\nexport function quadraticProjectPoint(x0, y0, x1, y1, x2, y2, x, y, out) {\n    var t;\n    var interval = 0.005;\n    var d = Infinity;\n    _v0[0] = x;\n    _v0[1] = y;\n    for (var _t = 0; _t < 1; _t += 0.05) {\n        _v1[0] = quadraticAt(x0, x1, x2, _t);\n        _v1[1] = quadraticAt(y0, y1, y2, _t);\n        var d1 = v2DistSquare(_v0, _v1);\n        if (d1 < d) {\n            t = _t;\n            d = d1;\n        }\n    }\n    d = Infinity;\n    for (var i = 0; i < 32; i++) {\n        if (interval < EPSILON_NUMERIC) {\n            break;\n        }\n        var prev = t - interval;\n        var next = t + interval;\n        _v1[0] = quadraticAt(x0, x1, x2, prev);\n        _v1[1] = quadraticAt(y0, y1, y2, prev);\n        var d1 = v2DistSquare(_v1, _v0);\n        if (prev >= 0 && d1 < d) {\n            t = prev;\n            d = d1;\n        }\n        else {\n            _v2[0] = quadraticAt(x0, x1, x2, next);\n            _v2[1] = quadraticAt(y0, y1, y2, next);\n            var d2 = v2DistSquare(_v2, _v0);\n            if (next <= 1 && d2 < d) {\n                t = next;\n                d = d2;\n            }\n            else {\n                interval *= 0.5;\n            }\n        }\n    }\n    if (out) {\n        out[0] = quadraticAt(x0, x1, x2, t);\n        out[1] = quadraticAt(y0, y1, y2, t);\n    }\n    return mathSqrt(d);\n}\nexport function quadraticLength(x0, y0, x1, y1, x2, y2, iteration) {\n    var px = x0;\n    var py = y0;\n    var d = 0;\n    var step = 1 / iteration;\n    for (var i = 1; i <= iteration; i++) {\n        var t = i * step;\n        var x = quadraticAt(x0, x1, x2, t);\n        var y = quadraticAt(y0, y1, y2, t);\n        var dx = x - px;\n        var dy = y - py;\n        d += Math.sqrt(dx * dx + dy * dy);\n        px = x;\n        py = y;\n    }\n    return d;\n}\n","var LN2 = Math.log(2);\nfunction determinant(rows, rank, rowStart, rowMask, colMask, detCache) {\n    var cacheKey = rowMask + '-' + colMask;\n    var fullRank = rows.length;\n    if (detCache.hasOwnProperty(cacheKey)) {\n        return detCache[cacheKey];\n    }\n    if (rank === 1) {\n        var colStart = Math.round(Math.log(((1 << fullRank) - 1) & ~colMask) / LN2);\n        return rows[rowStart][colStart];\n    }\n    var subRowMask = rowMask | (1 << rowStart);\n    var subRowStart = rowStart + 1;\n    while (rowMask & (1 << subRowStart)) {\n        subRowStart++;\n    }\n    var sum = 0;\n    for (var j = 0, colLocalIdx = 0; j < fullRank; j++) {\n        var colTag = 1 << j;\n        if (!(colTag & colMask)) {\n            sum += (colLocalIdx % 2 ? -1 : 1) * rows[rowStart][j]\n                * determinant(rows, rank - 1, subRowStart, subRowMask, colMask | colTag, detCache);\n            colLocalIdx++;\n        }\n    }\n    detCache[cacheKey] = sum;\n    return sum;\n}\nexport function buildTransformer(src, dest) {\n    var mA = [\n        [src[0], src[1], 1, 0, 0, 0, -dest[0] * src[0], -dest[0] * src[1]],\n        [0, 0, 0, src[0], src[1], 1, -dest[1] * src[0], -dest[1] * src[1]],\n        [src[2], src[3], 1, 0, 0, 0, -dest[2] * src[2], -dest[2] * src[3]],\n        [0, 0, 0, src[2], src[3], 1, -dest[3] * src[2], -dest[3] * src[3]],\n        [src[4], src[5], 1, 0, 0, 0, -dest[4] * src[4], -dest[4] * src[5]],\n        [0, 0, 0, src[4], src[5], 1, -dest[5] * src[4], -dest[5] * src[5]],\n        [src[6], src[7], 1, 0, 0, 0, -dest[6] * src[6], -dest[6] * src[7]],\n        [0, 0, 0, src[6], src[7], 1, -dest[7] * src[6], -dest[7] * src[7]]\n    ];\n    var detCache = {};\n    var det = determinant(mA, 8, 0, 0, 0, detCache);\n    if (det === 0) {\n        return;\n    }\n    var vh = [];\n    for (var i = 0; i < 8; i++) {\n        for (var j = 0; j < 8; j++) {\n            vh[j] == null && (vh[j] = 0);\n            vh[j] += ((i + j) % 2 ? -1 : 1)\n                * determinant(mA, 7, i === 0 ? 1 : 0, 1 << i, 1 << j, detCache)\n                / det * dest[i];\n        }\n    }\n    return function (out, srcPointX, srcPointY) {\n        var pk = srcPointX * vh[6] + srcPointY * vh[7] + 1;\n        out[0] = (srcPointX * vh[0] + srcPointY * vh[1] + vh[2]) / pk;\n        out[1] = (srcPointX * vh[3] + srcPointY * vh[4] + vh[5]) / pk;\n    };\n}\n","import env from './env.js';\nimport { buildTransformer } from './fourPointsTransform.js';\nvar EVENT_SAVED_PROP = '___zrEVENTSAVED';\nvar _calcOut = [];\nexport function transformLocalCoord(out, elFrom, elTarget, inX, inY) {\n    return transformCoordWithViewport(_calcOut, elFrom, inX, inY, true)\n        && transformCoordWithViewport(out, elTarget, _calcOut[0], _calcOut[1]);\n}\nexport function transformCoordWithViewport(out, el, inX, inY, inverse) {\n    if (el.getBoundingClientRect && env.domSupported && !isCanvasEl(el)) {\n        var saved = el[EVENT_SAVED_PROP] || (el[EVENT_SAVED_PROP] = {});\n        var markers = prepareCoordMarkers(el, saved);\n        var transformer = preparePointerTransformer(markers, saved, inverse);\n        if (transformer) {\n            transformer(out, inX, inY);\n            return true;\n        }\n    }\n    return false;\n}\nfunction prepareCoordMarkers(el, saved) {\n    var markers = saved.markers;\n    if (markers) {\n        return markers;\n    }\n    markers = saved.markers = [];\n    var propLR = ['left', 'right'];\n    var propTB = ['top', 'bottom'];\n    for (var i = 0; i < 4; i++) {\n        var marker = document.createElement('div');\n        var stl = marker.style;\n        var idxLR = i % 2;\n        var idxTB = (i >> 1) % 2;\n        stl.cssText = [\n            'position: absolute',\n            'visibility: hidden',\n            'padding: 0',\n            'margin: 0',\n            'border-width: 0',\n            'user-select: none',\n            'width:0',\n            'height:0',\n            propLR[idxLR] + ':0',\n            propTB[idxTB] + ':0',\n            propLR[1 - idxLR] + ':auto',\n            propTB[1 - idxTB] + ':auto',\n            ''\n        ].join('!important;');\n        el.appendChild(marker);\n        markers.push(marker);\n    }\n    return markers;\n}\nfunction preparePointerTransformer(markers, saved, inverse) {\n    var transformerName = inverse ? 'invTrans' : 'trans';\n    var transformer = saved[transformerName];\n    var oldSrcCoords = saved.srcCoords;\n    var srcCoords = [];\n    var destCoords = [];\n    var oldCoordTheSame = true;\n    for (var i = 0; i < 4; i++) {\n        var rect = markers[i].getBoundingClientRect();\n        var ii = 2 * i;\n        var x = rect.left;\n        var y = rect.top;\n        srcCoords.push(x, y);\n        oldCoordTheSame = oldCoordTheSame && oldSrcCoords && x === oldSrcCoords[ii] && y === oldSrcCoords[ii + 1];\n        destCoords.push(markers[i].offsetLeft, markers[i].offsetTop);\n    }\n    return (oldCoordTheSame && transformer)\n        ? transformer\n        : (saved.srcCoords = srcCoords,\n            saved[transformerName] = inverse\n                ? buildTransformer(destCoords, srcCoords)\n                : buildTransformer(srcCoords, destCoords));\n}\nexport function isCanvasEl(el) {\n    return el.nodeName.toUpperCase() === 'CANVAS';\n}\nvar replaceReg = /([&<>\"'])/g;\nvar replaceMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    '\\'': '&#39;'\n};\nexport function encodeHTML(source) {\n    return source == null\n        ? ''\n        : (source + '').replace(replaceReg, function (str, c) {\n            return replaceMap[c];\n        });\n}\n","var Browser = (function () {\n    function Browser() {\n        this.firefox = false;\n        this.ie = false;\n        this.edge = false;\n        this.newEdge = false;\n        this.weChat = false;\n    }\n    return Browser;\n}());\nvar Env = (function () {\n    function Env() {\n        this.browser = new Browser();\n        this.node = false;\n        this.wxa = false;\n        this.worker = false;\n        this.svgSupported = false;\n        this.touchEventsSupported = false;\n        this.pointerEventsSupported = false;\n        this.domSupported = false;\n        this.transformSupported = false;\n        this.transform3dSupported = false;\n        this.hasGlobalWindow = typeof window !== 'undefined';\n    }\n    return Env;\n}());\nvar env = new Env();\nif (typeof wx === 'object' && typeof wx.getSystemInfoSync === 'function') {\n    env.wxa = true;\n    env.touchEventsSupported = true;\n}\nelse if (typeof document === 'undefined' && typeof self !== 'undefined') {\n    env.worker = true;\n}\nelse if (typeof navigator === 'undefined'\n    || navigator.userAgent.indexOf('Node.js') === 0) {\n    env.node = true;\n    env.svgSupported = true;\n}\nelse {\n    detect(navigator.userAgent, env);\n}\nfunction detect(ua, env) {\n    var browser = env.browser;\n    var firefox = ua.match(/Firefox\\/([\\d.]+)/);\n    var ie = ua.match(/MSIE\\s([\\d.]+)/)\n        || ua.match(/Trident\\/.+?rv:(([\\d.]+))/);\n    var edge = ua.match(/Edge?\\/([\\d.]+)/);\n    var weChat = (/micromessenger/i).test(ua);\n    if (firefox) {\n        browser.firefox = true;\n        browser.version = firefox[1];\n    }\n    if (ie) {\n        browser.ie = true;\n        browser.version = ie[1];\n    }\n    if (edge) {\n        browser.edge = true;\n        browser.version = edge[1];\n        browser.newEdge = +edge[1].split('.')[0] > 18;\n    }\n    if (weChat) {\n        browser.weChat = true;\n    }\n    env.svgSupported = typeof SVGRect !== 'undefined';\n    env.touchEventsSupported = 'ontouchstart' in window && !browser.ie && !browser.edge;\n    env.pointerEventsSupported = 'onpointerdown' in window\n        && (browser.edge || (browser.ie && +browser.version >= 11));\n    env.domSupported = typeof document !== 'undefined';\n    var style = document.documentElement.style;\n    env.transform3dSupported = ((browser.ie && 'transition' in style)\n        || browser.edge\n        || (('WebKitCSSMatrix' in window) && ('m11' in new WebKitCSSMatrix()))\n        || 'MozPerspective' in style)\n        && !('OTransition' in style);\n    env.transformSupported = env.transform3dSupported\n        || (browser.ie && +browser.version >= 9);\n}\nexport default env;\n","import Eventful from './Eventful.js';\nimport env from './env.js';\nimport { isCanvasEl, transformCoordWithViewport } from './dom.js';\nvar MOUSE_EVENT_REG = /^(?:mouse|pointer|contextmenu|drag|drop)|click/;\nvar _calcOut = [];\nvar firefoxNotSupportOffsetXY = env.browser.firefox\n    && +env.browser.version.split('.')[0] < 39;\nexport function clientToLocal(el, e, out, calculate) {\n    out = out || {};\n    if (calculate) {\n        calculateZrXY(el, e, out);\n    }\n    else if (firefoxNotSupportOffsetXY\n        && e.layerX != null\n        && e.layerX !== e.offsetX) {\n        out.zrX = e.layerX;\n        out.zrY = e.layerY;\n    }\n    else if (e.offsetX != null) {\n        out.zrX = e.offsetX;\n        out.zrY = e.offsetY;\n    }\n    else {\n        calculateZrXY(el, e, out);\n    }\n    return out;\n}\nfunction calculateZrXY(el, e, out) {\n    if (env.domSupported && el.getBoundingClientRect) {\n        var ex = e.clientX;\n        var ey = e.clientY;\n        if (isCanvasEl(el)) {\n            var box = el.getBoundingClientRect();\n            out.zrX = ex - box.left;\n            out.zrY = ey - box.top;\n            return;\n        }\n        else {\n            if (transformCoordWithViewport(_calcOut, el, ex, ey)) {\n                out.zrX = _calcOut[0];\n                out.zrY = _calcOut[1];\n                return;\n            }\n        }\n    }\n    out.zrX = out.zrY = 0;\n}\nexport function getNativeEvent(e) {\n    return e\n        || window.event;\n}\nexport function normalizeEvent(el, e, calculate) {\n    e = getNativeEvent(e);\n    if (e.zrX != null) {\n        return e;\n    }\n    var eventType = e.type;\n    var isTouch = eventType && eventType.indexOf('touch') >= 0;\n    if (!isTouch) {\n        clientToLocal(el, e, e, calculate);\n        var wheelDelta = getWheelDeltaMayPolyfill(e);\n        e.zrDelta = wheelDelta ? wheelDelta / 120 : -(e.detail || 0) / 3;\n    }\n    else {\n        var touch = eventType !== 'touchend'\n            ? e.targetTouches[0]\n            : e.changedTouches[0];\n        touch && clientToLocal(el, touch, e, calculate);\n    }\n    var button = e.button;\n    if (e.which == null && button !== undefined && MOUSE_EVENT_REG.test(e.type)) {\n        e.which = (button & 1 ? 1 : (button & 2 ? 3 : (button & 4 ? 2 : 0)));\n    }\n    return e;\n}\nfunction getWheelDeltaMayPolyfill(e) {\n    var rawWheelDelta = e.wheelDelta;\n    if (rawWheelDelta) {\n        return rawWheelDelta;\n    }\n    var deltaX = e.deltaX;\n    var deltaY = e.deltaY;\n    if (deltaX == null || deltaY == null) {\n        return rawWheelDelta;\n    }\n    var delta = deltaY !== 0 ? Math.abs(deltaY) : Math.abs(deltaX);\n    var sign = deltaY > 0 ? -1\n        : deltaY < 0 ? 1\n            : deltaX > 0 ? -1\n                : 1;\n    return 3 * delta * sign;\n}\nexport function addEventListener(el, name, handler, opt) {\n    el.addEventListener(name, handler, opt);\n}\nexport function removeEventListener(el, name, handler, opt) {\n    el.removeEventListener(name, handler, opt);\n}\nexport var stop = function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    e.cancelBubble = true;\n};\nexport function isMiddleOrRightButtonOnMouseUpDown(e) {\n    return e.which === 2 || e.which === 3;\n}\nexport { Eventful as Dispatcher };\n","export function create() {\n    return [1, 0, 0, 1, 0, 0];\n}\nexport function identity(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    out[4] = 0;\n    out[5] = 0;\n    return out;\n}\nexport function copy(out, m) {\n    out[0] = m[0];\n    out[1] = m[1];\n    out[2] = m[2];\n    out[3] = m[3];\n    out[4] = m[4];\n    out[5] = m[5];\n    return out;\n}\nexport function mul(out, m1, m2) {\n    var out0 = m1[0] * m2[0] + m1[2] * m2[1];\n    var out1 = m1[1] * m2[0] + m1[3] * m2[1];\n    var out2 = m1[0] * m2[2] + m1[2] * m2[3];\n    var out3 = m1[1] * m2[2] + m1[3] * m2[3];\n    var out4 = m1[0] * m2[4] + m1[2] * m2[5] + m1[4];\n    var out5 = m1[1] * m2[4] + m1[3] * m2[5] + m1[5];\n    out[0] = out0;\n    out[1] = out1;\n    out[2] = out2;\n    out[3] = out3;\n    out[4] = out4;\n    out[5] = out5;\n    return out;\n}\nexport function translate(out, a, v) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4] + v[0];\n    out[5] = a[5] + v[1];\n    return out;\n}\nexport function rotate(out, a, rad, pivot) {\n    if (pivot === void 0) { pivot = [0, 0]; }\n    var aa = a[0];\n    var ac = a[2];\n    var atx = a[4];\n    var ab = a[1];\n    var ad = a[3];\n    var aty = a[5];\n    var st = Math.sin(rad);\n    var ct = Math.cos(rad);\n    out[0] = aa * ct + ab * st;\n    out[1] = -aa * st + ab * ct;\n    out[2] = ac * ct + ad * st;\n    out[3] = -ac * st + ct * ad;\n    out[4] = ct * (atx - pivot[0]) + st * (aty - pivot[1]) + pivot[0];\n    out[5] = ct * (aty - pivot[1]) - st * (atx - pivot[0]) + pivot[1];\n    return out;\n}\nexport function scale(out, a, v) {\n    var vx = v[0];\n    var vy = v[1];\n    out[0] = a[0] * vx;\n    out[1] = a[1] * vy;\n    out[2] = a[2] * vx;\n    out[3] = a[3] * vy;\n    out[4] = a[4] * vx;\n    out[5] = a[5] * vy;\n    return out;\n}\nexport function invert(out, a) {\n    var aa = a[0];\n    var ac = a[2];\n    var atx = a[4];\n    var ab = a[1];\n    var ad = a[3];\n    var aty = a[5];\n    var det = aa * ad - ab * ac;\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n    out[0] = ad * det;\n    out[1] = -ab * det;\n    out[2] = -ac * det;\n    out[3] = aa * det;\n    out[4] = (ac * aty - ad * atx) * det;\n    out[5] = (ab * atx - aa * aty) * det;\n    return out;\n}\nexport function clone(a) {\n    var b = create();\n    copy(b, a);\n    return b;\n}\n","export var DEFAULT_FONT_SIZE = 12;\nexport var DEFAULT_FONT_FAMILY = 'sans-serif';\nexport var DEFAULT_FONT = DEFAULT_FONT_SIZE + \"px \" + DEFAULT_FONT_FAMILY;\nvar OFFSET = 20;\nvar SCALE = 100;\nvar defaultWidthMapStr = \"007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\\\\\WQb\\\\0FWLg\\\\bWb\\\\WQ\\\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\\\FFF5.5N\";\nfunction getTextWidthMap(mapStr) {\n    var map = {};\n    if (typeof JSON === 'undefined') {\n        return map;\n    }\n    for (var i = 0; i < mapStr.length; i++) {\n        var char = String.fromCharCode(i + 32);\n        var size = (mapStr.charCodeAt(i) - OFFSET) / SCALE;\n        map[char] = size;\n    }\n    return map;\n}\nexport var DEFAULT_TEXT_WIDTH_MAP = getTextWidthMap(defaultWidthMapStr);\nexport var platformApi = {\n    createCanvas: function () {\n        return typeof document !== 'undefined'\n            && document.createElement('canvas');\n    },\n    measureText: (function () {\n        var _ctx;\n        var _cachedFont;\n        return function (text, font) {\n            if (!_ctx) {\n                var canvas = platformApi.createCanvas();\n                _ctx = canvas && canvas.getContext('2d');\n            }\n            if (_ctx) {\n                if (_cachedFont !== font) {\n                    _cachedFont = _ctx.font = font || DEFAULT_FONT;\n                }\n                return _ctx.measureText(text);\n            }\n            else {\n                text = text || '';\n                font = font || DEFAULT_FONT;\n                var res = /((?:\\d+)?\\.?\\d*)px/.exec(font);\n                var fontSize = res && +res[1] || DEFAULT_FONT_SIZE;\n                var width = 0;\n                if (font.indexOf('mono') >= 0) {\n                    width = fontSize * text.length;\n                }\n                else {\n                    for (var i = 0; i < text.length; i++) {\n                        var preCalcWidth = DEFAULT_TEXT_WIDTH_MAP[text[i]];\n                        width += preCalcWidth == null ? fontSize : (preCalcWidth * fontSize);\n                    }\n                }\n                return { width: width };\n            }\n        };\n    })(),\n    loadImage: function (src, onload, onerror) {\n        var image = new Image();\n        image.onload = onload;\n        image.onerror = onerror;\n        image.src = src;\n        return image;\n    }\n};\nexport function setPlatformAPI(newPlatformApis) {\n    for (var key in platformApi) {\n        if (newPlatformApis[key]) {\n            platformApi[key] = newPlatformApis[key];\n        }\n    }\n}\n","var DEFAULT_MIN_MERGE = 32;\nvar DEFAULT_MIN_GALLOPING = 7;\nfunction minRunLength(n) {\n    var r = 0;\n    while (n >= DEFAULT_MIN_MERGE) {\n        r |= n & 1;\n        n >>= 1;\n    }\n    return n + r;\n}\nfunction makeAscendingRun(array, lo, hi, compare) {\n    var runHi = lo + 1;\n    if (runHi === hi) {\n        return 1;\n    }\n    if (compare(array[runHi++], array[lo]) < 0) {\n        while (runHi < hi && compare(array[runHi], array[runHi - 1]) < 0) {\n            runHi++;\n        }\n        reverseRun(array, lo, runHi);\n    }\n    else {\n        while (runHi < hi && compare(array[runHi], array[runHi - 1]) >= 0) {\n            runHi++;\n        }\n    }\n    return runHi - lo;\n}\nfunction reverseRun(array, lo, hi) {\n    hi--;\n    while (lo < hi) {\n        var t = array[lo];\n        array[lo++] = array[hi];\n        array[hi--] = t;\n    }\n}\nfunction binaryInsertionSort(array, lo, hi, start, compare) {\n    if (start === lo) {\n        start++;\n    }\n    for (; start < hi; start++) {\n        var pivot = array[start];\n        var left = lo;\n        var right = start;\n        var mid;\n        while (left < right) {\n            mid = left + right >>> 1;\n            if (compare(pivot, array[mid]) < 0) {\n                right = mid;\n            }\n            else {\n                left = mid + 1;\n            }\n        }\n        var n = start - left;\n        switch (n) {\n            case 3:\n                array[left + 3] = array[left + 2];\n            case 2:\n                array[left + 2] = array[left + 1];\n            case 1:\n                array[left + 1] = array[left];\n                break;\n            default:\n                while (n > 0) {\n                    array[left + n] = array[left + n - 1];\n                    n--;\n                }\n        }\n        array[left] = pivot;\n    }\n}\nfunction gallopLeft(value, array, start, length, hint, compare) {\n    var lastOffset = 0;\n    var maxOffset = 0;\n    var offset = 1;\n    if (compare(value, array[start + hint]) > 0) {\n        maxOffset = length - hint;\n        while (offset < maxOffset && compare(value, array[start + hint + offset]) > 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n        lastOffset += hint;\n        offset += hint;\n    }\n    else {\n        maxOffset = hint + 1;\n        while (offset < maxOffset && compare(value, array[start + hint - offset]) <= 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n        var tmp = lastOffset;\n        lastOffset = hint - offset;\n        offset = hint - tmp;\n    }\n    lastOffset++;\n    while (lastOffset < offset) {\n        var m = lastOffset + (offset - lastOffset >>> 1);\n        if (compare(value, array[start + m]) > 0) {\n            lastOffset = m + 1;\n        }\n        else {\n            offset = m;\n        }\n    }\n    return offset;\n}\nfunction gallopRight(value, array, start, length, hint, compare) {\n    var lastOffset = 0;\n    var maxOffset = 0;\n    var offset = 1;\n    if (compare(value, array[start + hint]) < 0) {\n        maxOffset = hint + 1;\n        while (offset < maxOffset && compare(value, array[start + hint - offset]) < 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n        var tmp = lastOffset;\n        lastOffset = hint - offset;\n        offset = hint - tmp;\n    }\n    else {\n        maxOffset = length - hint;\n        while (offset < maxOffset && compare(value, array[start + hint + offset]) >= 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n        lastOffset += hint;\n        offset += hint;\n    }\n    lastOffset++;\n    while (lastOffset < offset) {\n        var m = lastOffset + (offset - lastOffset >>> 1);\n        if (compare(value, array[start + m]) < 0) {\n            offset = m;\n        }\n        else {\n            lastOffset = m + 1;\n        }\n    }\n    return offset;\n}\nfunction TimSort(array, compare) {\n    var minGallop = DEFAULT_MIN_GALLOPING;\n    var runStart;\n    var runLength;\n    var stackSize = 0;\n    var tmp = [];\n    runStart = [];\n    runLength = [];\n    function pushRun(_runStart, _runLength) {\n        runStart[stackSize] = _runStart;\n        runLength[stackSize] = _runLength;\n        stackSize += 1;\n    }\n    function mergeRuns() {\n        while (stackSize > 1) {\n            var n = stackSize - 2;\n            if ((n >= 1 && runLength[n - 1] <= runLength[n] + runLength[n + 1])\n                || (n >= 2 && runLength[n - 2] <= runLength[n] + runLength[n - 1])) {\n                if (runLength[n - 1] < runLength[n + 1]) {\n                    n--;\n                }\n            }\n            else if (runLength[n] > runLength[n + 1]) {\n                break;\n            }\n            mergeAt(n);\n        }\n    }\n    function forceMergeRuns() {\n        while (stackSize > 1) {\n            var n = stackSize - 2;\n            if (n > 0 && runLength[n - 1] < runLength[n + 1]) {\n                n--;\n            }\n            mergeAt(n);\n        }\n    }\n    function mergeAt(i) {\n        var start1 = runStart[i];\n        var length1 = runLength[i];\n        var start2 = runStart[i + 1];\n        var length2 = runLength[i + 1];\n        runLength[i] = length1 + length2;\n        if (i === stackSize - 3) {\n            runStart[i + 1] = runStart[i + 2];\n            runLength[i + 1] = runLength[i + 2];\n        }\n        stackSize--;\n        var k = gallopRight(array[start2], array, start1, length1, 0, compare);\n        start1 += k;\n        length1 -= k;\n        if (length1 === 0) {\n            return;\n        }\n        length2 = gallopLeft(array[start1 + length1 - 1], array, start2, length2, length2 - 1, compare);\n        if (length2 === 0) {\n            return;\n        }\n        if (length1 <= length2) {\n            mergeLow(start1, length1, start2, length2);\n        }\n        else {\n            mergeHigh(start1, length1, start2, length2);\n        }\n    }\n    function mergeLow(start1, length1, start2, length2) {\n        var i = 0;\n        for (i = 0; i < length1; i++) {\n            tmp[i] = array[start1 + i];\n        }\n        var cursor1 = 0;\n        var cursor2 = start2;\n        var dest = start1;\n        array[dest++] = array[cursor2++];\n        if (--length2 === 0) {\n            for (i = 0; i < length1; i++) {\n                array[dest + i] = tmp[cursor1 + i];\n            }\n            return;\n        }\n        if (length1 === 1) {\n            for (i = 0; i < length2; i++) {\n                array[dest + i] = array[cursor2 + i];\n            }\n            array[dest + length2] = tmp[cursor1];\n            return;\n        }\n        var _minGallop = minGallop;\n        var count1;\n        var count2;\n        var exit;\n        while (1) {\n            count1 = 0;\n            count2 = 0;\n            exit = false;\n            do {\n                if (compare(array[cursor2], tmp[cursor1]) < 0) {\n                    array[dest++] = array[cursor2++];\n                    count2++;\n                    count1 = 0;\n                    if (--length2 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                else {\n                    array[dest++] = tmp[cursor1++];\n                    count1++;\n                    count2 = 0;\n                    if (--length1 === 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n            } while ((count1 | count2) < _minGallop);\n            if (exit) {\n                break;\n            }\n            do {\n                count1 = gallopRight(array[cursor2], tmp, cursor1, length1, 0, compare);\n                if (count1 !== 0) {\n                    for (i = 0; i < count1; i++) {\n                        array[dest + i] = tmp[cursor1 + i];\n                    }\n                    dest += count1;\n                    cursor1 += count1;\n                    length1 -= count1;\n                    if (length1 <= 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n                array[dest++] = array[cursor2++];\n                if (--length2 === 0) {\n                    exit = true;\n                    break;\n                }\n                count2 = gallopLeft(tmp[cursor1], array, cursor2, length2, 0, compare);\n                if (count2 !== 0) {\n                    for (i = 0; i < count2; i++) {\n                        array[dest + i] = array[cursor2 + i];\n                    }\n                    dest += count2;\n                    cursor2 += count2;\n                    length2 -= count2;\n                    if (length2 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                array[dest++] = tmp[cursor1++];\n                if (--length1 === 1) {\n                    exit = true;\n                    break;\n                }\n                _minGallop--;\n            } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n            if (exit) {\n                break;\n            }\n            if (_minGallop < 0) {\n                _minGallop = 0;\n            }\n            _minGallop += 2;\n        }\n        minGallop = _minGallop;\n        minGallop < 1 && (minGallop = 1);\n        if (length1 === 1) {\n            for (i = 0; i < length2; i++) {\n                array[dest + i] = array[cursor2 + i];\n            }\n            array[dest + length2] = tmp[cursor1];\n        }\n        else if (length1 === 0) {\n            throw new Error();\n        }\n        else {\n            for (i = 0; i < length1; i++) {\n                array[dest + i] = tmp[cursor1 + i];\n            }\n        }\n    }\n    function mergeHigh(start1, length1, start2, length2) {\n        var i = 0;\n        for (i = 0; i < length2; i++) {\n            tmp[i] = array[start2 + i];\n        }\n        var cursor1 = start1 + length1 - 1;\n        var cursor2 = length2 - 1;\n        var dest = start2 + length2 - 1;\n        var customCursor = 0;\n        var customDest = 0;\n        array[dest--] = array[cursor1--];\n        if (--length1 === 0) {\n            customCursor = dest - (length2 - 1);\n            for (i = 0; i < length2; i++) {\n                array[customCursor + i] = tmp[i];\n            }\n            return;\n        }\n        if (length2 === 1) {\n            dest -= length1;\n            cursor1 -= length1;\n            customDest = dest + 1;\n            customCursor = cursor1 + 1;\n            for (i = length1 - 1; i >= 0; i--) {\n                array[customDest + i] = array[customCursor + i];\n            }\n            array[dest] = tmp[cursor2];\n            return;\n        }\n        var _minGallop = minGallop;\n        while (true) {\n            var count1 = 0;\n            var count2 = 0;\n            var exit = false;\n            do {\n                if (compare(tmp[cursor2], array[cursor1]) < 0) {\n                    array[dest--] = array[cursor1--];\n                    count1++;\n                    count2 = 0;\n                    if (--length1 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                else {\n                    array[dest--] = tmp[cursor2--];\n                    count2++;\n                    count1 = 0;\n                    if (--length2 === 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n            } while ((count1 | count2) < _minGallop);\n            if (exit) {\n                break;\n            }\n            do {\n                count1 = length1 - gallopRight(tmp[cursor2], array, start1, length1, length1 - 1, compare);\n                if (count1 !== 0) {\n                    dest -= count1;\n                    cursor1 -= count1;\n                    length1 -= count1;\n                    customDest = dest + 1;\n                    customCursor = cursor1 + 1;\n                    for (i = count1 - 1; i >= 0; i--) {\n                        array[customDest + i] = array[customCursor + i];\n                    }\n                    if (length1 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                array[dest--] = tmp[cursor2--];\n                if (--length2 === 1) {\n                    exit = true;\n                    break;\n                }\n                count2 = length2 - gallopLeft(array[cursor1], tmp, 0, length2, length2 - 1, compare);\n                if (count2 !== 0) {\n                    dest -= count2;\n                    cursor2 -= count2;\n                    length2 -= count2;\n                    customDest = dest + 1;\n                    customCursor = cursor2 + 1;\n                    for (i = 0; i < count2; i++) {\n                        array[customDest + i] = tmp[customCursor + i];\n                    }\n                    if (length2 <= 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n                array[dest--] = array[cursor1--];\n                if (--length1 === 0) {\n                    exit = true;\n                    break;\n                }\n                _minGallop--;\n            } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n            if (exit) {\n                break;\n            }\n            if (_minGallop < 0) {\n                _minGallop = 0;\n            }\n            _minGallop += 2;\n        }\n        minGallop = _minGallop;\n        if (minGallop < 1) {\n            minGallop = 1;\n        }\n        if (length2 === 1) {\n            dest -= length1;\n            cursor1 -= length1;\n            customDest = dest + 1;\n            customCursor = cursor1 + 1;\n            for (i = length1 - 1; i >= 0; i--) {\n                array[customDest + i] = array[customCursor + i];\n            }\n            array[dest] = tmp[cursor2];\n        }\n        else if (length2 === 0) {\n            throw new Error();\n        }\n        else {\n            customCursor = dest - (length2 - 1);\n            for (i = 0; i < length2; i++) {\n                array[customCursor + i] = tmp[i];\n            }\n        }\n    }\n    return {\n        mergeRuns: mergeRuns,\n        forceMergeRuns: forceMergeRuns,\n        pushRun: pushRun\n    };\n}\nexport default function sort(array, compare, lo, hi) {\n    if (!lo) {\n        lo = 0;\n    }\n    if (!hi) {\n        hi = array.length;\n    }\n    var remaining = hi - lo;\n    if (remaining < 2) {\n        return;\n    }\n    var runLength = 0;\n    if (remaining < DEFAULT_MIN_MERGE) {\n        runLength = makeAscendingRun(array, lo, hi, compare);\n        binaryInsertionSort(array, lo, hi, lo + runLength, compare);\n        return;\n    }\n    var ts = TimSort(array, compare);\n    var minRun = minRunLength(remaining);\n    do {\n        runLength = makeAscendingRun(array, lo, hi, compare);\n        if (runLength < minRun) {\n            var force = remaining;\n            if (force > minRun) {\n                force = minRun;\n            }\n            binaryInsertionSort(array, lo, lo + force, lo + runLength, compare);\n            runLength = force;\n        }\n        ts.pushRun(lo, runLength);\n        ts.mergeRuns();\n        remaining -= runLength;\n        lo += runLength;\n    } while (remaining !== 0);\n    ts.forceMergeRuns();\n}\n","import { platformApi } from './platform.js';\nvar BUILTIN_OBJECT = reduce([\n    'Function',\n    'RegExp',\n    'Date',\n    'Error',\n    'CanvasGradient',\n    'CanvasPattern',\n    'Image',\n    'Canvas'\n], function (obj, val) {\n    obj['[object ' + val + ']'] = true;\n    return obj;\n}, {});\nvar TYPED_ARRAY = reduce([\n    'Int8',\n    'Uint8',\n    'Uint8Clamped',\n    'Int16',\n    'Uint16',\n    'Int32',\n    'Uint32',\n    'Float32',\n    'Float64'\n], function (obj, val) {\n    obj['[object ' + val + 'Array]'] = true;\n    return obj;\n}, {});\nvar objToString = Object.prototype.toString;\nvar arrayProto = Array.prototype;\nvar nativeForEach = arrayProto.forEach;\nvar nativeFilter = arrayProto.filter;\nvar nativeSlice = arrayProto.slice;\nvar nativeMap = arrayProto.map;\nvar ctorFunction = function () { }.constructor;\nvar protoFunction = ctorFunction ? ctorFunction.prototype : null;\nvar protoKey = '__proto__';\nvar idStart = 0x0907;\nexport function guid() {\n    return idStart++;\n}\nexport function logError() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    if (typeof console !== 'undefined') {\n        console.error.apply(console, args);\n    }\n}\nexport function clone(source) {\n    if (source == null || typeof source !== 'object') {\n        return source;\n    }\n    var result = source;\n    var typeStr = objToString.call(source);\n    if (typeStr === '[object Array]') {\n        if (!isPrimitive(source)) {\n            result = [];\n            for (var i = 0, len = source.length; i < len; i++) {\n                result[i] = clone(source[i]);\n            }\n        }\n    }\n    else if (TYPED_ARRAY[typeStr]) {\n        if (!isPrimitive(source)) {\n            var Ctor = source.constructor;\n            if (Ctor.from) {\n                result = Ctor.from(source);\n            }\n            else {\n                result = new Ctor(source.length);\n                for (var i = 0, len = source.length; i < len; i++) {\n                    result[i] = source[i];\n                }\n            }\n        }\n    }\n    else if (!BUILTIN_OBJECT[typeStr] && !isPrimitive(source) && !isDom(source)) {\n        result = {};\n        for (var key in source) {\n            if (source.hasOwnProperty(key) && key !== protoKey) {\n                result[key] = clone(source[key]);\n            }\n        }\n    }\n    return result;\n}\nexport function merge(target, source, overwrite) {\n    if (!isObject(source) || !isObject(target)) {\n        return overwrite ? clone(source) : target;\n    }\n    for (var key in source) {\n        if (source.hasOwnProperty(key) && key !== protoKey) {\n            var targetProp = target[key];\n            var sourceProp = source[key];\n            if (isObject(sourceProp)\n                && isObject(targetProp)\n                && !isArray(sourceProp)\n                && !isArray(targetProp)\n                && !isDom(sourceProp)\n                && !isDom(targetProp)\n                && !isBuiltInObject(sourceProp)\n                && !isBuiltInObject(targetProp)\n                && !isPrimitive(sourceProp)\n                && !isPrimitive(targetProp)) {\n                merge(targetProp, sourceProp, overwrite);\n            }\n            else if (overwrite || !(key in target)) {\n                target[key] = clone(source[key]);\n            }\n        }\n    }\n    return target;\n}\nexport function mergeAll(targetAndSources, overwrite) {\n    var result = targetAndSources[0];\n    for (var i = 1, len = targetAndSources.length; i < len; i++) {\n        result = merge(result, targetAndSources[i], overwrite);\n    }\n    return result;\n}\nexport function extend(target, source) {\n    if (Object.assign) {\n        Object.assign(target, source);\n    }\n    else {\n        for (var key in source) {\n            if (source.hasOwnProperty(key) && key !== protoKey) {\n                target[key] = source[key];\n            }\n        }\n    }\n    return target;\n}\nexport function defaults(target, source, overlay) {\n    var keysArr = keys(source);\n    for (var i = 0; i < keysArr.length; i++) {\n        var key = keysArr[i];\n        if ((overlay ? source[key] != null : target[key] == null)) {\n            target[key] = source[key];\n        }\n    }\n    return target;\n}\nexport var createCanvas = platformApi.createCanvas;\nexport function indexOf(array, value) {\n    if (array) {\n        if (array.indexOf) {\n            return array.indexOf(value);\n        }\n        for (var i = 0, len = array.length; i < len; i++) {\n            if (array[i] === value) {\n                return i;\n            }\n        }\n    }\n    return -1;\n}\nexport function inherits(clazz, baseClazz) {\n    var clazzPrototype = clazz.prototype;\n    function F() { }\n    F.prototype = baseClazz.prototype;\n    clazz.prototype = new F();\n    for (var prop in clazzPrototype) {\n        if (clazzPrototype.hasOwnProperty(prop)) {\n            clazz.prototype[prop] = clazzPrototype[prop];\n        }\n    }\n    clazz.prototype.constructor = clazz;\n    clazz.superClass = baseClazz;\n}\nexport function mixin(target, source, override) {\n    target = 'prototype' in target ? target.prototype : target;\n    source = 'prototype' in source ? source.prototype : source;\n    if (Object.getOwnPropertyNames) {\n        var keyList = Object.getOwnPropertyNames(source);\n        for (var i = 0; i < keyList.length; i++) {\n            var key = keyList[i];\n            if (key !== 'constructor') {\n                if ((override ? source[key] != null : target[key] == null)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n    }\n    else {\n        defaults(target, source, override);\n    }\n}\nexport function isArrayLike(data) {\n    if (!data) {\n        return false;\n    }\n    if (typeof data === 'string') {\n        return false;\n    }\n    return typeof data.length === 'number';\n}\nexport function each(arr, cb, context) {\n    if (!(arr && cb)) {\n        return;\n    }\n    if (arr.forEach && arr.forEach === nativeForEach) {\n        arr.forEach(cb, context);\n    }\n    else if (arr.length === +arr.length) {\n        for (var i = 0, len = arr.length; i < len; i++) {\n            cb.call(context, arr[i], i, arr);\n        }\n    }\n    else {\n        for (var key in arr) {\n            if (arr.hasOwnProperty(key)) {\n                cb.call(context, arr[key], key, arr);\n            }\n        }\n    }\n}\nexport function map(arr, cb, context) {\n    if (!arr) {\n        return [];\n    }\n    if (!cb) {\n        return slice(arr);\n    }\n    if (arr.map && arr.map === nativeMap) {\n        return arr.map(cb, context);\n    }\n    else {\n        var result = [];\n        for (var i = 0, len = arr.length; i < len; i++) {\n            result.push(cb.call(context, arr[i], i, arr));\n        }\n        return result;\n    }\n}\nexport function reduce(arr, cb, memo, context) {\n    if (!(arr && cb)) {\n        return;\n    }\n    for (var i = 0, len = arr.length; i < len; i++) {\n        memo = cb.call(context, memo, arr[i], i, arr);\n    }\n    return memo;\n}\nexport function filter(arr, cb, context) {\n    if (!arr) {\n        return [];\n    }\n    if (!cb) {\n        return slice(arr);\n    }\n    if (arr.filter && arr.filter === nativeFilter) {\n        return arr.filter(cb, context);\n    }\n    else {\n        var result = [];\n        for (var i = 0, len = arr.length; i < len; i++) {\n            if (cb.call(context, arr[i], i, arr)) {\n                result.push(arr[i]);\n            }\n        }\n        return result;\n    }\n}\nexport function find(arr, cb, context) {\n    if (!(arr && cb)) {\n        return;\n    }\n    for (var i = 0, len = arr.length; i < len; i++) {\n        if (cb.call(context, arr[i], i, arr)) {\n            return arr[i];\n        }\n    }\n}\nexport function keys(obj) {\n    if (!obj) {\n        return [];\n    }\n    if (Object.keys) {\n        return Object.keys(obj);\n    }\n    var keyList = [];\n    for (var key in obj) {\n        if (obj.hasOwnProperty(key)) {\n            keyList.push(key);\n        }\n    }\n    return keyList;\n}\nfunction bindPolyfill(func, context) {\n    var args = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        args[_i - 2] = arguments[_i];\n    }\n    return function () {\n        return func.apply(context, args.concat(nativeSlice.call(arguments)));\n    };\n}\nexport var bind = (protoFunction && isFunction(protoFunction.bind))\n    ? protoFunction.call.bind(protoFunction.bind)\n    : bindPolyfill;\nfunction curry(func) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    return function () {\n        return func.apply(this, args.concat(nativeSlice.call(arguments)));\n    };\n}\nexport { curry };\nexport function isArray(value) {\n    if (Array.isArray) {\n        return Array.isArray(value);\n    }\n    return objToString.call(value) === '[object Array]';\n}\nexport function isFunction(value) {\n    return typeof value === 'function';\n}\nexport function isString(value) {\n    return typeof value === 'string';\n}\nexport function isStringSafe(value) {\n    return objToString.call(value) === '[object String]';\n}\nexport function isNumber(value) {\n    return typeof value === 'number';\n}\nexport function isObject(value) {\n    var type = typeof value;\n    return type === 'function' || (!!value && type === 'object');\n}\nexport function isBuiltInObject(value) {\n    return !!BUILTIN_OBJECT[objToString.call(value)];\n}\nexport function isTypedArray(value) {\n    return !!TYPED_ARRAY[objToString.call(value)];\n}\nexport function isDom(value) {\n    return typeof value === 'object'\n        && typeof value.nodeType === 'number'\n        && typeof value.ownerDocument === 'object';\n}\nexport function isGradientObject(value) {\n    return value.colorStops != null;\n}\nexport function isImagePatternObject(value) {\n    return value.image != null;\n}\nexport function isRegExp(value) {\n    return objToString.call(value) === '[object RegExp]';\n}\nexport function eqNaN(value) {\n    return value !== value;\n}\nexport function retrieve() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    for (var i = 0, len = args.length; i < len; i++) {\n        if (args[i] != null) {\n            return args[i];\n        }\n    }\n}\nexport function retrieve2(value0, value1) {\n    return value0 != null\n        ? value0\n        : value1;\n}\nexport function retrieve3(value0, value1, value2) {\n    return value0 != null\n        ? value0\n        : value1 != null\n            ? value1\n            : value2;\n}\nexport function slice(arr) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    return nativeSlice.apply(arr, args);\n}\nexport function normalizeCssArray(val) {\n    if (typeof (val) === 'number') {\n        return [val, val, val, val];\n    }\n    var len = val.length;\n    if (len === 2) {\n        return [val[0], val[1], val[0], val[1]];\n    }\n    else if (len === 3) {\n        return [val[0], val[1], val[2], val[1]];\n    }\n    return val;\n}\nexport function assert(condition, message) {\n    if (!condition) {\n        throw new Error(message);\n    }\n}\nexport function trim(str) {\n    if (str == null) {\n        return null;\n    }\n    else if (typeof str.trim === 'function') {\n        return str.trim();\n    }\n    else {\n        return str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n    }\n}\nvar primitiveKey = '__ec_primitive__';\nexport function setAsPrimitive(obj) {\n    obj[primitiveKey] = true;\n}\nexport function isPrimitive(obj) {\n    return obj[primitiveKey];\n}\nvar MapPolyfill = (function () {\n    function MapPolyfill() {\n        this.data = {};\n    }\n    MapPolyfill.prototype[\"delete\"] = function (key) {\n        var existed = this.has(key);\n        if (existed) {\n            delete this.data[key];\n        }\n        return existed;\n    };\n    MapPolyfill.prototype.has = function (key) {\n        return this.data.hasOwnProperty(key);\n    };\n    MapPolyfill.prototype.get = function (key) {\n        return this.data[key];\n    };\n    MapPolyfill.prototype.set = function (key, value) {\n        this.data[key] = value;\n        return this;\n    };\n    MapPolyfill.prototype.keys = function () {\n        return keys(this.data);\n    };\n    MapPolyfill.prototype.forEach = function (callback) {\n        var data = this.data;\n        for (var key in data) {\n            if (data.hasOwnProperty(key)) {\n                callback(data[key], key);\n            }\n        }\n    };\n    return MapPolyfill;\n}());\nvar isNativeMapSupported = typeof Map === 'function';\nfunction maybeNativeMap() {\n    return (isNativeMapSupported ? new Map() : new MapPolyfill());\n}\nvar HashMap = (function () {\n    function HashMap(obj) {\n        var isArr = isArray(obj);\n        this.data = maybeNativeMap();\n        var thisMap = this;\n        (obj instanceof HashMap)\n            ? obj.each(visit)\n            : (obj && each(obj, visit));\n        function visit(value, key) {\n            isArr ? thisMap.set(value, key) : thisMap.set(key, value);\n        }\n    }\n    HashMap.prototype.hasKey = function (key) {\n        return this.data.has(key);\n    };\n    HashMap.prototype.get = function (key) {\n        return this.data.get(key);\n    };\n    HashMap.prototype.set = function (key, value) {\n        this.data.set(key, value);\n        return value;\n    };\n    HashMap.prototype.each = function (cb, context) {\n        this.data.forEach(function (value, key) {\n            cb.call(context, value, key);\n        });\n    };\n    HashMap.prototype.keys = function () {\n        var keys = this.data.keys();\n        return isNativeMapSupported\n            ? Array.from(keys)\n            : keys;\n    };\n    HashMap.prototype.removeKey = function (key) {\n        this.data[\"delete\"](key);\n    };\n    return HashMap;\n}());\nexport { HashMap };\nexport function createHashMap(obj) {\n    return new HashMap(obj);\n}\nexport function concatArray(a, b) {\n    var newArray = new a.constructor(a.length + b.length);\n    for (var i = 0; i < a.length; i++) {\n        newArray[i] = a[i];\n    }\n    var offset = a.length;\n    for (var i = 0; i < b.length; i++) {\n        newArray[i + offset] = b[i];\n    }\n    return newArray;\n}\nexport function createObject(proto, properties) {\n    var obj;\n    if (Object.create) {\n        obj = Object.create(proto);\n    }\n    else {\n        var StyleCtor = function () { };\n        StyleCtor.prototype = proto;\n        obj = new StyleCtor();\n    }\n    if (properties) {\n        extend(obj, properties);\n    }\n    return obj;\n}\nexport function disableUserSelect(dom) {\n    var domStyle = dom.style;\n    domStyle.webkitUserSelect = 'none';\n    domStyle.userSelect = 'none';\n    domStyle.webkitTapHighlightColor = 'rgba(0,0,0,0)';\n    domStyle['-webkit-touch-callout'] = 'none';\n}\nexport function hasOwn(own, prop) {\n    return own.hasOwnProperty(prop);\n}\nexport function noop() { }\nexport var RADIAN_TO_DEGREE = 180 / Math.PI;\n","export function create(x, y) {\n    if (x == null) {\n        x = 0;\n    }\n    if (y == null) {\n        y = 0;\n    }\n    return [x, y];\n}\nexport function copy(out, v) {\n    out[0] = v[0];\n    out[1] = v[1];\n    return out;\n}\nexport function clone(v) {\n    return [v[0], v[1]];\n}\nexport function set(out, a, b) {\n    out[0] = a;\n    out[1] = b;\n    return out;\n}\nexport function add(out, v1, v2) {\n    out[0] = v1[0] + v2[0];\n    out[1] = v1[1] + v2[1];\n    return out;\n}\nexport function scaleAndAdd(out, v1, v2, a) {\n    out[0] = v1[0] + v2[0] * a;\n    out[1] = v1[1] + v2[1] * a;\n    return out;\n}\nexport function sub(out, v1, v2) {\n    out[0] = v1[0] - v2[0];\n    out[1] = v1[1] - v2[1];\n    return out;\n}\nexport function len(v) {\n    return Math.sqrt(lenSquare(v));\n}\nexport var length = len;\nexport function lenSquare(v) {\n    return v[0] * v[0] + v[1] * v[1];\n}\nexport var lengthSquare = lenSquare;\nexport function mul(out, v1, v2) {\n    out[0] = v1[0] * v2[0];\n    out[1] = v1[1] * v2[1];\n    return out;\n}\nexport function div(out, v1, v2) {\n    out[0] = v1[0] / v2[0];\n    out[1] = v1[1] / v2[1];\n    return out;\n}\nexport function dot(v1, v2) {\n    return v1[0] * v2[0] + v1[1] * v2[1];\n}\nexport function scale(out, v, s) {\n    out[0] = v[0] * s;\n    out[1] = v[1] * s;\n    return out;\n}\nexport function normalize(out, v) {\n    var d = len(v);\n    if (d === 0) {\n        out[0] = 0;\n        out[1] = 0;\n    }\n    else {\n        out[0] = v[0] / d;\n        out[1] = v[1] / d;\n    }\n    return out;\n}\nexport function distance(v1, v2) {\n    return Math.sqrt((v1[0] - v2[0]) * (v1[0] - v2[0])\n        + (v1[1] - v2[1]) * (v1[1] - v2[1]));\n}\nexport var dist = distance;\nexport function distanceSquare(v1, v2) {\n    return (v1[0] - v2[0]) * (v1[0] - v2[0])\n        + (v1[1] - v2[1]) * (v1[1] - v2[1]);\n}\nexport var distSquare = distanceSquare;\nexport function negate(out, v) {\n    out[0] = -v[0];\n    out[1] = -v[1];\n    return out;\n}\nexport function lerp(out, v1, v2, t) {\n    out[0] = v1[0] + t * (v2[0] - v1[0]);\n    out[1] = v1[1] + t * (v2[1] - v1[1]);\n    return out;\n}\nexport function applyTransform(out, v, m) {\n    var x = v[0];\n    var y = v[1];\n    out[0] = m[0] * x + m[2] * y + m[4];\n    out[1] = m[1] * x + m[3] * y + m[5];\n    return out;\n}\nexport function min(out, v1, v2) {\n    out[0] = Math.min(v1[0], v2[0]);\n    out[1] = Math.min(v1[1], v2[1]);\n    return out;\n}\nexport function max(out, v1, v2) {\n    out[0] = Math.max(v1[0], v2[0]);\n    out[1] = Math.max(v1[1], v2[1]);\n    return out;\n}\n","import { __extends } from \"tslib\";\nimport Path from './Path.js';\nvar CompoundPath = (function (_super) {\n    __extends(CompoundPath, _super);\n    function CompoundPath() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'compound';\n        return _this;\n    }\n    CompoundPath.prototype._updatePathDirty = function () {\n        var paths = this.shape.paths;\n        var dirtyPath = this.shapeChanged();\n        for (var i = 0; i < paths.length; i++) {\n            dirtyPath = dirtyPath || paths[i].shapeChanged();\n        }\n        if (dirtyPath) {\n            this.dirtyShape();\n        }\n    };\n    CompoundPath.prototype.beforeBrush = function () {\n        this._updatePathDirty();\n        var paths = this.shape.paths || [];\n        var scale = this.getGlobalScale();\n        for (var i = 0; i < paths.length; i++) {\n            if (!paths[i].path) {\n                paths[i].createPathProxy();\n            }\n            paths[i].path.setScale(scale[0], scale[1], paths[i].segmentIgnoreThreshold);\n        }\n    };\n    CompoundPath.prototype.buildPath = function (ctx, shape) {\n        var paths = shape.paths || [];\n        for (var i = 0; i < paths.length; i++) {\n            paths[i].buildPath(ctx, paths[i].shape, true);\n        }\n    };\n    CompoundPath.prototype.afterBrush = function () {\n        var paths = this.shape.paths || [];\n        for (var i = 0; i < paths.length; i++) {\n            paths[i].pathUpdated();\n        }\n    };\n    CompoundPath.prototype.getBoundingRect = function () {\n        this._updatePathDirty.call(this);\n        return Path.prototype.getBoundingRect.call(this);\n    };\n    return CompoundPath;\n}(Path));\nexport default CompoundPath;\n","import { __extends } from \"tslib\";\nimport Element from '../Element.js';\nimport BoundingRect from '../core/BoundingRect.js';\nimport { keys, extend, createObject } from '../core/util.js';\nimport { REDRAW_BIT, STYLE_CHANGED_BIT } from './constants.js';\nvar STYLE_MAGIC_KEY = '__zr_style_' + Math.round((Math.random() * 10));\nexport var DEFAULT_COMMON_STYLE = {\n    shadowBlur: 0,\n    shadowOffsetX: 0,\n    shadowOffsetY: 0,\n    shadowColor: '#000',\n    opacity: 1,\n    blend: 'source-over'\n};\nexport var DEFAULT_COMMON_ANIMATION_PROPS = {\n    style: {\n        shadowBlur: true,\n        shadowOffsetX: true,\n        shadowOffsetY: true,\n        shadowColor: true,\n        opacity: true\n    }\n};\nDEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY] = true;\nvar PRIMARY_STATES_KEYS = ['z', 'z2', 'invisible'];\nvar PRIMARY_STATES_KEYS_IN_HOVER_LAYER = ['invisible'];\nvar Displayable = (function (_super) {\n    __extends(Displayable, _super);\n    function Displayable(props) {\n        return _super.call(this, props) || this;\n    }\n    Displayable.prototype._init = function (props) {\n        var keysArr = keys(props);\n        for (var i = 0; i < keysArr.length; i++) {\n            var key = keysArr[i];\n            if (key === 'style') {\n                this.useStyle(props[key]);\n            }\n            else {\n                _super.prototype.attrKV.call(this, key, props[key]);\n            }\n        }\n        if (!this.style) {\n            this.useStyle({});\n        }\n    };\n    Displayable.prototype.beforeBrush = function () { };\n    Displayable.prototype.afterBrush = function () { };\n    Displayable.prototype.innerBeforeBrush = function () { };\n    Displayable.prototype.innerAfterBrush = function () { };\n    Displayable.prototype.shouldBePainted = function (viewWidth, viewHeight, considerClipPath, considerAncestors) {\n        var m = this.transform;\n        if (this.ignore\n            || this.invisible\n            || this.style.opacity === 0\n            || (this.culling\n                && isDisplayableCulled(this, viewWidth, viewHeight))\n            || (m && !m[0] && !m[3])) {\n            return false;\n        }\n        if (considerClipPath && this.__clipPaths) {\n            for (var i = 0; i < this.__clipPaths.length; ++i) {\n                if (this.__clipPaths[i].isZeroArea()) {\n                    return false;\n                }\n            }\n        }\n        if (considerAncestors && this.parent) {\n            var parent_1 = this.parent;\n            while (parent_1) {\n                if (parent_1.ignore) {\n                    return false;\n                }\n                parent_1 = parent_1.parent;\n            }\n        }\n        return true;\n    };\n    Displayable.prototype.contain = function (x, y) {\n        return this.rectContain(x, y);\n    };\n    Displayable.prototype.traverse = function (cb, context) {\n        cb.call(context, this);\n    };\n    Displayable.prototype.rectContain = function (x, y) {\n        var coord = this.transformCoordToLocal(x, y);\n        var rect = this.getBoundingRect();\n        return rect.contain(coord[0], coord[1]);\n    };\n    Displayable.prototype.getPaintRect = function () {\n        var rect = this._paintRect;\n        if (!this._paintRect || this.__dirty) {\n            var transform = this.transform;\n            var elRect = this.getBoundingRect();\n            var style = this.style;\n            var shadowSize = style.shadowBlur || 0;\n            var shadowOffsetX = style.shadowOffsetX || 0;\n            var shadowOffsetY = style.shadowOffsetY || 0;\n            rect = this._paintRect || (this._paintRect = new BoundingRect(0, 0, 0, 0));\n            if (transform) {\n                BoundingRect.applyTransform(rect, elRect, transform);\n            }\n            else {\n                rect.copy(elRect);\n            }\n            if (shadowSize || shadowOffsetX || shadowOffsetY) {\n                rect.width += shadowSize * 2 + Math.abs(shadowOffsetX);\n                rect.height += shadowSize * 2 + Math.abs(shadowOffsetY);\n                rect.x = Math.min(rect.x, rect.x + shadowOffsetX - shadowSize);\n                rect.y = Math.min(rect.y, rect.y + shadowOffsetY - shadowSize);\n            }\n            var tolerance = this.dirtyRectTolerance;\n            if (!rect.isZero()) {\n                rect.x = Math.floor(rect.x - tolerance);\n                rect.y = Math.floor(rect.y - tolerance);\n                rect.width = Math.ceil(rect.width + 1 + tolerance * 2);\n                rect.height = Math.ceil(rect.height + 1 + tolerance * 2);\n            }\n        }\n        return rect;\n    };\n    Displayable.prototype.setPrevPaintRect = function (paintRect) {\n        if (paintRect) {\n            this._prevPaintRect = this._prevPaintRect || new BoundingRect(0, 0, 0, 0);\n            this._prevPaintRect.copy(paintRect);\n        }\n        else {\n            this._prevPaintRect = null;\n        }\n    };\n    Displayable.prototype.getPrevPaintRect = function () {\n        return this._prevPaintRect;\n    };\n    Displayable.prototype.animateStyle = function (loop) {\n        return this.animate('style', loop);\n    };\n    Displayable.prototype.updateDuringAnimation = function (targetKey) {\n        if (targetKey === 'style') {\n            this.dirtyStyle();\n        }\n        else {\n            this.markRedraw();\n        }\n    };\n    Displayable.prototype.attrKV = function (key, value) {\n        if (key !== 'style') {\n            _super.prototype.attrKV.call(this, key, value);\n        }\n        else {\n            if (!this.style) {\n                this.useStyle(value);\n            }\n            else {\n                this.setStyle(value);\n            }\n        }\n    };\n    Displayable.prototype.setStyle = function (keyOrObj, value) {\n        if (typeof keyOrObj === 'string') {\n            this.style[keyOrObj] = value;\n        }\n        else {\n            extend(this.style, keyOrObj);\n        }\n        this.dirtyStyle();\n        return this;\n    };\n    Displayable.prototype.dirtyStyle = function (notRedraw) {\n        if (!notRedraw) {\n            this.markRedraw();\n        }\n        this.__dirty |= STYLE_CHANGED_BIT;\n        if (this._rect) {\n            this._rect = null;\n        }\n    };\n    Displayable.prototype.dirty = function () {\n        this.dirtyStyle();\n    };\n    Displayable.prototype.styleChanged = function () {\n        return !!(this.__dirty & STYLE_CHANGED_BIT);\n    };\n    Displayable.prototype.styleUpdated = function () {\n        this.__dirty &= ~STYLE_CHANGED_BIT;\n    };\n    Displayable.prototype.createStyle = function (obj) {\n        return createObject(DEFAULT_COMMON_STYLE, obj);\n    };\n    Displayable.prototype.useStyle = function (obj) {\n        if (!obj[STYLE_MAGIC_KEY]) {\n            obj = this.createStyle(obj);\n        }\n        if (this.__inHover) {\n            this.__hoverStyle = obj;\n        }\n        else {\n            this.style = obj;\n        }\n        this.dirtyStyle();\n    };\n    Displayable.prototype.isStyleObject = function (obj) {\n        return obj[STYLE_MAGIC_KEY];\n    };\n    Displayable.prototype._innerSaveToNormal = function (toState) {\n        _super.prototype._innerSaveToNormal.call(this, toState);\n        var normalState = this._normalState;\n        if (toState.style && !normalState.style) {\n            normalState.style = this._mergeStyle(this.createStyle(), this.style);\n        }\n        this._savePrimaryToNormal(toState, normalState, PRIMARY_STATES_KEYS);\n    };\n    Displayable.prototype._applyStateObj = function (stateName, state, normalState, keepCurrentStates, transition, animationCfg) {\n        _super.prototype._applyStateObj.call(this, stateName, state, normalState, keepCurrentStates, transition, animationCfg);\n        var needsRestoreToNormal = !(state && keepCurrentStates);\n        var targetStyle;\n        if (state && state.style) {\n            if (transition) {\n                if (keepCurrentStates) {\n                    targetStyle = state.style;\n                }\n                else {\n                    targetStyle = this._mergeStyle(this.createStyle(), normalState.style);\n                    this._mergeStyle(targetStyle, state.style);\n                }\n            }\n            else {\n                targetStyle = this._mergeStyle(this.createStyle(), keepCurrentStates ? this.style : normalState.style);\n                this._mergeStyle(targetStyle, state.style);\n            }\n        }\n        else if (needsRestoreToNormal) {\n            targetStyle = normalState.style;\n        }\n        if (targetStyle) {\n            if (transition) {\n                var sourceStyle = this.style;\n                this.style = this.createStyle(needsRestoreToNormal ? {} : sourceStyle);\n                if (needsRestoreToNormal) {\n                    var changedKeys = keys(sourceStyle);\n                    for (var i = 0; i < changedKeys.length; i++) {\n                        var key = changedKeys[i];\n                        if (key in targetStyle) {\n                            targetStyle[key] = targetStyle[key];\n                            this.style[key] = sourceStyle[key];\n                        }\n                    }\n                }\n                var targetKeys = keys(targetStyle);\n                for (var i = 0; i < targetKeys.length; i++) {\n                    var key = targetKeys[i];\n                    this.style[key] = this.style[key];\n                }\n                this._transitionState(stateName, {\n                    style: targetStyle\n                }, animationCfg, this.getAnimationStyleProps());\n            }\n            else {\n                this.useStyle(targetStyle);\n            }\n        }\n        var statesKeys = this.__inHover ? PRIMARY_STATES_KEYS_IN_HOVER_LAYER : PRIMARY_STATES_KEYS;\n        for (var i = 0; i < statesKeys.length; i++) {\n            var key = statesKeys[i];\n            if (state && state[key] != null) {\n                this[key] = state[key];\n            }\n            else if (needsRestoreToNormal) {\n                if (normalState[key] != null) {\n                    this[key] = normalState[key];\n                }\n            }\n        }\n    };\n    Displayable.prototype._mergeStates = function (states) {\n        var mergedState = _super.prototype._mergeStates.call(this, states);\n        var mergedStyle;\n        for (var i = 0; i < states.length; i++) {\n            var state = states[i];\n            if (state.style) {\n                mergedStyle = mergedStyle || {};\n                this._mergeStyle(mergedStyle, state.style);\n            }\n        }\n        if (mergedStyle) {\n            mergedState.style = mergedStyle;\n        }\n        return mergedState;\n    };\n    Displayable.prototype._mergeStyle = function (targetStyle, sourceStyle) {\n        extend(targetStyle, sourceStyle);\n        return targetStyle;\n    };\n    Displayable.prototype.getAnimationStyleProps = function () {\n        return DEFAULT_COMMON_ANIMATION_PROPS;\n    };\n    Displayable.initDefaultProps = (function () {\n        var dispProto = Displayable.prototype;\n        dispProto.type = 'displayable';\n        dispProto.invisible = false;\n        dispProto.z = 0;\n        dispProto.z2 = 0;\n        dispProto.zlevel = 0;\n        dispProto.culling = false;\n        dispProto.cursor = 'pointer';\n        dispProto.rectHover = false;\n        dispProto.incremental = false;\n        dispProto._rect = null;\n        dispProto.dirtyRectTolerance = 0;\n        dispProto.__dirty = REDRAW_BIT | STYLE_CHANGED_BIT;\n    })();\n    return Displayable;\n}(Element));\nvar tmpRect = new BoundingRect(0, 0, 0, 0);\nvar viewRect = new BoundingRect(0, 0, 0, 0);\nfunction isDisplayableCulled(el, width, height) {\n    tmpRect.copy(el.getBoundingRect());\n    if (el.transform) {\n        tmpRect.applyTransform(el.transform);\n    }\n    viewRect.width = width;\n    viewRect.height = height;\n    return !tmpRect.intersect(viewRect);\n}\nexport default Displayable;\n","var Gradient = (function () {\n    function Gradient(colorStops) {\n        this.colorStops = colorStops || [];\n    }\n    Gradient.prototype.addColorStop = function (offset, color) {\n        this.colorStops.push({\n            offset: offset,\n            color: color\n        });\n    };\n    return Gradient;\n}());\nexport default Gradient;\n","import { __extends } from \"tslib\";\nimport * as zrUtil from '../core/util.js';\nimport Element from '../Element.js';\nimport BoundingRect from '../core/BoundingRect.js';\nvar Group = (function (_super) {\n    __extends(Group, _super);\n    function Group(opts) {\n        var _this = _super.call(this) || this;\n        _this.isGroup = true;\n        _this._children = [];\n        _this.attr(opts);\n        return _this;\n    }\n    Group.prototype.childrenRef = function () {\n        return this._children;\n    };\n    Group.prototype.children = function () {\n        return this._children.slice();\n    };\n    Group.prototype.childAt = function (idx) {\n        return this._children[idx];\n    };\n    Group.prototype.childOfName = function (name) {\n        var children = this._children;\n        for (var i = 0; i < children.length; i++) {\n            if (children[i].name === name) {\n                return children[i];\n            }\n        }\n    };\n    Group.prototype.childCount = function () {\n        return this._children.length;\n    };\n    Group.prototype.add = function (child) {\n        if (child) {\n            if (child !== this && child.parent !== this) {\n                this._children.push(child);\n                this._doAdd(child);\n            }\n            if (process.env.NODE_ENV !== 'production') {\n                if (child.__hostTarget) {\n                    throw 'This elemenet has been used as an attachment';\n                }\n            }\n        }\n        return this;\n    };\n    Group.prototype.addBefore = function (child, nextSibling) {\n        if (child && child !== this && child.parent !== this\n            && nextSibling && nextSibling.parent === this) {\n            var children = this._children;\n            var idx = children.indexOf(nextSibling);\n            if (idx >= 0) {\n                children.splice(idx, 0, child);\n                this._doAdd(child);\n            }\n        }\n        return this;\n    };\n    Group.prototype.replace = function (oldChild, newChild) {\n        var idx = zrUtil.indexOf(this._children, oldChild);\n        if (idx >= 0) {\n            this.replaceAt(newChild, idx);\n        }\n        return this;\n    };\n    Group.prototype.replaceAt = function (child, index) {\n        var children = this._children;\n        var old = children[index];\n        if (child && child !== this && child.parent !== this && child !== old) {\n            children[index] = child;\n            old.parent = null;\n            var zr = this.__zr;\n            if (zr) {\n                old.removeSelfFromZr(zr);\n            }\n            this._doAdd(child);\n        }\n        return this;\n    };\n    Group.prototype._doAdd = function (child) {\n        if (child.parent) {\n            child.parent.remove(child);\n        }\n        child.parent = this;\n        var zr = this.__zr;\n        if (zr && zr !== child.__zr) {\n            child.addSelfToZr(zr);\n        }\n        zr && zr.refresh();\n    };\n    Group.prototype.remove = function (child) {\n        var zr = this.__zr;\n        var children = this._children;\n        var idx = zrUtil.indexOf(children, child);\n        if (idx < 0) {\n            return this;\n        }\n        children.splice(idx, 1);\n        child.parent = null;\n        if (zr) {\n            child.removeSelfFromZr(zr);\n        }\n        zr && zr.refresh();\n        return this;\n    };\n    Group.prototype.removeAll = function () {\n        var children = this._children;\n        var zr = this.__zr;\n        for (var i = 0; i < children.length; i++) {\n            var child = children[i];\n            if (zr) {\n                child.removeSelfFromZr(zr);\n            }\n            child.parent = null;\n        }\n        children.length = 0;\n        return this;\n    };\n    Group.prototype.eachChild = function (cb, context) {\n        var children = this._children;\n        for (var i = 0; i < children.length; i++) {\n            var child = children[i];\n            cb.call(context, child, i);\n        }\n        return this;\n    };\n    Group.prototype.traverse = function (cb, context) {\n        for (var i = 0; i < this._children.length; i++) {\n            var child = this._children[i];\n            var stopped = cb.call(context, child);\n            if (child.isGroup && !stopped) {\n                child.traverse(cb, context);\n            }\n        }\n        return this;\n    };\n    Group.prototype.addSelfToZr = function (zr) {\n        _super.prototype.addSelfToZr.call(this, zr);\n        for (var i = 0; i < this._children.length; i++) {\n            var child = this._children[i];\n            child.addSelfToZr(zr);\n        }\n    };\n    Group.prototype.removeSelfFromZr = function (zr) {\n        _super.prototype.removeSelfFromZr.call(this, zr);\n        for (var i = 0; i < this._children.length; i++) {\n            var child = this._children[i];\n            child.removeSelfFromZr(zr);\n        }\n    };\n    Group.prototype.getBoundingRect = function (includeChildren) {\n        var tmpRect = new BoundingRect(0, 0, 0, 0);\n        var children = includeChildren || this._children;\n        var tmpMat = [];\n        var rect = null;\n        for (var i = 0; i < children.length; i++) {\n            var child = children[i];\n            if (child.ignore || child.invisible) {\n                continue;\n            }\n            var childRect = child.getBoundingRect();\n            var transform = child.getLocalTransform(tmpMat);\n            if (transform) {\n                BoundingRect.applyTransform(tmpRect, childRect, transform);\n                rect = rect || tmpRect.clone();\n                rect.union(tmpRect);\n            }\n            else {\n                rect = rect || childRect.clone();\n                rect.union(childRect);\n            }\n        }\n        return rect || tmpRect;\n    };\n    return Group;\n}(Element));\nGroup.prototype.type = 'group';\nexport default Group;\n","import { __extends } from \"tslib\";\nimport Displayable, { DEFAULT_COMMON_STYLE, DEFAULT_COMMON_ANIMATION_PROPS } from './Displayable.js';\nimport BoundingRect from '../core/BoundingRect.js';\nimport { defaults, createObject } from '../core/util.js';\nexport var DEFAULT_IMAGE_STYLE = defaults({\n    x: 0,\n    y: 0\n}, DEFAULT_COMMON_STYLE);\nexport var DEFAULT_IMAGE_ANIMATION_PROPS = {\n    style: defaults({\n        x: true,\n        y: true,\n        width: true,\n        height: true,\n        sx: true,\n        sy: true,\n        sWidth: true,\n        sHeight: true\n    }, DEFAULT_COMMON_ANIMATION_PROPS.style)\n};\nfunction isImageLike(source) {\n    return !!(source\n        && typeof source !== 'string'\n        && source.width && source.height);\n}\nvar ZRImage = (function (_super) {\n    __extends(ZRImage, _super);\n    function ZRImage() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ZRImage.prototype.createStyle = function (obj) {\n        return createObject(DEFAULT_IMAGE_STYLE, obj);\n    };\n    ZRImage.prototype._getSize = function (dim) {\n        var style = this.style;\n        var size = style[dim];\n        if (size != null) {\n            return size;\n        }\n        var imageSource = isImageLike(style.image)\n            ? style.image : this.__image;\n        if (!imageSource) {\n            return 0;\n        }\n        var otherDim = dim === 'width' ? 'height' : 'width';\n        var otherDimSize = style[otherDim];\n        if (otherDimSize == null) {\n            return imageSource[dim];\n        }\n        else {\n            return imageSource[dim] / imageSource[otherDim] * otherDimSize;\n        }\n    };\n    ZRImage.prototype.getWidth = function () {\n        return this._getSize('width');\n    };\n    ZRImage.prototype.getHeight = function () {\n        return this._getSize('height');\n    };\n    ZRImage.prototype.getAnimationStyleProps = function () {\n        return DEFAULT_IMAGE_ANIMATION_PROPS;\n    };\n    ZRImage.prototype.getBoundingRect = function () {\n        var style = this.style;\n        if (!this._rect) {\n            this._rect = new BoundingRect(style.x || 0, style.y || 0, this.getWidth(), this.getHeight());\n        }\n        return this._rect;\n    };\n    return ZRImage;\n}(Displayable));\nZRImage.prototype.type = 'image';\nexport default ZRImage;\n","import { __extends } from \"tslib\";\nimport Displayble from './Displayable.js';\nimport BoundingRect from '../core/BoundingRect.js';\nvar m = [];\nvar IncrementalDisplayable = (function (_super) {\n    __extends(IncrementalDisplayable, _super);\n    function IncrementalDisplayable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.notClear = true;\n        _this.incremental = true;\n        _this._displayables = [];\n        _this._temporaryDisplayables = [];\n        _this._cursor = 0;\n        return _this;\n    }\n    IncrementalDisplayable.prototype.traverse = function (cb, context) {\n        cb.call(context, this);\n    };\n    IncrementalDisplayable.prototype.useStyle = function () {\n        this.style = {};\n    };\n    IncrementalDisplayable.prototype.getCursor = function () {\n        return this._cursor;\n    };\n    IncrementalDisplayable.prototype.innerAfterBrush = function () {\n        this._cursor = this._displayables.length;\n    };\n    IncrementalDisplayable.prototype.clearDisplaybles = function () {\n        this._displayables = [];\n        this._temporaryDisplayables = [];\n        this._cursor = 0;\n        this.markRedraw();\n        this.notClear = false;\n    };\n    IncrementalDisplayable.prototype.clearTemporalDisplayables = function () {\n        this._temporaryDisplayables = [];\n    };\n    IncrementalDisplayable.prototype.addDisplayable = function (displayable, notPersistent) {\n        if (notPersistent) {\n            this._temporaryDisplayables.push(displayable);\n        }\n        else {\n            this._displayables.push(displayable);\n        }\n        this.markRedraw();\n    };\n    IncrementalDisplayable.prototype.addDisplayables = function (displayables, notPersistent) {\n        notPersistent = notPersistent || false;\n        for (var i = 0; i < displayables.length; i++) {\n            this.addDisplayable(displayables[i], notPersistent);\n        }\n    };\n    IncrementalDisplayable.prototype.getDisplayables = function () {\n        return this._displayables;\n    };\n    IncrementalDisplayable.prototype.getTemporalDisplayables = function () {\n        return this._temporaryDisplayables;\n    };\n    IncrementalDisplayable.prototype.eachPendingDisplayable = function (cb) {\n        for (var i = this._cursor; i < this._displayables.length; i++) {\n            cb && cb(this._displayables[i]);\n        }\n        for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n            cb && cb(this._temporaryDisplayables[i]);\n        }\n    };\n    IncrementalDisplayable.prototype.update = function () {\n        this.updateTransform();\n        for (var i = this._cursor; i < this._displayables.length; i++) {\n            var displayable = this._displayables[i];\n            displayable.parent = this;\n            displayable.update();\n            displayable.parent = null;\n        }\n        for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n            var displayable = this._temporaryDisplayables[i];\n            displayable.parent = this;\n            displayable.update();\n            displayable.parent = null;\n        }\n    };\n    IncrementalDisplayable.prototype.getBoundingRect = function () {\n        if (!this._rect) {\n            var rect = new BoundingRect(Infinity, Infinity, -Infinity, -Infinity);\n            for (var i = 0; i < this._displayables.length; i++) {\n                var displayable = this._displayables[i];\n                var childRect = displayable.getBoundingRect().clone();\n                if (displayable.needLocalTransform()) {\n                    childRect.applyTransform(displayable.getLocalTransform(m));\n                }\n                rect.union(childRect);\n            }\n            this._rect = rect;\n        }\n        return this._rect;\n    };\n    IncrementalDisplayable.prototype.contain = function (x, y) {\n        var localPos = this.transformCoordToLocal(x, y);\n        var rect = this.getBoundingRect();\n        if (rect.contain(localPos[0], localPos[1])) {\n            for (var i = 0; i < this._displayables.length; i++) {\n                var displayable = this._displayables[i];\n                if (displayable.contain(x, y)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    return IncrementalDisplayable;\n}(Displayble));\nexport default IncrementalDisplayable;\n","import { __extends } from \"tslib\";\nimport Gradient from './Gradient.js';\nvar LinearGradient = (function (_super) {\n    __extends(LinearGradient, _super);\n    function LinearGradient(x, y, x2, y2, colorStops, globalCoord) {\n        var _this = _super.call(this, colorStops) || this;\n        _this.x = x == null ? 0 : x;\n        _this.y = y == null ? 0 : y;\n        _this.x2 = x2 == null ? 1 : x2;\n        _this.y2 = y2 == null ? 0 : y2;\n        _this.type = 'linear';\n        _this.global = globalCoord || false;\n        return _this;\n    }\n    return LinearGradient;\n}(Gradient));\nexport default LinearGradient;\n;\n","import * as curve from '../core/curve.js';\nexport function containStroke(x0, y0, x1, y1, x2, y2, x3, y3, lineWidth, x, y) {\n    if (lineWidth === 0) {\n        return false;\n    }\n    var _l = lineWidth;\n    if ((y > y0 + _l && y > y1 + _l && y > y2 + _l && y > y3 + _l)\n        || (y < y0 - _l && y < y1 - _l && y < y2 - _l && y < y3 - _l)\n        || (x > x0 + _l && x > x1 + _l && x > x2 + _l && x > x3 + _l)\n        || (x < x0 - _l && x < x1 - _l && x < x2 - _l && x < x3 - _l)) {\n        return false;\n    }\n    var d = curve.cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, null);\n    return d <= _l / 2;\n}\n","import { normalizeRadian } from './util.js';\nvar PI2 = Math.PI * 2;\nexport function containStroke(cx, cy, r, startAngle, endAngle, anticlockwise, lineWidth, x, y) {\n    if (lineWidth === 0) {\n        return false;\n    }\n    var _l = lineWidth;\n    x -= cx;\n    y -= cy;\n    var d = Math.sqrt(x * x + y * y);\n    if ((d - _l > r) || (d + _l < r)) {\n        return false;\n    }\n    if (Math.abs(startAngle - endAngle) % PI2 < 1e-4) {\n        return true;\n    }\n    if (anticlockwise) {\n        var tmp = startAngle;\n        startAngle = normalizeRadian(endAngle);\n        endAngle = normalizeRadian(tmp);\n    }\n    else {\n        startAngle = normalizeRadian(startAngle);\n        endAngle = normalizeRadian(endAngle);\n    }\n    if (startAngle > endAngle) {\n        endAngle += PI2;\n    }\n    var angle = Math.atan2(y, x);\n    if (angle < 0) {\n        angle += PI2;\n    }\n    return (angle >= startAngle && angle <= endAngle)\n        || (angle + PI2 >= startAngle && angle + PI2 <= endAngle);\n}\n","import PathProxy from '../core/PathProxy.js';\nimport * as line from './line.js';\nimport * as cubic from './cubic.js';\nimport * as quadratic from './quadratic.js';\nimport * as arc from './arc.js';\nimport * as curve from '../core/curve.js';\nimport windingLine from './windingLine.js';\nvar CMD = PathProxy.CMD;\nvar PI2 = Math.PI * 2;\nvar EPSILON = 1e-4;\nfunction isAroundEqual(a, b) {\n    return Math.abs(a - b) < EPSILON;\n}\nvar roots = [-1, -1, -1];\nvar extrema = [-1, -1];\nfunction swapExtrema() {\n    var tmp = extrema[0];\n    extrema[0] = extrema[1];\n    extrema[1] = tmp;\n}\nfunction windingCubic(x0, y0, x1, y1, x2, y2, x3, y3, x, y) {\n    if ((y > y0 && y > y1 && y > y2 && y > y3)\n        || (y < y0 && y < y1 && y < y2 && y < y3)) {\n        return 0;\n    }\n    var nRoots = curve.cubicRootAt(y0, y1, y2, y3, y, roots);\n    if (nRoots === 0) {\n        return 0;\n    }\n    else {\n        var w = 0;\n        var nExtrema = -1;\n        var y0_ = void 0;\n        var y1_ = void 0;\n        for (var i = 0; i < nRoots; i++) {\n            var t = roots[i];\n            var unit = (t === 0 || t === 1) ? 0.5 : 1;\n            var x_ = curve.cubicAt(x0, x1, x2, x3, t);\n            if (x_ < x) {\n                continue;\n            }\n            if (nExtrema < 0) {\n                nExtrema = curve.cubicExtrema(y0, y1, y2, y3, extrema);\n                if (extrema[1] < extrema[0] && nExtrema > 1) {\n                    swapExtrema();\n                }\n                y0_ = curve.cubicAt(y0, y1, y2, y3, extrema[0]);\n                if (nExtrema > 1) {\n                    y1_ = curve.cubicAt(y0, y1, y2, y3, extrema[1]);\n                }\n            }\n            if (nExtrema === 2) {\n                if (t < extrema[0]) {\n                    w += y0_ < y0 ? unit : -unit;\n                }\n                else if (t < extrema[1]) {\n                    w += y1_ < y0_ ? unit : -unit;\n                }\n                else {\n                    w += y3 < y1_ ? unit : -unit;\n                }\n            }\n            else {\n                if (t < extrema[0]) {\n                    w += y0_ < y0 ? unit : -unit;\n                }\n                else {\n                    w += y3 < y0_ ? unit : -unit;\n                }\n            }\n        }\n        return w;\n    }\n}\nfunction windingQuadratic(x0, y0, x1, y1, x2, y2, x, y) {\n    if ((y > y0 && y > y1 && y > y2)\n        || (y < y0 && y < y1 && y < y2)) {\n        return 0;\n    }\n    var nRoots = curve.quadraticRootAt(y0, y1, y2, y, roots);\n    if (nRoots === 0) {\n        return 0;\n    }\n    else {\n        var t = curve.quadraticExtremum(y0, y1, y2);\n        if (t >= 0 && t <= 1) {\n            var w = 0;\n            var y_ = curve.quadraticAt(y0, y1, y2, t);\n            for (var i = 0; i < nRoots; i++) {\n                var unit = (roots[i] === 0 || roots[i] === 1) ? 0.5 : 1;\n                var x_ = curve.quadraticAt(x0, x1, x2, roots[i]);\n                if (x_ < x) {\n                    continue;\n                }\n                if (roots[i] < t) {\n                    w += y_ < y0 ? unit : -unit;\n                }\n                else {\n                    w += y2 < y_ ? unit : -unit;\n                }\n            }\n            return w;\n        }\n        else {\n            var unit = (roots[0] === 0 || roots[0] === 1) ? 0.5 : 1;\n            var x_ = curve.quadraticAt(x0, x1, x2, roots[0]);\n            if (x_ < x) {\n                return 0;\n            }\n            return y2 < y0 ? unit : -unit;\n        }\n    }\n}\nfunction windingArc(cx, cy, r, startAngle, endAngle, anticlockwise, x, y) {\n    y -= cy;\n    if (y > r || y < -r) {\n        return 0;\n    }\n    var tmp = Math.sqrt(r * r - y * y);\n    roots[0] = -tmp;\n    roots[1] = tmp;\n    var dTheta = Math.abs(startAngle - endAngle);\n    if (dTheta < 1e-4) {\n        return 0;\n    }\n    if (dTheta >= PI2 - 1e-4) {\n        startAngle = 0;\n        endAngle = PI2;\n        var dir = anticlockwise ? 1 : -1;\n        if (x >= roots[0] + cx && x <= roots[1] + cx) {\n            return dir;\n        }\n        else {\n            return 0;\n        }\n    }\n    if (startAngle > endAngle) {\n        var tmp_1 = startAngle;\n        startAngle = endAngle;\n        endAngle = tmp_1;\n    }\n    if (startAngle < 0) {\n        startAngle += PI2;\n        endAngle += PI2;\n    }\n    var w = 0;\n    for (var i = 0; i < 2; i++) {\n        var x_ = roots[i];\n        if (x_ + cx > x) {\n            var angle = Math.atan2(y, x_);\n            var dir = anticlockwise ? 1 : -1;\n            if (angle < 0) {\n                angle = PI2 + angle;\n            }\n            if ((angle >= startAngle && angle <= endAngle)\n                || (angle + PI2 >= startAngle && angle + PI2 <= endAngle)) {\n                if (angle > Math.PI / 2 && angle < Math.PI * 1.5) {\n                    dir = -dir;\n                }\n                w += dir;\n            }\n        }\n    }\n    return w;\n}\nfunction containPath(path, lineWidth, isStroke, x, y) {\n    var data = path.data;\n    var len = path.len();\n    var w = 0;\n    var xi = 0;\n    var yi = 0;\n    var x0 = 0;\n    var y0 = 0;\n    var x1;\n    var y1;\n    for (var i = 0; i < len;) {\n        var cmd = data[i++];\n        var isFirst = i === 1;\n        if (cmd === CMD.M && i > 1) {\n            if (!isStroke) {\n                w += windingLine(xi, yi, x0, y0, x, y);\n            }\n        }\n        if (isFirst) {\n            xi = data[i];\n            yi = data[i + 1];\n            x0 = xi;\n            y0 = yi;\n        }\n        switch (cmd) {\n            case CMD.M:\n                x0 = data[i++];\n                y0 = data[i++];\n                xi = x0;\n                yi = y0;\n                break;\n            case CMD.L:\n                if (isStroke) {\n                    if (line.containStroke(xi, yi, data[i], data[i + 1], lineWidth, x, y)) {\n                        return true;\n                    }\n                }\n                else {\n                    w += windingLine(xi, yi, data[i], data[i + 1], x, y) || 0;\n                }\n                xi = data[i++];\n                yi = data[i++];\n                break;\n            case CMD.C:\n                if (isStroke) {\n                    if (cubic.containStroke(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], lineWidth, x, y)) {\n                        return true;\n                    }\n                }\n                else {\n                    w += windingCubic(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], x, y) || 0;\n                }\n                xi = data[i++];\n                yi = data[i++];\n                break;\n            case CMD.Q:\n                if (isStroke) {\n                    if (quadratic.containStroke(xi, yi, data[i++], data[i++], data[i], data[i + 1], lineWidth, x, y)) {\n                        return true;\n                    }\n                }\n                else {\n                    w += windingQuadratic(xi, yi, data[i++], data[i++], data[i], data[i + 1], x, y) || 0;\n                }\n                xi = data[i++];\n                yi = data[i++];\n                break;\n            case CMD.A:\n                var cx = data[i++];\n                var cy = data[i++];\n                var rx = data[i++];\n                var ry = data[i++];\n                var theta = data[i++];\n                var dTheta = data[i++];\n                i += 1;\n                var anticlockwise = !!(1 - data[i++]);\n                x1 = Math.cos(theta) * rx + cx;\n                y1 = Math.sin(theta) * ry + cy;\n                if (!isFirst) {\n                    w += windingLine(xi, yi, x1, y1, x, y);\n                }\n                else {\n                    x0 = x1;\n                    y0 = y1;\n                }\n                var _x = (x - cx) * ry / rx + cx;\n                if (isStroke) {\n                    if (arc.containStroke(cx, cy, ry, theta, theta + dTheta, anticlockwise, lineWidth, _x, y)) {\n                        return true;\n                    }\n                }\n                else {\n                    w += windingArc(cx, cy, ry, theta, theta + dTheta, anticlockwise, _x, y);\n                }\n                xi = Math.cos(theta + dTheta) * rx + cx;\n                yi = Math.sin(theta + dTheta) * ry + cy;\n                break;\n            case CMD.R:\n                x0 = xi = data[i++];\n                y0 = yi = data[i++];\n                var width = data[i++];\n                var height = data[i++];\n                x1 = x0 + width;\n                y1 = y0 + height;\n                if (isStroke) {\n                    if (line.containStroke(x0, y0, x1, y0, lineWidth, x, y)\n                        || line.containStroke(x1, y0, x1, y1, lineWidth, x, y)\n                        || line.containStroke(x1, y1, x0, y1, lineWidth, x, y)\n                        || line.containStroke(x0, y1, x0, y0, lineWidth, x, y)) {\n                        return true;\n                    }\n                }\n                else {\n                    w += windingLine(x1, y0, x1, y1, x, y);\n                    w += windingLine(x0, y1, x0, y0, x, y);\n                }\n                break;\n            case CMD.Z:\n                if (isStroke) {\n                    if (line.containStroke(xi, yi, x0, y0, lineWidth, x, y)) {\n                        return true;\n                    }\n                }\n                else {\n                    w += windingLine(xi, yi, x0, y0, x, y);\n                }\n                xi = x0;\n                yi = y0;\n                break;\n        }\n    }\n    if (!isStroke && !isAroundEqual(yi, y0)) {\n        w += windingLine(xi, yi, x0, y0, x, y) || 0;\n    }\n    return w !== 0;\n}\nexport function contain(pathProxy, x, y) {\n    return containPath(pathProxy, 0, false, x, y);\n}\nexport function containStroke(pathProxy, lineWidth, x, y) {\n    return containPath(pathProxy, lineWidth, true, x, y);\n}\n","import { __extends } from \"tslib\";\nimport Displayable, { DEFAULT_COMMON_STYLE, DEFAULT_COMMON_ANIMATION_PROPS } from './Displayable.js';\nimport PathProxy from '../core/PathProxy.js';\nimport * as pathContain from '../contain/path.js';\nimport { defaults, keys, extend, clone, isString, createObject } from '../core/util.js';\nimport { lum } from '../tool/color.js';\nimport { DARK_LABEL_COLOR, LIGHT_LABEL_COLOR, DARK_MODE_THRESHOLD, LIGHTER_LABEL_COLOR } from '../config.js';\nimport { REDRAW_BIT, SHAPE_CHANGED_BIT, STYLE_CHANGED_BIT } from './constants.js';\nimport { TRANSFORMABLE_PROPS } from '../core/Transformable.js';\nexport var DEFAULT_PATH_STYLE = defaults({\n    fill: '#000',\n    stroke: null,\n    strokePercent: 1,\n    fillOpacity: 1,\n    strokeOpacity: 1,\n    lineDashOffset: 0,\n    lineWidth: 1,\n    lineCap: 'butt',\n    miterLimit: 10,\n    strokeNoScale: false,\n    strokeFirst: false\n}, DEFAULT_COMMON_STYLE);\nexport var DEFAULT_PATH_ANIMATION_PROPS = {\n    style: defaults({\n        fill: true,\n        stroke: true,\n        strokePercent: true,\n        fillOpacity: true,\n        strokeOpacity: true,\n        lineDashOffset: true,\n        lineWidth: true,\n        miterLimit: true\n    }, DEFAULT_COMMON_ANIMATION_PROPS.style)\n};\nvar pathCopyParams = TRANSFORMABLE_PROPS.concat(['invisible',\n    'culling', 'z', 'z2', 'zlevel', 'parent'\n]);\nvar Path = (function (_super) {\n    __extends(Path, _super);\n    function Path(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Path.prototype.update = function () {\n        var _this = this;\n        _super.prototype.update.call(this);\n        var style = this.style;\n        if (style.decal) {\n            var decalEl = this._decalEl = this._decalEl || new Path();\n            if (decalEl.buildPath === Path.prototype.buildPath) {\n                decalEl.buildPath = function (ctx) {\n                    _this.buildPath(ctx, _this.shape);\n                };\n            }\n            decalEl.silent = true;\n            var decalElStyle = decalEl.style;\n            for (var key in style) {\n                if (decalElStyle[key] !== style[key]) {\n                    decalElStyle[key] = style[key];\n                }\n            }\n            decalElStyle.fill = style.fill ? style.decal : null;\n            decalElStyle.decal = null;\n            decalElStyle.shadowColor = null;\n            style.strokeFirst && (decalElStyle.stroke = null);\n            for (var i = 0; i < pathCopyParams.length; ++i) {\n                decalEl[pathCopyParams[i]] = this[pathCopyParams[i]];\n            }\n            decalEl.__dirty |= REDRAW_BIT;\n        }\n        else if (this._decalEl) {\n            this._decalEl = null;\n        }\n    };\n    Path.prototype.getDecalElement = function () {\n        return this._decalEl;\n    };\n    Path.prototype._init = function (props) {\n        var keysArr = keys(props);\n        this.shape = this.getDefaultShape();\n        var defaultStyle = this.getDefaultStyle();\n        if (defaultStyle) {\n            this.useStyle(defaultStyle);\n        }\n        for (var i = 0; i < keysArr.length; i++) {\n            var key = keysArr[i];\n            var value = props[key];\n            if (key === 'style') {\n                if (!this.style) {\n                    this.useStyle(value);\n                }\n                else {\n                    extend(this.style, value);\n                }\n            }\n            else if (key === 'shape') {\n                extend(this.shape, value);\n            }\n            else {\n                _super.prototype.attrKV.call(this, key, value);\n            }\n        }\n        if (!this.style) {\n            this.useStyle({});\n        }\n    };\n    Path.prototype.getDefaultStyle = function () {\n        return null;\n    };\n    Path.prototype.getDefaultShape = function () {\n        return {};\n    };\n    Path.prototype.canBeInsideText = function () {\n        return this.hasFill();\n    };\n    Path.prototype.getInsideTextFill = function () {\n        var pathFill = this.style.fill;\n        if (pathFill !== 'none') {\n            if (isString(pathFill)) {\n                var fillLum = lum(pathFill, 0);\n                if (fillLum > 0.5) {\n                    return DARK_LABEL_COLOR;\n                }\n                else if (fillLum > 0.2) {\n                    return LIGHTER_LABEL_COLOR;\n                }\n                return LIGHT_LABEL_COLOR;\n            }\n            else if (pathFill) {\n                return LIGHT_LABEL_COLOR;\n            }\n        }\n        return DARK_LABEL_COLOR;\n    };\n    Path.prototype.getInsideTextStroke = function (textFill) {\n        var pathFill = this.style.fill;\n        if (isString(pathFill)) {\n            var zr = this.__zr;\n            var isDarkMode = !!(zr && zr.isDarkMode());\n            var isDarkLabel = lum(textFill, 0) < DARK_MODE_THRESHOLD;\n            if (isDarkMode === isDarkLabel) {\n                return pathFill;\n            }\n        }\n    };\n    Path.prototype.buildPath = function (ctx, shapeCfg, inBatch) { };\n    Path.prototype.pathUpdated = function () {\n        this.__dirty &= ~SHAPE_CHANGED_BIT;\n    };\n    Path.prototype.getUpdatedPathProxy = function (inBatch) {\n        !this.path && this.createPathProxy();\n        this.path.beginPath();\n        this.buildPath(this.path, this.shape, inBatch);\n        return this.path;\n    };\n    Path.prototype.createPathProxy = function () {\n        this.path = new PathProxy(false);\n    };\n    Path.prototype.hasStroke = function () {\n        var style = this.style;\n        var stroke = style.stroke;\n        return !(stroke == null || stroke === 'none' || !(style.lineWidth > 0));\n    };\n    Path.prototype.hasFill = function () {\n        var style = this.style;\n        var fill = style.fill;\n        return fill != null && fill !== 'none';\n    };\n    Path.prototype.getBoundingRect = function () {\n        var rect = this._rect;\n        var style = this.style;\n        var needsUpdateRect = !rect;\n        if (needsUpdateRect) {\n            var firstInvoke = false;\n            if (!this.path) {\n                firstInvoke = true;\n                this.createPathProxy();\n            }\n            var path = this.path;\n            if (firstInvoke || (this.__dirty & SHAPE_CHANGED_BIT)) {\n                path.beginPath();\n                this.buildPath(path, this.shape, false);\n                this.pathUpdated();\n            }\n            rect = path.getBoundingRect();\n        }\n        this._rect = rect;\n        if (this.hasStroke() && this.path && this.path.len() > 0) {\n            var rectStroke = this._rectStroke || (this._rectStroke = rect.clone());\n            if (this.__dirty || needsUpdateRect) {\n                rectStroke.copy(rect);\n                var lineScale = style.strokeNoScale ? this.getLineScale() : 1;\n                var w = style.lineWidth;\n                if (!this.hasFill()) {\n                    var strokeContainThreshold = this.strokeContainThreshold;\n                    w = Math.max(w, strokeContainThreshold == null ? 4 : strokeContainThreshold);\n                }\n                if (lineScale > 1e-10) {\n                    rectStroke.width += w / lineScale;\n                    rectStroke.height += w / lineScale;\n                    rectStroke.x -= w / lineScale / 2;\n                    rectStroke.y -= w / lineScale / 2;\n                }\n            }\n            return rectStroke;\n        }\n        return rect;\n    };\n    Path.prototype.contain = function (x, y) {\n        var localPos = this.transformCoordToLocal(x, y);\n        var rect = this.getBoundingRect();\n        var style = this.style;\n        x = localPos[0];\n        y = localPos[1];\n        if (rect.contain(x, y)) {\n            var pathProxy = this.path;\n            if (this.hasStroke()) {\n                var lineWidth = style.lineWidth;\n                var lineScale = style.strokeNoScale ? this.getLineScale() : 1;\n                if (lineScale > 1e-10) {\n                    if (!this.hasFill()) {\n                        lineWidth = Math.max(lineWidth, this.strokeContainThreshold);\n                    }\n                    if (pathContain.containStroke(pathProxy, lineWidth / lineScale, x, y)) {\n                        return true;\n                    }\n                }\n            }\n            if (this.hasFill()) {\n                return pathContain.contain(pathProxy, x, y);\n            }\n        }\n        return false;\n    };\n    Path.prototype.dirtyShape = function () {\n        this.__dirty |= SHAPE_CHANGED_BIT;\n        if (this._rect) {\n            this._rect = null;\n        }\n        if (this._decalEl) {\n            this._decalEl.dirtyShape();\n        }\n        this.markRedraw();\n    };\n    Path.prototype.dirty = function () {\n        this.dirtyStyle();\n        this.dirtyShape();\n    };\n    Path.prototype.animateShape = function (loop) {\n        return this.animate('shape', loop);\n    };\n    Path.prototype.updateDuringAnimation = function (targetKey) {\n        if (targetKey === 'style') {\n            this.dirtyStyle();\n        }\n        else if (targetKey === 'shape') {\n            this.dirtyShape();\n        }\n        else {\n            this.markRedraw();\n        }\n    };\n    Path.prototype.attrKV = function (key, value) {\n        if (key === 'shape') {\n            this.setShape(value);\n        }\n        else {\n            _super.prototype.attrKV.call(this, key, value);\n        }\n    };\n    Path.prototype.setShape = function (keyOrObj, value) {\n        var shape = this.shape;\n        if (!shape) {\n            shape = this.shape = {};\n        }\n        if (typeof keyOrObj === 'string') {\n            shape[keyOrObj] = value;\n        }\n        else {\n            extend(shape, keyOrObj);\n        }\n        this.dirtyShape();\n        return this;\n    };\n    Path.prototype.shapeChanged = function () {\n        return !!(this.__dirty & SHAPE_CHANGED_BIT);\n    };\n    Path.prototype.createStyle = function (obj) {\n        return createObject(DEFAULT_PATH_STYLE, obj);\n    };\n    Path.prototype._innerSaveToNormal = function (toState) {\n        _super.prototype._innerSaveToNormal.call(this, toState);\n        var normalState = this._normalState;\n        if (toState.shape && !normalState.shape) {\n            normalState.shape = extend({}, this.shape);\n        }\n    };\n    Path.prototype._applyStateObj = function (stateName, state, normalState, keepCurrentStates, transition, animationCfg) {\n        _super.prototype._applyStateObj.call(this, stateName, state, normalState, keepCurrentStates, transition, animationCfg);\n        var needsRestoreToNormal = !(state && keepCurrentStates);\n        var targetShape;\n        if (state && state.shape) {\n            if (transition) {\n                if (keepCurrentStates) {\n                    targetShape = state.shape;\n                }\n                else {\n                    targetShape = extend({}, normalState.shape);\n                    extend(targetShape, state.shape);\n                }\n            }\n            else {\n                targetShape = extend({}, keepCurrentStates ? this.shape : normalState.shape);\n                extend(targetShape, state.shape);\n            }\n        }\n        else if (needsRestoreToNormal) {\n            targetShape = normalState.shape;\n        }\n        if (targetShape) {\n            if (transition) {\n                this.shape = extend({}, this.shape);\n                var targetShapePrimaryProps = {};\n                var shapeKeys = keys(targetShape);\n                for (var i = 0; i < shapeKeys.length; i++) {\n                    var key = shapeKeys[i];\n                    if (typeof targetShape[key] === 'object') {\n                        this.shape[key] = targetShape[key];\n                    }\n                    else {\n                        targetShapePrimaryProps[key] = targetShape[key];\n                    }\n                }\n                this._transitionState(stateName, {\n                    shape: targetShapePrimaryProps\n                }, animationCfg);\n            }\n            else {\n                this.shape = targetShape;\n                this.dirtyShape();\n            }\n        }\n    };\n    Path.prototype._mergeStates = function (states) {\n        var mergedState = _super.prototype._mergeStates.call(this, states);\n        var mergedShape;\n        for (var i = 0; i < states.length; i++) {\n            var state = states[i];\n            if (state.shape) {\n                mergedShape = mergedShape || {};\n                this._mergeStyle(mergedShape, state.shape);\n            }\n        }\n        if (mergedShape) {\n            mergedState.shape = mergedShape;\n        }\n        return mergedState;\n    };\n    Path.prototype.getAnimationStyleProps = function () {\n        return DEFAULT_PATH_ANIMATION_PROPS;\n    };\n    Path.prototype.isZeroArea = function () {\n        return false;\n    };\n    Path.extend = function (defaultProps) {\n        var Sub = (function (_super) {\n            __extends(Sub, _super);\n            function Sub(opts) {\n                var _this = _super.call(this, opts) || this;\n                defaultProps.init && defaultProps.init.call(_this, opts);\n                return _this;\n            }\n            Sub.prototype.getDefaultStyle = function () {\n                return clone(defaultProps.style);\n            };\n            Sub.prototype.getDefaultShape = function () {\n                return clone(defaultProps.shape);\n            };\n            return Sub;\n        }(Path));\n        for (var key in defaultProps) {\n            if (typeof defaultProps[key] === 'function') {\n                Sub.prototype[key] = defaultProps[key];\n            }\n        }\n        return Sub;\n    };\n    Path.initDefaultProps = (function () {\n        var pathProto = Path.prototype;\n        pathProto.type = 'path';\n        pathProto.strokeContainThreshold = 5;\n        pathProto.segmentIgnoreThreshold = 0;\n        pathProto.subPixelOptimize = false;\n        pathProto.autoBatch = false;\n        pathProto.__dirty = REDRAW_BIT | STYLE_CHANGED_BIT | SHAPE_CHANGED_BIT;\n    })();\n    return Path;\n}(Displayable));\nexport default Path;\n","import { __extends } from \"tslib\";\nimport Gradient from './Gradient.js';\nvar RadialGradient = (function (_super) {\n    __extends(RadialGradient, _super);\n    function RadialGradient(x, y, r, colorStops, globalCoord) {\n        var _this = _super.call(this, colorStops) || this;\n        _this.x = x == null ? 0.5 : x;\n        _this.y = y == null ? 0.5 : y;\n        _this.r = r == null ? 0.5 : r;\n        _this.type = 'radial';\n        _this.global = globalCoord || false;\n        return _this;\n    }\n    return RadialGradient;\n}(Gradient));\nexport default RadialGradient;\n","import { __extends } from \"tslib\";\nimport Displayable from './Displayable.js';\nimport { getBoundingRect } from '../contain/text.js';\nimport { DEFAULT_PATH_STYLE } from './Path.js';\nimport { createObject, defaults } from '../core/util.js';\nimport { DEFAULT_FONT } from '../core/platform.js';\nexport var DEFAULT_TSPAN_STYLE = defaults({\n    strokeFirst: true,\n    font: DEFAULT_FONT,\n    x: 0,\n    y: 0,\n    textAlign: 'left',\n    textBaseline: 'top',\n    miterLimit: 2\n}, DEFAULT_PATH_STYLE);\nvar TSpan = (function (_super) {\n    __extends(TSpan, _super);\n    function TSpan() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TSpan.prototype.hasStroke = function () {\n        var style = this.style;\n        var stroke = style.stroke;\n        return stroke != null && stroke !== 'none' && style.lineWidth > 0;\n    };\n    TSpan.prototype.hasFill = function () {\n        var style = this.style;\n        var fill = style.fill;\n        return fill != null && fill !== 'none';\n    };\n    TSpan.prototype.createStyle = function (obj) {\n        return createObject(DEFAULT_TSPAN_STYLE, obj);\n    };\n    TSpan.prototype.setBoundingRect = function (rect) {\n        this._rect = rect;\n    };\n    TSpan.prototype.getBoundingRect = function () {\n        var style = this.style;\n        if (!this._rect) {\n            var text = style.text;\n            text != null ? (text += '') : (text = '');\n            var rect = getBoundingRect(text, style.font, style.textAlign, style.textBaseline);\n            rect.x += style.x || 0;\n            rect.y += style.y || 0;\n            if (this.hasStroke()) {\n                var w = style.lineWidth;\n                rect.x -= w / 2;\n                rect.y -= w / 2;\n                rect.width += w;\n                rect.height += w;\n            }\n            this._rect = rect;\n        }\n        return this._rect;\n    };\n    TSpan.initDefaultProps = (function () {\n        var tspanProto = TSpan.prototype;\n        tspanProto.dirtyRectTolerance = 10;\n    })();\n    return TSpan;\n}(Displayable));\nTSpan.prototype.type = 'tspan';\nexport default TSpan;\n","import { __extends } from \"tslib\";\nimport { parseRichText, parsePlainText } from './helper/parseText.js';\nimport TSpan from './TSpan.js';\nimport { retrieve2, each, normalizeCssArray, trim, retrieve3, extend, keys, defaults } from '../core/util.js';\nimport { adjustTextX, adjustTextY } from '../contain/text.js';\nimport ZRImage from './Image.js';\nimport Rect from './shape/Rect.js';\nimport BoundingRect from '../core/BoundingRect.js';\nimport Displayable, { DEFAULT_COMMON_ANIMATION_PROPS } from './Displayable.js';\nimport { DEFAULT_FONT, DEFAULT_FONT_SIZE } from '../core/platform.js';\nvar DEFAULT_RICH_TEXT_COLOR = {\n    fill: '#000'\n};\nvar DEFAULT_STROKE_LINE_WIDTH = 2;\nexport var DEFAULT_TEXT_ANIMATION_PROPS = {\n    style: defaults({\n        fill: true,\n        stroke: true,\n        fillOpacity: true,\n        strokeOpacity: true,\n        lineWidth: true,\n        fontSize: true,\n        lineHeight: true,\n        width: true,\n        height: true,\n        textShadowColor: true,\n        textShadowBlur: true,\n        textShadowOffsetX: true,\n        textShadowOffsetY: true,\n        backgroundColor: true,\n        padding: true,\n        borderColor: true,\n        borderWidth: true,\n        borderRadius: true\n    }, DEFAULT_COMMON_ANIMATION_PROPS.style)\n};\nvar ZRText = (function (_super) {\n    __extends(ZRText, _super);\n    function ZRText(opts) {\n        var _this = _super.call(this) || this;\n        _this.type = 'text';\n        _this._children = [];\n        _this._defaultStyle = DEFAULT_RICH_TEXT_COLOR;\n        _this.attr(opts);\n        return _this;\n    }\n    ZRText.prototype.childrenRef = function () {\n        return this._children;\n    };\n    ZRText.prototype.update = function () {\n        _super.prototype.update.call(this);\n        if (this.styleChanged()) {\n            this._updateSubTexts();\n        }\n        for (var i = 0; i < this._children.length; i++) {\n            var child = this._children[i];\n            child.zlevel = this.zlevel;\n            child.z = this.z;\n            child.z2 = this.z2;\n            child.culling = this.culling;\n            child.cursor = this.cursor;\n            child.invisible = this.invisible;\n        }\n    };\n    ZRText.prototype.updateTransform = function () {\n        var innerTransformable = this.innerTransformable;\n        if (innerTransformable) {\n            innerTransformable.updateTransform();\n            if (innerTransformable.transform) {\n                this.transform = innerTransformable.transform;\n            }\n        }\n        else {\n            _super.prototype.updateTransform.call(this);\n        }\n    };\n    ZRText.prototype.getLocalTransform = function (m) {\n        var innerTransformable = this.innerTransformable;\n        return innerTransformable\n            ? innerTransformable.getLocalTransform(m)\n            : _super.prototype.getLocalTransform.call(this, m);\n    };\n    ZRText.prototype.getComputedTransform = function () {\n        if (this.__hostTarget) {\n            this.__hostTarget.getComputedTransform();\n            this.__hostTarget.updateInnerText(true);\n        }\n        return _super.prototype.getComputedTransform.call(this);\n    };\n    ZRText.prototype._updateSubTexts = function () {\n        this._childCursor = 0;\n        normalizeTextStyle(this.style);\n        this.style.rich\n            ? this._updateRichTexts()\n            : this._updatePlainTexts();\n        this._children.length = this._childCursor;\n        this.styleUpdated();\n    };\n    ZRText.prototype.addSelfToZr = function (zr) {\n        _super.prototype.addSelfToZr.call(this, zr);\n        for (var i = 0; i < this._children.length; i++) {\n            this._children[i].__zr = zr;\n        }\n    };\n    ZRText.prototype.removeSelfFromZr = function (zr) {\n        _super.prototype.removeSelfFromZr.call(this, zr);\n        for (var i = 0; i < this._children.length; i++) {\n            this._children[i].__zr = null;\n        }\n    };\n    ZRText.prototype.getBoundingRect = function () {\n        if (this.styleChanged()) {\n            this._updateSubTexts();\n        }\n        if (!this._rect) {\n            var tmpRect = new BoundingRect(0, 0, 0, 0);\n            var children = this._children;\n            var tmpMat = [];\n            var rect = null;\n            for (var i = 0; i < children.length; i++) {\n                var child = children[i];\n                var childRect = child.getBoundingRect();\n                var transform = child.getLocalTransform(tmpMat);\n                if (transform) {\n                    tmpRect.copy(childRect);\n                    tmpRect.applyTransform(transform);\n                    rect = rect || tmpRect.clone();\n                    rect.union(tmpRect);\n                }\n                else {\n                    rect = rect || childRect.clone();\n                    rect.union(childRect);\n                }\n            }\n            this._rect = rect || tmpRect;\n        }\n        return this._rect;\n    };\n    ZRText.prototype.setDefaultTextStyle = function (defaultTextStyle) {\n        this._defaultStyle = defaultTextStyle || DEFAULT_RICH_TEXT_COLOR;\n    };\n    ZRText.prototype.setTextContent = function (textContent) {\n        if (process.env.NODE_ENV !== 'production') {\n            throw new Error('Can\\'t attach text on another text');\n        }\n    };\n    ZRText.prototype._mergeStyle = function (targetStyle, sourceStyle) {\n        if (!sourceStyle) {\n            return targetStyle;\n        }\n        var sourceRich = sourceStyle.rich;\n        var targetRich = targetStyle.rich || (sourceRich && {});\n        extend(targetStyle, sourceStyle);\n        if (sourceRich && targetRich) {\n            this._mergeRich(targetRich, sourceRich);\n            targetStyle.rich = targetRich;\n        }\n        else if (targetRich) {\n            targetStyle.rich = targetRich;\n        }\n        return targetStyle;\n    };\n    ZRText.prototype._mergeRich = function (targetRich, sourceRich) {\n        var richNames = keys(sourceRich);\n        for (var i = 0; i < richNames.length; i++) {\n            var richName = richNames[i];\n            targetRich[richName] = targetRich[richName] || {};\n            extend(targetRich[richName], sourceRich[richName]);\n        }\n    };\n    ZRText.prototype.getAnimationStyleProps = function () {\n        return DEFAULT_TEXT_ANIMATION_PROPS;\n    };\n    ZRText.prototype._getOrCreateChild = function (Ctor) {\n        var child = this._children[this._childCursor];\n        if (!child || !(child instanceof Ctor)) {\n            child = new Ctor();\n        }\n        this._children[this._childCursor++] = child;\n        child.__zr = this.__zr;\n        child.parent = this;\n        return child;\n    };\n    ZRText.prototype._updatePlainTexts = function () {\n        var style = this.style;\n        var textFont = style.font || DEFAULT_FONT;\n        var textPadding = style.padding;\n        var text = getStyleText(style);\n        var contentBlock = parsePlainText(text, style);\n        var needDrawBg = needDrawBackground(style);\n        var bgColorDrawn = !!(style.backgroundColor);\n        var outerHeight = contentBlock.outerHeight;\n        var outerWidth = contentBlock.outerWidth;\n        var contentWidth = contentBlock.contentWidth;\n        var textLines = contentBlock.lines;\n        var lineHeight = contentBlock.lineHeight;\n        var defaultStyle = this._defaultStyle;\n        var baseX = style.x || 0;\n        var baseY = style.y || 0;\n        var textAlign = style.align || defaultStyle.align || 'left';\n        var verticalAlign = style.verticalAlign || defaultStyle.verticalAlign || 'top';\n        var textX = baseX;\n        var textY = adjustTextY(baseY, contentBlock.contentHeight, verticalAlign);\n        if (needDrawBg || textPadding) {\n            var boxX = adjustTextX(baseX, outerWidth, textAlign);\n            var boxY = adjustTextY(baseY, outerHeight, verticalAlign);\n            needDrawBg && this._renderBackground(style, style, boxX, boxY, outerWidth, outerHeight);\n        }\n        textY += lineHeight / 2;\n        if (textPadding) {\n            textX = getTextXForPadding(baseX, textAlign, textPadding);\n            if (verticalAlign === 'top') {\n                textY += textPadding[0];\n            }\n            else if (verticalAlign === 'bottom') {\n                textY -= textPadding[2];\n            }\n        }\n        var defaultLineWidth = 0;\n        var useDefaultFill = false;\n        var textFill = getFill('fill' in style\n            ? style.fill\n            : (useDefaultFill = true, defaultStyle.fill));\n        var textStroke = getStroke('stroke' in style\n            ? style.stroke\n            : (!bgColorDrawn\n                && (!defaultStyle.autoStroke || useDefaultFill))\n                ? (defaultLineWidth = DEFAULT_STROKE_LINE_WIDTH, defaultStyle.stroke)\n                : null);\n        var hasShadow = style.textShadowBlur > 0;\n        var fixedBoundingRect = style.width != null\n            && (style.overflow === 'truncate' || style.overflow === 'break' || style.overflow === 'breakAll');\n        var calculatedLineHeight = contentBlock.calculatedLineHeight;\n        for (var i = 0; i < textLines.length; i++) {\n            var el = this._getOrCreateChild(TSpan);\n            var subElStyle = el.createStyle();\n            el.useStyle(subElStyle);\n            subElStyle.text = textLines[i];\n            subElStyle.x = textX;\n            subElStyle.y = textY;\n            if (textAlign) {\n                subElStyle.textAlign = textAlign;\n            }\n            subElStyle.textBaseline = 'middle';\n            subElStyle.opacity = style.opacity;\n            subElStyle.strokeFirst = true;\n            if (hasShadow) {\n                subElStyle.shadowBlur = style.textShadowBlur || 0;\n                subElStyle.shadowColor = style.textShadowColor || 'transparent';\n                subElStyle.shadowOffsetX = style.textShadowOffsetX || 0;\n                subElStyle.shadowOffsetY = style.textShadowOffsetY || 0;\n            }\n            subElStyle.stroke = textStroke;\n            subElStyle.fill = textFill;\n            if (textStroke) {\n                subElStyle.lineWidth = style.lineWidth || defaultLineWidth;\n                subElStyle.lineDash = style.lineDash;\n                subElStyle.lineDashOffset = style.lineDashOffset || 0;\n            }\n            subElStyle.font = textFont;\n            setSeparateFont(subElStyle, style);\n            textY += lineHeight;\n            if (fixedBoundingRect) {\n                el.setBoundingRect(new BoundingRect(adjustTextX(subElStyle.x, style.width, subElStyle.textAlign), adjustTextY(subElStyle.y, calculatedLineHeight, subElStyle.textBaseline), contentWidth, calculatedLineHeight));\n            }\n        }\n    };\n    ZRText.prototype._updateRichTexts = function () {\n        var style = this.style;\n        var text = getStyleText(style);\n        var contentBlock = parseRichText(text, style);\n        var contentWidth = contentBlock.width;\n        var outerWidth = contentBlock.outerWidth;\n        var outerHeight = contentBlock.outerHeight;\n        var textPadding = style.padding;\n        var baseX = style.x || 0;\n        var baseY = style.y || 0;\n        var defaultStyle = this._defaultStyle;\n        var textAlign = style.align || defaultStyle.align;\n        var verticalAlign = style.verticalAlign || defaultStyle.verticalAlign;\n        var boxX = adjustTextX(baseX, outerWidth, textAlign);\n        var boxY = adjustTextY(baseY, outerHeight, verticalAlign);\n        var xLeft = boxX;\n        var lineTop = boxY;\n        if (textPadding) {\n            xLeft += textPadding[3];\n            lineTop += textPadding[0];\n        }\n        var xRight = xLeft + contentWidth;\n        if (needDrawBackground(style)) {\n            this._renderBackground(style, style, boxX, boxY, outerWidth, outerHeight);\n        }\n        var bgColorDrawn = !!(style.backgroundColor);\n        for (var i = 0; i < contentBlock.lines.length; i++) {\n            var line = contentBlock.lines[i];\n            var tokens = line.tokens;\n            var tokenCount = tokens.length;\n            var lineHeight = line.lineHeight;\n            var remainedWidth = line.width;\n            var leftIndex = 0;\n            var lineXLeft = xLeft;\n            var lineXRight = xRight;\n            var rightIndex = tokenCount - 1;\n            var token = void 0;\n            while (leftIndex < tokenCount\n                && (token = tokens[leftIndex], !token.align || token.align === 'left')) {\n                this._placeToken(token, style, lineHeight, lineTop, lineXLeft, 'left', bgColorDrawn);\n                remainedWidth -= token.width;\n                lineXLeft += token.width;\n                leftIndex++;\n            }\n            while (rightIndex >= 0\n                && (token = tokens[rightIndex], token.align === 'right')) {\n                this._placeToken(token, style, lineHeight, lineTop, lineXRight, 'right', bgColorDrawn);\n                remainedWidth -= token.width;\n                lineXRight -= token.width;\n                rightIndex--;\n            }\n            lineXLeft += (contentWidth - (lineXLeft - xLeft) - (xRight - lineXRight) - remainedWidth) / 2;\n            while (leftIndex <= rightIndex) {\n                token = tokens[leftIndex];\n                this._placeToken(token, style, lineHeight, lineTop, lineXLeft + token.width / 2, 'center', bgColorDrawn);\n                lineXLeft += token.width;\n                leftIndex++;\n            }\n            lineTop += lineHeight;\n        }\n    };\n    ZRText.prototype._placeToken = function (token, style, lineHeight, lineTop, x, textAlign, parentBgColorDrawn) {\n        var tokenStyle = style.rich[token.styleName] || {};\n        tokenStyle.text = token.text;\n        var verticalAlign = token.verticalAlign;\n        var y = lineTop + lineHeight / 2;\n        if (verticalAlign === 'top') {\n            y = lineTop + token.height / 2;\n        }\n        else if (verticalAlign === 'bottom') {\n            y = lineTop + lineHeight - token.height / 2;\n        }\n        var needDrawBg = !token.isLineHolder && needDrawBackground(tokenStyle);\n        needDrawBg && this._renderBackground(tokenStyle, style, textAlign === 'right'\n            ? x - token.width\n            : textAlign === 'center'\n                ? x - token.width / 2\n                : x, y - token.height / 2, token.width, token.height);\n        var bgColorDrawn = !!tokenStyle.backgroundColor;\n        var textPadding = token.textPadding;\n        if (textPadding) {\n            x = getTextXForPadding(x, textAlign, textPadding);\n            y -= token.height / 2 - textPadding[0] - token.innerHeight / 2;\n        }\n        var el = this._getOrCreateChild(TSpan);\n        var subElStyle = el.createStyle();\n        el.useStyle(subElStyle);\n        var defaultStyle = this._defaultStyle;\n        var useDefaultFill = false;\n        var defaultLineWidth = 0;\n        var textFill = getFill('fill' in tokenStyle ? tokenStyle.fill\n            : 'fill' in style ? style.fill\n                : (useDefaultFill = true, defaultStyle.fill));\n        var textStroke = getStroke('stroke' in tokenStyle ? tokenStyle.stroke\n            : 'stroke' in style ? style.stroke\n                : (!bgColorDrawn\n                    && !parentBgColorDrawn\n                    && (!defaultStyle.autoStroke || useDefaultFill)) ? (defaultLineWidth = DEFAULT_STROKE_LINE_WIDTH, defaultStyle.stroke)\n                    : null);\n        var hasShadow = tokenStyle.textShadowBlur > 0\n            || style.textShadowBlur > 0;\n        subElStyle.text = token.text;\n        subElStyle.x = x;\n        subElStyle.y = y;\n        if (hasShadow) {\n            subElStyle.shadowBlur = tokenStyle.textShadowBlur || style.textShadowBlur || 0;\n            subElStyle.shadowColor = tokenStyle.textShadowColor || style.textShadowColor || 'transparent';\n            subElStyle.shadowOffsetX = tokenStyle.textShadowOffsetX || style.textShadowOffsetX || 0;\n            subElStyle.shadowOffsetY = tokenStyle.textShadowOffsetY || style.textShadowOffsetY || 0;\n        }\n        subElStyle.textAlign = textAlign;\n        subElStyle.textBaseline = 'middle';\n        subElStyle.font = token.font || DEFAULT_FONT;\n        subElStyle.opacity = retrieve3(tokenStyle.opacity, style.opacity, 1);\n        setSeparateFont(subElStyle, tokenStyle);\n        if (textStroke) {\n            subElStyle.lineWidth = retrieve3(tokenStyle.lineWidth, style.lineWidth, defaultLineWidth);\n            subElStyle.lineDash = retrieve2(tokenStyle.lineDash, style.lineDash);\n            subElStyle.lineDashOffset = style.lineDashOffset || 0;\n            subElStyle.stroke = textStroke;\n        }\n        if (textFill) {\n            subElStyle.fill = textFill;\n        }\n        var textWidth = token.contentWidth;\n        var textHeight = token.contentHeight;\n        el.setBoundingRect(new BoundingRect(adjustTextX(subElStyle.x, textWidth, subElStyle.textAlign), adjustTextY(subElStyle.y, textHeight, subElStyle.textBaseline), textWidth, textHeight));\n    };\n    ZRText.prototype._renderBackground = function (style, topStyle, x, y, width, height) {\n        var textBackgroundColor = style.backgroundColor;\n        var textBorderWidth = style.borderWidth;\n        var textBorderColor = style.borderColor;\n        var isImageBg = textBackgroundColor && textBackgroundColor.image;\n        var isPlainOrGradientBg = textBackgroundColor && !isImageBg;\n        var textBorderRadius = style.borderRadius;\n        var self = this;\n        var rectEl;\n        var imgEl;\n        if (isPlainOrGradientBg || style.lineHeight || (textBorderWidth && textBorderColor)) {\n            rectEl = this._getOrCreateChild(Rect);\n            rectEl.useStyle(rectEl.createStyle());\n            rectEl.style.fill = null;\n            var rectShape = rectEl.shape;\n            rectShape.x = x;\n            rectShape.y = y;\n            rectShape.width = width;\n            rectShape.height = height;\n            rectShape.r = textBorderRadius;\n            rectEl.dirtyShape();\n        }\n        if (isPlainOrGradientBg) {\n            var rectStyle = rectEl.style;\n            rectStyle.fill = textBackgroundColor || null;\n            rectStyle.fillOpacity = retrieve2(style.fillOpacity, 1);\n        }\n        else if (isImageBg) {\n            imgEl = this._getOrCreateChild(ZRImage);\n            imgEl.onload = function () {\n                self.dirtyStyle();\n            };\n            var imgStyle = imgEl.style;\n            imgStyle.image = textBackgroundColor.image;\n            imgStyle.x = x;\n            imgStyle.y = y;\n            imgStyle.width = width;\n            imgStyle.height = height;\n        }\n        if (textBorderWidth && textBorderColor) {\n            var rectStyle = rectEl.style;\n            rectStyle.lineWidth = textBorderWidth;\n            rectStyle.stroke = textBorderColor;\n            rectStyle.strokeOpacity = retrieve2(style.strokeOpacity, 1);\n            rectStyle.lineDash = style.borderDash;\n            rectStyle.lineDashOffset = style.borderDashOffset || 0;\n            rectEl.strokeContainThreshold = 0;\n            if (rectEl.hasFill() && rectEl.hasStroke()) {\n                rectStyle.strokeFirst = true;\n                rectStyle.lineWidth *= 2;\n            }\n        }\n        var commonStyle = (rectEl || imgEl).style;\n        commonStyle.shadowBlur = style.shadowBlur || 0;\n        commonStyle.shadowColor = style.shadowColor || 'transparent';\n        commonStyle.shadowOffsetX = style.shadowOffsetX || 0;\n        commonStyle.shadowOffsetY = style.shadowOffsetY || 0;\n        commonStyle.opacity = retrieve3(style.opacity, topStyle.opacity, 1);\n    };\n    ZRText.makeFont = function (style) {\n        var font = '';\n        if (hasSeparateFont(style)) {\n            font = [\n                style.fontStyle,\n                style.fontWeight,\n                parseFontSize(style.fontSize),\n                style.fontFamily || 'sans-serif'\n            ].join(' ');\n        }\n        return font && trim(font) || style.textFont || style.font;\n    };\n    return ZRText;\n}(Displayable));\nvar VALID_TEXT_ALIGN = { left: true, right: 1, center: 1 };\nvar VALID_TEXT_VERTICAL_ALIGN = { top: 1, bottom: 1, middle: 1 };\nvar FONT_PARTS = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily'];\nexport function parseFontSize(fontSize) {\n    if (typeof fontSize === 'string'\n        && (fontSize.indexOf('px') !== -1\n            || fontSize.indexOf('rem') !== -1\n            || fontSize.indexOf('em') !== -1)) {\n        return fontSize;\n    }\n    else if (!isNaN(+fontSize)) {\n        return fontSize + 'px';\n    }\n    else {\n        return DEFAULT_FONT_SIZE + 'px';\n    }\n}\nfunction setSeparateFont(targetStyle, sourceStyle) {\n    for (var i = 0; i < FONT_PARTS.length; i++) {\n        var fontProp = FONT_PARTS[i];\n        var val = sourceStyle[fontProp];\n        if (val != null) {\n            targetStyle[fontProp] = val;\n        }\n    }\n}\nexport function hasSeparateFont(style) {\n    return style.fontSize != null || style.fontFamily || style.fontWeight;\n}\nexport function normalizeTextStyle(style) {\n    normalizeStyle(style);\n    each(style.rich, normalizeStyle);\n    return style;\n}\nfunction normalizeStyle(style) {\n    if (style) {\n        style.font = ZRText.makeFont(style);\n        var textAlign = style.align;\n        textAlign === 'middle' && (textAlign = 'center');\n        style.align = (textAlign == null || VALID_TEXT_ALIGN[textAlign]) ? textAlign : 'left';\n        var verticalAlign = style.verticalAlign;\n        verticalAlign === 'center' && (verticalAlign = 'middle');\n        style.verticalAlign = (verticalAlign == null || VALID_TEXT_VERTICAL_ALIGN[verticalAlign]) ? verticalAlign : 'top';\n        var textPadding = style.padding;\n        if (textPadding) {\n            style.padding = normalizeCssArray(style.padding);\n        }\n    }\n}\nfunction getStroke(stroke, lineWidth) {\n    return (stroke == null || lineWidth <= 0 || stroke === 'transparent' || stroke === 'none')\n        ? null\n        : (stroke.image || stroke.colorStops)\n            ? '#000'\n            : stroke;\n}\nfunction getFill(fill) {\n    return (fill == null || fill === 'none')\n        ? null\n        : (fill.image || fill.colorStops)\n            ? '#000'\n            : fill;\n}\nfunction getTextXForPadding(x, textAlign, textPadding) {\n    return textAlign === 'right'\n        ? (x - textPadding[1])\n        : textAlign === 'center'\n            ? (x + textPadding[3] / 2 - textPadding[1] / 2)\n            : (x + textPadding[3]);\n}\nfunction getStyleText(style) {\n    var text = style.text;\n    text != null && (text += '');\n    return text;\n}\nfunction needDrawBackground(style) {\n    return !!(style.backgroundColor\n        || style.lineHeight\n        || (style.borderWidth && style.borderColor));\n}\nexport default ZRText;\n","export var REDRAW_BIT = 1;\nexport var STYLE_CHANGED_BIT = 2;\nexport var SHAPE_CHANGED_BIT = 4;\n","import LRU from '../../core/LRU.js';\nimport { platformApi } from '../../core/platform.js';\nvar globalImageCache = new LRU(50);\nexport function findExistImage(newImageOrSrc) {\n    if (typeof newImageOrSrc === 'string') {\n        var cachedImgObj = globalImageCache.get(newImageOrSrc);\n        return cachedImgObj && cachedImgObj.image;\n    }\n    else {\n        return newImageOrSrc;\n    }\n}\nexport function createOrUpdateImage(newImageOrSrc, image, hostEl, onload, cbPayload) {\n    if (!newImageOrSrc) {\n        return image;\n    }\n    else if (typeof newImageOrSrc === 'string') {\n        if ((image && image.__zrImageSrc === newImageOrSrc) || !hostEl) {\n            return image;\n        }\n        var cachedImgObj = globalImageCache.get(newImageOrSrc);\n        var pendingWrap = { hostEl: hostEl, cb: onload, cbPayload: cbPayload };\n        if (cachedImgObj) {\n            image = cachedImgObj.image;\n            !isImageReady(image) && cachedImgObj.pending.push(pendingWrap);\n        }\n        else {\n            image = platformApi.loadImage(newImageOrSrc, imageOnLoad, imageOnLoad);\n            image.__zrImageSrc = newImageOrSrc;\n            globalImageCache.put(newImageOrSrc, image.__cachedImgObj = {\n                image: image,\n                pending: [pendingWrap]\n            });\n        }\n        return image;\n    }\n    else {\n        return newImageOrSrc;\n    }\n}\nfunction imageOnLoad() {\n    var cachedImgObj = this.__cachedImgObj;\n    this.onload = this.onerror = this.__cachedImgObj = null;\n    for (var i = 0; i < cachedImgObj.pending.length; i++) {\n        var pendingWrap = cachedImgObj.pending[i];\n        var cb = pendingWrap.cb;\n        cb && cb(this, pendingWrap.cbPayload);\n        pendingWrap.hostEl.dirty();\n    }\n    cachedImgObj.pending.length = 0;\n}\nexport function isImageReady(image) {\n    return image && image.width && image.height;\n}\n","import * as imageHelper from '../helper/image.js';\nimport { extend, retrieve2, retrieve3, reduce } from '../../core/util.js';\nimport { getLineHeight, getWidth, parsePercent } from '../../contain/text.js';\nvar STYLE_REG = /\\{([a-zA-Z0-9_]+)\\|([^}]*)\\}/g;\nexport function truncateText(text, containerWidth, font, ellipsis, options) {\n    if (!containerWidth) {\n        return '';\n    }\n    var textLines = (text + '').split('\\n');\n    options = prepareTruncateOptions(containerWidth, font, ellipsis, options);\n    for (var i = 0, len = textLines.length; i < len; i++) {\n        textLines[i] = truncateSingleLine(textLines[i], options);\n    }\n    return textLines.join('\\n');\n}\nfunction prepareTruncateOptions(containerWidth, font, ellipsis, options) {\n    options = options || {};\n    var preparedOpts = extend({}, options);\n    preparedOpts.font = font;\n    ellipsis = retrieve2(ellipsis, '...');\n    preparedOpts.maxIterations = retrieve2(options.maxIterations, 2);\n    var minChar = preparedOpts.minChar = retrieve2(options.minChar, 0);\n    preparedOpts.cnCharWidth = getWidth('国', font);\n    var ascCharWidth = preparedOpts.ascCharWidth = getWidth('a', font);\n    preparedOpts.placeholder = retrieve2(options.placeholder, '');\n    var contentWidth = containerWidth = Math.max(0, containerWidth - 1);\n    for (var i = 0; i < minChar && contentWidth >= ascCharWidth; i++) {\n        contentWidth -= ascCharWidth;\n    }\n    var ellipsisWidth = getWidth(ellipsis, font);\n    if (ellipsisWidth > contentWidth) {\n        ellipsis = '';\n        ellipsisWidth = 0;\n    }\n    contentWidth = containerWidth - ellipsisWidth;\n    preparedOpts.ellipsis = ellipsis;\n    preparedOpts.ellipsisWidth = ellipsisWidth;\n    preparedOpts.contentWidth = contentWidth;\n    preparedOpts.containerWidth = containerWidth;\n    return preparedOpts;\n}\nfunction truncateSingleLine(textLine, options) {\n    var containerWidth = options.containerWidth;\n    var font = options.font;\n    var contentWidth = options.contentWidth;\n    if (!containerWidth) {\n        return '';\n    }\n    var lineWidth = getWidth(textLine, font);\n    if (lineWidth <= containerWidth) {\n        return textLine;\n    }\n    for (var j = 0;; j++) {\n        if (lineWidth <= contentWidth || j >= options.maxIterations) {\n            textLine += options.ellipsis;\n            break;\n        }\n        var subLength = j === 0\n            ? estimateLength(textLine, contentWidth, options.ascCharWidth, options.cnCharWidth)\n            : lineWidth > 0\n                ? Math.floor(textLine.length * contentWidth / lineWidth)\n                : 0;\n        textLine = textLine.substr(0, subLength);\n        lineWidth = getWidth(textLine, font);\n    }\n    if (textLine === '') {\n        textLine = options.placeholder;\n    }\n    return textLine;\n}\nfunction estimateLength(text, contentWidth, ascCharWidth, cnCharWidth) {\n    var width = 0;\n    var i = 0;\n    for (var len = text.length; i < len && width < contentWidth; i++) {\n        var charCode = text.charCodeAt(i);\n        width += (0 <= charCode && charCode <= 127) ? ascCharWidth : cnCharWidth;\n    }\n    return i;\n}\nexport function parsePlainText(text, style) {\n    text != null && (text += '');\n    var overflow = style.overflow;\n    var padding = style.padding;\n    var font = style.font;\n    var truncate = overflow === 'truncate';\n    var calculatedLineHeight = getLineHeight(font);\n    var lineHeight = retrieve2(style.lineHeight, calculatedLineHeight);\n    var bgColorDrawn = !!(style.backgroundColor);\n    var truncateLineOverflow = style.lineOverflow === 'truncate';\n    var width = style.width;\n    var lines;\n    if (width != null && (overflow === 'break' || overflow === 'breakAll')) {\n        lines = text ? wrapText(text, style.font, width, overflow === 'breakAll', 0).lines : [];\n    }\n    else {\n        lines = text ? text.split('\\n') : [];\n    }\n    var contentHeight = lines.length * lineHeight;\n    var height = retrieve2(style.height, contentHeight);\n    if (contentHeight > height && truncateLineOverflow) {\n        var lineCount = Math.floor(height / lineHeight);\n        lines = lines.slice(0, lineCount);\n    }\n    if (text && truncate && width != null) {\n        var options = prepareTruncateOptions(width, font, style.ellipsis, {\n            minChar: style.truncateMinChar,\n            placeholder: style.placeholder\n        });\n        for (var i = 0; i < lines.length; i++) {\n            lines[i] = truncateSingleLine(lines[i], options);\n        }\n    }\n    var outerHeight = height;\n    var contentWidth = 0;\n    for (var i = 0; i < lines.length; i++) {\n        contentWidth = Math.max(getWidth(lines[i], font), contentWidth);\n    }\n    if (width == null) {\n        width = contentWidth;\n    }\n    var outerWidth = contentWidth;\n    if (padding) {\n        outerHeight += padding[0] + padding[2];\n        outerWidth += padding[1] + padding[3];\n        width += padding[1] + padding[3];\n    }\n    if (bgColorDrawn) {\n        outerWidth = width;\n    }\n    return {\n        lines: lines,\n        height: height,\n        outerWidth: outerWidth,\n        outerHeight: outerHeight,\n        lineHeight: lineHeight,\n        calculatedLineHeight: calculatedLineHeight,\n        contentWidth: contentWidth,\n        contentHeight: contentHeight,\n        width: width\n    };\n}\nvar RichTextToken = (function () {\n    function RichTextToken() {\n    }\n    return RichTextToken;\n}());\nvar RichTextLine = (function () {\n    function RichTextLine(tokens) {\n        this.tokens = [];\n        if (tokens) {\n            this.tokens = tokens;\n        }\n    }\n    return RichTextLine;\n}());\nvar RichTextContentBlock = (function () {\n    function RichTextContentBlock() {\n        this.width = 0;\n        this.height = 0;\n        this.contentWidth = 0;\n        this.contentHeight = 0;\n        this.outerWidth = 0;\n        this.outerHeight = 0;\n        this.lines = [];\n    }\n    return RichTextContentBlock;\n}());\nexport { RichTextContentBlock };\nexport function parseRichText(text, style) {\n    var contentBlock = new RichTextContentBlock();\n    text != null && (text += '');\n    if (!text) {\n        return contentBlock;\n    }\n    var topWidth = style.width;\n    var topHeight = style.height;\n    var overflow = style.overflow;\n    var wrapInfo = (overflow === 'break' || overflow === 'breakAll') && topWidth != null\n        ? { width: topWidth, accumWidth: 0, breakAll: overflow === 'breakAll' }\n        : null;\n    var lastIndex = STYLE_REG.lastIndex = 0;\n    var result;\n    while ((result = STYLE_REG.exec(text)) != null) {\n        var matchedIndex = result.index;\n        if (matchedIndex > lastIndex) {\n            pushTokens(contentBlock, text.substring(lastIndex, matchedIndex), style, wrapInfo);\n        }\n        pushTokens(contentBlock, result[2], style, wrapInfo, result[1]);\n        lastIndex = STYLE_REG.lastIndex;\n    }\n    if (lastIndex < text.length) {\n        pushTokens(contentBlock, text.substring(lastIndex, text.length), style, wrapInfo);\n    }\n    var pendingList = [];\n    var calculatedHeight = 0;\n    var calculatedWidth = 0;\n    var stlPadding = style.padding;\n    var truncate = overflow === 'truncate';\n    var truncateLine = style.lineOverflow === 'truncate';\n    function finishLine(line, lineWidth, lineHeight) {\n        line.width = lineWidth;\n        line.lineHeight = lineHeight;\n        calculatedHeight += lineHeight;\n        calculatedWidth = Math.max(calculatedWidth, lineWidth);\n    }\n    outer: for (var i = 0; i < contentBlock.lines.length; i++) {\n        var line = contentBlock.lines[i];\n        var lineHeight = 0;\n        var lineWidth = 0;\n        for (var j = 0; j < line.tokens.length; j++) {\n            var token = line.tokens[j];\n            var tokenStyle = token.styleName && style.rich[token.styleName] || {};\n            var textPadding = token.textPadding = tokenStyle.padding;\n            var paddingH = textPadding ? textPadding[1] + textPadding[3] : 0;\n            var font = token.font = tokenStyle.font || style.font;\n            token.contentHeight = getLineHeight(font);\n            var tokenHeight = retrieve2(tokenStyle.height, token.contentHeight);\n            token.innerHeight = tokenHeight;\n            textPadding && (tokenHeight += textPadding[0] + textPadding[2]);\n            token.height = tokenHeight;\n            token.lineHeight = retrieve3(tokenStyle.lineHeight, style.lineHeight, tokenHeight);\n            token.align = tokenStyle && tokenStyle.align || style.align;\n            token.verticalAlign = tokenStyle && tokenStyle.verticalAlign || 'middle';\n            if (truncateLine && topHeight != null && calculatedHeight + token.lineHeight > topHeight) {\n                if (j > 0) {\n                    line.tokens = line.tokens.slice(0, j);\n                    finishLine(line, lineWidth, lineHeight);\n                    contentBlock.lines = contentBlock.lines.slice(0, i + 1);\n                }\n                else {\n                    contentBlock.lines = contentBlock.lines.slice(0, i);\n                }\n                break outer;\n            }\n            var styleTokenWidth = tokenStyle.width;\n            var tokenWidthNotSpecified = styleTokenWidth == null || styleTokenWidth === 'auto';\n            if (typeof styleTokenWidth === 'string' && styleTokenWidth.charAt(styleTokenWidth.length - 1) === '%') {\n                token.percentWidth = styleTokenWidth;\n                pendingList.push(token);\n                token.contentWidth = getWidth(token.text, font);\n            }\n            else {\n                if (tokenWidthNotSpecified) {\n                    var textBackgroundColor = tokenStyle.backgroundColor;\n                    var bgImg = textBackgroundColor && textBackgroundColor.image;\n                    if (bgImg) {\n                        bgImg = imageHelper.findExistImage(bgImg);\n                        if (imageHelper.isImageReady(bgImg)) {\n                            token.width = Math.max(token.width, bgImg.width * tokenHeight / bgImg.height);\n                        }\n                    }\n                }\n                var remainTruncWidth = truncate && topWidth != null\n                    ? topWidth - lineWidth : null;\n                if (remainTruncWidth != null && remainTruncWidth < token.width) {\n                    if (!tokenWidthNotSpecified || remainTruncWidth < paddingH) {\n                        token.text = '';\n                        token.width = token.contentWidth = 0;\n                    }\n                    else {\n                        token.text = truncateText(token.text, remainTruncWidth - paddingH, font, style.ellipsis, { minChar: style.truncateMinChar });\n                        token.width = token.contentWidth = getWidth(token.text, font);\n                    }\n                }\n                else {\n                    token.contentWidth = getWidth(token.text, font);\n                }\n            }\n            token.width += paddingH;\n            lineWidth += token.width;\n            tokenStyle && (lineHeight = Math.max(lineHeight, token.lineHeight));\n        }\n        finishLine(line, lineWidth, lineHeight);\n    }\n    contentBlock.outerWidth = contentBlock.width = retrieve2(topWidth, calculatedWidth);\n    contentBlock.outerHeight = contentBlock.height = retrieve2(topHeight, calculatedHeight);\n    contentBlock.contentHeight = calculatedHeight;\n    contentBlock.contentWidth = calculatedWidth;\n    if (stlPadding) {\n        contentBlock.outerWidth += stlPadding[1] + stlPadding[3];\n        contentBlock.outerHeight += stlPadding[0] + stlPadding[2];\n    }\n    for (var i = 0; i < pendingList.length; i++) {\n        var token = pendingList[i];\n        var percentWidth = token.percentWidth;\n        token.width = parseInt(percentWidth, 10) / 100 * contentBlock.width;\n    }\n    return contentBlock;\n}\nfunction pushTokens(block, str, style, wrapInfo, styleName) {\n    var isEmptyStr = str === '';\n    var tokenStyle = styleName && style.rich[styleName] || {};\n    var lines = block.lines;\n    var font = tokenStyle.font || style.font;\n    var newLine = false;\n    var strLines;\n    var linesWidths;\n    if (wrapInfo) {\n        var tokenPadding = tokenStyle.padding;\n        var tokenPaddingH = tokenPadding ? tokenPadding[1] + tokenPadding[3] : 0;\n        if (tokenStyle.width != null && tokenStyle.width !== 'auto') {\n            var outerWidth_1 = parsePercent(tokenStyle.width, wrapInfo.width) + tokenPaddingH;\n            if (lines.length > 0) {\n                if (outerWidth_1 + wrapInfo.accumWidth > wrapInfo.width) {\n                    strLines = str.split('\\n');\n                    newLine = true;\n                }\n            }\n            wrapInfo.accumWidth = outerWidth_1;\n        }\n        else {\n            var res = wrapText(str, font, wrapInfo.width, wrapInfo.breakAll, wrapInfo.accumWidth);\n            wrapInfo.accumWidth = res.accumWidth + tokenPaddingH;\n            linesWidths = res.linesWidths;\n            strLines = res.lines;\n        }\n    }\n    else {\n        strLines = str.split('\\n');\n    }\n    for (var i = 0; i < strLines.length; i++) {\n        var text = strLines[i];\n        var token = new RichTextToken();\n        token.styleName = styleName;\n        token.text = text;\n        token.isLineHolder = !text && !isEmptyStr;\n        if (typeof tokenStyle.width === 'number') {\n            token.width = tokenStyle.width;\n        }\n        else {\n            token.width = linesWidths\n                ? linesWidths[i]\n                : getWidth(text, font);\n        }\n        if (!i && !newLine) {\n            var tokens = (lines[lines.length - 1] || (lines[0] = new RichTextLine())).tokens;\n            var tokensLen = tokens.length;\n            (tokensLen === 1 && tokens[0].isLineHolder)\n                ? (tokens[0] = token)\n                : ((text || !tokensLen || isEmptyStr) && tokens.push(token));\n        }\n        else {\n            lines.push(new RichTextLine([token]));\n        }\n    }\n}\nfunction isAlphabeticLetter(ch) {\n    var code = ch.charCodeAt(0);\n    return code >= 0x20 && code <= 0x24F\n        || code >= 0x370 && code <= 0x10FF\n        || code >= 0x1200 && code <= 0x13FF\n        || code >= 0x1E00 && code <= 0x206F;\n}\nvar breakCharMap = reduce(',&?/;] '.split(''), function (obj, ch) {\n    obj[ch] = true;\n    return obj;\n}, {});\nfunction isWordBreakChar(ch) {\n    if (isAlphabeticLetter(ch)) {\n        if (breakCharMap[ch]) {\n            return true;\n        }\n        return false;\n    }\n    return true;\n}\nfunction wrapText(text, font, lineWidth, isBreakAll, lastAccumWidth) {\n    var lines = [];\n    var linesWidths = [];\n    var line = '';\n    var currentWord = '';\n    var currentWordWidth = 0;\n    var accumWidth = 0;\n    for (var i = 0; i < text.length; i++) {\n        var ch = text.charAt(i);\n        if (ch === '\\n') {\n            if (currentWord) {\n                line += currentWord;\n                accumWidth += currentWordWidth;\n            }\n            lines.push(line);\n            linesWidths.push(accumWidth);\n            line = '';\n            currentWord = '';\n            currentWordWidth = 0;\n            accumWidth = 0;\n            continue;\n        }\n        var chWidth = getWidth(ch, font);\n        var inWord = isBreakAll ? false : !isWordBreakChar(ch);\n        if (!lines.length\n            ? lastAccumWidth + accumWidth + chWidth > lineWidth\n            : accumWidth + chWidth > lineWidth) {\n            if (!accumWidth) {\n                if (inWord) {\n                    lines.push(currentWord);\n                    linesWidths.push(currentWordWidth);\n                    currentWord = ch;\n                    currentWordWidth = chWidth;\n                }\n                else {\n                    lines.push(ch);\n                    linesWidths.push(chWidth);\n                }\n            }\n            else if (line || currentWord) {\n                if (inWord) {\n                    if (!line) {\n                        line = currentWord;\n                        currentWord = '';\n                        currentWordWidth = 0;\n                        accumWidth = currentWordWidth;\n                    }\n                    lines.push(line);\n                    linesWidths.push(accumWidth - currentWordWidth);\n                    currentWord += ch;\n                    currentWordWidth += chWidth;\n                    line = '';\n                    accumWidth = currentWordWidth;\n                }\n                else {\n                    if (currentWord) {\n                        line += currentWord;\n                        currentWord = '';\n                        currentWordWidth = 0;\n                    }\n                    lines.push(line);\n                    linesWidths.push(accumWidth);\n                    line = ch;\n                    accumWidth = chWidth;\n                }\n            }\n            continue;\n        }\n        accumWidth += chWidth;\n        if (inWord) {\n            currentWord += ch;\n            currentWordWidth += chWidth;\n        }\n        else {\n            if (currentWord) {\n                line += currentWord;\n                currentWord = '';\n                currentWordWidth = 0;\n            }\n            line += ch;\n        }\n    }\n    if (!lines.length && !line) {\n        line = text;\n        currentWord = '';\n        currentWordWidth = 0;\n    }\n    if (currentWord) {\n        line += currentWord;\n    }\n    if (line) {\n        lines.push(line);\n        linesWidths.push(accumWidth);\n    }\n    if (lines.length === 1) {\n        accumWidth += lastAccumWidth;\n    }\n    return {\n        accumWidth: accumWidth,\n        lines: lines,\n        linesWidths: linesWidths\n    };\n}\n","import { min as v2Min, max as v2Max, scale as v2Scale, distance as v2Distance, add as v2Add, clone as v2Clone, sub as v2Sub } from '../../core/vector.js';\nexport default function smoothBezier(points, smooth, isLoop, constraint) {\n    var cps = [];\n    var v = [];\n    var v1 = [];\n    var v2 = [];\n    var prevPoint;\n    var nextPoint;\n    var min;\n    var max;\n    if (constraint) {\n        min = [Infinity, Infinity];\n        max = [-Infinity, -Infinity];\n        for (var i = 0, len = points.length; i < len; i++) {\n            v2Min(min, min, points[i]);\n            v2Max(max, max, points[i]);\n        }\n        v2Min(min, min, constraint[0]);\n        v2Max(max, max, constraint[1]);\n    }\n    for (var i = 0, len = points.length; i < len; i++) {\n        var point = points[i];\n        if (isLoop) {\n            prevPoint = points[i ? i - 1 : len - 1];\n            nextPoint = points[(i + 1) % len];\n        }\n        else {\n            if (i === 0 || i === len - 1) {\n                cps.push(v2Clone(points[i]));\n                continue;\n            }\n            else {\n                prevPoint = points[i - 1];\n                nextPoint = points[i + 1];\n            }\n        }\n        v2Sub(v, nextPoint, prevPoint);\n        v2Scale(v, v, smooth);\n        var d0 = v2Distance(point, prevPoint);\n        var d1 = v2Distance(point, nextPoint);\n        var sum = d0 + d1;\n        if (sum !== 0) {\n            d0 /= sum;\n            d1 /= sum;\n        }\n        v2Scale(v1, v, -d0);\n        v2Scale(v2, v, d1);\n        var cp0 = v2Add([], point, v1);\n        var cp1 = v2Add([], point, v2);\n        if (constraint) {\n            v2Max(cp0, cp0, min);\n            v2Min(cp0, cp0, max);\n            v2Max(cp1, cp1, min);\n            v2Min(cp1, cp1, max);\n        }\n        cps.push(cp0);\n        cps.push(cp1);\n    }\n    if (isLoop) {\n        cps.push(cps.shift());\n    }\n    return cps;\n}\n","import smoothBezier from './smoothBezier.js';\nexport function buildPath(ctx, shape, closePath) {\n    var smooth = shape.smooth;\n    var points = shape.points;\n    if (points && points.length >= 2) {\n        if (smooth) {\n            var controlPoints = smoothBezier(points, smooth, closePath, shape.smoothConstraint);\n            ctx.moveTo(points[0][0], points[0][1]);\n            var len = points.length;\n            for (var i = 0; i < (closePath ? len : len - 1); i++) {\n                var cp1 = controlPoints[i * 2];\n                var cp2 = controlPoints[i * 2 + 1];\n                var p = points[(i + 1) % len];\n                ctx.bezierCurveTo(cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]);\n            }\n        }\n        else {\n            ctx.moveTo(points[0][0], points[0][1]);\n            for (var i = 1, l = points.length; i < l; i++) {\n                ctx.lineTo(points[i][0], points[i][1]);\n            }\n        }\n        closePath && ctx.closePath();\n    }\n}\n","var round = Math.round;\nexport function subPixelOptimizeLine(outputShape, inputShape, style) {\n    if (!inputShape) {\n        return;\n    }\n    var x1 = inputShape.x1;\n    var x2 = inputShape.x2;\n    var y1 = inputShape.y1;\n    var y2 = inputShape.y2;\n    outputShape.x1 = x1;\n    outputShape.x2 = x2;\n    outputShape.y1 = y1;\n    outputShape.y2 = y2;\n    var lineWidth = style && style.lineWidth;\n    if (!lineWidth) {\n        return outputShape;\n    }\n    if (round(x1 * 2) === round(x2 * 2)) {\n        outputShape.x1 = outputShape.x2 = subPixelOptimize(x1, lineWidth, true);\n    }\n    if (round(y1 * 2) === round(y2 * 2)) {\n        outputShape.y1 = outputShape.y2 = subPixelOptimize(y1, lineWidth, true);\n    }\n    return outputShape;\n}\nexport function subPixelOptimizeRect(outputShape, inputShape, style) {\n    if (!inputShape) {\n        return;\n    }\n    var originX = inputShape.x;\n    var originY = inputShape.y;\n    var originWidth = inputShape.width;\n    var originHeight = inputShape.height;\n    outputShape.x = originX;\n    outputShape.y = originY;\n    outputShape.width = originWidth;\n    outputShape.height = originHeight;\n    var lineWidth = style && style.lineWidth;\n    if (!lineWidth) {\n        return outputShape;\n    }\n    outputShape.x = subPixelOptimize(originX, lineWidth, true);\n    outputShape.y = subPixelOptimize(originY, lineWidth, true);\n    outputShape.width = Math.max(subPixelOptimize(originX + originWidth, lineWidth, false) - outputShape.x, originWidth === 0 ? 0 : 1);\n    outputShape.height = Math.max(subPixelOptimize(originY + originHeight, lineWidth, false) - outputShape.y, originHeight === 0 ? 0 : 1);\n    return outputShape;\n}\nexport function subPixelOptimize(position, lineWidth, positiveOrNegative) {\n    if (!lineWidth) {\n        return position;\n    }\n    var doubledPosition = round(position * 2);\n    return (doubledPosition + round(lineWidth)) % 2 === 0\n        ? doubledPosition / 2\n        : (doubledPosition + (positiveOrNegative ? 1 : -1)) / 2;\n}\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nvar ArcShape = (function () {\n    function ArcShape() {\n        this.cx = 0;\n        this.cy = 0;\n        this.r = 0;\n        this.startAngle = 0;\n        this.endAngle = Math.PI * 2;\n        this.clockwise = true;\n    }\n    return ArcShape;\n}());\nexport { ArcShape };\nvar Arc = (function (_super) {\n    __extends(Arc, _super);\n    function Arc(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Arc.prototype.getDefaultStyle = function () {\n        return {\n            stroke: '#000',\n            fill: null\n        };\n    };\n    Arc.prototype.getDefaultShape = function () {\n        return new ArcShape();\n    };\n    Arc.prototype.buildPath = function (ctx, shape) {\n        var x = shape.cx;\n        var y = shape.cy;\n        var r = Math.max(shape.r, 0);\n        var startAngle = shape.startAngle;\n        var endAngle = shape.endAngle;\n        var clockwise = shape.clockwise;\n        var unitX = Math.cos(startAngle);\n        var unitY = Math.sin(startAngle);\n        ctx.moveTo(unitX * r + x, unitY * r + y);\n        ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n    };\n    return Arc;\n}(Path));\nArc.prototype.type = 'arc';\nexport default Arc;\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nimport * as vec2 from '../../core/vector.js';\nimport { quadraticSubdivide, cubicSubdivide, quadraticAt, cubicAt, quadraticDerivativeAt, cubicDerivativeAt } from '../../core/curve.js';\nvar out = [];\nvar BezierCurveShape = (function () {\n    function BezierCurveShape() {\n        this.x1 = 0;\n        this.y1 = 0;\n        this.x2 = 0;\n        this.y2 = 0;\n        this.cpx1 = 0;\n        this.cpy1 = 0;\n        this.percent = 1;\n    }\n    return BezierCurveShape;\n}());\nexport { BezierCurveShape };\nfunction someVectorAt(shape, t, isTangent) {\n    var cpx2 = shape.cpx2;\n    var cpy2 = shape.cpy2;\n    if (cpx2 != null || cpy2 != null) {\n        return [\n            (isTangent ? cubicDerivativeAt : cubicAt)(shape.x1, shape.cpx1, shape.cpx2, shape.x2, t),\n            (isTangent ? cubicDerivativeAt : cubicAt)(shape.y1, shape.cpy1, shape.cpy2, shape.y2, t)\n        ];\n    }\n    else {\n        return [\n            (isTangent ? quadraticDerivativeAt : quadraticAt)(shape.x1, shape.cpx1, shape.x2, t),\n            (isTangent ? quadraticDerivativeAt : quadraticAt)(shape.y1, shape.cpy1, shape.y2, t)\n        ];\n    }\n}\nvar BezierCurve = (function (_super) {\n    __extends(BezierCurve, _super);\n    function BezierCurve(opts) {\n        return _super.call(this, opts) || this;\n    }\n    BezierCurve.prototype.getDefaultStyle = function () {\n        return {\n            stroke: '#000',\n            fill: null\n        };\n    };\n    BezierCurve.prototype.getDefaultShape = function () {\n        return new BezierCurveShape();\n    };\n    BezierCurve.prototype.buildPath = function (ctx, shape) {\n        var x1 = shape.x1;\n        var y1 = shape.y1;\n        var x2 = shape.x2;\n        var y2 = shape.y2;\n        var cpx1 = shape.cpx1;\n        var cpy1 = shape.cpy1;\n        var cpx2 = shape.cpx2;\n        var cpy2 = shape.cpy2;\n        var percent = shape.percent;\n        if (percent === 0) {\n            return;\n        }\n        ctx.moveTo(x1, y1);\n        if (cpx2 == null || cpy2 == null) {\n            if (percent < 1) {\n                quadraticSubdivide(x1, cpx1, x2, percent, out);\n                cpx1 = out[1];\n                x2 = out[2];\n                quadraticSubdivide(y1, cpy1, y2, percent, out);\n                cpy1 = out[1];\n                y2 = out[2];\n            }\n            ctx.quadraticCurveTo(cpx1, cpy1, x2, y2);\n        }\n        else {\n            if (percent < 1) {\n                cubicSubdivide(x1, cpx1, cpx2, x2, percent, out);\n                cpx1 = out[1];\n                cpx2 = out[2];\n                x2 = out[3];\n                cubicSubdivide(y1, cpy1, cpy2, y2, percent, out);\n                cpy1 = out[1];\n                cpy2 = out[2];\n                y2 = out[3];\n            }\n            ctx.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, x2, y2);\n        }\n    };\n    BezierCurve.prototype.pointAt = function (t) {\n        return someVectorAt(this.shape, t, false);\n    };\n    BezierCurve.prototype.tangentAt = function (t) {\n        var p = someVectorAt(this.shape, t, true);\n        return vec2.normalize(p, p);\n    };\n    return BezierCurve;\n}(Path));\n;\nBezierCurve.prototype.type = 'bezier-curve';\nexport default BezierCurve;\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nvar CircleShape = (function () {\n    function CircleShape() {\n        this.cx = 0;\n        this.cy = 0;\n        this.r = 0;\n    }\n    return CircleShape;\n}());\nexport { CircleShape };\nvar Circle = (function (_super) {\n    __extends(Circle, _super);\n    function Circle(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Circle.prototype.getDefaultShape = function () {\n        return new CircleShape();\n    };\n    Circle.prototype.buildPath = function (ctx, shape) {\n        ctx.moveTo(shape.cx + shape.r, shape.cy);\n        ctx.arc(shape.cx, shape.cy, shape.r, 0, Math.PI * 2);\n    };\n    return Circle;\n}(Path));\n;\nCircle.prototype.type = 'circle';\nexport default Circle;\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nvar EllipseShape = (function () {\n    function EllipseShape() {\n        this.cx = 0;\n        this.cy = 0;\n        this.rx = 0;\n        this.ry = 0;\n    }\n    return EllipseShape;\n}());\nexport { EllipseShape };\nvar Ellipse = (function (_super) {\n    __extends(Ellipse, _super);\n    function Ellipse(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Ellipse.prototype.getDefaultShape = function () {\n        return new EllipseShape();\n    };\n    Ellipse.prototype.buildPath = function (ctx, shape) {\n        var k = 0.5522848;\n        var x = shape.cx;\n        var y = shape.cy;\n        var a = shape.rx;\n        var b = shape.ry;\n        var ox = a * k;\n        var oy = b * k;\n        ctx.moveTo(x - a, y);\n        ctx.bezierCurveTo(x - a, y - oy, x - ox, y - b, x, y - b);\n        ctx.bezierCurveTo(x + ox, y - b, x + a, y - oy, x + a, y);\n        ctx.bezierCurveTo(x + a, y + oy, x + ox, y + b, x, y + b);\n        ctx.bezierCurveTo(x - ox, y + b, x - a, y + oy, x - a, y);\n        ctx.closePath();\n    };\n    return Ellipse;\n}(Path));\nEllipse.prototype.type = 'ellipse';\nexport default Ellipse;\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nimport { subPixelOptimizeLine } from '../helper/subPixelOptimize.js';\nvar subPixelOptimizeOutputShape = {};\nvar LineShape = (function () {\n    function LineShape() {\n        this.x1 = 0;\n        this.y1 = 0;\n        this.x2 = 0;\n        this.y2 = 0;\n        this.percent = 1;\n    }\n    return LineShape;\n}());\nexport { LineShape };\nvar Line = (function (_super) {\n    __extends(Line, _super);\n    function Line(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Line.prototype.getDefaultStyle = function () {\n        return {\n            stroke: '#000',\n            fill: null\n        };\n    };\n    Line.prototype.getDefaultShape = function () {\n        return new LineShape();\n    };\n    Line.prototype.buildPath = function (ctx, shape) {\n        var x1;\n        var y1;\n        var x2;\n        var y2;\n        if (this.subPixelOptimize) {\n            var optimizedShape = subPixelOptimizeLine(subPixelOptimizeOutputShape, shape, this.style);\n            x1 = optimizedShape.x1;\n            y1 = optimizedShape.y1;\n            x2 = optimizedShape.x2;\n            y2 = optimizedShape.y2;\n        }\n        else {\n            x1 = shape.x1;\n            y1 = shape.y1;\n            x2 = shape.x2;\n            y2 = shape.y2;\n        }\n        var percent = shape.percent;\n        if (percent === 0) {\n            return;\n        }\n        ctx.moveTo(x1, y1);\n        if (percent < 1) {\n            x2 = x1 * (1 - percent) + x2 * percent;\n            y2 = y1 * (1 - percent) + y2 * percent;\n        }\n        ctx.lineTo(x2, y2);\n    };\n    Line.prototype.pointAt = function (p) {\n        var shape = this.shape;\n        return [\n            shape.x1 * (1 - p) + shape.x2 * p,\n            shape.y1 * (1 - p) + shape.y2 * p\n        ];\n    };\n    return Line;\n}(Path));\nLine.prototype.type = 'line';\nexport default Line;\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nimport * as polyHelper from '../helper/poly.js';\nvar PolygonShape = (function () {\n    function PolygonShape() {\n        this.points = null;\n        this.smooth = 0;\n        this.smoothConstraint = null;\n    }\n    return PolygonShape;\n}());\nexport { PolygonShape };\nvar Polygon = (function (_super) {\n    __extends(Polygon, _super);\n    function Polygon(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Polygon.prototype.getDefaultShape = function () {\n        return new PolygonShape();\n    };\n    Polygon.prototype.buildPath = function (ctx, shape) {\n        polyHelper.buildPath(ctx, shape, true);\n    };\n    return Polygon;\n}(Path));\n;\nPolygon.prototype.type = 'polygon';\nexport default Polygon;\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nimport * as polyHelper from '../helper/poly.js';\nvar PolylineShape = (function () {\n    function PolylineShape() {\n        this.points = null;\n        this.percent = 1;\n        this.smooth = 0;\n        this.smoothConstraint = null;\n    }\n    return PolylineShape;\n}());\nexport { PolylineShape };\nvar Polyline = (function (_super) {\n    __extends(Polyline, _super);\n    function Polyline(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Polyline.prototype.getDefaultStyle = function () {\n        return {\n            stroke: '#000',\n            fill: null\n        };\n    };\n    Polyline.prototype.getDefaultShape = function () {\n        return new PolylineShape();\n    };\n    Polyline.prototype.buildPath = function (ctx, shape) {\n        polyHelper.buildPath(ctx, shape, false);\n    };\n    return Polyline;\n}(Path));\nPolyline.prototype.type = 'polyline';\nexport default Polyline;\n","export function buildPath(ctx, shape) {\n    var x = shape.x;\n    var y = shape.y;\n    var width = shape.width;\n    var height = shape.height;\n    var r = shape.r;\n    var r1;\n    var r2;\n    var r3;\n    var r4;\n    if (width < 0) {\n        x = x + width;\n        width = -width;\n    }\n    if (height < 0) {\n        y = y + height;\n        height = -height;\n    }\n    if (typeof r === 'number') {\n        r1 = r2 = r3 = r4 = r;\n    }\n    else if (r instanceof Array) {\n        if (r.length === 1) {\n            r1 = r2 = r3 = r4 = r[0];\n        }\n        else if (r.length === 2) {\n            r1 = r3 = r[0];\n            r2 = r4 = r[1];\n        }\n        else if (r.length === 3) {\n            r1 = r[0];\n            r2 = r4 = r[1];\n            r3 = r[2];\n        }\n        else {\n            r1 = r[0];\n            r2 = r[1];\n            r3 = r[2];\n            r4 = r[3];\n        }\n    }\n    else {\n        r1 = r2 = r3 = r4 = 0;\n    }\n    var total;\n    if (r1 + r2 > width) {\n        total = r1 + r2;\n        r1 *= width / total;\n        r2 *= width / total;\n    }\n    if (r3 + r4 > width) {\n        total = r3 + r4;\n        r3 *= width / total;\n        r4 *= width / total;\n    }\n    if (r2 + r3 > height) {\n        total = r2 + r3;\n        r2 *= height / total;\n        r3 *= height / total;\n    }\n    if (r1 + r4 > height) {\n        total = r1 + r4;\n        r1 *= height / total;\n        r4 *= height / total;\n    }\n    ctx.moveTo(x + r1, y);\n    ctx.lineTo(x + width - r2, y);\n    r2 !== 0 && ctx.arc(x + width - r2, y + r2, r2, -Math.PI / 2, 0);\n    ctx.lineTo(x + width, y + height - r3);\n    r3 !== 0 && ctx.arc(x + width - r3, y + height - r3, r3, 0, Math.PI / 2);\n    ctx.lineTo(x + r4, y + height);\n    r4 !== 0 && ctx.arc(x + r4, y + height - r4, r4, Math.PI / 2, Math.PI);\n    ctx.lineTo(x, y + r1);\n    r1 !== 0 && ctx.arc(x + r1, y + r1, r1, Math.PI, Math.PI * 1.5);\n}\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nimport * as roundRectHelper from '../helper/roundRect.js';\nimport { subPixelOptimizeRect } from '../helper/subPixelOptimize.js';\nvar RectShape = (function () {\n    function RectShape() {\n        this.x = 0;\n        this.y = 0;\n        this.width = 0;\n        this.height = 0;\n    }\n    return RectShape;\n}());\nexport { RectShape };\nvar subPixelOptimizeOutputShape = {};\nvar Rect = (function (_super) {\n    __extends(Rect, _super);\n    function Rect(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Rect.prototype.getDefaultShape = function () {\n        return new RectShape();\n    };\n    Rect.prototype.buildPath = function (ctx, shape) {\n        var x;\n        var y;\n        var width;\n        var height;\n        if (this.subPixelOptimize) {\n            var optimizedShape = subPixelOptimizeRect(subPixelOptimizeOutputShape, shape, this.style);\n            x = optimizedShape.x;\n            y = optimizedShape.y;\n            width = optimizedShape.width;\n            height = optimizedShape.height;\n            optimizedShape.r = shape.r;\n            shape = optimizedShape;\n        }\n        else {\n            x = shape.x;\n            y = shape.y;\n            width = shape.width;\n            height = shape.height;\n        }\n        if (!shape.r) {\n            ctx.rect(x, y, width, height);\n        }\n        else {\n            roundRectHelper.buildPath(ctx, shape);\n        }\n    };\n    Rect.prototype.isZeroArea = function () {\n        return !this.shape.width || !this.shape.height;\n    };\n    return Rect;\n}(Path));\nRect.prototype.type = 'rect';\nexport default Rect;\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nvar RingShape = (function () {\n    function RingShape() {\n        this.cx = 0;\n        this.cy = 0;\n        this.r = 0;\n        this.r0 = 0;\n    }\n    return RingShape;\n}());\nexport { RingShape };\nvar Ring = (function (_super) {\n    __extends(Ring, _super);\n    function Ring(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Ring.prototype.getDefaultShape = function () {\n        return new RingShape();\n    };\n    Ring.prototype.buildPath = function (ctx, shape) {\n        var x = shape.cx;\n        var y = shape.cy;\n        var PI2 = Math.PI * 2;\n        ctx.moveTo(x + shape.r, y);\n        ctx.arc(x, y, shape.r, 0, PI2, false);\n        ctx.moveTo(x + shape.r0, y);\n        ctx.arc(x, y, shape.r0, 0, PI2, true);\n    };\n    return Ring;\n}(Path));\nRing.prototype.type = 'ring';\nexport default Ring;\n","import { isArray } from '../../core/util.js';\nvar PI = Math.PI;\nvar PI2 = PI * 2;\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar mathACos = Math.acos;\nvar mathATan2 = Math.atan2;\nvar mathAbs = Math.abs;\nvar mathSqrt = Math.sqrt;\nvar mathMax = Math.max;\nvar mathMin = Math.min;\nvar e = 1e-4;\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n    var dx10 = x1 - x0;\n    var dy10 = y1 - y0;\n    var dx32 = x3 - x2;\n    var dy32 = y3 - y2;\n    var t = dy32 * dx10 - dx32 * dy10;\n    if (t * t < e) {\n        return;\n    }\n    t = (dx32 * (y0 - y2) - dy32 * (x0 - x2)) / t;\n    return [x0 + t * dx10, y0 + t * dy10];\n}\nfunction computeCornerTangents(x0, y0, x1, y1, radius, cr, clockwise) {\n    var x01 = x0 - x1;\n    var y01 = y0 - y1;\n    var lo = (clockwise ? cr : -cr) / mathSqrt(x01 * x01 + y01 * y01);\n    var ox = lo * y01;\n    var oy = -lo * x01;\n    var x11 = x0 + ox;\n    var y11 = y0 + oy;\n    var x10 = x1 + ox;\n    var y10 = y1 + oy;\n    var x00 = (x11 + x10) / 2;\n    var y00 = (y11 + y10) / 2;\n    var dx = x10 - x11;\n    var dy = y10 - y11;\n    var d2 = dx * dx + dy * dy;\n    var r = radius - cr;\n    var s = x11 * y10 - x10 * y11;\n    var d = (dy < 0 ? -1 : 1) * mathSqrt(mathMax(0, r * r * d2 - s * s));\n    var cx0 = (s * dy - dx * d) / d2;\n    var cy0 = (-s * dx - dy * d) / d2;\n    var cx1 = (s * dy + dx * d) / d2;\n    var cy1 = (-s * dx + dy * d) / d2;\n    var dx0 = cx0 - x00;\n    var dy0 = cy0 - y00;\n    var dx1 = cx1 - x00;\n    var dy1 = cy1 - y00;\n    if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) {\n        cx0 = cx1;\n        cy0 = cy1;\n    }\n    return {\n        cx: cx0,\n        cy: cy0,\n        x0: -ox,\n        y0: -oy,\n        x1: cx0 * (radius / r - 1),\n        y1: cy0 * (radius / r - 1)\n    };\n}\nfunction normalizeCornerRadius(cr) {\n    var arr;\n    if (isArray(cr)) {\n        var len = cr.length;\n        if (!len) {\n            return cr;\n        }\n        if (len === 1) {\n            arr = [cr[0], cr[0], 0, 0];\n        }\n        else if (len === 2) {\n            arr = [cr[0], cr[0], cr[1], cr[1]];\n        }\n        else if (len === 3) {\n            arr = cr.concat(cr[2]);\n        }\n        else {\n            arr = cr;\n        }\n    }\n    else {\n        arr = [cr, cr, cr, cr];\n    }\n    return arr;\n}\nexport function buildPath(ctx, shape) {\n    var _a;\n    var radius = mathMax(shape.r, 0);\n    var innerRadius = mathMax(shape.r0 || 0, 0);\n    var hasRadius = radius > 0;\n    var hasInnerRadius = innerRadius > 0;\n    if (!hasRadius && !hasInnerRadius) {\n        return;\n    }\n    if (!hasRadius) {\n        radius = innerRadius;\n        innerRadius = 0;\n    }\n    if (innerRadius > radius) {\n        var tmp = radius;\n        radius = innerRadius;\n        innerRadius = tmp;\n    }\n    var startAngle = shape.startAngle, endAngle = shape.endAngle;\n    if (isNaN(startAngle) || isNaN(endAngle)) {\n        return;\n    }\n    var cx = shape.cx, cy = shape.cy;\n    var clockwise = !!shape.clockwise;\n    var arc = mathAbs(endAngle - startAngle);\n    var mod = arc > PI2 && arc % PI2;\n    mod > e && (arc = mod);\n    if (!(radius > e)) {\n        ctx.moveTo(cx, cy);\n    }\n    else if (arc > PI2 - e) {\n        ctx.moveTo(cx + radius * mathCos(startAngle), cy + radius * mathSin(startAngle));\n        ctx.arc(cx, cy, radius, startAngle, endAngle, !clockwise);\n        if (innerRadius > e) {\n            ctx.moveTo(cx + innerRadius * mathCos(endAngle), cy + innerRadius * mathSin(endAngle));\n            ctx.arc(cx, cy, innerRadius, endAngle, startAngle, clockwise);\n        }\n    }\n    else {\n        var icrStart = void 0;\n        var icrEnd = void 0;\n        var ocrStart = void 0;\n        var ocrEnd = void 0;\n        var ocrs = void 0;\n        var ocre = void 0;\n        var icrs = void 0;\n        var icre = void 0;\n        var ocrMax = void 0;\n        var icrMax = void 0;\n        var limitedOcrMax = void 0;\n        var limitedIcrMax = void 0;\n        var xre = void 0;\n        var yre = void 0;\n        var xirs = void 0;\n        var yirs = void 0;\n        var xrs = radius * mathCos(startAngle);\n        var yrs = radius * mathSin(startAngle);\n        var xire = innerRadius * mathCos(endAngle);\n        var yire = innerRadius * mathSin(endAngle);\n        var hasArc = arc > e;\n        if (hasArc) {\n            var cornerRadius = shape.cornerRadius;\n            if (cornerRadius) {\n                _a = normalizeCornerRadius(cornerRadius), icrStart = _a[0], icrEnd = _a[1], ocrStart = _a[2], ocrEnd = _a[3];\n            }\n            var halfRd = mathAbs(radius - innerRadius) / 2;\n            ocrs = mathMin(halfRd, ocrStart);\n            ocre = mathMin(halfRd, ocrEnd);\n            icrs = mathMin(halfRd, icrStart);\n            icre = mathMin(halfRd, icrEnd);\n            limitedOcrMax = ocrMax = mathMax(ocrs, ocre);\n            limitedIcrMax = icrMax = mathMax(icrs, icre);\n            if (ocrMax > e || icrMax > e) {\n                xre = radius * mathCos(endAngle);\n                yre = radius * mathSin(endAngle);\n                xirs = innerRadius * mathCos(startAngle);\n                yirs = innerRadius * mathSin(startAngle);\n                if (arc < PI) {\n                    var it_1 = intersect(xrs, yrs, xirs, yirs, xre, yre, xire, yire);\n                    if (it_1) {\n                        var x0 = xrs - it_1[0];\n                        var y0 = yrs - it_1[1];\n                        var x1 = xre - it_1[0];\n                        var y1 = yre - it_1[1];\n                        var a = 1 / mathSin(mathACos((x0 * x1 + y0 * y1) / (mathSqrt(x0 * x0 + y0 * y0) * mathSqrt(x1 * x1 + y1 * y1))) / 2);\n                        var b = mathSqrt(it_1[0] * it_1[0] + it_1[1] * it_1[1]);\n                        limitedOcrMax = mathMin(ocrMax, (radius - b) / (a + 1));\n                        limitedIcrMax = mathMin(icrMax, (innerRadius - b) / (a - 1));\n                    }\n                }\n            }\n        }\n        if (!hasArc) {\n            ctx.moveTo(cx + xrs, cy + yrs);\n        }\n        else if (limitedOcrMax > e) {\n            var crStart = mathMin(ocrStart, limitedOcrMax);\n            var crEnd = mathMin(ocrEnd, limitedOcrMax);\n            var ct0 = computeCornerTangents(xirs, yirs, xrs, yrs, radius, crStart, clockwise);\n            var ct1 = computeCornerTangents(xre, yre, xire, yire, radius, crEnd, clockwise);\n            ctx.moveTo(cx + ct0.cx + ct0.x0, cy + ct0.cy + ct0.y0);\n            if (limitedOcrMax < ocrMax && crStart === crEnd) {\n                ctx.arc(cx + ct0.cx, cy + ct0.cy, limitedOcrMax, mathATan2(ct0.y0, ct0.x0), mathATan2(ct1.y0, ct1.x0), !clockwise);\n            }\n            else {\n                crStart > 0 && ctx.arc(cx + ct0.cx, cy + ct0.cy, crStart, mathATan2(ct0.y0, ct0.x0), mathATan2(ct0.y1, ct0.x1), !clockwise);\n                ctx.arc(cx, cy, radius, mathATan2(ct0.cy + ct0.y1, ct0.cx + ct0.x1), mathATan2(ct1.cy + ct1.y1, ct1.cx + ct1.x1), !clockwise);\n                crEnd > 0 && ctx.arc(cx + ct1.cx, cy + ct1.cy, crEnd, mathATan2(ct1.y1, ct1.x1), mathATan2(ct1.y0, ct1.x0), !clockwise);\n            }\n        }\n        else {\n            ctx.moveTo(cx + xrs, cy + yrs);\n            ctx.arc(cx, cy, radius, startAngle, endAngle, !clockwise);\n        }\n        if (!(innerRadius > e) || !hasArc) {\n            ctx.lineTo(cx + xire, cy + yire);\n        }\n        else if (limitedIcrMax > e) {\n            var crStart = mathMin(icrStart, limitedIcrMax);\n            var crEnd = mathMin(icrEnd, limitedIcrMax);\n            var ct0 = computeCornerTangents(xire, yire, xre, yre, innerRadius, -crEnd, clockwise);\n            var ct1 = computeCornerTangents(xrs, yrs, xirs, yirs, innerRadius, -crStart, clockwise);\n            ctx.lineTo(cx + ct0.cx + ct0.x0, cy + ct0.cy + ct0.y0);\n            if (limitedIcrMax < icrMax && crStart === crEnd) {\n                ctx.arc(cx + ct0.cx, cy + ct0.cy, limitedIcrMax, mathATan2(ct0.y0, ct0.x0), mathATan2(ct1.y0, ct1.x0), !clockwise);\n            }\n            else {\n                crEnd > 0 && ctx.arc(cx + ct0.cx, cy + ct0.cy, crEnd, mathATan2(ct0.y0, ct0.x0), mathATan2(ct0.y1, ct0.x1), !clockwise);\n                ctx.arc(cx, cy, innerRadius, mathATan2(ct0.cy + ct0.y1, ct0.cx + ct0.x1), mathATan2(ct1.cy + ct1.y1, ct1.cx + ct1.x1), clockwise);\n                crStart > 0 && ctx.arc(cx + ct1.cx, cy + ct1.cy, crStart, mathATan2(ct1.y1, ct1.x1), mathATan2(ct1.y0, ct1.x0), !clockwise);\n            }\n        }\n        else {\n            ctx.lineTo(cx + xire, cy + yire);\n            ctx.arc(cx, cy, innerRadius, endAngle, startAngle, clockwise);\n        }\n    }\n    ctx.closePath();\n}\n","import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nimport * as roundSectorHelper from '../helper/roundSector.js';\nvar SectorShape = (function () {\n    function SectorShape() {\n        this.cx = 0;\n        this.cy = 0;\n        this.r0 = 0;\n        this.r = 0;\n        this.startAngle = 0;\n        this.endAngle = Math.PI * 2;\n        this.clockwise = true;\n        this.cornerRadius = 0;\n    }\n    return SectorShape;\n}());\nexport { SectorShape };\nvar Sector = (function (_super) {\n    __extends(Sector, _super);\n    function Sector(opts) {\n        return _super.call(this, opts) || this;\n    }\n    Sector.prototype.getDefaultShape = function () {\n        return new SectorShape();\n    };\n    Sector.prototype.buildPath = function (ctx, shape) {\n        roundSectorHelper.buildPath(ctx, shape);\n    };\n    Sector.prototype.isZeroArea = function () {\n        return this.shape.startAngle === this.shape.endAngle\n            || this.shape.r === this.shape.r0;\n    };\n    return Sector;\n}(Path));\nSector.prototype.type = 'sector';\nexport default Sector;\n","var Param = (function () {\n    function Param(target, e) {\n        this.target = target;\n        this.topTarget = e && e.topTarget;\n    }\n    return Param;\n}());\nvar Draggable = (function () {\n    function Draggable(handler) {\n        this.handler = handler;\n        handler.on('mousedown', this._dragStart, this);\n        handler.on('mousemove', this._drag, this);\n        handler.on('mouseup', this._dragEnd, this);\n    }\n    Draggable.prototype._dragStart = function (e) {\n        var draggingTarget = e.target;\n        while (draggingTarget && !draggingTarget.draggable) {\n            draggingTarget = draggingTarget.parent || draggingTarget.__hostTarget;\n        }\n        if (draggingTarget) {\n            this._draggingTarget = draggingTarget;\n            draggingTarget.dragging = true;\n            this._x = e.offsetX;\n            this._y = e.offsetY;\n            this.handler.dispatchToElement(new Param(draggingTarget, e), 'dragstart', e.event);\n        }\n    };\n    Draggable.prototype._drag = function (e) {\n        var draggingTarget = this._draggingTarget;\n        if (draggingTarget) {\n            var x = e.offsetX;\n            var y = e.offsetY;\n            var dx = x - this._x;\n            var dy = y - this._y;\n            this._x = x;\n            this._y = y;\n            draggingTarget.drift(dx, dy, e);\n            this.handler.dispatchToElement(new Param(draggingTarget, e), 'drag', e.event);\n            var dropTarget = this.handler.findHover(x, y, draggingTarget).target;\n            var lastDropTarget = this._dropTarget;\n            this._dropTarget = dropTarget;\n            if (draggingTarget !== dropTarget) {\n                if (lastDropTarget && dropTarget !== lastDropTarget) {\n                    this.handler.dispatchToElement(new Param(lastDropTarget, e), 'dragleave', e.event);\n                }\n                if (dropTarget && dropTarget !== lastDropTarget) {\n                    this.handler.dispatchToElement(new Param(dropTarget, e), 'dragenter', e.event);\n                }\n            }\n        }\n    };\n    Draggable.prototype._dragEnd = function (e) {\n        var draggingTarget = this._draggingTarget;\n        if (draggingTarget) {\n            draggingTarget.dragging = false;\n        }\n        this.handler.dispatchToElement(new Param(draggingTarget, e), 'dragend', e.event);\n        if (this._dropTarget) {\n            this.handler.dispatchToElement(new Param(this._dropTarget, e), 'drop', e.event);\n        }\n        this._draggingTarget = null;\n        this._dropTarget = null;\n    };\n    return Draggable;\n}());\nexport default Draggable;\n","import { isAroundZero } from './helper.js';\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar PI = Math.PI;\nvar PI2 = Math.PI * 2;\nvar degree = 180 / PI;\nvar SVGPathRebuilder = (function () {\n    function SVGPathRebuilder() {\n    }\n    SVGPathRebuilder.prototype.reset = function (precision) {\n        this._start = true;\n        this._d = [];\n        this._str = '';\n        this._p = Math.pow(10, precision || 4);\n    };\n    SVGPathRebuilder.prototype.moveTo = function (x, y) {\n        this._add('M', x, y);\n    };\n    SVGPathRebuilder.prototype.lineTo = function (x, y) {\n        this._add('L', x, y);\n    };\n    SVGPathRebuilder.prototype.bezierCurveTo = function (x, y, x2, y2, x3, y3) {\n        this._add('C', x, y, x2, y2, x3, y3);\n    };\n    SVGPathRebuilder.prototype.quadraticCurveTo = function (x, y, x2, y2) {\n        this._add('Q', x, y, x2, y2);\n    };\n    SVGPathRebuilder.prototype.arc = function (cx, cy, r, startAngle, endAngle, anticlockwise) {\n        this.ellipse(cx, cy, r, r, 0, startAngle, endAngle, anticlockwise);\n    };\n    SVGPathRebuilder.prototype.ellipse = function (cx, cy, rx, ry, psi, startAngle, endAngle, anticlockwise) {\n        var dTheta = endAngle - startAngle;\n        var clockwise = !anticlockwise;\n        var dThetaPositive = Math.abs(dTheta);\n        var isCircle = isAroundZero(dThetaPositive - PI2)\n            || (clockwise ? dTheta >= PI2 : -dTheta >= PI2);\n        var unifiedTheta = dTheta > 0 ? dTheta % PI2 : (dTheta % PI2 + PI2);\n        var large = false;\n        if (isCircle) {\n            large = true;\n        }\n        else if (isAroundZero(dThetaPositive)) {\n            large = false;\n        }\n        else {\n            large = (unifiedTheta >= PI) === !!clockwise;\n        }\n        var x0 = cx + rx * mathCos(startAngle);\n        var y0 = cy + ry * mathSin(startAngle);\n        if (this._start) {\n            this._add('M', x0, y0);\n        }\n        var xRot = Math.round(psi * degree);\n        if (isCircle) {\n            var p = 1 / this._p;\n            var dTheta_1 = (clockwise ? 1 : -1) * (PI2 - p);\n            this._add('A', rx, ry, xRot, 1, +clockwise, cx + rx * mathCos(startAngle + dTheta_1), cy + ry * mathSin(startAngle + dTheta_1));\n            if (p > 1e-2) {\n                this._add('A', rx, ry, xRot, 0, +clockwise, x0, y0);\n            }\n        }\n        else {\n            var x = cx + rx * mathCos(endAngle);\n            var y = cy + ry * mathSin(endAngle);\n            this._add('A', rx, ry, xRot, +large, +clockwise, x, y);\n        }\n    };\n    SVGPathRebuilder.prototype.rect = function (x, y, w, h) {\n        this._add('M', x, y);\n        this._add('l', w, 0);\n        this._add('l', 0, h);\n        this._add('l', -w, 0);\n        this._add('Z');\n    };\n    SVGPathRebuilder.prototype.closePath = function () {\n        if (this._d.length > 0) {\n            this._add('Z');\n        }\n    };\n    SVGPathRebuilder.prototype._add = function (cmd, a, b, c, d, e, f, g, h) {\n        var vals = [];\n        var p = this._p;\n        for (var i = 1; i < arguments.length; i++) {\n            var val = arguments[i];\n            if (isNaN(val)) {\n                this._invalid = true;\n                return;\n            }\n            vals.push(Math.round(val * p) / p);\n        }\n        this._d.push(cmd + vals.join(' '));\n        this._start = cmd === 'Z';\n    };\n    SVGPathRebuilder.prototype.generateStr = function () {\n        this._str = this._invalid ? '' : this._d.join('');\n        this._d = [];\n    };\n    SVGPathRebuilder.prototype.getStr = function () {\n        return this._str;\n    };\n    return SVGPathRebuilder;\n}());\nexport default SVGPathRebuilder;\n","import { DEFAULT_PATH_STYLE } from '../graphic/Path.js';\nimport ZRImage from '../graphic/Image.js';\nimport { getLineDash } from '../canvas/dashStyle.js';\nimport { map } from '../core/util.js';\nimport { normalizeColor } from './helper.js';\nvar NONE = 'none';\nvar mathRound = Math.round;\nfunction pathHasFill(style) {\n    var fill = style.fill;\n    return fill != null && fill !== NONE;\n}\nfunction pathHasStroke(style) {\n    var stroke = style.stroke;\n    return stroke != null && stroke !== NONE;\n}\nvar strokeProps = ['lineCap', 'miterLimit', 'lineJoin'];\nvar svgStrokeProps = map(strokeProps, function (prop) { return \"stroke-\" + prop.toLowerCase(); });\nexport default function mapStyleToAttrs(updateAttr, style, el, forceUpdate) {\n    var opacity = style.opacity == null ? 1 : style.opacity;\n    if (el instanceof ZRImage) {\n        updateAttr('opacity', opacity);\n        return;\n    }\n    if (pathHasFill(style)) {\n        var fill = normalizeColor(style.fill);\n        updateAttr('fill', fill.color);\n        var fillOpacity = style.fillOpacity != null\n            ? style.fillOpacity * fill.opacity * opacity\n            : fill.opacity * opacity;\n        if (forceUpdate || fillOpacity < 1) {\n            updateAttr('fill-opacity', fillOpacity);\n        }\n    }\n    else {\n        updateAttr('fill', NONE);\n    }\n    if (pathHasStroke(style)) {\n        var stroke = normalizeColor(style.stroke);\n        updateAttr('stroke', stroke.color);\n        var strokeScale = style.strokeNoScale\n            ? el.getLineScale()\n            : 1;\n        var strokeWidth = (strokeScale ? (style.lineWidth || 0) / strokeScale : 0);\n        var strokeOpacity = style.strokeOpacity != null\n            ? style.strokeOpacity * stroke.opacity * opacity\n            : stroke.opacity * opacity;\n        var strokeFirst = style.strokeFirst;\n        if (forceUpdate || strokeWidth !== 1) {\n            updateAttr('stroke-width', strokeWidth);\n        }\n        if (forceUpdate || strokeFirst) {\n            updateAttr('paint-order', strokeFirst ? 'stroke' : 'fill');\n        }\n        if (forceUpdate || strokeOpacity < 1) {\n            updateAttr('stroke-opacity', strokeOpacity);\n        }\n        if (style.lineDash) {\n            var _a = getLineDash(el), lineDash = _a[0], lineDashOffset = _a[1];\n            if (lineDash) {\n                lineDashOffset = mathRound(lineDashOffset || 0);\n                updateAttr('stroke-dasharray', lineDash.join(','));\n                if (lineDashOffset || forceUpdate) {\n                    updateAttr('stroke-dashoffset', lineDashOffset);\n                }\n            }\n        }\n        else if (forceUpdate) {\n            updateAttr('stroke-dasharray', NONE);\n        }\n        for (var i = 0; i < strokeProps.length; i++) {\n            var propName = strokeProps[i];\n            if (forceUpdate || style[propName] !== DEFAULT_PATH_STYLE[propName]) {\n                var val = style[propName] || DEFAULT_PATH_STYLE[propName];\n                val && updateAttr(svgStrokeProps[i], val);\n            }\n        }\n    }\n    else if (forceUpdate) {\n        updateAttr('stroke', NONE);\n    }\n}\n","import { keys, map } from '../core/util.js';\nimport { encodeHTML } from '../core/dom.js';\nexport var SVGNS = 'http://www.w3.org/2000/svg';\nexport var XLINKNS = 'http://www.w3.org/1999/xlink';\nexport var XMLNS = 'http://www.w3.org/2000/xmlns/';\nexport var XML_NAMESPACE = 'http://www.w3.org/XML/1998/namespace';\nexport var META_DATA_PREFIX = 'ecmeta_';\nexport function createElement(name) {\n    return document.createElementNS(SVGNS, name);\n}\n;\nexport function createVNode(tag, key, attrs, children, text) {\n    return {\n        tag: tag,\n        attrs: attrs || {},\n        children: children,\n        text: text,\n        key: key\n    };\n}\nfunction createElementOpen(name, attrs) {\n    var attrsStr = [];\n    if (attrs) {\n        for (var key in attrs) {\n            var val = attrs[key];\n            var part = key;\n            if (val === false) {\n                continue;\n            }\n            else if (val !== true && val != null) {\n                part += \"=\\\"\" + val + \"\\\"\";\n            }\n            attrsStr.push(part);\n        }\n    }\n    return \"<\" + name + \" \" + attrsStr.join(' ') + \">\";\n}\nfunction createElementClose(name) {\n    return \"</\" + name + \">\";\n}\nexport function vNodeToString(el, opts) {\n    opts = opts || {};\n    var S = opts.newline ? '\\n' : '';\n    function convertElToString(el) {\n        var children = el.children, tag = el.tag, attrs = el.attrs, text = el.text;\n        return createElementOpen(tag, attrs)\n            + (tag !== 'style' ? encodeHTML(text) : text || '')\n            + (children ? \"\" + S + map(children, function (child) { return convertElToString(child); }).join(S) + S : '')\n            + createElementClose(tag);\n    }\n    return convertElToString(el);\n}\nexport function getCssString(selectorNodes, animationNodes, opts) {\n    opts = opts || {};\n    var S = opts.newline ? '\\n' : '';\n    var bracketBegin = \" {\" + S;\n    var bracketEnd = S + \"}\";\n    var selectors = map(keys(selectorNodes), function (className) {\n        return className + bracketBegin + map(keys(selectorNodes[className]), function (attrName) {\n            return attrName + \":\" + selectorNodes[className][attrName] + \";\";\n        }).join(S) + bracketEnd;\n    }).join(S);\n    var animations = map(keys(animationNodes), function (animationName) {\n        return \"@keyframes \" + animationName + bracketBegin + map(keys(animationNodes[animationName]), function (percent) {\n            return percent + bracketBegin + map(keys(animationNodes[animationName][percent]), function (attrName) {\n                var val = animationNodes[animationName][percent][attrName];\n                if (attrName === 'd') {\n                    val = \"path(\\\"\" + val + \"\\\")\";\n                }\n                return attrName + \":\" + val + \";\";\n            }).join(S) + bracketEnd;\n        }).join(S) + bracketEnd;\n    }).join(S);\n    if (!selectors && !animations) {\n        return '';\n    }\n    return ['<![CDATA[', selectors, animations, ']]>'].join(S);\n}\nexport function createBrushScope(zrId) {\n    return {\n        zrId: zrId,\n        shadowCache: {},\n        patternCache: {},\n        gradientCache: {},\n        clipPathCache: {},\n        defs: {},\n        cssNodes: {},\n        cssAnims: {},\n        cssStyleCache: {},\n        cssAnimIdx: 0,\n        shadowIdx: 0,\n        gradientIdx: 0,\n        patternIdx: 0,\n        clipPathIdx: 0\n    };\n}\nexport function createSVGVNode(width, height, children, useViewBox) {\n    return createVNode('svg', 'root', {\n        'width': width,\n        'height': height,\n        'xmlns': SVGNS,\n        'xmlns:xlink': XLINKNS,\n        'version': '1.1',\n        'baseProfile': 'full',\n        'viewBox': useViewBox ? \"0 0 \" + width + \" \" + height : false\n    }, children);\n}\n","var cssClassIdx = 0;\nexport function getClassId() {\n    return cssClassIdx++;\n}\n","import { copyTransform } from '../core/Transformable.js';\nimport { createBrushScope } from './core.js';\nimport SVGPathRebuilder from './SVGPathRebuilder.js';\nimport PathProxy from '../core/PathProxy.js';\nimport { getPathPrecision, getSRTTransformString } from './helper.js';\nimport { each, extend, filter, isNumber, isString, keys } from '../core/util.js';\nimport CompoundPath from '../graphic/CompoundPath.js';\nimport { createCubicEasingFunc } from '../animation/cubicEasing.js';\nimport { getClassId } from './cssClassId.js';\nexport var EASING_MAP = {\n    cubicIn: '0.32,0,0.67,0',\n    cubicOut: '0.33,1,0.68,1',\n    cubicInOut: '0.65,0,0.35,1',\n    quadraticIn: '0.11,0,0.5,0',\n    quadraticOut: '0.5,1,0.89,1',\n    quadraticInOut: '0.45,0,0.55,1',\n    quarticIn: '0.5,0,0.75,0',\n    quarticOut: '0.25,1,0.5,1',\n    quarticInOut: '0.76,0,0.24,1',\n    quinticIn: '0.64,0,0.78,0',\n    quinticOut: '0.22,1,0.36,1',\n    quinticInOut: '0.83,0,0.17,1',\n    sinusoidalIn: '0.12,0,0.39,0',\n    sinusoidalOut: '0.61,1,0.88,1',\n    sinusoidalInOut: '0.37,0,0.63,1',\n    exponentialIn: '0.7,0,0.84,0',\n    exponentialOut: '0.16,1,0.3,1',\n    exponentialInOut: '0.87,0,0.13,1',\n    circularIn: '0.55,0,1,0.45',\n    circularOut: '0,0.55,0.45,1',\n    circularInOut: '0.85,0,0.15,1'\n};\nvar transformOriginKey = 'transform-origin';\nfunction buildPathString(el, kfShape, path) {\n    var shape = extend({}, el.shape);\n    extend(shape, kfShape);\n    el.buildPath(path, shape);\n    var svgPathBuilder = new SVGPathRebuilder();\n    svgPathBuilder.reset(getPathPrecision(el));\n    path.rebuildPath(svgPathBuilder, 1);\n    svgPathBuilder.generateStr();\n    return svgPathBuilder.getStr();\n}\nfunction setTransformOrigin(target, transform) {\n    var originX = transform.originX, originY = transform.originY;\n    if (originX || originY) {\n        target[transformOriginKey] = originX + \"px \" + originY + \"px\";\n    }\n}\nexport var ANIMATE_STYLE_MAP = {\n    fill: 'fill',\n    opacity: 'opacity',\n    lineWidth: 'stroke-width',\n    lineDashOffset: 'stroke-dashoffset'\n};\nfunction addAnimation(cssAnim, scope) {\n    var animationName = scope.zrId + '-ani-' + scope.cssAnimIdx++;\n    scope.cssAnims[animationName] = cssAnim;\n    return animationName;\n}\nfunction createCompoundPathCSSAnimation(el, attrs, scope) {\n    var paths = el.shape.paths;\n    var composedAnim = {};\n    var cssAnimationCfg;\n    var cssAnimationName;\n    each(paths, function (path) {\n        var subScope = createBrushScope(scope.zrId);\n        subScope.animation = true;\n        createCSSAnimation(path, {}, subScope, true);\n        var cssAnims = subScope.cssAnims;\n        var cssNodes = subScope.cssNodes;\n        var animNames = keys(cssAnims);\n        var len = animNames.length;\n        if (!len) {\n            return;\n        }\n        cssAnimationName = animNames[len - 1];\n        var lastAnim = cssAnims[cssAnimationName];\n        for (var percent in lastAnim) {\n            var kf = lastAnim[percent];\n            composedAnim[percent] = composedAnim[percent] || { d: '' };\n            composedAnim[percent].d += kf.d || '';\n        }\n        for (var className in cssNodes) {\n            var val = cssNodes[className].animation;\n            if (val.indexOf(cssAnimationName) >= 0) {\n                cssAnimationCfg = val;\n            }\n        }\n    });\n    if (!cssAnimationCfg) {\n        return;\n    }\n    attrs.d = false;\n    var animationName = addAnimation(composedAnim, scope);\n    return cssAnimationCfg.replace(cssAnimationName, animationName);\n}\nfunction getEasingFunc(easing) {\n    return isString(easing)\n        ? EASING_MAP[easing]\n            ? \"cubic-bezier(\" + EASING_MAP[easing] + \")\"\n            : createCubicEasingFunc(easing) ? easing : ''\n        : '';\n}\nexport function createCSSAnimation(el, attrs, scope, onlyShape) {\n    var animators = el.animators;\n    var len = animators.length;\n    var cssAnimations = [];\n    if (el instanceof CompoundPath) {\n        var animationCfg = createCompoundPathCSSAnimation(el, attrs, scope);\n        if (animationCfg) {\n            cssAnimations.push(animationCfg);\n        }\n        else if (!len) {\n            return;\n        }\n    }\n    else if (!len) {\n        return;\n    }\n    var groupAnimators = {};\n    for (var i = 0; i < len; i++) {\n        var animator = animators[i];\n        var cfgArr = [animator.getMaxTime() / 1000 + 's'];\n        var easing = getEasingFunc(animator.getClip().easing);\n        var delay = animator.getDelay();\n        if (easing) {\n            cfgArr.push(easing);\n        }\n        else {\n            cfgArr.push('linear');\n        }\n        if (delay) {\n            cfgArr.push(delay / 1000 + 's');\n        }\n        if (animator.getLoop()) {\n            cfgArr.push('infinite');\n        }\n        var cfg = cfgArr.join(' ');\n        groupAnimators[cfg] = groupAnimators[cfg] || [cfg, []];\n        groupAnimators[cfg][1].push(animator);\n    }\n    function createSingleCSSAnimation(groupAnimator) {\n        var animators = groupAnimator[1];\n        var len = animators.length;\n        var transformKfs = {};\n        var shapeKfs = {};\n        var finalKfs = {};\n        var animationTimingFunctionAttrName = 'animation-timing-function';\n        function saveAnimatorTrackToCssKfs(animator, cssKfs, toCssAttrName) {\n            var tracks = animator.getTracks();\n            var maxTime = animator.getMaxTime();\n            for (var k = 0; k < tracks.length; k++) {\n                var track = tracks[k];\n                if (track.needsAnimate()) {\n                    var kfs = track.keyframes;\n                    var attrName = track.propName;\n                    toCssAttrName && (attrName = toCssAttrName(attrName));\n                    if (attrName) {\n                        for (var i = 0; i < kfs.length; i++) {\n                            var kf = kfs[i];\n                            var percent = Math.round(kf.time / maxTime * 100) + '%';\n                            var kfEasing = getEasingFunc(kf.easing);\n                            var rawValue = kf.rawValue;\n                            if (isString(rawValue) || isNumber(rawValue)) {\n                                cssKfs[percent] = cssKfs[percent] || {};\n                                cssKfs[percent][attrName] = kf.rawValue;\n                                if (kfEasing) {\n                                    cssKfs[percent][animationTimingFunctionAttrName] = kfEasing;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        for (var i = 0; i < len; i++) {\n            var animator = animators[i];\n            var targetProp = animator.targetName;\n            if (!targetProp) {\n                !onlyShape && saveAnimatorTrackToCssKfs(animator, transformKfs);\n            }\n            else if (targetProp === 'shape') {\n                saveAnimatorTrackToCssKfs(animator, shapeKfs);\n            }\n        }\n        for (var percent in transformKfs) {\n            var transform = {};\n            copyTransform(transform, el);\n            extend(transform, transformKfs[percent]);\n            var str = getSRTTransformString(transform);\n            var timingFunction = transformKfs[percent][animationTimingFunctionAttrName];\n            finalKfs[percent] = str ? {\n                transform: str\n            } : {};\n            setTransformOrigin(finalKfs[percent], transform);\n            if (timingFunction) {\n                finalKfs[percent][animationTimingFunctionAttrName] = timingFunction;\n            }\n        }\n        ;\n        var path;\n        var canAnimateShape = true;\n        for (var percent in shapeKfs) {\n            finalKfs[percent] = finalKfs[percent] || {};\n            var isFirst = !path;\n            var timingFunction = shapeKfs[percent][animationTimingFunctionAttrName];\n            if (isFirst) {\n                path = new PathProxy();\n            }\n            var len_1 = path.len();\n            path.reset();\n            finalKfs[percent].d = buildPathString(el, shapeKfs[percent], path);\n            var newLen = path.len();\n            if (!isFirst && len_1 !== newLen) {\n                canAnimateShape = false;\n                break;\n            }\n            if (timingFunction) {\n                finalKfs[percent][animationTimingFunctionAttrName] = timingFunction;\n            }\n        }\n        ;\n        if (!canAnimateShape) {\n            for (var percent in finalKfs) {\n                delete finalKfs[percent].d;\n            }\n        }\n        if (!onlyShape) {\n            for (var i = 0; i < len; i++) {\n                var animator = animators[i];\n                var targetProp = animator.targetName;\n                if (targetProp === 'style') {\n                    saveAnimatorTrackToCssKfs(animator, finalKfs, function (propName) { return ANIMATE_STYLE_MAP[propName]; });\n                }\n            }\n        }\n        var percents = keys(finalKfs);\n        var allTransformOriginSame = true;\n        var transformOrigin;\n        for (var i = 1; i < percents.length; i++) {\n            var p0 = percents[i - 1];\n            var p1 = percents[i];\n            if (finalKfs[p0][transformOriginKey] !== finalKfs[p1][transformOriginKey]) {\n                allTransformOriginSame = false;\n                break;\n            }\n            transformOrigin = finalKfs[p0][transformOriginKey];\n        }\n        if (allTransformOriginSame && transformOrigin) {\n            for (var percent in finalKfs) {\n                if (finalKfs[percent][transformOriginKey]) {\n                    delete finalKfs[percent][transformOriginKey];\n                }\n            }\n            attrs[transformOriginKey] = transformOrigin;\n        }\n        if (filter(percents, function (percent) { return keys(finalKfs[percent]).length > 0; }).length) {\n            var animationName = addAnimation(finalKfs, scope);\n            return animationName + \" \" + groupAnimator[0] + \" both\";\n        }\n    }\n    for (var key in groupAnimators) {\n        var animationCfg = createSingleCSSAnimation(groupAnimators[key]);\n        if (animationCfg) {\n            cssAnimations.push(animationCfg);\n        }\n    }\n    if (cssAnimations.length) {\n        var className = scope.zrId + '-cls-' + getClassId();\n        scope.cssNodes['.' + className] = {\n            animation: cssAnimations.join(',')\n        };\n        attrs[\"class\"] = className;\n    }\n}\n","import { liftColor } from '../tool/color.js';\nimport { getClassId } from './cssClassId.js';\nexport function createCSSEmphasis(el, attrs, scope) {\n    if (!el.ignore) {\n        if (el.isSilent()) {\n            var style = {\n                'pointer-events': 'none'\n            };\n            setClassAttribute(style, attrs, scope, true);\n        }\n        else {\n            var emphasisStyle = el.states.emphasis && el.states.emphasis.style\n                ? el.states.emphasis.style\n                : {};\n            var fill = emphasisStyle.fill;\n            if (!fill) {\n                var normalFill = el.style && el.style.fill;\n                var selectFill = el.states.select\n                    && el.states.select.style\n                    && el.states.select.style.fill;\n                var fromFill = el.currentStates.indexOf('select') >= 0\n                    ? (selectFill || normalFill)\n                    : normalFill;\n                if (fromFill) {\n                    fill = liftColor(fromFill);\n                }\n            }\n            var lineWidth = emphasisStyle.lineWidth;\n            if (lineWidth) {\n                var scaleX = (!emphasisStyle.strokeNoScale && el.transform)\n                    ? el.transform[0]\n                    : 1;\n                lineWidth = lineWidth / scaleX;\n            }\n            var style = {\n                cursor: 'pointer'\n            };\n            if (fill) {\n                style.fill = fill;\n            }\n            if (emphasisStyle.stroke) {\n                style.stroke = emphasisStyle.stroke;\n            }\n            if (lineWidth) {\n                style['stroke-width'] = lineWidth;\n            }\n            setClassAttribute(style, attrs, scope, true);\n        }\n    }\n}\nfunction setClassAttribute(style, attrs, scope, withHover) {\n    var styleKey = JSON.stringify(style);\n    var className = scope.cssStyleCache[styleKey];\n    if (!className) {\n        className = scope.zrId + '-cls-' + getClassId();\n        scope.cssStyleCache[styleKey] = className;\n        scope.cssNodes['.' + className + (withHover ? ':hover' : '')] = style;\n    }\n    attrs[\"class\"] = attrs[\"class\"] ? (attrs[\"class\"] + ' ' + className) : className;\n}\n","import { adjustTextY, getIdURL, getMatrixStr, getPathPrecision, getShadowKey, getSRTTransformString, hasShadow, isAroundZero, isGradient, isImagePattern, isLinearGradient, isPattern, isRadialGradient, normalizeColor, round4, TEXT_ALIGN_TO_ANCHOR } from './helper.js';\nimport Path from '../graphic/Path.js';\nimport ZRImage from '../graphic/Image.js';\nimport { getLineHeight } from '../contain/text.js';\nimport TSpan from '../graphic/TSpan.js';\nimport SVGPathRebuilder from './SVGPathRebuilder.js';\nimport mapStyleToAttrs from './mapStyleToAttrs.js';\nimport { createVNode, vNodeToString, META_DATA_PREFIX } from './core.js';\nimport { assert, clone, isFunction, isString, logError, map, retrieve2 } from '../core/util.js';\nimport { createOrUpdateImage } from '../graphic/helper/image.js';\nimport { createCSSAnimation } from './cssAnimation.js';\nimport { hasSeparateFont, parseFontSize } from '../graphic/Text.js';\nimport { DEFAULT_FONT, DEFAULT_FONT_FAMILY } from '../core/platform.js';\nimport { createCSSEmphasis } from './cssEmphasis.js';\nimport { getElementSSRData } from '../zrender.js';\nvar round = Math.round;\nfunction isImageLike(val) {\n    return val && isString(val.src);\n}\nfunction isCanvasLike(val) {\n    return val && isFunction(val.toDataURL);\n}\nfunction setStyleAttrs(attrs, style, el, scope) {\n    mapStyleToAttrs(function (key, val) {\n        var isFillStroke = key === 'fill' || key === 'stroke';\n        if (isFillStroke && isGradient(val)) {\n            setGradient(style, attrs, key, scope);\n        }\n        else if (isFillStroke && isPattern(val)) {\n            setPattern(el, attrs, key, scope);\n        }\n        else if (isFillStroke && val === 'none') {\n            attrs[key] = 'transparent';\n        }\n        else {\n            attrs[key] = val;\n        }\n    }, style, el, false);\n    setShadow(el, attrs, scope);\n}\nfunction setMetaData(attrs, el) {\n    var metaData = getElementSSRData(el);\n    if (metaData) {\n        metaData.each(function (val, key) {\n            val != null && (attrs[(META_DATA_PREFIX + key).toLowerCase()] = val + '');\n        });\n        if (el.isSilent()) {\n            attrs[META_DATA_PREFIX + 'silent'] = 'true';\n        }\n    }\n}\nfunction noRotateScale(m) {\n    return isAroundZero(m[0] - 1)\n        && isAroundZero(m[1])\n        && isAroundZero(m[2])\n        && isAroundZero(m[3] - 1);\n}\nfunction noTranslate(m) {\n    return isAroundZero(m[4]) && isAroundZero(m[5]);\n}\nfunction setTransform(attrs, m, compress) {\n    if (m && !(noTranslate(m) && noRotateScale(m))) {\n        var mul = compress ? 10 : 1e4;\n        attrs.transform = noRotateScale(m)\n            ? \"translate(\" + round(m[4] * mul) / mul + \" \" + round(m[5] * mul) / mul + \")\" : getMatrixStr(m);\n    }\n}\nfunction convertPolyShape(shape, attrs, mul) {\n    var points = shape.points;\n    var strArr = [];\n    for (var i = 0; i < points.length; i++) {\n        strArr.push(round(points[i][0] * mul) / mul);\n        strArr.push(round(points[i][1] * mul) / mul);\n    }\n    attrs.points = strArr.join(' ');\n}\nfunction validatePolyShape(shape) {\n    return !shape.smooth;\n}\nfunction createAttrsConvert(desc) {\n    var normalizedDesc = map(desc, function (item) {\n        return (typeof item === 'string' ? [item, item] : item);\n    });\n    return function (shape, attrs, mul) {\n        for (var i = 0; i < normalizedDesc.length; i++) {\n            var item = normalizedDesc[i];\n            var val = shape[item[0]];\n            if (val != null) {\n                attrs[item[1]] = round(val * mul) / mul;\n            }\n        }\n    };\n}\nvar builtinShapesDef = {\n    circle: [createAttrsConvert(['cx', 'cy', 'r'])],\n    polyline: [convertPolyShape, validatePolyShape],\n    polygon: [convertPolyShape, validatePolyShape]\n};\nfunction hasShapeAnimation(el) {\n    var animators = el.animators;\n    for (var i = 0; i < animators.length; i++) {\n        if (animators[i].targetName === 'shape') {\n            return true;\n        }\n    }\n    return false;\n}\nexport function brushSVGPath(el, scope) {\n    var style = el.style;\n    var shape = el.shape;\n    var builtinShpDef = builtinShapesDef[el.type];\n    var attrs = {};\n    var needsAnimate = scope.animation;\n    var svgElType = 'path';\n    var strokePercent = el.style.strokePercent;\n    var precision = (scope.compress && getPathPrecision(el)) || 4;\n    if (builtinShpDef\n        && !scope.willUpdate\n        && !(builtinShpDef[1] && !builtinShpDef[1](shape))\n        && !(needsAnimate && hasShapeAnimation(el))\n        && !(strokePercent < 1)) {\n        svgElType = el.type;\n        var mul = Math.pow(10, precision);\n        builtinShpDef[0](shape, attrs, mul);\n    }\n    else {\n        var needBuildPath = !el.path || el.shapeChanged();\n        if (!el.path) {\n            el.createPathProxy();\n        }\n        var path = el.path;\n        if (needBuildPath) {\n            path.beginPath();\n            el.buildPath(path, el.shape);\n            el.pathUpdated();\n        }\n        var pathVersion = path.getVersion();\n        var elExt = el;\n        var svgPathBuilder = elExt.__svgPathBuilder;\n        if (elExt.__svgPathVersion !== pathVersion\n            || !svgPathBuilder\n            || strokePercent !== elExt.__svgPathStrokePercent) {\n            if (!svgPathBuilder) {\n                svgPathBuilder = elExt.__svgPathBuilder = new SVGPathRebuilder();\n            }\n            svgPathBuilder.reset(precision);\n            path.rebuildPath(svgPathBuilder, strokePercent);\n            svgPathBuilder.generateStr();\n            elExt.__svgPathVersion = pathVersion;\n            elExt.__svgPathStrokePercent = strokePercent;\n        }\n        attrs.d = svgPathBuilder.getStr();\n    }\n    setTransform(attrs, el.transform);\n    setStyleAttrs(attrs, style, el, scope);\n    setMetaData(attrs, el);\n    scope.animation && createCSSAnimation(el, attrs, scope);\n    scope.emphasis && createCSSEmphasis(el, attrs, scope);\n    return createVNode(svgElType, el.id + '', attrs);\n}\nexport function brushSVGImage(el, scope) {\n    var style = el.style;\n    var image = style.image;\n    if (image && !isString(image)) {\n        if (isImageLike(image)) {\n            image = image.src;\n        }\n        else if (isCanvasLike(image)) {\n            image = image.toDataURL();\n        }\n    }\n    if (!image) {\n        return;\n    }\n    var x = style.x || 0;\n    var y = style.y || 0;\n    var dw = style.width;\n    var dh = style.height;\n    var attrs = {\n        href: image,\n        width: dw,\n        height: dh\n    };\n    if (x) {\n        attrs.x = x;\n    }\n    if (y) {\n        attrs.y = y;\n    }\n    setTransform(attrs, el.transform);\n    setStyleAttrs(attrs, style, el, scope);\n    setMetaData(attrs, el);\n    scope.animation && createCSSAnimation(el, attrs, scope);\n    return createVNode('image', el.id + '', attrs);\n}\n;\nexport function brushSVGTSpan(el, scope) {\n    var style = el.style;\n    var text = style.text;\n    text != null && (text += '');\n    if (!text || isNaN(style.x) || isNaN(style.y)) {\n        return;\n    }\n    var font = style.font || DEFAULT_FONT;\n    var x = style.x || 0;\n    var y = adjustTextY(style.y || 0, getLineHeight(font), style.textBaseline);\n    var textAlign = TEXT_ALIGN_TO_ANCHOR[style.textAlign]\n        || style.textAlign;\n    var attrs = {\n        'dominant-baseline': 'central',\n        'text-anchor': textAlign\n    };\n    if (hasSeparateFont(style)) {\n        var separatedFontStr = '';\n        var fontStyle = style.fontStyle;\n        var fontSize = parseFontSize(style.fontSize);\n        if (!parseFloat(fontSize)) {\n            return;\n        }\n        var fontFamily = style.fontFamily || DEFAULT_FONT_FAMILY;\n        var fontWeight = style.fontWeight;\n        separatedFontStr += \"font-size:\" + fontSize + \";font-family:\" + fontFamily + \";\";\n        if (fontStyle && fontStyle !== 'normal') {\n            separatedFontStr += \"font-style:\" + fontStyle + \";\";\n        }\n        if (fontWeight && fontWeight !== 'normal') {\n            separatedFontStr += \"font-weight:\" + fontWeight + \";\";\n        }\n        attrs.style = separatedFontStr;\n    }\n    else {\n        attrs.style = \"font: \" + font;\n    }\n    if (text.match(/\\s/)) {\n        attrs['xml:space'] = 'preserve';\n    }\n    if (x) {\n        attrs.x = x;\n    }\n    if (y) {\n        attrs.y = y;\n    }\n    setTransform(attrs, el.transform);\n    setStyleAttrs(attrs, style, el, scope);\n    setMetaData(attrs, el);\n    scope.animation && createCSSAnimation(el, attrs, scope);\n    return createVNode('text', el.id + '', attrs, undefined, text);\n}\nexport function brush(el, scope) {\n    if (el instanceof Path) {\n        return brushSVGPath(el, scope);\n    }\n    else if (el instanceof ZRImage) {\n        return brushSVGImage(el, scope);\n    }\n    else if (el instanceof TSpan) {\n        return brushSVGTSpan(el, scope);\n    }\n}\nfunction setShadow(el, attrs, scope) {\n    var style = el.style;\n    if (hasShadow(style)) {\n        var shadowKey = getShadowKey(el);\n        var shadowCache = scope.shadowCache;\n        var shadowId = shadowCache[shadowKey];\n        if (!shadowId) {\n            var globalScale = el.getGlobalScale();\n            var scaleX = globalScale[0];\n            var scaleY = globalScale[1];\n            if (!scaleX || !scaleY) {\n                return;\n            }\n            var offsetX = style.shadowOffsetX || 0;\n            var offsetY = style.shadowOffsetY || 0;\n            var blur_1 = style.shadowBlur;\n            var _a = normalizeColor(style.shadowColor), opacity = _a.opacity, color = _a.color;\n            var stdDx = blur_1 / 2 / scaleX;\n            var stdDy = blur_1 / 2 / scaleY;\n            var stdDeviation = stdDx + ' ' + stdDy;\n            shadowId = scope.zrId + '-s' + scope.shadowIdx++;\n            scope.defs[shadowId] = createVNode('filter', shadowId, {\n                'id': shadowId,\n                'x': '-100%',\n                'y': '-100%',\n                'width': '300%',\n                'height': '300%'\n            }, [\n                createVNode('feDropShadow', '', {\n                    'dx': offsetX / scaleX,\n                    'dy': offsetY / scaleY,\n                    'stdDeviation': stdDeviation,\n                    'flood-color': color,\n                    'flood-opacity': opacity\n                })\n            ]);\n            shadowCache[shadowKey] = shadowId;\n        }\n        attrs.filter = getIdURL(shadowId);\n    }\n}\nexport function setGradient(style, attrs, target, scope) {\n    var val = style[target];\n    var gradientTag;\n    var gradientAttrs = {\n        'gradientUnits': val.global\n            ? 'userSpaceOnUse'\n            : 'objectBoundingBox'\n    };\n    if (isLinearGradient(val)) {\n        gradientTag = 'linearGradient';\n        gradientAttrs.x1 = val.x;\n        gradientAttrs.y1 = val.y;\n        gradientAttrs.x2 = val.x2;\n        gradientAttrs.y2 = val.y2;\n    }\n    else if (isRadialGradient(val)) {\n        gradientTag = 'radialGradient';\n        gradientAttrs.cx = retrieve2(val.x, 0.5);\n        gradientAttrs.cy = retrieve2(val.y, 0.5);\n        gradientAttrs.r = retrieve2(val.r, 0.5);\n    }\n    else {\n        if (process.env.NODE_ENV !== 'production') {\n            logError('Illegal gradient type.');\n        }\n        return;\n    }\n    var colors = val.colorStops;\n    var colorStops = [];\n    for (var i = 0, len = colors.length; i < len; ++i) {\n        var offset = round4(colors[i].offset) * 100 + '%';\n        var stopColor = colors[i].color;\n        var _a = normalizeColor(stopColor), color = _a.color, opacity = _a.opacity;\n        var stopsAttrs = {\n            'offset': offset\n        };\n        stopsAttrs['stop-color'] = color;\n        if (opacity < 1) {\n            stopsAttrs['stop-opacity'] = opacity;\n        }\n        colorStops.push(createVNode('stop', i + '', stopsAttrs));\n    }\n    var gradientVNode = createVNode(gradientTag, '', gradientAttrs, colorStops);\n    var gradientKey = vNodeToString(gradientVNode);\n    var gradientCache = scope.gradientCache;\n    var gradientId = gradientCache[gradientKey];\n    if (!gradientId) {\n        gradientId = scope.zrId + '-g' + scope.gradientIdx++;\n        gradientCache[gradientKey] = gradientId;\n        gradientAttrs.id = gradientId;\n        scope.defs[gradientId] = createVNode(gradientTag, gradientId, gradientAttrs, colorStops);\n    }\n    attrs[target] = getIdURL(gradientId);\n}\nexport function setPattern(el, attrs, target, scope) {\n    var val = el.style[target];\n    var boundingRect = el.getBoundingRect();\n    var patternAttrs = {};\n    var repeat = val.repeat;\n    var noRepeat = repeat === 'no-repeat';\n    var repeatX = repeat === 'repeat-x';\n    var repeatY = repeat === 'repeat-y';\n    var child;\n    if (isImagePattern(val)) {\n        var imageWidth_1 = val.imageWidth;\n        var imageHeight_1 = val.imageHeight;\n        var imageSrc = void 0;\n        var patternImage = val.image;\n        if (isString(patternImage)) {\n            imageSrc = patternImage;\n        }\n        else if (isImageLike(patternImage)) {\n            imageSrc = patternImage.src;\n        }\n        else if (isCanvasLike(patternImage)) {\n            imageSrc = patternImage.toDataURL();\n        }\n        if (typeof Image === 'undefined') {\n            var errMsg = 'Image width/height must been given explictly in svg-ssr renderer.';\n            assert(imageWidth_1, errMsg);\n            assert(imageHeight_1, errMsg);\n        }\n        else if (imageWidth_1 == null || imageHeight_1 == null) {\n            var setSizeToVNode_1 = function (vNode, img) {\n                if (vNode) {\n                    var svgEl = vNode.elm;\n                    var width = imageWidth_1 || img.width;\n                    var height = imageHeight_1 || img.height;\n                    if (vNode.tag === 'pattern') {\n                        if (repeatX) {\n                            height = 1;\n                            width /= boundingRect.width;\n                        }\n                        else if (repeatY) {\n                            width = 1;\n                            height /= boundingRect.height;\n                        }\n                    }\n                    vNode.attrs.width = width;\n                    vNode.attrs.height = height;\n                    if (svgEl) {\n                        svgEl.setAttribute('width', width);\n                        svgEl.setAttribute('height', height);\n                    }\n                }\n            };\n            var createdImage = createOrUpdateImage(imageSrc, null, el, function (img) {\n                noRepeat || setSizeToVNode_1(patternVNode, img);\n                setSizeToVNode_1(child, img);\n            });\n            if (createdImage && createdImage.width && createdImage.height) {\n                imageWidth_1 = imageWidth_1 || createdImage.width;\n                imageHeight_1 = imageHeight_1 || createdImage.height;\n            }\n        }\n        child = createVNode('image', 'img', {\n            href: imageSrc,\n            width: imageWidth_1,\n            height: imageHeight_1\n        });\n        patternAttrs.width = imageWidth_1;\n        patternAttrs.height = imageHeight_1;\n    }\n    else if (val.svgElement) {\n        child = clone(val.svgElement);\n        patternAttrs.width = val.svgWidth;\n        patternAttrs.height = val.svgHeight;\n    }\n    if (!child) {\n        return;\n    }\n    var patternWidth;\n    var patternHeight;\n    if (noRepeat) {\n        patternWidth = patternHeight = 1;\n    }\n    else if (repeatX) {\n        patternHeight = 1;\n        patternWidth = patternAttrs.width / boundingRect.width;\n    }\n    else if (repeatY) {\n        patternWidth = 1;\n        patternHeight = patternAttrs.height / boundingRect.height;\n    }\n    else {\n        patternAttrs.patternUnits = 'userSpaceOnUse';\n    }\n    if (patternWidth != null && !isNaN(patternWidth)) {\n        patternAttrs.width = patternWidth;\n    }\n    if (patternHeight != null && !isNaN(patternHeight)) {\n        patternAttrs.height = patternHeight;\n    }\n    var patternTransform = getSRTTransformString(val);\n    patternTransform && (patternAttrs.patternTransform = patternTransform);\n    var patternVNode = createVNode('pattern', '', patternAttrs, [child]);\n    var patternKey = vNodeToString(patternVNode);\n    var patternCache = scope.patternCache;\n    var patternId = patternCache[patternKey];\n    if (!patternId) {\n        patternId = scope.zrId + '-p' + scope.patternIdx++;\n        patternCache[patternKey] = patternId;\n        patternAttrs.id = patternId;\n        patternVNode = scope.defs[patternId] = createVNode('pattern', patternId, patternAttrs, [child]);\n    }\n    attrs[target] = getIdURL(patternId);\n}\nexport function setClipPath(clipPath, attrs, scope) {\n    var clipPathCache = scope.clipPathCache, defs = scope.defs;\n    var clipPathId = clipPathCache[clipPath.id];\n    if (!clipPathId) {\n        clipPathId = scope.zrId + '-c' + scope.clipPathIdx++;\n        var clipPathAttrs = {\n            id: clipPathId\n        };\n        clipPathCache[clipPath.id] = clipPathId;\n        defs[clipPathId] = createVNode('clipPath', clipPathId, clipPathAttrs, [brushSVGPath(clipPath, scope)]);\n    }\n    attrs['clip-path'] = getIdURL(clipPathId);\n}\n","export function createTextNode(text) {\n    return document.createTextNode(text);\n}\nexport function createComment(text) {\n    return document.createComment(text);\n}\nexport function insertBefore(parentNode, newNode, referenceNode) {\n    parentNode.insertBefore(newNode, referenceNode);\n}\nexport function removeChild(node, child) {\n    node.removeChild(child);\n}\nexport function appendChild(node, child) {\n    node.appendChild(child);\n}\nexport function parentNode(node) {\n    return node.parentNode;\n}\nexport function nextSibling(node) {\n    return node.nextSibling;\n}\nexport function tagName(elm) {\n    return elm.tagName;\n}\nexport function setTextContent(node, text) {\n    node.textContent = text;\n}\nexport function getTextContent(node) {\n    return node.textContent;\n}\nexport function isElement(node) {\n    return node.nodeType === 1;\n}\nexport function isText(node) {\n    return node.nodeType === 3;\n}\nexport function isComment(node) {\n    return node.nodeType === 8;\n}\n","import { isArray, isObject } from '../core/util.js';\nimport { createElement, createVNode, XMLNS, XML_NAMESPACE, XLINKNS } from './core.js';\nimport * as api from './domapi.js';\nvar colonChar = 58;\nvar xChar = 120;\nvar emptyNode = createVNode('', '');\nfunction isUndef(s) {\n    return s === undefined;\n}\nfunction isDef(s) {\n    return s !== undefined;\n}\nfunction createKeyToOldIdx(children, beginIdx, endIdx) {\n    var map = {};\n    for (var i = beginIdx; i <= endIdx; ++i) {\n        var key = children[i].key;\n        if (key !== undefined) {\n            if (process.env.NODE_ENV !== 'production') {\n                if (map[key] != null) {\n                    console.error(\"Duplicate key \" + key);\n                }\n            }\n            map[key] = i;\n        }\n    }\n    return map;\n}\nfunction sameVnode(vnode1, vnode2) {\n    var isSameKey = vnode1.key === vnode2.key;\n    var isSameTag = vnode1.tag === vnode2.tag;\n    return isSameTag && isSameKey;\n}\nfunction createElm(vnode) {\n    var i;\n    var children = vnode.children;\n    var tag = vnode.tag;\n    if (isDef(tag)) {\n        var elm = (vnode.elm = createElement(tag));\n        updateAttrs(emptyNode, vnode);\n        if (isArray(children)) {\n            for (i = 0; i < children.length; ++i) {\n                var ch = children[i];\n                if (ch != null) {\n                    api.appendChild(elm, createElm(ch));\n                }\n            }\n        }\n        else if (isDef(vnode.text) && !isObject(vnode.text)) {\n            api.appendChild(elm, api.createTextNode(vnode.text));\n        }\n    }\n    else {\n        vnode.elm = api.createTextNode(vnode.text);\n    }\n    return vnode.elm;\n}\nfunction addVnodes(parentElm, before, vnodes, startIdx, endIdx) {\n    for (; startIdx <= endIdx; ++startIdx) {\n        var ch = vnodes[startIdx];\n        if (ch != null) {\n            api.insertBefore(parentElm, createElm(ch), before);\n        }\n    }\n}\nfunction removeVnodes(parentElm, vnodes, startIdx, endIdx) {\n    for (; startIdx <= endIdx; ++startIdx) {\n        var ch = vnodes[startIdx];\n        if (ch != null) {\n            if (isDef(ch.tag)) {\n                var parent_1 = api.parentNode(ch.elm);\n                api.removeChild(parent_1, ch.elm);\n            }\n            else {\n                api.removeChild(parentElm, ch.elm);\n            }\n        }\n    }\n}\nexport function updateAttrs(oldVnode, vnode) {\n    var key;\n    var elm = vnode.elm;\n    var oldAttrs = oldVnode && oldVnode.attrs || {};\n    var attrs = vnode.attrs || {};\n    if (oldAttrs === attrs) {\n        return;\n    }\n    for (key in attrs) {\n        var cur = attrs[key];\n        var old = oldAttrs[key];\n        if (old !== cur) {\n            if (cur === true) {\n                elm.setAttribute(key, '');\n            }\n            else if (cur === false) {\n                elm.removeAttribute(key);\n            }\n            else {\n                if (key === 'style') {\n                    elm.style.cssText = cur;\n                }\n                else if (key.charCodeAt(0) !== xChar) {\n                    elm.setAttribute(key, cur);\n                }\n                else if (key === 'xmlns:xlink' || key === 'xmlns') {\n                    elm.setAttributeNS(XMLNS, key, cur);\n                }\n                else if (key.charCodeAt(3) === colonChar) {\n                    elm.setAttributeNS(XML_NAMESPACE, key, cur);\n                }\n                else if (key.charCodeAt(5) === colonChar) {\n                    elm.setAttributeNS(XLINKNS, key, cur);\n                }\n                else {\n                    elm.setAttribute(key, cur);\n                }\n            }\n        }\n    }\n    for (key in oldAttrs) {\n        if (!(key in attrs)) {\n            elm.removeAttribute(key);\n        }\n    }\n}\nfunction updateChildren(parentElm, oldCh, newCh) {\n    var oldStartIdx = 0;\n    var newStartIdx = 0;\n    var oldEndIdx = oldCh.length - 1;\n    var oldStartVnode = oldCh[0];\n    var oldEndVnode = oldCh[oldEndIdx];\n    var newEndIdx = newCh.length - 1;\n    var newStartVnode = newCh[0];\n    var newEndVnode = newCh[newEndIdx];\n    var oldKeyToIdx;\n    var idxInOld;\n    var elmToMove;\n    var before;\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n        if (oldStartVnode == null) {\n            oldStartVnode = oldCh[++oldStartIdx];\n        }\n        else if (oldEndVnode == null) {\n            oldEndVnode = oldCh[--oldEndIdx];\n        }\n        else if (newStartVnode == null) {\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (newEndVnode == null) {\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (sameVnode(oldStartVnode, newStartVnode)) {\n            patchVnode(oldStartVnode, newStartVnode);\n            oldStartVnode = oldCh[++oldStartIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (sameVnode(oldEndVnode, newEndVnode)) {\n            patchVnode(oldEndVnode, newEndVnode);\n            oldEndVnode = oldCh[--oldEndIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (sameVnode(oldStartVnode, newEndVnode)) {\n            patchVnode(oldStartVnode, newEndVnode);\n            api.insertBefore(parentElm, oldStartVnode.elm, api.nextSibling(oldEndVnode.elm));\n            oldStartVnode = oldCh[++oldStartIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (sameVnode(oldEndVnode, newStartVnode)) {\n            patchVnode(oldEndVnode, newStartVnode);\n            api.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm);\n            oldEndVnode = oldCh[--oldEndIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else {\n            if (isUndef(oldKeyToIdx)) {\n                oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\n            }\n            idxInOld = oldKeyToIdx[newStartVnode.key];\n            if (isUndef(idxInOld)) {\n                api.insertBefore(parentElm, createElm(newStartVnode), oldStartVnode.elm);\n            }\n            else {\n                elmToMove = oldCh[idxInOld];\n                if (elmToMove.tag !== newStartVnode.tag) {\n                    api.insertBefore(parentElm, createElm(newStartVnode), oldStartVnode.elm);\n                }\n                else {\n                    patchVnode(elmToMove, newStartVnode);\n                    oldCh[idxInOld] = undefined;\n                    api.insertBefore(parentElm, elmToMove.elm, oldStartVnode.elm);\n                }\n            }\n            newStartVnode = newCh[++newStartIdx];\n        }\n    }\n    if (oldStartIdx <= oldEndIdx || newStartIdx <= newEndIdx) {\n        if (oldStartIdx > oldEndIdx) {\n            before = newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].elm;\n            addVnodes(parentElm, before, newCh, newStartIdx, newEndIdx);\n        }\n        else {\n            removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx);\n        }\n    }\n}\nfunction patchVnode(oldVnode, vnode) {\n    var elm = (vnode.elm = oldVnode.elm);\n    var oldCh = oldVnode.children;\n    var ch = vnode.children;\n    if (oldVnode === vnode) {\n        return;\n    }\n    updateAttrs(oldVnode, vnode);\n    if (isUndef(vnode.text)) {\n        if (isDef(oldCh) && isDef(ch)) {\n            if (oldCh !== ch) {\n                updateChildren(elm, oldCh, ch);\n            }\n        }\n        else if (isDef(ch)) {\n            if (isDef(oldVnode.text)) {\n                api.setTextContent(elm, '');\n            }\n            addVnodes(elm, null, ch, 0, ch.length - 1);\n        }\n        else if (isDef(oldCh)) {\n            removeVnodes(elm, oldCh, 0, oldCh.length - 1);\n        }\n        else if (isDef(oldVnode.text)) {\n            api.setTextContent(elm, '');\n        }\n    }\n    else if (oldVnode.text !== vnode.text) {\n        if (isDef(oldCh)) {\n            removeVnodes(elm, oldCh, 0, oldCh.length - 1);\n        }\n        api.setTextContent(elm, vnode.text);\n    }\n}\nexport default function patch(oldVnode, vnode) {\n    if (sameVnode(oldVnode, vnode)) {\n        patchVnode(oldVnode, vnode);\n    }\n    else {\n        var elm = oldVnode.elm;\n        var parent_2 = api.parentNode(elm);\n        createElm(vnode);\n        if (parent_2 !== null) {\n            api.insertBefore(parent_2, vnode.elm, api.nextSibling(elm));\n            removeVnodes(parent_2, [oldVnode], 0, 0);\n        }\n    }\n    return vnode;\n}\n","import { brush, setClipPath, setGradient, setPattern } from './graphic.js';\nimport { createElement, createVNode, vNodeToString, getCssString, createBrushScope, createSVGVNode } from './core.js';\nimport { normalizeColor, encodeBase64, isGradient, isPattern } from './helper.js';\nimport { extend, keys, logError, map, noop, retrieve2 } from '../core/util.js';\nimport patch, { updateAttrs } from './patch.js';\nimport { getSize } from '../canvas/helper.js';\nvar svgId = 0;\nvar SVGPainter = (function () {\n    function SVGPainter(root, storage, opts) {\n        this.type = 'svg';\n        this.refreshHover = createMethodNotSupport('refreshHover');\n        this.configLayer = createMethodNotSupport('configLayer');\n        this.storage = storage;\n        this._opts = opts = extend({}, opts);\n        this.root = root;\n        this._id = 'zr' + svgId++;\n        this._oldVNode = createSVGVNode(opts.width, opts.height);\n        if (root && !opts.ssr) {\n            var viewport = this._viewport = document.createElement('div');\n            viewport.style.cssText = 'position:relative;overflow:hidden';\n            var svgDom = this._svgDom = this._oldVNode.elm = createElement('svg');\n            updateAttrs(null, this._oldVNode);\n            viewport.appendChild(svgDom);\n            root.appendChild(viewport);\n        }\n        this.resize(opts.width, opts.height);\n    }\n    SVGPainter.prototype.getType = function () {\n        return this.type;\n    };\n    SVGPainter.prototype.getViewportRoot = function () {\n        return this._viewport;\n    };\n    SVGPainter.prototype.getViewportRootOffset = function () {\n        var viewportRoot = this.getViewportRoot();\n        if (viewportRoot) {\n            return {\n                offsetLeft: viewportRoot.offsetLeft || 0,\n                offsetTop: viewportRoot.offsetTop || 0\n            };\n        }\n    };\n    SVGPainter.prototype.getSvgDom = function () {\n        return this._svgDom;\n    };\n    SVGPainter.prototype.refresh = function () {\n        if (this.root) {\n            var vnode = this.renderToVNode({\n                willUpdate: true\n            });\n            vnode.attrs.style = 'position:absolute;left:0;top:0;user-select:none';\n            patch(this._oldVNode, vnode);\n            this._oldVNode = vnode;\n        }\n    };\n    SVGPainter.prototype.renderOneToVNode = function (el) {\n        return brush(el, createBrushScope(this._id));\n    };\n    SVGPainter.prototype.renderToVNode = function (opts) {\n        opts = opts || {};\n        var list = this.storage.getDisplayList(true);\n        var width = this._width;\n        var height = this._height;\n        var scope = createBrushScope(this._id);\n        scope.animation = opts.animation;\n        scope.willUpdate = opts.willUpdate;\n        scope.compress = opts.compress;\n        scope.emphasis = opts.emphasis;\n        var children = [];\n        var bgVNode = this._bgVNode = createBackgroundVNode(width, height, this._backgroundColor, scope);\n        bgVNode && children.push(bgVNode);\n        var mainVNode = !opts.compress\n            ? (this._mainVNode = createVNode('g', 'main', {}, [])) : null;\n        this._paintList(list, scope, mainVNode ? mainVNode.children : children);\n        mainVNode && children.push(mainVNode);\n        var defs = map(keys(scope.defs), function (id) { return scope.defs[id]; });\n        if (defs.length) {\n            children.push(createVNode('defs', 'defs', {}, defs));\n        }\n        if (opts.animation) {\n            var animationCssStr = getCssString(scope.cssNodes, scope.cssAnims, { newline: true });\n            if (animationCssStr) {\n                var styleNode = createVNode('style', 'stl', {}, [], animationCssStr);\n                children.push(styleNode);\n            }\n        }\n        return createSVGVNode(width, height, children, opts.useViewBox);\n    };\n    SVGPainter.prototype.renderToString = function (opts) {\n        opts = opts || {};\n        return vNodeToString(this.renderToVNode({\n            animation: retrieve2(opts.cssAnimation, true),\n            emphasis: retrieve2(opts.cssEmphasis, true),\n            willUpdate: false,\n            compress: true,\n            useViewBox: retrieve2(opts.useViewBox, true)\n        }), { newline: true });\n    };\n    SVGPainter.prototype.setBackgroundColor = function (backgroundColor) {\n        this._backgroundColor = backgroundColor;\n    };\n    SVGPainter.prototype.getSvgRoot = function () {\n        return this._mainVNode && this._mainVNode.elm;\n    };\n    SVGPainter.prototype._paintList = function (list, scope, out) {\n        var listLen = list.length;\n        var clipPathsGroupsStack = [];\n        var clipPathsGroupsStackDepth = 0;\n        var currentClipPathGroup;\n        var prevClipPaths;\n        var clipGroupNodeIdx = 0;\n        for (var i = 0; i < listLen; i++) {\n            var displayable = list[i];\n            if (!displayable.invisible) {\n                var clipPaths = displayable.__clipPaths;\n                var len = clipPaths && clipPaths.length || 0;\n                var prevLen = prevClipPaths && prevClipPaths.length || 0;\n                var lca = void 0;\n                for (lca = Math.max(len - 1, prevLen - 1); lca >= 0; lca--) {\n                    if (clipPaths && prevClipPaths\n                        && clipPaths[lca] === prevClipPaths[lca]) {\n                        break;\n                    }\n                }\n                for (var i_1 = prevLen - 1; i_1 > lca; i_1--) {\n                    clipPathsGroupsStackDepth--;\n                    currentClipPathGroup = clipPathsGroupsStack[clipPathsGroupsStackDepth - 1];\n                }\n                for (var i_2 = lca + 1; i_2 < len; i_2++) {\n                    var groupAttrs = {};\n                    setClipPath(clipPaths[i_2], groupAttrs, scope);\n                    var g = createVNode('g', 'clip-g-' + clipGroupNodeIdx++, groupAttrs, []);\n                    (currentClipPathGroup ? currentClipPathGroup.children : out).push(g);\n                    clipPathsGroupsStack[clipPathsGroupsStackDepth++] = g;\n                    currentClipPathGroup = g;\n                }\n                prevClipPaths = clipPaths;\n                var ret = brush(displayable, scope);\n                if (ret) {\n                    (currentClipPathGroup ? currentClipPathGroup.children : out).push(ret);\n                }\n            }\n        }\n    };\n    SVGPainter.prototype.resize = function (width, height) {\n        var opts = this._opts;\n        var root = this.root;\n        var viewport = this._viewport;\n        width != null && (opts.width = width);\n        height != null && (opts.height = height);\n        if (root && viewport) {\n            viewport.style.display = 'none';\n            width = getSize(root, 0, opts);\n            height = getSize(root, 1, opts);\n            viewport.style.display = '';\n        }\n        if (this._width !== width || this._height !== height) {\n            this._width = width;\n            this._height = height;\n            if (viewport) {\n                var viewportStyle = viewport.style;\n                viewportStyle.width = width + 'px';\n                viewportStyle.height = height + 'px';\n            }\n            if (!isPattern(this._backgroundColor)) {\n                var svgDom = this._svgDom;\n                if (svgDom) {\n                    svgDom.setAttribute('width', width);\n                    svgDom.setAttribute('height', height);\n                }\n                var bgEl = this._bgVNode && this._bgVNode.elm;\n                if (bgEl) {\n                    bgEl.setAttribute('width', width);\n                    bgEl.setAttribute('height', height);\n                }\n            }\n            else {\n                this.refresh();\n            }\n        }\n    };\n    SVGPainter.prototype.getWidth = function () {\n        return this._width;\n    };\n    SVGPainter.prototype.getHeight = function () {\n        return this._height;\n    };\n    SVGPainter.prototype.dispose = function () {\n        if (this.root) {\n            this.root.innerHTML = '';\n        }\n        this._svgDom =\n            this._viewport =\n                this.storage =\n                    this._oldVNode =\n                        this._bgVNode =\n                            this._mainVNode = null;\n    };\n    SVGPainter.prototype.clear = function () {\n        if (this._svgDom) {\n            this._svgDom.innerHTML = null;\n        }\n        this._oldVNode = null;\n    };\n    SVGPainter.prototype.toDataURL = function (base64) {\n        var str = this.renderToString();\n        var prefix = 'data:image/svg+xml;';\n        if (base64) {\n            str = encodeBase64(str);\n            return str && prefix + 'base64,' + str;\n        }\n        return prefix + 'charset=UTF-8,' + encodeURIComponent(str);\n    };\n    return SVGPainter;\n}());\nfunction createMethodNotSupport(method) {\n    return function () {\n        if (process.env.NODE_ENV !== 'production') {\n            logError('In SVG mode painter not support method \"' + method + '\"');\n        }\n    };\n}\nfunction createBackgroundVNode(width, height, backgroundColor, scope) {\n    var bgVNode;\n    if (backgroundColor && backgroundColor !== 'none') {\n        bgVNode = createVNode('rect', 'bg', {\n            width: width,\n            height: height,\n            x: '0',\n            y: '0'\n        });\n        if (isGradient(backgroundColor)) {\n            setGradient({ fill: backgroundColor }, bgVNode.attrs, 'fill', scope);\n        }\n        else if (isPattern(backgroundColor)) {\n            setPattern({\n                style: {\n                    fill: backgroundColor\n                },\n                dirty: noop,\n                getBoundingRect: function () { return ({ width: width, height: height }); }\n            }, bgVNode.attrs, 'fill', scope);\n        }\n        else {\n            var _a = normalizeColor(backgroundColor), color = _a.color, opacity = _a.opacity;\n            bgVNode.attrs.fill = color;\n            opacity < 1 && (bgVNode.attrs['fill-opacity'] = opacity);\n        }\n    }\n    return bgVNode;\n}\nexport default SVGPainter;\n","import { RADIAN_TO_DEGREE, retrieve2, logError, isFunction } from '../core/util.js';\nimport { parse } from '../tool/color.js';\nimport env from '../core/env.js';\nvar mathRound = Math.round;\nexport function normalizeColor(color) {\n    var opacity;\n    if (!color || color === 'transparent') {\n        color = 'none';\n    }\n    else if (typeof color === 'string' && color.indexOf('rgba') > -1) {\n        var arr = parse(color);\n        if (arr) {\n            color = 'rgb(' + arr[0] + ',' + arr[1] + ',' + arr[2] + ')';\n            opacity = arr[3];\n        }\n    }\n    return {\n        color: color,\n        opacity: opacity == null ? 1 : opacity\n    };\n}\nvar EPSILON = 1e-4;\nexport function isAroundZero(transform) {\n    return transform < EPSILON && transform > -EPSILON;\n}\nexport function round3(transform) {\n    return mathRound(transform * 1e3) / 1e3;\n}\nexport function round4(transform) {\n    return mathRound(transform * 1e4) / 1e4;\n}\nexport function round1(transform) {\n    return mathRound(transform * 10) / 10;\n}\nexport function getMatrixStr(m) {\n    return 'matrix('\n        + round3(m[0]) + ','\n        + round3(m[1]) + ','\n        + round3(m[2]) + ','\n        + round3(m[3]) + ','\n        + round4(m[4]) + ','\n        + round4(m[5])\n        + ')';\n}\nexport var TEXT_ALIGN_TO_ANCHOR = {\n    left: 'start',\n    right: 'end',\n    center: 'middle',\n    middle: 'middle'\n};\nexport function adjustTextY(y, lineHeight, textBaseline) {\n    if (textBaseline === 'top') {\n        y += lineHeight / 2;\n    }\n    else if (textBaseline === 'bottom') {\n        y -= lineHeight / 2;\n    }\n    return y;\n}\nexport function hasShadow(style) {\n    return style\n        && (style.shadowBlur || style.shadowOffsetX || style.shadowOffsetY);\n}\nexport function getShadowKey(displayable) {\n    var style = displayable.style;\n    var globalScale = displayable.getGlobalScale();\n    return [\n        style.shadowColor,\n        (style.shadowBlur || 0).toFixed(2),\n        (style.shadowOffsetX || 0).toFixed(2),\n        (style.shadowOffsetY || 0).toFixed(2),\n        globalScale[0],\n        globalScale[1]\n    ].join(',');\n}\nexport function getClipPathsKey(clipPaths) {\n    var key = [];\n    if (clipPaths) {\n        for (var i = 0; i < clipPaths.length; i++) {\n            var clipPath = clipPaths[i];\n            key.push(clipPath.id);\n        }\n    }\n    return key.join(',');\n}\nexport function isImagePattern(val) {\n    return val && (!!val.image);\n}\nexport function isSVGPattern(val) {\n    return val && (!!val.svgElement);\n}\nexport function isPattern(val) {\n    return isImagePattern(val) || isSVGPattern(val);\n}\nexport function isLinearGradient(val) {\n    return val.type === 'linear';\n}\nexport function isRadialGradient(val) {\n    return val.type === 'radial';\n}\nexport function isGradient(val) {\n    return val && (val.type === 'linear'\n        || val.type === 'radial');\n}\nexport function getIdURL(id) {\n    return \"url(#\" + id + \")\";\n}\nexport function getPathPrecision(el) {\n    var scale = el.getGlobalScale();\n    var size = Math.max(scale[0], scale[1]);\n    return Math.max(Math.ceil(Math.log(size) / Math.log(10)), 1);\n}\nexport function getSRTTransformString(transform) {\n    var x = transform.x || 0;\n    var y = transform.y || 0;\n    var rotation = (transform.rotation || 0) * RADIAN_TO_DEGREE;\n    var scaleX = retrieve2(transform.scaleX, 1);\n    var scaleY = retrieve2(transform.scaleY, 1);\n    var skewX = transform.skewX || 0;\n    var skewY = transform.skewY || 0;\n    var res = [];\n    if (x || y) {\n        res.push(\"translate(\" + x + \"px,\" + y + \"px)\");\n    }\n    if (rotation) {\n        res.push(\"rotate(\" + rotation + \")\");\n    }\n    if (scaleX !== 1 || scaleY !== 1) {\n        res.push(\"scale(\" + scaleX + \",\" + scaleY + \")\");\n    }\n    if (skewX || skewY) {\n        res.push(\"skew(\" + mathRound(skewX * RADIAN_TO_DEGREE) + \"deg, \" + mathRound(skewY * RADIAN_TO_DEGREE) + \"deg)\");\n    }\n    return res.join(' ');\n}\nexport var encodeBase64 = (function () {\n    if (env.hasGlobalWindow && isFunction(window.btoa)) {\n        return function (str) {\n            return window.btoa(unescape(encodeURIComponent(str)));\n        };\n    }\n    if (typeof Buffer !== 'undefined') {\n        return function (str) {\n            return Buffer.from(str).toString('base64');\n        };\n    }\n    return function (str) {\n        if (process.env.NODE_ENV !== 'production') {\n            logError('Base64 isn\\'t natively supported in the current environment.');\n        }\n        return null;\n    };\n})();\n","import LRU from '../core/LRU.js';\nimport { extend, isGradientObject, isString, map } from '../core/util.js';\nvar kCSSColorTable = {\n    'transparent': [0, 0, 0, 0], 'aliceblue': [240, 248, 255, 1],\n    'antiquewhite': [250, 235, 215, 1], 'aqua': [0, 255, 255, 1],\n    'aquamarine': [127, 255, 212, 1], 'azure': [240, 255, 255, 1],\n    'beige': [245, 245, 220, 1], 'bisque': [255, 228, 196, 1],\n    'black': [0, 0, 0, 1], 'blanchedalmond': [255, 235, 205, 1],\n    'blue': [0, 0, 255, 1], 'blueviolet': [138, 43, 226, 1],\n    'brown': [165, 42, 42, 1], 'burlywood': [222, 184, 135, 1],\n    'cadetblue': [95, 158, 160, 1], 'chartreuse': [127, 255, 0, 1],\n    'chocolate': [210, 105, 30, 1], 'coral': [255, 127, 80, 1],\n    'cornflowerblue': [100, 149, 237, 1], 'cornsilk': [255, 248, 220, 1],\n    'crimson': [220, 20, 60, 1], 'cyan': [0, 255, 255, 1],\n    'darkblue': [0, 0, 139, 1], 'darkcyan': [0, 139, 139, 1],\n    'darkgoldenrod': [184, 134, 11, 1], 'darkgray': [169, 169, 169, 1],\n    'darkgreen': [0, 100, 0, 1], 'darkgrey': [169, 169, 169, 1],\n    'darkkhaki': [189, 183, 107, 1], 'darkmagenta': [139, 0, 139, 1],\n    'darkolivegreen': [85, 107, 47, 1], 'darkorange': [255, 140, 0, 1],\n    'darkorchid': [153, 50, 204, 1], 'darkred': [139, 0, 0, 1],\n    'darksalmon': [233, 150, 122, 1], 'darkseagreen': [143, 188, 143, 1],\n    'darkslateblue': [72, 61, 139, 1], 'darkslategray': [47, 79, 79, 1],\n    'darkslategrey': [47, 79, 79, 1], 'darkturquoise': [0, 206, 209, 1],\n    'darkviolet': [148, 0, 211, 1], 'deeppink': [255, 20, 147, 1],\n    'deepskyblue': [0, 191, 255, 1], 'dimgray': [105, 105, 105, 1],\n    'dimgrey': [105, 105, 105, 1], 'dodgerblue': [30, 144, 255, 1],\n    'firebrick': [178, 34, 34, 1], 'floralwhite': [255, 250, 240, 1],\n    'forestgreen': [34, 139, 34, 1], 'fuchsia': [255, 0, 255, 1],\n    'gainsboro': [220, 220, 220, 1], 'ghostwhite': [248, 248, 255, 1],\n    'gold': [255, 215, 0, 1], 'goldenrod': [218, 165, 32, 1],\n    'gray': [128, 128, 128, 1], 'green': [0, 128, 0, 1],\n    'greenyellow': [173, 255, 47, 1], 'grey': [128, 128, 128, 1],\n    'honeydew': [240, 255, 240, 1], 'hotpink': [255, 105, 180, 1],\n    'indianred': [205, 92, 92, 1], 'indigo': [75, 0, 130, 1],\n    'ivory': [255, 255, 240, 1], 'khaki': [240, 230, 140, 1],\n    'lavender': [230, 230, 250, 1], 'lavenderblush': [255, 240, 245, 1],\n    'lawngreen': [124, 252, 0, 1], 'lemonchiffon': [255, 250, 205, 1],\n    'lightblue': [173, 216, 230, 1], 'lightcoral': [240, 128, 128, 1],\n    'lightcyan': [224, 255, 255, 1], 'lightgoldenrodyellow': [250, 250, 210, 1],\n    'lightgray': [211, 211, 211, 1], 'lightgreen': [144, 238, 144, 1],\n    'lightgrey': [211, 211, 211, 1], 'lightpink': [255, 182, 193, 1],\n    'lightsalmon': [255, 160, 122, 1], 'lightseagreen': [32, 178, 170, 1],\n    'lightskyblue': [135, 206, 250, 1], 'lightslategray': [119, 136, 153, 1],\n    'lightslategrey': [119, 136, 153, 1], 'lightsteelblue': [176, 196, 222, 1],\n    'lightyellow': [255, 255, 224, 1], 'lime': [0, 255, 0, 1],\n    'limegreen': [50, 205, 50, 1], 'linen': [250, 240, 230, 1],\n    'magenta': [255, 0, 255, 1], 'maroon': [128, 0, 0, 1],\n    'mediumaquamarine': [102, 205, 170, 1], 'mediumblue': [0, 0, 205, 1],\n    'mediumorchid': [186, 85, 211, 1], 'mediumpurple': [147, 112, 219, 1],\n    'mediumseagreen': [60, 179, 113, 1], 'mediumslateblue': [123, 104, 238, 1],\n    'mediumspringgreen': [0, 250, 154, 1], 'mediumturquoise': [72, 209, 204, 1],\n    'mediumvioletred': [199, 21, 133, 1], 'midnightblue': [25, 25, 112, 1],\n    'mintcream': [245, 255, 250, 1], 'mistyrose': [255, 228, 225, 1],\n    'moccasin': [255, 228, 181, 1], 'navajowhite': [255, 222, 173, 1],\n    'navy': [0, 0, 128, 1], 'oldlace': [253, 245, 230, 1],\n    'olive': [128, 128, 0, 1], 'olivedrab': [107, 142, 35, 1],\n    'orange': [255, 165, 0, 1], 'orangered': [255, 69, 0, 1],\n    'orchid': [218, 112, 214, 1], 'palegoldenrod': [238, 232, 170, 1],\n    'palegreen': [152, 251, 152, 1], 'paleturquoise': [175, 238, 238, 1],\n    'palevioletred': [219, 112, 147, 1], 'papayawhip': [255, 239, 213, 1],\n    'peachpuff': [255, 218, 185, 1], 'peru': [205, 133, 63, 1],\n    'pink': [255, 192, 203, 1], 'plum': [221, 160, 221, 1],\n    'powderblue': [176, 224, 230, 1], 'purple': [128, 0, 128, 1],\n    'red': [255, 0, 0, 1], 'rosybrown': [188, 143, 143, 1],\n    'royalblue': [65, 105, 225, 1], 'saddlebrown': [139, 69, 19, 1],\n    'salmon': [250, 128, 114, 1], 'sandybrown': [244, 164, 96, 1],\n    'seagreen': [46, 139, 87, 1], 'seashell': [255, 245, 238, 1],\n    'sienna': [160, 82, 45, 1], 'silver': [192, 192, 192, 1],\n    'skyblue': [135, 206, 235, 1], 'slateblue': [106, 90, 205, 1],\n    'slategray': [112, 128, 144, 1], 'slategrey': [112, 128, 144, 1],\n    'snow': [255, 250, 250, 1], 'springgreen': [0, 255, 127, 1],\n    'steelblue': [70, 130, 180, 1], 'tan': [210, 180, 140, 1],\n    'teal': [0, 128, 128, 1], 'thistle': [216, 191, 216, 1],\n    'tomato': [255, 99, 71, 1], 'turquoise': [64, 224, 208, 1],\n    'violet': [238, 130, 238, 1], 'wheat': [245, 222, 179, 1],\n    'white': [255, 255, 255, 1], 'whitesmoke': [245, 245, 245, 1],\n    'yellow': [255, 255, 0, 1], 'yellowgreen': [154, 205, 50, 1]\n};\nfunction clampCssByte(i) {\n    i = Math.round(i);\n    return i < 0 ? 0 : i > 255 ? 255 : i;\n}\nfunction clampCssAngle(i) {\n    i = Math.round(i);\n    return i < 0 ? 0 : i > 360 ? 360 : i;\n}\nfunction clampCssFloat(f) {\n    return f < 0 ? 0 : f > 1 ? 1 : f;\n}\nfunction parseCssInt(val) {\n    var str = val;\n    if (str.length && str.charAt(str.length - 1) === '%') {\n        return clampCssByte(parseFloat(str) / 100 * 255);\n    }\n    return clampCssByte(parseInt(str, 10));\n}\nfunction parseCssFloat(val) {\n    var str = val;\n    if (str.length && str.charAt(str.length - 1) === '%') {\n        return clampCssFloat(parseFloat(str) / 100);\n    }\n    return clampCssFloat(parseFloat(str));\n}\nfunction cssHueToRgb(m1, m2, h) {\n    if (h < 0) {\n        h += 1;\n    }\n    else if (h > 1) {\n        h -= 1;\n    }\n    if (h * 6 < 1) {\n        return m1 + (m2 - m1) * h * 6;\n    }\n    if (h * 2 < 1) {\n        return m2;\n    }\n    if (h * 3 < 2) {\n        return m1 + (m2 - m1) * (2 / 3 - h) * 6;\n    }\n    return m1;\n}\nfunction lerpNumber(a, b, p) {\n    return a + (b - a) * p;\n}\nfunction setRgba(out, r, g, b, a) {\n    out[0] = r;\n    out[1] = g;\n    out[2] = b;\n    out[3] = a;\n    return out;\n}\nfunction copyRgba(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    return out;\n}\nvar colorCache = new LRU(20);\nvar lastRemovedArr = null;\nfunction putToCache(colorStr, rgbaArr) {\n    if (lastRemovedArr) {\n        copyRgba(lastRemovedArr, rgbaArr);\n    }\n    lastRemovedArr = colorCache.put(colorStr, lastRemovedArr || (rgbaArr.slice()));\n}\nexport function parse(colorStr, rgbaArr) {\n    if (!colorStr) {\n        return;\n    }\n    rgbaArr = rgbaArr || [];\n    var cached = colorCache.get(colorStr);\n    if (cached) {\n        return copyRgba(rgbaArr, cached);\n    }\n    colorStr = colorStr + '';\n    var str = colorStr.replace(/ /g, '').toLowerCase();\n    if (str in kCSSColorTable) {\n        copyRgba(rgbaArr, kCSSColorTable[str]);\n        putToCache(colorStr, rgbaArr);\n        return rgbaArr;\n    }\n    var strLen = str.length;\n    if (str.charAt(0) === '#') {\n        if (strLen === 4 || strLen === 5) {\n            var iv = parseInt(str.slice(1, 4), 16);\n            if (!(iv >= 0 && iv <= 0xfff)) {\n                setRgba(rgbaArr, 0, 0, 0, 1);\n                return;\n            }\n            setRgba(rgbaArr, ((iv & 0xf00) >> 4) | ((iv & 0xf00) >> 8), (iv & 0xf0) | ((iv & 0xf0) >> 4), (iv & 0xf) | ((iv & 0xf) << 4), strLen === 5 ? parseInt(str.slice(4), 16) / 0xf : 1);\n            putToCache(colorStr, rgbaArr);\n            return rgbaArr;\n        }\n        else if (strLen === 7 || strLen === 9) {\n            var iv = parseInt(str.slice(1, 7), 16);\n            if (!(iv >= 0 && iv <= 0xffffff)) {\n                setRgba(rgbaArr, 0, 0, 0, 1);\n                return;\n            }\n            setRgba(rgbaArr, (iv & 0xff0000) >> 16, (iv & 0xff00) >> 8, iv & 0xff, strLen === 9 ? parseInt(str.slice(7), 16) / 0xff : 1);\n            putToCache(colorStr, rgbaArr);\n            return rgbaArr;\n        }\n        return;\n    }\n    var op = str.indexOf('(');\n    var ep = str.indexOf(')');\n    if (op !== -1 && ep + 1 === strLen) {\n        var fname = str.substr(0, op);\n        var params = str.substr(op + 1, ep - (op + 1)).split(',');\n        var alpha = 1;\n        switch (fname) {\n            case 'rgba':\n                if (params.length !== 4) {\n                    return params.length === 3\n                        ? setRgba(rgbaArr, +params[0], +params[1], +params[2], 1)\n                        : setRgba(rgbaArr, 0, 0, 0, 1);\n                }\n                alpha = parseCssFloat(params.pop());\n            case 'rgb':\n                if (params.length >= 3) {\n                    setRgba(rgbaArr, parseCssInt(params[0]), parseCssInt(params[1]), parseCssInt(params[2]), params.length === 3 ? alpha : parseCssFloat(params[3]));\n                    putToCache(colorStr, rgbaArr);\n                    return rgbaArr;\n                }\n                else {\n                    setRgba(rgbaArr, 0, 0, 0, 1);\n                    return;\n                }\n            case 'hsla':\n                if (params.length !== 4) {\n                    setRgba(rgbaArr, 0, 0, 0, 1);\n                    return;\n                }\n                params[3] = parseCssFloat(params[3]);\n                hsla2rgba(params, rgbaArr);\n                putToCache(colorStr, rgbaArr);\n                return rgbaArr;\n            case 'hsl':\n                if (params.length !== 3) {\n                    setRgba(rgbaArr, 0, 0, 0, 1);\n                    return;\n                }\n                hsla2rgba(params, rgbaArr);\n                putToCache(colorStr, rgbaArr);\n                return rgbaArr;\n            default:\n                return;\n        }\n    }\n    setRgba(rgbaArr, 0, 0, 0, 1);\n    return;\n}\nfunction hsla2rgba(hsla, rgba) {\n    var h = (((parseFloat(hsla[0]) % 360) + 360) % 360) / 360;\n    var s = parseCssFloat(hsla[1]);\n    var l = parseCssFloat(hsla[2]);\n    var m2 = l <= 0.5 ? l * (s + 1) : l + s - l * s;\n    var m1 = l * 2 - m2;\n    rgba = rgba || [];\n    setRgba(rgba, clampCssByte(cssHueToRgb(m1, m2, h + 1 / 3) * 255), clampCssByte(cssHueToRgb(m1, m2, h) * 255), clampCssByte(cssHueToRgb(m1, m2, h - 1 / 3) * 255), 1);\n    if (hsla.length === 4) {\n        rgba[3] = hsla[3];\n    }\n    return rgba;\n}\nfunction rgba2hsla(rgba) {\n    if (!rgba) {\n        return;\n    }\n    var R = rgba[0] / 255;\n    var G = rgba[1] / 255;\n    var B = rgba[2] / 255;\n    var vMin = Math.min(R, G, B);\n    var vMax = Math.max(R, G, B);\n    var delta = vMax - vMin;\n    var L = (vMax + vMin) / 2;\n    var H;\n    var S;\n    if (delta === 0) {\n        H = 0;\n        S = 0;\n    }\n    else {\n        if (L < 0.5) {\n            S = delta / (vMax + vMin);\n        }\n        else {\n            S = delta / (2 - vMax - vMin);\n        }\n        var deltaR = (((vMax - R) / 6) + (delta / 2)) / delta;\n        var deltaG = (((vMax - G) / 6) + (delta / 2)) / delta;\n        var deltaB = (((vMax - B) / 6) + (delta / 2)) / delta;\n        if (R === vMax) {\n            H = deltaB - deltaG;\n        }\n        else if (G === vMax) {\n            H = (1 / 3) + deltaR - deltaB;\n        }\n        else if (B === vMax) {\n            H = (2 / 3) + deltaG - deltaR;\n        }\n        if (H < 0) {\n            H += 1;\n        }\n        if (H > 1) {\n            H -= 1;\n        }\n    }\n    var hsla = [H * 360, S, L];\n    if (rgba[3] != null) {\n        hsla.push(rgba[3]);\n    }\n    return hsla;\n}\nexport function lift(color, level) {\n    var colorArr = parse(color);\n    if (colorArr) {\n        for (var i = 0; i < 3; i++) {\n            if (level < 0) {\n                colorArr[i] = colorArr[i] * (1 - level) | 0;\n            }\n            else {\n                colorArr[i] = ((255 - colorArr[i]) * level + colorArr[i]) | 0;\n            }\n            if (colorArr[i] > 255) {\n                colorArr[i] = 255;\n            }\n            else if (colorArr[i] < 0) {\n                colorArr[i] = 0;\n            }\n        }\n        return stringify(colorArr, colorArr.length === 4 ? 'rgba' : 'rgb');\n    }\n}\nexport function toHex(color) {\n    var colorArr = parse(color);\n    if (colorArr) {\n        return ((1 << 24) + (colorArr[0] << 16) + (colorArr[1] << 8) + (+colorArr[2])).toString(16).slice(1);\n    }\n}\nexport function fastLerp(normalizedValue, colors, out) {\n    if (!(colors && colors.length)\n        || !(normalizedValue >= 0 && normalizedValue <= 1)) {\n        return;\n    }\n    out = out || [];\n    var value = normalizedValue * (colors.length - 1);\n    var leftIndex = Math.floor(value);\n    var rightIndex = Math.ceil(value);\n    var leftColor = colors[leftIndex];\n    var rightColor = colors[rightIndex];\n    var dv = value - leftIndex;\n    out[0] = clampCssByte(lerpNumber(leftColor[0], rightColor[0], dv));\n    out[1] = clampCssByte(lerpNumber(leftColor[1], rightColor[1], dv));\n    out[2] = clampCssByte(lerpNumber(leftColor[2], rightColor[2], dv));\n    out[3] = clampCssFloat(lerpNumber(leftColor[3], rightColor[3], dv));\n    return out;\n}\nexport var fastMapToColor = fastLerp;\nexport function lerp(normalizedValue, colors, fullOutput) {\n    if (!(colors && colors.length)\n        || !(normalizedValue >= 0 && normalizedValue <= 1)) {\n        return;\n    }\n    var value = normalizedValue * (colors.length - 1);\n    var leftIndex = Math.floor(value);\n    var rightIndex = Math.ceil(value);\n    var leftColor = parse(colors[leftIndex]);\n    var rightColor = parse(colors[rightIndex]);\n    var dv = value - leftIndex;\n    var color = stringify([\n        clampCssByte(lerpNumber(leftColor[0], rightColor[0], dv)),\n        clampCssByte(lerpNumber(leftColor[1], rightColor[1], dv)),\n        clampCssByte(lerpNumber(leftColor[2], rightColor[2], dv)),\n        clampCssFloat(lerpNumber(leftColor[3], rightColor[3], dv))\n    ], 'rgba');\n    return fullOutput\n        ? {\n            color: color,\n            leftIndex: leftIndex,\n            rightIndex: rightIndex,\n            value: value\n        }\n        : color;\n}\nexport var mapToColor = lerp;\nexport function modifyHSL(color, h, s, l) {\n    var colorArr = parse(color);\n    if (color) {\n        colorArr = rgba2hsla(colorArr);\n        h != null && (colorArr[0] = clampCssAngle(h));\n        s != null && (colorArr[1] = parseCssFloat(s));\n        l != null && (colorArr[2] = parseCssFloat(l));\n        return stringify(hsla2rgba(colorArr), 'rgba');\n    }\n}\nexport function modifyAlpha(color, alpha) {\n    var colorArr = parse(color);\n    if (colorArr && alpha != null) {\n        colorArr[3] = clampCssFloat(alpha);\n        return stringify(colorArr, 'rgba');\n    }\n}\nexport function stringify(arrColor, type) {\n    if (!arrColor || !arrColor.length) {\n        return;\n    }\n    var colorStr = arrColor[0] + ',' + arrColor[1] + ',' + arrColor[2];\n    if (type === 'rgba' || type === 'hsva' || type === 'hsla') {\n        colorStr += ',' + arrColor[3];\n    }\n    return type + '(' + colorStr + ')';\n}\nexport function lum(color, backgroundLum) {\n    var arr = parse(color);\n    return arr\n        ? (0.299 * arr[0] + 0.587 * arr[1] + 0.114 * arr[2]) * arr[3] / 255\n            + (1 - arr[3]) * backgroundLum\n        : 0;\n}\nexport function random() {\n    return stringify([\n        Math.round(Math.random() * 255),\n        Math.round(Math.random() * 255),\n        Math.round(Math.random() * 255)\n    ], 'rgb');\n}\nvar liftedColorCache = new LRU(100);\nexport function liftColor(color) {\n    if (isString(color)) {\n        var liftedColor = liftedColorCache.get(color);\n        if (!liftedColor) {\n            liftedColor = lift(color, -0.1);\n            liftedColorCache.put(color, liftedColor);\n        }\n        return liftedColor;\n    }\n    else if (isGradientObject(color)) {\n        var ret = extend({}, color);\n        ret.colorStops = map(color.colorStops, function (stop) { return ({\n            offset: stop.offset,\n            color: lift(stop.color, -0.1)\n        }); });\n        return ret;\n    }\n    return color;\n}\n","import { cubicSubdivide } from '../core/curve.js';\nimport PathProxy from '../core/PathProxy.js';\nvar CMD = PathProxy.CMD;\nfunction aroundEqual(a, b) {\n    return Math.abs(a - b) < 1e-5;\n}\nexport function pathToBezierCurves(path) {\n    var data = path.data;\n    var len = path.len();\n    var bezierArrayGroups = [];\n    var currentSubpath;\n    var xi = 0;\n    var yi = 0;\n    var x0 = 0;\n    var y0 = 0;\n    function createNewSubpath(x, y) {\n        if (currentSubpath && currentSubpath.length > 2) {\n            bezierArrayGroups.push(currentSubpath);\n        }\n        currentSubpath = [x, y];\n    }\n    function addLine(x0, y0, x1, y1) {\n        if (!(aroundEqual(x0, x1) && aroundEqual(y0, y1))) {\n            currentSubpath.push(x0, y0, x1, y1, x1, y1);\n        }\n    }\n    function addArc(startAngle, endAngle, cx, cy, rx, ry) {\n        var delta = Math.abs(endAngle - startAngle);\n        var len = Math.tan(delta / 4) * 4 / 3;\n        var dir = endAngle < startAngle ? -1 : 1;\n        var c1 = Math.cos(startAngle);\n        var s1 = Math.sin(startAngle);\n        var c2 = Math.cos(endAngle);\n        var s2 = Math.sin(endAngle);\n        var x1 = c1 * rx + cx;\n        var y1 = s1 * ry + cy;\n        var x4 = c2 * rx + cx;\n        var y4 = s2 * ry + cy;\n        var hx = rx * len * dir;\n        var hy = ry * len * dir;\n        currentSubpath.push(x1 - hx * s1, y1 + hy * c1, x4 + hx * s2, y4 - hy * c2, x4, y4);\n    }\n    var x1;\n    var y1;\n    var x2;\n    var y2;\n    for (var i = 0; i < len;) {\n        var cmd = data[i++];\n        var isFirst = i === 1;\n        if (isFirst) {\n            xi = data[i];\n            yi = data[i + 1];\n            x0 = xi;\n            y0 = yi;\n            if (cmd === CMD.L || cmd === CMD.C || cmd === CMD.Q) {\n                currentSubpath = [x0, y0];\n            }\n        }\n        switch (cmd) {\n            case CMD.M:\n                xi = x0 = data[i++];\n                yi = y0 = data[i++];\n                createNewSubpath(x0, y0);\n                break;\n            case CMD.L:\n                x1 = data[i++];\n                y1 = data[i++];\n                addLine(xi, yi, x1, y1);\n                xi = x1;\n                yi = y1;\n                break;\n            case CMD.C:\n                currentSubpath.push(data[i++], data[i++], data[i++], data[i++], xi = data[i++], yi = data[i++]);\n                break;\n            case CMD.Q:\n                x1 = data[i++];\n                y1 = data[i++];\n                x2 = data[i++];\n                y2 = data[i++];\n                currentSubpath.push(xi + 2 / 3 * (x1 - xi), yi + 2 / 3 * (y1 - yi), x2 + 2 / 3 * (x1 - x2), y2 + 2 / 3 * (y1 - y2), x2, y2);\n                xi = x2;\n                yi = y2;\n                break;\n            case CMD.A:\n                var cx = data[i++];\n                var cy = data[i++];\n                var rx = data[i++];\n                var ry = data[i++];\n                var startAngle = data[i++];\n                var endAngle = data[i++] + startAngle;\n                i += 1;\n                var anticlockwise = !data[i++];\n                x1 = Math.cos(startAngle) * rx + cx;\n                y1 = Math.sin(startAngle) * ry + cy;\n                if (isFirst) {\n                    x0 = x1;\n                    y0 = y1;\n                    createNewSubpath(x0, y0);\n                }\n                else {\n                    addLine(xi, yi, x1, y1);\n                }\n                xi = Math.cos(endAngle) * rx + cx;\n                yi = Math.sin(endAngle) * ry + cy;\n                var step = (anticlockwise ? -1 : 1) * Math.PI / 2;\n                for (var angle = startAngle; anticlockwise ? angle > endAngle : angle < endAngle; angle += step) {\n                    var nextAngle = anticlockwise ? Math.max(angle + step, endAngle)\n                        : Math.min(angle + step, endAngle);\n                    addArc(angle, nextAngle, cx, cy, rx, ry);\n                }\n                break;\n            case CMD.R:\n                x0 = xi = data[i++];\n                y0 = yi = data[i++];\n                x1 = x0 + data[i++];\n                y1 = y0 + data[i++];\n                createNewSubpath(x1, y0);\n                addLine(x1, y0, x1, y1);\n                addLine(x1, y1, x0, y1);\n                addLine(x0, y1, x0, y0);\n                addLine(x0, y0, x1, y0);\n                break;\n            case CMD.Z:\n                currentSubpath && addLine(xi, yi, x0, y0);\n                xi = x0;\n                yi = y0;\n                break;\n        }\n    }\n    if (currentSubpath && currentSubpath.length > 2) {\n        bezierArrayGroups.push(currentSubpath);\n    }\n    return bezierArrayGroups;\n}\nfunction adpativeBezier(x0, y0, x1, y1, x2, y2, x3, y3, out, scale) {\n    if (aroundEqual(x0, x1) && aroundEqual(y0, y1) && aroundEqual(x2, x3) && aroundEqual(y2, y3)) {\n        out.push(x3, y3);\n        return;\n    }\n    var PIXEL_DISTANCE = 2 / scale;\n    var PIXEL_DISTANCE_SQR = PIXEL_DISTANCE * PIXEL_DISTANCE;\n    var dx = x3 - x0;\n    var dy = y3 - y0;\n    var d = Math.sqrt(dx * dx + dy * dy);\n    dx /= d;\n    dy /= d;\n    var dx1 = x1 - x0;\n    var dy1 = y1 - y0;\n    var dx2 = x2 - x3;\n    var dy2 = y2 - y3;\n    var cp1LenSqr = dx1 * dx1 + dy1 * dy1;\n    var cp2LenSqr = dx2 * dx2 + dy2 * dy2;\n    if (cp1LenSqr < PIXEL_DISTANCE_SQR && cp2LenSqr < PIXEL_DISTANCE_SQR) {\n        out.push(x3, y3);\n        return;\n    }\n    var projLen1 = dx * dx1 + dy * dy1;\n    var projLen2 = -dx * dx2 - dy * dy2;\n    var d1Sqr = cp1LenSqr - projLen1 * projLen1;\n    var d2Sqr = cp2LenSqr - projLen2 * projLen2;\n    if (d1Sqr < PIXEL_DISTANCE_SQR && projLen1 >= 0\n        && d2Sqr < PIXEL_DISTANCE_SQR && projLen2 >= 0) {\n        out.push(x3, y3);\n        return;\n    }\n    var tmpSegX = [];\n    var tmpSegY = [];\n    cubicSubdivide(x0, x1, x2, x3, 0.5, tmpSegX);\n    cubicSubdivide(y0, y1, y2, y3, 0.5, tmpSegY);\n    adpativeBezier(tmpSegX[0], tmpSegY[0], tmpSegX[1], tmpSegY[1], tmpSegX[2], tmpSegY[2], tmpSegX[3], tmpSegY[3], out, scale);\n    adpativeBezier(tmpSegX[4], tmpSegY[4], tmpSegX[5], tmpSegY[5], tmpSegX[6], tmpSegY[6], tmpSegX[7], tmpSegY[7], out, scale);\n}\nexport function pathToPolygons(path, scale) {\n    var bezierArrayGroups = pathToBezierCurves(path);\n    var polygons = [];\n    scale = scale || 1;\n    for (var i = 0; i < bezierArrayGroups.length; i++) {\n        var beziers = bezierArrayGroups[i];\n        var polygon = [];\n        var x0 = beziers[0];\n        var y0 = beziers[1];\n        polygon.push(x0, y0);\n        for (var k = 2; k < beziers.length;) {\n            var x1 = beziers[k++];\n            var y1 = beziers[k++];\n            var x2 = beziers[k++];\n            var y2 = beziers[k++];\n            var x3 = beziers[k++];\n            var y3 = beziers[k++];\n            adpativeBezier(x0, y0, x1, y1, x2, y2, x3, y3, polygon, scale);\n            x0 = x3;\n            y0 = y3;\n        }\n        polygons.push(polygon);\n    }\n    return polygons;\n}\n","import { fromPoints } from '../core/bbox.js';\nimport BoundingRect from '../core/BoundingRect.js';\nimport Point from '../core/Point.js';\nimport { map } from '../core/util.js';\nimport Polygon from '../graphic/shape/Polygon.js';\nimport Rect from '../graphic/shape/Rect.js';\nimport Sector from '../graphic/shape/Sector.js';\nimport { pathToPolygons } from './convertPath.js';\nimport { clonePath } from './path.js';\nfunction getDividingGrids(dimSize, rowDim, count) {\n    var rowSize = dimSize[rowDim];\n    var columnSize = dimSize[1 - rowDim];\n    var ratio = Math.abs(rowSize / columnSize);\n    var rowCount = Math.ceil(Math.sqrt(ratio * count));\n    var columnCount = Math.floor(count / rowCount);\n    if (columnCount === 0) {\n        columnCount = 1;\n        rowCount = count;\n    }\n    var grids = [];\n    for (var i = 0; i < rowCount; i++) {\n        grids.push(columnCount);\n    }\n    var currentCount = rowCount * columnCount;\n    var remained = count - currentCount;\n    if (remained > 0) {\n        for (var i = 0; i < remained; i++) {\n            grids[i % rowCount] += 1;\n        }\n    }\n    return grids;\n}\nfunction divideSector(sectorShape, count, outShapes) {\n    var r0 = sectorShape.r0;\n    var r = sectorShape.r;\n    var startAngle = sectorShape.startAngle;\n    var endAngle = sectorShape.endAngle;\n    var angle = Math.abs(endAngle - startAngle);\n    var arcLen = angle * r;\n    var deltaR = r - r0;\n    var isAngleRow = arcLen > Math.abs(deltaR);\n    var grids = getDividingGrids([arcLen, deltaR], isAngleRow ? 0 : 1, count);\n    var rowSize = (isAngleRow ? angle : deltaR) / grids.length;\n    for (var row = 0; row < grids.length; row++) {\n        var columnSize = (isAngleRow ? deltaR : angle) / grids[row];\n        for (var column = 0; column < grids[row]; column++) {\n            var newShape = {};\n            if (isAngleRow) {\n                newShape.startAngle = startAngle + rowSize * row;\n                newShape.endAngle = startAngle + rowSize * (row + 1);\n                newShape.r0 = r0 + columnSize * column;\n                newShape.r = r0 + columnSize * (column + 1);\n            }\n            else {\n                newShape.startAngle = startAngle + columnSize * column;\n                newShape.endAngle = startAngle + columnSize * (column + 1);\n                newShape.r0 = r0 + rowSize * row;\n                newShape.r = r0 + rowSize * (row + 1);\n            }\n            newShape.clockwise = sectorShape.clockwise;\n            newShape.cx = sectorShape.cx;\n            newShape.cy = sectorShape.cy;\n            outShapes.push(newShape);\n        }\n    }\n}\nfunction divideRect(rectShape, count, outShapes) {\n    var width = rectShape.width;\n    var height = rectShape.height;\n    var isHorizontalRow = width > height;\n    var grids = getDividingGrids([width, height], isHorizontalRow ? 0 : 1, count);\n    var rowSizeDim = isHorizontalRow ? 'width' : 'height';\n    var columnSizeDim = isHorizontalRow ? 'height' : 'width';\n    var rowDim = isHorizontalRow ? 'x' : 'y';\n    var columnDim = isHorizontalRow ? 'y' : 'x';\n    var rowSize = rectShape[rowSizeDim] / grids.length;\n    for (var row = 0; row < grids.length; row++) {\n        var columnSize = rectShape[columnSizeDim] / grids[row];\n        for (var column = 0; column < grids[row]; column++) {\n            var newShape = {};\n            newShape[rowDim] = row * rowSize;\n            newShape[columnDim] = column * columnSize;\n            newShape[rowSizeDim] = rowSize;\n            newShape[columnSizeDim] = columnSize;\n            newShape.x += rectShape.x;\n            newShape.y += rectShape.y;\n            outShapes.push(newShape);\n        }\n    }\n}\nfunction crossProduct2d(x1, y1, x2, y2) {\n    return x1 * y2 - x2 * y1;\n}\nfunction lineLineIntersect(a1x, a1y, a2x, a2y, b1x, b1y, b2x, b2y) {\n    var mx = a2x - a1x;\n    var my = a2y - a1y;\n    var nx = b2x - b1x;\n    var ny = b2y - b1y;\n    var nmCrossProduct = crossProduct2d(nx, ny, mx, my);\n    if (Math.abs(nmCrossProduct) < 1e-6) {\n        return null;\n    }\n    var b1a1x = a1x - b1x;\n    var b1a1y = a1y - b1y;\n    var p = crossProduct2d(b1a1x, b1a1y, nx, ny) / nmCrossProduct;\n    if (p < 0 || p > 1) {\n        return null;\n    }\n    return new Point(p * mx + a1x, p * my + a1y);\n}\nfunction projPtOnLine(pt, lineA, lineB) {\n    var dir = new Point();\n    Point.sub(dir, lineB, lineA);\n    dir.normalize();\n    var dir2 = new Point();\n    Point.sub(dir2, pt, lineA);\n    var len = dir2.dot(dir);\n    return len;\n}\nfunction addToPoly(poly, pt) {\n    var last = poly[poly.length - 1];\n    if (last && last[0] === pt[0] && last[1] === pt[1]) {\n        return;\n    }\n    poly.push(pt);\n}\nfunction splitPolygonByLine(points, lineA, lineB) {\n    var len = points.length;\n    var intersections = [];\n    for (var i = 0; i < len; i++) {\n        var p0 = points[i];\n        var p1 = points[(i + 1) % len];\n        var intersectionPt = lineLineIntersect(p0[0], p0[1], p1[0], p1[1], lineA.x, lineA.y, lineB.x, lineB.y);\n        if (intersectionPt) {\n            intersections.push({\n                projPt: projPtOnLine(intersectionPt, lineA, lineB),\n                pt: intersectionPt,\n                idx: i\n            });\n        }\n    }\n    if (intersections.length < 2) {\n        return [{ points: points }, { points: points }];\n    }\n    intersections.sort(function (a, b) {\n        return a.projPt - b.projPt;\n    });\n    var splitPt0 = intersections[0];\n    var splitPt1 = intersections[intersections.length - 1];\n    if (splitPt1.idx < splitPt0.idx) {\n        var tmp = splitPt0;\n        splitPt0 = splitPt1;\n        splitPt1 = tmp;\n    }\n    var splitPt0Arr = [splitPt0.pt.x, splitPt0.pt.y];\n    var splitPt1Arr = [splitPt1.pt.x, splitPt1.pt.y];\n    var newPolyA = [splitPt0Arr];\n    var newPolyB = [splitPt1Arr];\n    for (var i = splitPt0.idx + 1; i <= splitPt1.idx; i++) {\n        addToPoly(newPolyA, points[i].slice());\n    }\n    addToPoly(newPolyA, splitPt1Arr);\n    addToPoly(newPolyA, splitPt0Arr);\n    for (var i = splitPt1.idx + 1; i <= splitPt0.idx + len; i++) {\n        addToPoly(newPolyB, points[i % len].slice());\n    }\n    addToPoly(newPolyB, splitPt0Arr);\n    addToPoly(newPolyB, splitPt1Arr);\n    return [{\n            points: newPolyA\n        }, {\n            points: newPolyB\n        }];\n}\nfunction binaryDividePolygon(polygonShape) {\n    var points = polygonShape.points;\n    var min = [];\n    var max = [];\n    fromPoints(points, min, max);\n    var boundingRect = new BoundingRect(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n    var width = boundingRect.width;\n    var height = boundingRect.height;\n    var x = boundingRect.x;\n    var y = boundingRect.y;\n    var pt0 = new Point();\n    var pt1 = new Point();\n    if (width > height) {\n        pt0.x = pt1.x = x + width / 2;\n        pt0.y = y;\n        pt1.y = y + height;\n    }\n    else {\n        pt0.y = pt1.y = y + height / 2;\n        pt0.x = x;\n        pt1.x = x + width;\n    }\n    return splitPolygonByLine(points, pt0, pt1);\n}\nfunction binaryDivideRecursive(divider, shape, count, out) {\n    if (count === 1) {\n        out.push(shape);\n    }\n    else {\n        var mid = Math.floor(count / 2);\n        var sub = divider(shape);\n        binaryDivideRecursive(divider, sub[0], mid, out);\n        binaryDivideRecursive(divider, sub[1], count - mid, out);\n    }\n    return out;\n}\nexport function clone(path, count) {\n    var paths = [];\n    for (var i = 0; i < count; i++) {\n        paths.push(clonePath(path));\n    }\n    return paths;\n}\nfunction copyPathProps(source, target) {\n    target.setStyle(source.style);\n    target.z = source.z;\n    target.z2 = source.z2;\n    target.zlevel = source.zlevel;\n}\nfunction polygonConvert(points) {\n    var out = [];\n    for (var i = 0; i < points.length;) {\n        out.push([points[i++], points[i++]]);\n    }\n    return out;\n}\nexport function split(path, count) {\n    var outShapes = [];\n    var shape = path.shape;\n    var OutShapeCtor;\n    switch (path.type) {\n        case 'rect':\n            divideRect(shape, count, outShapes);\n            OutShapeCtor = Rect;\n            break;\n        case 'sector':\n            divideSector(shape, count, outShapes);\n            OutShapeCtor = Sector;\n            break;\n        case 'circle':\n            divideSector({\n                r0: 0, r: shape.r, startAngle: 0, endAngle: Math.PI * 2,\n                cx: shape.cx, cy: shape.cy\n            }, count, outShapes);\n            OutShapeCtor = Sector;\n            break;\n        default:\n            var m = path.getComputedTransform();\n            var scale = m ? Math.sqrt(Math.max(m[0] * m[0] + m[1] * m[1], m[2] * m[2] + m[3] * m[3])) : 1;\n            var polygons = map(pathToPolygons(path.getUpdatedPathProxy(), scale), function (poly) { return polygonConvert(poly); });\n            var polygonCount = polygons.length;\n            if (polygonCount === 0) {\n                binaryDivideRecursive(binaryDividePolygon, {\n                    points: polygons[0]\n                }, count, outShapes);\n            }\n            else if (polygonCount === count) {\n                for (var i = 0; i < polygonCount; i++) {\n                    outShapes.push({\n                        points: polygons[i]\n                    });\n                }\n            }\n            else {\n                var totalArea_1 = 0;\n                var items = map(polygons, function (poly) {\n                    var min = [];\n                    var max = [];\n                    fromPoints(poly, min, max);\n                    var area = (max[1] - min[1]) * (max[0] - min[0]);\n                    totalArea_1 += area;\n                    return { poly: poly, area: area };\n                });\n                items.sort(function (a, b) { return b.area - a.area; });\n                var left = count;\n                for (var i = 0; i < polygonCount; i++) {\n                    var item = items[i];\n                    if (left <= 0) {\n                        break;\n                    }\n                    var selfCount = i === polygonCount - 1\n                        ? left\n                        : Math.ceil(item.area / totalArea_1 * count);\n                    if (selfCount < 0) {\n                        continue;\n                    }\n                    binaryDivideRecursive(binaryDividePolygon, {\n                        points: item.poly\n                    }, selfCount, outShapes);\n                    left -= selfCount;\n                }\n                ;\n            }\n            OutShapeCtor = Polygon;\n            break;\n    }\n    if (!OutShapeCtor) {\n        return clone(path, count);\n    }\n    var out = [];\n    for (var i = 0; i < outShapes.length; i++) {\n        var subPath = new OutShapeCtor();\n        subPath.setShape(outShapes[i]);\n        copyPathProps(path, subPath);\n        out.push(subPath);\n    }\n    return out;\n}\n","import { cubicSubdivide } from '../core/curve.js';\nimport Path from '../graphic/Path.js';\nimport { defaults, map } from '../core/util.js';\nimport { lerp } from '../core/vector.js';\nimport { clonePath } from './path.js';\nimport Transformable from '../core/Transformable.js';\nimport { split } from './dividePath.js';\nimport { pathToBezierCurves } from './convertPath.js';\nfunction alignSubpath(subpath1, subpath2) {\n    var len1 = subpath1.length;\n    var len2 = subpath2.length;\n    if (len1 === len2) {\n        return [subpath1, subpath2];\n    }\n    var tmpSegX = [];\n    var tmpSegY = [];\n    var shorterPath = len1 < len2 ? subpath1 : subpath2;\n    var shorterLen = Math.min(len1, len2);\n    var diff = Math.abs(len2 - len1) / 6;\n    var shorterBezierCount = (shorterLen - 2) / 6;\n    var eachCurveSubDivCount = Math.ceil(diff / shorterBezierCount) + 1;\n    var newSubpath = [shorterPath[0], shorterPath[1]];\n    var remained = diff;\n    for (var i = 2; i < shorterLen;) {\n        var x0 = shorterPath[i - 2];\n        var y0 = shorterPath[i - 1];\n        var x1 = shorterPath[i++];\n        var y1 = shorterPath[i++];\n        var x2 = shorterPath[i++];\n        var y2 = shorterPath[i++];\n        var x3 = shorterPath[i++];\n        var y3 = shorterPath[i++];\n        if (remained <= 0) {\n            newSubpath.push(x1, y1, x2, y2, x3, y3);\n            continue;\n        }\n        var actualSubDivCount = Math.min(remained, eachCurveSubDivCount - 1) + 1;\n        for (var k = 1; k <= actualSubDivCount; k++) {\n            var p = k / actualSubDivCount;\n            cubicSubdivide(x0, x1, x2, x3, p, tmpSegX);\n            cubicSubdivide(y0, y1, y2, y3, p, tmpSegY);\n            x0 = tmpSegX[3];\n            y0 = tmpSegY[3];\n            newSubpath.push(tmpSegX[1], tmpSegY[1], tmpSegX[2], tmpSegY[2], x0, y0);\n            x1 = tmpSegX[5];\n            y1 = tmpSegY[5];\n            x2 = tmpSegX[6];\n            y2 = tmpSegY[6];\n        }\n        remained -= actualSubDivCount - 1;\n    }\n    return shorterPath === subpath1 ? [newSubpath, subpath2] : [subpath1, newSubpath];\n}\nfunction createSubpath(lastSubpathSubpath, otherSubpath) {\n    var len = lastSubpathSubpath.length;\n    var lastX = lastSubpathSubpath[len - 2];\n    var lastY = lastSubpathSubpath[len - 1];\n    var newSubpath = [];\n    for (var i = 0; i < otherSubpath.length;) {\n        newSubpath[i++] = lastX;\n        newSubpath[i++] = lastY;\n    }\n    return newSubpath;\n}\nexport function alignBezierCurves(array1, array2) {\n    var _a;\n    var lastSubpath1;\n    var lastSubpath2;\n    var newArray1 = [];\n    var newArray2 = [];\n    for (var i = 0; i < Math.max(array1.length, array2.length); i++) {\n        var subpath1 = array1[i];\n        var subpath2 = array2[i];\n        var newSubpath1 = void 0;\n        var newSubpath2 = void 0;\n        if (!subpath1) {\n            newSubpath1 = createSubpath(lastSubpath1 || subpath2, subpath2);\n            newSubpath2 = subpath2;\n        }\n        else if (!subpath2) {\n            newSubpath2 = createSubpath(lastSubpath2 || subpath1, subpath1);\n            newSubpath1 = subpath1;\n        }\n        else {\n            _a = alignSubpath(subpath1, subpath2), newSubpath1 = _a[0], newSubpath2 = _a[1];\n            lastSubpath1 = newSubpath1;\n            lastSubpath2 = newSubpath2;\n        }\n        newArray1.push(newSubpath1);\n        newArray2.push(newSubpath2);\n    }\n    return [newArray1, newArray2];\n}\nexport function centroid(array) {\n    var signedArea = 0;\n    var cx = 0;\n    var cy = 0;\n    var len = array.length;\n    for (var i = 0, j = len - 2; i < len; j = i, i += 2) {\n        var x0 = array[j];\n        var y0 = array[j + 1];\n        var x1 = array[i];\n        var y1 = array[i + 1];\n        var a = x0 * y1 - x1 * y0;\n        signedArea += a;\n        cx += (x0 + x1) * a;\n        cy += (y0 + y1) * a;\n    }\n    if (signedArea === 0) {\n        return [array[0] || 0, array[1] || 0];\n    }\n    return [cx / signedArea / 3, cy / signedArea / 3, signedArea];\n}\nfunction findBestRingOffset(fromSubBeziers, toSubBeziers, fromCp, toCp) {\n    var bezierCount = (fromSubBeziers.length - 2) / 6;\n    var bestScore = Infinity;\n    var bestOffset = 0;\n    var len = fromSubBeziers.length;\n    var len2 = len - 2;\n    for (var offset = 0; offset < bezierCount; offset++) {\n        var cursorOffset = offset * 6;\n        var score = 0;\n        for (var k = 0; k < len; k += 2) {\n            var idx = k === 0 ? cursorOffset : ((cursorOffset + k - 2) % len2 + 2);\n            var x0 = fromSubBeziers[idx] - fromCp[0];\n            var y0 = fromSubBeziers[idx + 1] - fromCp[1];\n            var x1 = toSubBeziers[k] - toCp[0];\n            var y1 = toSubBeziers[k + 1] - toCp[1];\n            var dx = x1 - x0;\n            var dy = y1 - y0;\n            score += dx * dx + dy * dy;\n        }\n        if (score < bestScore) {\n            bestScore = score;\n            bestOffset = offset;\n        }\n    }\n    return bestOffset;\n}\nfunction reverse(array) {\n    var newArr = [];\n    var len = array.length;\n    for (var i = 0; i < len; i += 2) {\n        newArr[i] = array[len - i - 2];\n        newArr[i + 1] = array[len - i - 1];\n    }\n    return newArr;\n}\nfunction findBestMorphingRotation(fromArr, toArr, searchAngleIteration, searchAngleRange) {\n    var result = [];\n    var fromNeedsReverse;\n    for (var i = 0; i < fromArr.length; i++) {\n        var fromSubpathBezier = fromArr[i];\n        var toSubpathBezier = toArr[i];\n        var fromCp = centroid(fromSubpathBezier);\n        var toCp = centroid(toSubpathBezier);\n        if (fromNeedsReverse == null) {\n            fromNeedsReverse = fromCp[2] < 0 !== toCp[2] < 0;\n        }\n        var newFromSubpathBezier = [];\n        var newToSubpathBezier = [];\n        var bestAngle = 0;\n        var bestScore = Infinity;\n        var tmpArr = [];\n        var len = fromSubpathBezier.length;\n        if (fromNeedsReverse) {\n            fromSubpathBezier = reverse(fromSubpathBezier);\n        }\n        var offset = findBestRingOffset(fromSubpathBezier, toSubpathBezier, fromCp, toCp) * 6;\n        var len2 = len - 2;\n        for (var k = 0; k < len2; k += 2) {\n            var idx = (offset + k) % len2 + 2;\n            newFromSubpathBezier[k + 2] = fromSubpathBezier[idx] - fromCp[0];\n            newFromSubpathBezier[k + 3] = fromSubpathBezier[idx + 1] - fromCp[1];\n        }\n        newFromSubpathBezier[0] = fromSubpathBezier[offset] - fromCp[0];\n        newFromSubpathBezier[1] = fromSubpathBezier[offset + 1] - fromCp[1];\n        if (searchAngleIteration > 0) {\n            var step = searchAngleRange / searchAngleIteration;\n            for (var angle = -searchAngleRange / 2; angle <= searchAngleRange / 2; angle += step) {\n                var sa = Math.sin(angle);\n                var ca = Math.cos(angle);\n                var score = 0;\n                for (var k = 0; k < fromSubpathBezier.length; k += 2) {\n                    var x0 = newFromSubpathBezier[k];\n                    var y0 = newFromSubpathBezier[k + 1];\n                    var x1 = toSubpathBezier[k] - toCp[0];\n                    var y1 = toSubpathBezier[k + 1] - toCp[1];\n                    var newX1 = x1 * ca - y1 * sa;\n                    var newY1 = x1 * sa + y1 * ca;\n                    tmpArr[k] = newX1;\n                    tmpArr[k + 1] = newY1;\n                    var dx = newX1 - x0;\n                    var dy = newY1 - y0;\n                    score += dx * dx + dy * dy;\n                }\n                if (score < bestScore) {\n                    bestScore = score;\n                    bestAngle = angle;\n                    for (var m = 0; m < tmpArr.length; m++) {\n                        newToSubpathBezier[m] = tmpArr[m];\n                    }\n                }\n            }\n        }\n        else {\n            for (var i_1 = 0; i_1 < len; i_1 += 2) {\n                newToSubpathBezier[i_1] = toSubpathBezier[i_1] - toCp[0];\n                newToSubpathBezier[i_1 + 1] = toSubpathBezier[i_1 + 1] - toCp[1];\n            }\n        }\n        result.push({\n            from: newFromSubpathBezier,\n            to: newToSubpathBezier,\n            fromCp: fromCp,\n            toCp: toCp,\n            rotation: -bestAngle\n        });\n    }\n    return result;\n}\nexport function isCombineMorphing(path) {\n    return path.__isCombineMorphing;\n}\nexport function isMorphing(el) {\n    return el.__morphT >= 0;\n}\nvar SAVED_METHOD_PREFIX = '__mOriginal_';\nfunction saveAndModifyMethod(obj, methodName, modifiers) {\n    var savedMethodName = SAVED_METHOD_PREFIX + methodName;\n    var originalMethod = obj[savedMethodName] || obj[methodName];\n    if (!obj[savedMethodName]) {\n        obj[savedMethodName] = obj[methodName];\n    }\n    var replace = modifiers.replace;\n    var after = modifiers.after;\n    var before = modifiers.before;\n    obj[methodName] = function () {\n        var args = arguments;\n        var res;\n        before && before.apply(this, args);\n        if (replace) {\n            res = replace.apply(this, args);\n        }\n        else {\n            res = originalMethod.apply(this, args);\n        }\n        after && after.apply(this, args);\n        return res;\n    };\n}\nfunction restoreMethod(obj, methodName) {\n    var savedMethodName = SAVED_METHOD_PREFIX + methodName;\n    if (obj[savedMethodName]) {\n        obj[methodName] = obj[savedMethodName];\n        obj[savedMethodName] = null;\n    }\n}\nfunction applyTransformOnBeziers(bezierCurves, mm) {\n    for (var i = 0; i < bezierCurves.length; i++) {\n        var subBeziers = bezierCurves[i];\n        for (var k = 0; k < subBeziers.length;) {\n            var x = subBeziers[k];\n            var y = subBeziers[k + 1];\n            subBeziers[k++] = mm[0] * x + mm[2] * y + mm[4];\n            subBeziers[k++] = mm[1] * x + mm[3] * y + mm[5];\n        }\n    }\n}\nfunction prepareMorphPath(fromPath, toPath) {\n    var fromPathProxy = fromPath.getUpdatedPathProxy();\n    var toPathProxy = toPath.getUpdatedPathProxy();\n    var _a = alignBezierCurves(pathToBezierCurves(fromPathProxy), pathToBezierCurves(toPathProxy)), fromBezierCurves = _a[0], toBezierCurves = _a[1];\n    var fromPathTransform = fromPath.getComputedTransform();\n    var toPathTransform = toPath.getComputedTransform();\n    function updateIdentityTransform() {\n        this.transform = null;\n    }\n    fromPathTransform && applyTransformOnBeziers(fromBezierCurves, fromPathTransform);\n    toPathTransform && applyTransformOnBeziers(toBezierCurves, toPathTransform);\n    saveAndModifyMethod(toPath, 'updateTransform', { replace: updateIdentityTransform });\n    toPath.transform = null;\n    var morphingData = findBestMorphingRotation(fromBezierCurves, toBezierCurves, 10, Math.PI);\n    var tmpArr = [];\n    saveAndModifyMethod(toPath, 'buildPath', { replace: function (path) {\n            var t = toPath.__morphT;\n            var onet = 1 - t;\n            var newCp = [];\n            for (var i = 0; i < morphingData.length; i++) {\n                var item = morphingData[i];\n                var from = item.from;\n                var to = item.to;\n                var angle = item.rotation * t;\n                var fromCp = item.fromCp;\n                var toCp = item.toCp;\n                var sa = Math.sin(angle);\n                var ca = Math.cos(angle);\n                lerp(newCp, fromCp, toCp, t);\n                for (var m = 0; m < from.length; m += 2) {\n                    var x0_1 = from[m];\n                    var y0_1 = from[m + 1];\n                    var x1 = to[m];\n                    var y1 = to[m + 1];\n                    var x = x0_1 * onet + x1 * t;\n                    var y = y0_1 * onet + y1 * t;\n                    tmpArr[m] = (x * ca - y * sa) + newCp[0];\n                    tmpArr[m + 1] = (x * sa + y * ca) + newCp[1];\n                }\n                var x0 = tmpArr[0];\n                var y0 = tmpArr[1];\n                path.moveTo(x0, y0);\n                for (var m = 2; m < from.length;) {\n                    var x1 = tmpArr[m++];\n                    var y1 = tmpArr[m++];\n                    var x2 = tmpArr[m++];\n                    var y2 = tmpArr[m++];\n                    var x3 = tmpArr[m++];\n                    var y3 = tmpArr[m++];\n                    if (x0 === x1 && y0 === y1 && x2 === x3 && y2 === y3) {\n                        path.lineTo(x3, y3);\n                    }\n                    else {\n                        path.bezierCurveTo(x1, y1, x2, y2, x3, y3);\n                    }\n                    x0 = x3;\n                    y0 = y3;\n                }\n            }\n        } });\n}\nexport function morphPath(fromPath, toPath, animationOpts) {\n    if (!fromPath || !toPath) {\n        return toPath;\n    }\n    var oldDone = animationOpts.done;\n    var oldDuring = animationOpts.during;\n    prepareMorphPath(fromPath, toPath);\n    toPath.__morphT = 0;\n    function restoreToPath() {\n        restoreMethod(toPath, 'buildPath');\n        restoreMethod(toPath, 'updateTransform');\n        toPath.__morphT = -1;\n        toPath.createPathProxy();\n        toPath.dirtyShape();\n    }\n    toPath.animateTo({\n        __morphT: 1\n    }, defaults({\n        during: function (p) {\n            toPath.dirtyShape();\n            oldDuring && oldDuring(p);\n        },\n        done: function () {\n            restoreToPath();\n            oldDone && oldDone();\n        }\n    }, animationOpts));\n    return toPath;\n}\nfunction hilbert(x, y, minX, minY, maxX, maxY) {\n    var bits = 16;\n    x = (maxX === minX) ? 0 : Math.round(32767 * (x - minX) / (maxX - minX));\n    y = (maxY === minY) ? 0 : Math.round(32767 * (y - minY) / (maxY - minY));\n    var d = 0;\n    var tmp;\n    for (var s = (1 << bits) / 2; s > 0; s /= 2) {\n        var rx = 0;\n        var ry = 0;\n        if ((x & s) > 0) {\n            rx = 1;\n        }\n        if ((y & s) > 0) {\n            ry = 1;\n        }\n        d += s * s * ((3 * rx) ^ ry);\n        if (ry === 0) {\n            if (rx === 1) {\n                x = s - 1 - x;\n                y = s - 1 - y;\n            }\n            tmp = x;\n            x = y;\n            y = tmp;\n        }\n    }\n    return d;\n}\nfunction sortPaths(pathList) {\n    var xMin = Infinity;\n    var yMin = Infinity;\n    var xMax = -Infinity;\n    var yMax = -Infinity;\n    var cps = map(pathList, function (path) {\n        var rect = path.getBoundingRect();\n        var m = path.getComputedTransform();\n        var x = rect.x + rect.width / 2 + (m ? m[4] : 0);\n        var y = rect.y + rect.height / 2 + (m ? m[5] : 0);\n        xMin = Math.min(x, xMin);\n        yMin = Math.min(y, yMin);\n        xMax = Math.max(x, xMax);\n        yMax = Math.max(y, yMax);\n        return [x, y];\n    });\n    var items = map(cps, function (cp, idx) {\n        return {\n            cp: cp,\n            z: hilbert(cp[0], cp[1], xMin, yMin, xMax, yMax),\n            path: pathList[idx]\n        };\n    });\n    return items.sort(function (a, b) { return a.z - b.z; }).map(function (item) { return item.path; });\n}\n;\nfunction defaultDividePath(param) {\n    return split(param.path, param.count);\n}\nfunction createEmptyReturn() {\n    return {\n        fromIndividuals: [],\n        toIndividuals: [],\n        count: 0\n    };\n}\nexport function combineMorph(fromList, toPath, animationOpts) {\n    var fromPathList = [];\n    function addFromPath(fromList) {\n        for (var i = 0; i < fromList.length; i++) {\n            var from = fromList[i];\n            if (isCombineMorphing(from)) {\n                addFromPath(from.childrenRef());\n            }\n            else if (from instanceof Path) {\n                fromPathList.push(from);\n            }\n        }\n    }\n    addFromPath(fromList);\n    var separateCount = fromPathList.length;\n    if (!separateCount) {\n        return createEmptyReturn();\n    }\n    var dividePath = animationOpts.dividePath || defaultDividePath;\n    var toSubPathList = dividePath({\n        path: toPath, count: separateCount\n    });\n    if (toSubPathList.length !== separateCount) {\n        console.error('Invalid morphing: unmatched splitted path');\n        return createEmptyReturn();\n    }\n    fromPathList = sortPaths(fromPathList);\n    toSubPathList = sortPaths(toSubPathList);\n    var oldDone = animationOpts.done;\n    var oldDuring = animationOpts.during;\n    var individualDelay = animationOpts.individualDelay;\n    var identityTransform = new Transformable();\n    for (var i = 0; i < separateCount; i++) {\n        var from = fromPathList[i];\n        var to = toSubPathList[i];\n        to.parent = toPath;\n        to.copyTransform(identityTransform);\n        if (!individualDelay) {\n            prepareMorphPath(from, to);\n        }\n    }\n    toPath.__isCombineMorphing = true;\n    toPath.childrenRef = function () {\n        return toSubPathList;\n    };\n    function addToSubPathListToZr(zr) {\n        for (var i = 0; i < toSubPathList.length; i++) {\n            toSubPathList[i].addSelfToZr(zr);\n        }\n    }\n    saveAndModifyMethod(toPath, 'addSelfToZr', {\n        after: function (zr) {\n            addToSubPathListToZr(zr);\n        }\n    });\n    saveAndModifyMethod(toPath, 'removeSelfFromZr', {\n        after: function (zr) {\n            for (var i = 0; i < toSubPathList.length; i++) {\n                toSubPathList[i].removeSelfFromZr(zr);\n            }\n        }\n    });\n    function restoreToPath() {\n        toPath.__isCombineMorphing = false;\n        toPath.__morphT = -1;\n        toPath.childrenRef = null;\n        restoreMethod(toPath, 'addSelfToZr');\n        restoreMethod(toPath, 'removeSelfFromZr');\n    }\n    var toLen = toSubPathList.length;\n    if (individualDelay) {\n        var animating_1 = toLen;\n        var eachDone = function () {\n            animating_1--;\n            if (animating_1 === 0) {\n                restoreToPath();\n                oldDone && oldDone();\n            }\n        };\n        for (var i = 0; i < toLen; i++) {\n            var indivdualAnimationOpts = individualDelay ? defaults({\n                delay: (animationOpts.delay || 0) + individualDelay(i, toLen, fromPathList[i], toSubPathList[i]),\n                done: eachDone\n            }, animationOpts) : animationOpts;\n            morphPath(fromPathList[i], toSubPathList[i], indivdualAnimationOpts);\n        }\n    }\n    else {\n        toPath.__morphT = 0;\n        toPath.animateTo({\n            __morphT: 1\n        }, defaults({\n            during: function (p) {\n                for (var i = 0; i < toLen; i++) {\n                    var child = toSubPathList[i];\n                    child.__morphT = toPath.__morphT;\n                    child.dirtyShape();\n                }\n                oldDuring && oldDuring(p);\n            },\n            done: function () {\n                restoreToPath();\n                for (var i = 0; i < fromList.length; i++) {\n                    restoreMethod(fromList[i], 'updateTransform');\n                }\n                oldDone && oldDone();\n            }\n        }, animationOpts));\n    }\n    if (toPath.__zr) {\n        addToSubPathListToZr(toPath.__zr);\n    }\n    return {\n        fromIndividuals: fromPathList,\n        toIndividuals: toSubPathList,\n        count: toLen\n    };\n}\nexport function separateMorph(fromPath, toPathList, animationOpts) {\n    var toLen = toPathList.length;\n    var fromPathList = [];\n    var dividePath = animationOpts.dividePath || defaultDividePath;\n    function addFromPath(fromList) {\n        for (var i = 0; i < fromList.length; i++) {\n            var from = fromList[i];\n            if (isCombineMorphing(from)) {\n                addFromPath(from.childrenRef());\n            }\n            else if (from instanceof Path) {\n                fromPathList.push(from);\n            }\n        }\n    }\n    if (isCombineMorphing(fromPath)) {\n        addFromPath(fromPath.childrenRef());\n        var fromLen = fromPathList.length;\n        if (fromLen < toLen) {\n            var k = 0;\n            for (var i = fromLen; i < toLen; i++) {\n                fromPathList.push(clonePath(fromPathList[k++ % fromLen]));\n            }\n        }\n        fromPathList.length = toLen;\n    }\n    else {\n        fromPathList = dividePath({ path: fromPath, count: toLen });\n        var fromPathTransform = fromPath.getComputedTransform();\n        for (var i = 0; i < fromPathList.length; i++) {\n            fromPathList[i].setLocalTransform(fromPathTransform);\n        }\n        if (fromPathList.length !== toLen) {\n            console.error('Invalid morphing: unmatched splitted path');\n            return createEmptyReturn();\n        }\n    }\n    fromPathList = sortPaths(fromPathList);\n    toPathList = sortPaths(toPathList);\n    var individualDelay = animationOpts.individualDelay;\n    for (var i = 0; i < toLen; i++) {\n        var indivdualAnimationOpts = individualDelay ? defaults({\n            delay: (animationOpts.delay || 0) + individualDelay(i, toLen, fromPathList[i], toPathList[i])\n        }, animationOpts) : animationOpts;\n        morphPath(fromPathList[i], toPathList[i], indivdualAnimationOpts);\n    }\n    return {\n        fromIndividuals: fromPathList,\n        toIndividuals: toPathList,\n        count: toPathList.length\n    };\n}\nexport { split as defaultDividePath };\n","import Group from '../graphic/Group.js';\nimport ZRImage from '../graphic/Image.js';\nimport Circle from '../graphic/shape/Circle.js';\nimport Rect from '../graphic/shape/Rect.js';\nimport Ellipse from '../graphic/shape/Ellipse.js';\nimport Line from '../graphic/shape/Line.js';\nimport Polygon from '../graphic/shape/Polygon.js';\nimport Polyline from '../graphic/shape/Polyline.js';\nimport * as matrix from '../core/matrix.js';\nimport { createFromString } from './path.js';\nimport { defaults, trim, each, map, keys, hasOwn } from '../core/util.js';\nimport LinearGradient from '../graphic/LinearGradient.js';\nimport RadialGradient from '../graphic/RadialGradient.js';\nimport TSpan from '../graphic/TSpan.js';\nimport { parseXML } from './parseXML.js';\n;\nvar nodeParsers;\nvar INHERITABLE_STYLE_ATTRIBUTES_MAP = {\n    'fill': 'fill',\n    'stroke': 'stroke',\n    'stroke-width': 'lineWidth',\n    'opacity': 'opacity',\n    'fill-opacity': 'fillOpacity',\n    'stroke-opacity': 'strokeOpacity',\n    'stroke-dasharray': 'lineDash',\n    'stroke-dashoffset': 'lineDashOffset',\n    'stroke-linecap': 'lineCap',\n    'stroke-linejoin': 'lineJoin',\n    'stroke-miterlimit': 'miterLimit',\n    'font-family': 'fontFamily',\n    'font-size': 'fontSize',\n    'font-style': 'fontStyle',\n    'font-weight': 'fontWeight',\n    'text-anchor': 'textAlign',\n    'visibility': 'visibility',\n    'display': 'display'\n};\nvar INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS = keys(INHERITABLE_STYLE_ATTRIBUTES_MAP);\nvar SELF_STYLE_ATTRIBUTES_MAP = {\n    'alignment-baseline': 'textBaseline',\n    'stop-color': 'stopColor'\n};\nvar SELF_STYLE_ATTRIBUTES_MAP_KEYS = keys(SELF_STYLE_ATTRIBUTES_MAP);\nvar SVGParser = (function () {\n    function SVGParser() {\n        this._defs = {};\n        this._root = null;\n    }\n    SVGParser.prototype.parse = function (xml, opt) {\n        opt = opt || {};\n        var svg = parseXML(xml);\n        if (process.env.NODE_ENV !== 'production') {\n            if (!svg) {\n                throw new Error('Illegal svg');\n            }\n        }\n        this._defsUsePending = [];\n        var root = new Group();\n        this._root = root;\n        var named = [];\n        var viewBox = svg.getAttribute('viewBox') || '';\n        var width = parseFloat((svg.getAttribute('width') || opt.width));\n        var height = parseFloat((svg.getAttribute('height') || opt.height));\n        isNaN(width) && (width = null);\n        isNaN(height) && (height = null);\n        parseAttributes(svg, root, null, true, false);\n        var child = svg.firstChild;\n        while (child) {\n            this._parseNode(child, root, named, null, false, false);\n            child = child.nextSibling;\n        }\n        applyDefs(this._defs, this._defsUsePending);\n        this._defsUsePending = [];\n        var viewBoxRect;\n        var viewBoxTransform;\n        if (viewBox) {\n            var viewBoxArr = splitNumberSequence(viewBox);\n            if (viewBoxArr.length >= 4) {\n                viewBoxRect = {\n                    x: parseFloat((viewBoxArr[0] || 0)),\n                    y: parseFloat((viewBoxArr[1] || 0)),\n                    width: parseFloat(viewBoxArr[2]),\n                    height: parseFloat(viewBoxArr[3])\n                };\n            }\n        }\n        if (viewBoxRect && width != null && height != null) {\n            viewBoxTransform = makeViewBoxTransform(viewBoxRect, { x: 0, y: 0, width: width, height: height });\n            if (!opt.ignoreViewBox) {\n                var elRoot = root;\n                root = new Group();\n                root.add(elRoot);\n                elRoot.scaleX = elRoot.scaleY = viewBoxTransform.scale;\n                elRoot.x = viewBoxTransform.x;\n                elRoot.y = viewBoxTransform.y;\n            }\n        }\n        if (!opt.ignoreRootClip && width != null && height != null) {\n            root.setClipPath(new Rect({\n                shape: { x: 0, y: 0, width: width, height: height }\n            }));\n        }\n        return {\n            root: root,\n            width: width,\n            height: height,\n            viewBoxRect: viewBoxRect,\n            viewBoxTransform: viewBoxTransform,\n            named: named\n        };\n    };\n    SVGParser.prototype._parseNode = function (xmlNode, parentGroup, named, namedFrom, isInDefs, isInText) {\n        var nodeName = xmlNode.nodeName.toLowerCase();\n        var el;\n        var namedFromForSub = namedFrom;\n        if (nodeName === 'defs') {\n            isInDefs = true;\n        }\n        if (nodeName === 'text') {\n            isInText = true;\n        }\n        if (nodeName === 'defs' || nodeName === 'switch') {\n            el = parentGroup;\n        }\n        else {\n            if (!isInDefs) {\n                var parser_1 = nodeParsers[nodeName];\n                if (parser_1 && hasOwn(nodeParsers, nodeName)) {\n                    el = parser_1.call(this, xmlNode, parentGroup);\n                    var nameAttr = xmlNode.getAttribute('name');\n                    if (nameAttr) {\n                        var newNamed = {\n                            name: nameAttr,\n                            namedFrom: null,\n                            svgNodeTagLower: nodeName,\n                            el: el\n                        };\n                        named.push(newNamed);\n                        if (nodeName === 'g') {\n                            namedFromForSub = newNamed;\n                        }\n                    }\n                    else if (namedFrom) {\n                        named.push({\n                            name: namedFrom.name,\n                            namedFrom: namedFrom,\n                            svgNodeTagLower: nodeName,\n                            el: el\n                        });\n                    }\n                    parentGroup.add(el);\n                }\n            }\n            var parser = paintServerParsers[nodeName];\n            if (parser && hasOwn(paintServerParsers, nodeName)) {\n                var def = parser.call(this, xmlNode);\n                var id = xmlNode.getAttribute('id');\n                if (id) {\n                    this._defs[id] = def;\n                }\n            }\n        }\n        if (el && el.isGroup) {\n            var child = xmlNode.firstChild;\n            while (child) {\n                if (child.nodeType === 1) {\n                    this._parseNode(child, el, named, namedFromForSub, isInDefs, isInText);\n                }\n                else if (child.nodeType === 3 && isInText) {\n                    this._parseText(child, el);\n                }\n                child = child.nextSibling;\n            }\n        }\n    };\n    SVGParser.prototype._parseText = function (xmlNode, parentGroup) {\n        var text = new TSpan({\n            style: {\n                text: xmlNode.textContent\n            },\n            silent: true,\n            x: this._textX || 0,\n            y: this._textY || 0\n        });\n        inheritStyle(parentGroup, text);\n        parseAttributes(xmlNode, text, this._defsUsePending, false, false);\n        applyTextAlignment(text, parentGroup);\n        var textStyle = text.style;\n        var fontSize = textStyle.fontSize;\n        if (fontSize && fontSize < 9) {\n            textStyle.fontSize = 9;\n            text.scaleX *= fontSize / 9;\n            text.scaleY *= fontSize / 9;\n        }\n        var font = (textStyle.fontSize || textStyle.fontFamily) && [\n            textStyle.fontStyle,\n            textStyle.fontWeight,\n            (textStyle.fontSize || 12) + 'px',\n            textStyle.fontFamily || 'sans-serif'\n        ].join(' ');\n        textStyle.font = font;\n        var rect = text.getBoundingRect();\n        this._textX += rect.width;\n        parentGroup.add(text);\n        return text;\n    };\n    SVGParser.internalField = (function () {\n        nodeParsers = {\n            'g': function (xmlNode, parentGroup) {\n                var g = new Group();\n                inheritStyle(parentGroup, g);\n                parseAttributes(xmlNode, g, this._defsUsePending, false, false);\n                return g;\n            },\n            'rect': function (xmlNode, parentGroup) {\n                var rect = new Rect();\n                inheritStyle(parentGroup, rect);\n                parseAttributes(xmlNode, rect, this._defsUsePending, false, false);\n                rect.setShape({\n                    x: parseFloat(xmlNode.getAttribute('x') || '0'),\n                    y: parseFloat(xmlNode.getAttribute('y') || '0'),\n                    width: parseFloat(xmlNode.getAttribute('width') || '0'),\n                    height: parseFloat(xmlNode.getAttribute('height') || '0')\n                });\n                rect.silent = true;\n                return rect;\n            },\n            'circle': function (xmlNode, parentGroup) {\n                var circle = new Circle();\n                inheritStyle(parentGroup, circle);\n                parseAttributes(xmlNode, circle, this._defsUsePending, false, false);\n                circle.setShape({\n                    cx: parseFloat(xmlNode.getAttribute('cx') || '0'),\n                    cy: parseFloat(xmlNode.getAttribute('cy') || '0'),\n                    r: parseFloat(xmlNode.getAttribute('r') || '0')\n                });\n                circle.silent = true;\n                return circle;\n            },\n            'line': function (xmlNode, parentGroup) {\n                var line = new Line();\n                inheritStyle(parentGroup, line);\n                parseAttributes(xmlNode, line, this._defsUsePending, false, false);\n                line.setShape({\n                    x1: parseFloat(xmlNode.getAttribute('x1') || '0'),\n                    y1: parseFloat(xmlNode.getAttribute('y1') || '0'),\n                    x2: parseFloat(xmlNode.getAttribute('x2') || '0'),\n                    y2: parseFloat(xmlNode.getAttribute('y2') || '0')\n                });\n                line.silent = true;\n                return line;\n            },\n            'ellipse': function (xmlNode, parentGroup) {\n                var ellipse = new Ellipse();\n                inheritStyle(parentGroup, ellipse);\n                parseAttributes(xmlNode, ellipse, this._defsUsePending, false, false);\n                ellipse.setShape({\n                    cx: parseFloat(xmlNode.getAttribute('cx') || '0'),\n                    cy: parseFloat(xmlNode.getAttribute('cy') || '0'),\n                    rx: parseFloat(xmlNode.getAttribute('rx') || '0'),\n                    ry: parseFloat(xmlNode.getAttribute('ry') || '0')\n                });\n                ellipse.silent = true;\n                return ellipse;\n            },\n            'polygon': function (xmlNode, parentGroup) {\n                var pointsStr = xmlNode.getAttribute('points');\n                var pointsArr;\n                if (pointsStr) {\n                    pointsArr = parsePoints(pointsStr);\n                }\n                var polygon = new Polygon({\n                    shape: {\n                        points: pointsArr || []\n                    },\n                    silent: true\n                });\n                inheritStyle(parentGroup, polygon);\n                parseAttributes(xmlNode, polygon, this._defsUsePending, false, false);\n                return polygon;\n            },\n            'polyline': function (xmlNode, parentGroup) {\n                var pointsStr = xmlNode.getAttribute('points');\n                var pointsArr;\n                if (pointsStr) {\n                    pointsArr = parsePoints(pointsStr);\n                }\n                var polyline = new Polyline({\n                    shape: {\n                        points: pointsArr || []\n                    },\n                    silent: true\n                });\n                inheritStyle(parentGroup, polyline);\n                parseAttributes(xmlNode, polyline, this._defsUsePending, false, false);\n                return polyline;\n            },\n            'image': function (xmlNode, parentGroup) {\n                var img = new ZRImage();\n                inheritStyle(parentGroup, img);\n                parseAttributes(xmlNode, img, this._defsUsePending, false, false);\n                img.setStyle({\n                    image: xmlNode.getAttribute('xlink:href') || xmlNode.getAttribute('href'),\n                    x: +xmlNode.getAttribute('x'),\n                    y: +xmlNode.getAttribute('y'),\n                    width: +xmlNode.getAttribute('width'),\n                    height: +xmlNode.getAttribute('height')\n                });\n                img.silent = true;\n                return img;\n            },\n            'text': function (xmlNode, parentGroup) {\n                var x = xmlNode.getAttribute('x') || '0';\n                var y = xmlNode.getAttribute('y') || '0';\n                var dx = xmlNode.getAttribute('dx') || '0';\n                var dy = xmlNode.getAttribute('dy') || '0';\n                this._textX = parseFloat(x) + parseFloat(dx);\n                this._textY = parseFloat(y) + parseFloat(dy);\n                var g = new Group();\n                inheritStyle(parentGroup, g);\n                parseAttributes(xmlNode, g, this._defsUsePending, false, true);\n                return g;\n            },\n            'tspan': function (xmlNode, parentGroup) {\n                var x = xmlNode.getAttribute('x');\n                var y = xmlNode.getAttribute('y');\n                if (x != null) {\n                    this._textX = parseFloat(x);\n                }\n                if (y != null) {\n                    this._textY = parseFloat(y);\n                }\n                var dx = xmlNode.getAttribute('dx') || '0';\n                var dy = xmlNode.getAttribute('dy') || '0';\n                var g = new Group();\n                inheritStyle(parentGroup, g);\n                parseAttributes(xmlNode, g, this._defsUsePending, false, true);\n                this._textX += parseFloat(dx);\n                this._textY += parseFloat(dy);\n                return g;\n            },\n            'path': function (xmlNode, parentGroup) {\n                var d = xmlNode.getAttribute('d') || '';\n                var path = createFromString(d);\n                inheritStyle(parentGroup, path);\n                parseAttributes(xmlNode, path, this._defsUsePending, false, false);\n                path.silent = true;\n                return path;\n            }\n        };\n    })();\n    return SVGParser;\n}());\nvar paintServerParsers = {\n    'lineargradient': function (xmlNode) {\n        var x1 = parseInt(xmlNode.getAttribute('x1') || '0', 10);\n        var y1 = parseInt(xmlNode.getAttribute('y1') || '0', 10);\n        var x2 = parseInt(xmlNode.getAttribute('x2') || '10', 10);\n        var y2 = parseInt(xmlNode.getAttribute('y2') || '0', 10);\n        var gradient = new LinearGradient(x1, y1, x2, y2);\n        parsePaintServerUnit(xmlNode, gradient);\n        parseGradientColorStops(xmlNode, gradient);\n        return gradient;\n    },\n    'radialgradient': function (xmlNode) {\n        var cx = parseInt(xmlNode.getAttribute('cx') || '0', 10);\n        var cy = parseInt(xmlNode.getAttribute('cy') || '0', 10);\n        var r = parseInt(xmlNode.getAttribute('r') || '0', 10);\n        var gradient = new RadialGradient(cx, cy, r);\n        parsePaintServerUnit(xmlNode, gradient);\n        parseGradientColorStops(xmlNode, gradient);\n        return gradient;\n    }\n};\nfunction parsePaintServerUnit(xmlNode, gradient) {\n    var gradientUnits = xmlNode.getAttribute('gradientUnits');\n    if (gradientUnits === 'userSpaceOnUse') {\n        gradient.global = true;\n    }\n}\nfunction parseGradientColorStops(xmlNode, gradient) {\n    var stop = xmlNode.firstChild;\n    while (stop) {\n        if (stop.nodeType === 1\n            && stop.nodeName.toLocaleLowerCase() === 'stop') {\n            var offsetStr = stop.getAttribute('offset');\n            var offset = void 0;\n            if (offsetStr && offsetStr.indexOf('%') > 0) {\n                offset = parseInt(offsetStr, 10) / 100;\n            }\n            else if (offsetStr) {\n                offset = parseFloat(offsetStr);\n            }\n            else {\n                offset = 0;\n            }\n            var styleVals = {};\n            parseInlineStyle(stop, styleVals, styleVals);\n            var stopColor = styleVals.stopColor\n                || stop.getAttribute('stop-color')\n                || '#000000';\n            gradient.colorStops.push({\n                offset: offset,\n                color: stopColor\n            });\n        }\n        stop = stop.nextSibling;\n    }\n}\nfunction inheritStyle(parent, child) {\n    if (parent && parent.__inheritedStyle) {\n        if (!child.__inheritedStyle) {\n            child.__inheritedStyle = {};\n        }\n        defaults(child.__inheritedStyle, parent.__inheritedStyle);\n    }\n}\nfunction parsePoints(pointsString) {\n    var list = splitNumberSequence(pointsString);\n    var points = [];\n    for (var i = 0; i < list.length; i += 2) {\n        var x = parseFloat(list[i]);\n        var y = parseFloat(list[i + 1]);\n        points.push([x, y]);\n    }\n    return points;\n}\nfunction parseAttributes(xmlNode, el, defsUsePending, onlyInlineStyle, isTextGroup) {\n    var disp = el;\n    var inheritedStyle = disp.__inheritedStyle = disp.__inheritedStyle || {};\n    var selfStyle = {};\n    if (xmlNode.nodeType === 1) {\n        parseTransformAttribute(xmlNode, el);\n        parseInlineStyle(xmlNode, inheritedStyle, selfStyle);\n        if (!onlyInlineStyle) {\n            parseAttributeStyle(xmlNode, inheritedStyle, selfStyle);\n        }\n    }\n    disp.style = disp.style || {};\n    if (inheritedStyle.fill != null) {\n        disp.style.fill = getFillStrokeStyle(disp, 'fill', inheritedStyle.fill, defsUsePending);\n    }\n    if (inheritedStyle.stroke != null) {\n        disp.style.stroke = getFillStrokeStyle(disp, 'stroke', inheritedStyle.stroke, defsUsePending);\n    }\n    each([\n        'lineWidth', 'opacity', 'fillOpacity', 'strokeOpacity', 'miterLimit', 'fontSize'\n    ], function (propName) {\n        if (inheritedStyle[propName] != null) {\n            disp.style[propName] = parseFloat(inheritedStyle[propName]);\n        }\n    });\n    each([\n        'lineDashOffset', 'lineCap', 'lineJoin', 'fontWeight', 'fontFamily', 'fontStyle', 'textAlign'\n    ], function (propName) {\n        if (inheritedStyle[propName] != null) {\n            disp.style[propName] = inheritedStyle[propName];\n        }\n    });\n    if (isTextGroup) {\n        disp.__selfStyle = selfStyle;\n    }\n    if (inheritedStyle.lineDash) {\n        disp.style.lineDash = map(splitNumberSequence(inheritedStyle.lineDash), function (str) {\n            return parseFloat(str);\n        });\n    }\n    if (inheritedStyle.visibility === 'hidden' || inheritedStyle.visibility === 'collapse') {\n        disp.invisible = true;\n    }\n    if (inheritedStyle.display === 'none') {\n        disp.ignore = true;\n    }\n}\nfunction applyTextAlignment(text, parentGroup) {\n    var parentSelfStyle = parentGroup.__selfStyle;\n    if (parentSelfStyle) {\n        var textBaseline = parentSelfStyle.textBaseline;\n        var zrTextBaseline = textBaseline;\n        if (!textBaseline || textBaseline === 'auto') {\n            zrTextBaseline = 'alphabetic';\n        }\n        else if (textBaseline === 'baseline') {\n            zrTextBaseline = 'alphabetic';\n        }\n        else if (textBaseline === 'before-edge' || textBaseline === 'text-before-edge') {\n            zrTextBaseline = 'top';\n        }\n        else if (textBaseline === 'after-edge' || textBaseline === 'text-after-edge') {\n            zrTextBaseline = 'bottom';\n        }\n        else if (textBaseline === 'central' || textBaseline === 'mathematical') {\n            zrTextBaseline = 'middle';\n        }\n        text.style.textBaseline = zrTextBaseline;\n    }\n    var parentInheritedStyle = parentGroup.__inheritedStyle;\n    if (parentInheritedStyle) {\n        var textAlign = parentInheritedStyle.textAlign;\n        var zrTextAlign = textAlign;\n        if (textAlign) {\n            if (textAlign === 'middle') {\n                zrTextAlign = 'center';\n            }\n            text.style.textAlign = zrTextAlign;\n        }\n    }\n}\nvar urlRegex = /^url\\(\\s*#(.*?)\\)/;\nfunction getFillStrokeStyle(el, method, str, defsUsePending) {\n    var urlMatch = str && str.match(urlRegex);\n    if (urlMatch) {\n        var url = trim(urlMatch[1]);\n        defsUsePending.push([el, method, url]);\n        return;\n    }\n    if (str === 'none') {\n        str = null;\n    }\n    return str;\n}\nfunction applyDefs(defs, defsUsePending) {\n    for (var i = 0; i < defsUsePending.length; i++) {\n        var item = defsUsePending[i];\n        item[0].style[item[1]] = defs[item[2]];\n    }\n}\nvar numberReg = /-?([0-9]*\\.)?[0-9]+([eE]-?[0-9]+)?/g;\nfunction splitNumberSequence(rawStr) {\n    return rawStr.match(numberReg) || [];\n}\nvar transformRegex = /(translate|scale|rotate|skewX|skewY|matrix)\\(([\\-\\s0-9\\.eE,]*)\\)/g;\nvar DEGREE_TO_ANGLE = Math.PI / 180;\nfunction parseTransformAttribute(xmlNode, node) {\n    var transform = xmlNode.getAttribute('transform');\n    if (transform) {\n        transform = transform.replace(/,/g, ' ');\n        var transformOps_1 = [];\n        var mt = null;\n        transform.replace(transformRegex, function (str, type, value) {\n            transformOps_1.push(type, value);\n            return '';\n        });\n        for (var i = transformOps_1.length - 1; i > 0; i -= 2) {\n            var value = transformOps_1[i];\n            var type = transformOps_1[i - 1];\n            var valueArr = splitNumberSequence(value);\n            mt = mt || matrix.create();\n            switch (type) {\n                case 'translate':\n                    matrix.translate(mt, mt, [parseFloat(valueArr[0]), parseFloat(valueArr[1] || '0')]);\n                    break;\n                case 'scale':\n                    matrix.scale(mt, mt, [parseFloat(valueArr[0]), parseFloat(valueArr[1] || valueArr[0])]);\n                    break;\n                case 'rotate':\n                    matrix.rotate(mt, mt, -parseFloat(valueArr[0]) * DEGREE_TO_ANGLE, [\n                        parseFloat(valueArr[1] || '0'),\n                        parseFloat(valueArr[2] || '0')\n                    ]);\n                    break;\n                case 'skewX':\n                    var sx = Math.tan(parseFloat(valueArr[0]) * DEGREE_TO_ANGLE);\n                    matrix.mul(mt, [1, 0, sx, 1, 0, 0], mt);\n                    break;\n                case 'skewY':\n                    var sy = Math.tan(parseFloat(valueArr[0]) * DEGREE_TO_ANGLE);\n                    matrix.mul(mt, [1, sy, 0, 1, 0, 0], mt);\n                    break;\n                case 'matrix':\n                    mt[0] = parseFloat(valueArr[0]);\n                    mt[1] = parseFloat(valueArr[1]);\n                    mt[2] = parseFloat(valueArr[2]);\n                    mt[3] = parseFloat(valueArr[3]);\n                    mt[4] = parseFloat(valueArr[4]);\n                    mt[5] = parseFloat(valueArr[5]);\n                    break;\n            }\n        }\n        node.setLocalTransform(mt);\n    }\n}\nvar styleRegex = /([^\\s:;]+)\\s*:\\s*([^:;]+)/g;\nfunction parseInlineStyle(xmlNode, inheritableStyleResult, selfStyleResult) {\n    var style = xmlNode.getAttribute('style');\n    if (!style) {\n        return;\n    }\n    styleRegex.lastIndex = 0;\n    var styleRegResult;\n    while ((styleRegResult = styleRegex.exec(style)) != null) {\n        var svgStlAttr = styleRegResult[1];\n        var zrInheritableStlAttr = hasOwn(INHERITABLE_STYLE_ATTRIBUTES_MAP, svgStlAttr)\n            ? INHERITABLE_STYLE_ATTRIBUTES_MAP[svgStlAttr]\n            : null;\n        if (zrInheritableStlAttr) {\n            inheritableStyleResult[zrInheritableStlAttr] = styleRegResult[2];\n        }\n        var zrSelfStlAttr = hasOwn(SELF_STYLE_ATTRIBUTES_MAP, svgStlAttr)\n            ? SELF_STYLE_ATTRIBUTES_MAP[svgStlAttr]\n            : null;\n        if (zrSelfStlAttr) {\n            selfStyleResult[zrSelfStlAttr] = styleRegResult[2];\n        }\n    }\n}\nfunction parseAttributeStyle(xmlNode, inheritableStyleResult, selfStyleResult) {\n    for (var i = 0; i < INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS.length; i++) {\n        var svgAttrName = INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS[i];\n        var attrValue = xmlNode.getAttribute(svgAttrName);\n        if (attrValue != null) {\n            inheritableStyleResult[INHERITABLE_STYLE_ATTRIBUTES_MAP[svgAttrName]] = attrValue;\n        }\n    }\n    for (var i = 0; i < SELF_STYLE_ATTRIBUTES_MAP_KEYS.length; i++) {\n        var svgAttrName = SELF_STYLE_ATTRIBUTES_MAP_KEYS[i];\n        var attrValue = xmlNode.getAttribute(svgAttrName);\n        if (attrValue != null) {\n            selfStyleResult[SELF_STYLE_ATTRIBUTES_MAP[svgAttrName]] = attrValue;\n        }\n    }\n}\nexport function makeViewBoxTransform(viewBoxRect, boundingRect) {\n    var scaleX = boundingRect.width / viewBoxRect.width;\n    var scaleY = boundingRect.height / viewBoxRect.height;\n    var scale = Math.min(scaleX, scaleY);\n    return {\n        scale: scale,\n        x: -(viewBoxRect.x + viewBoxRect.width / 2) * scale + (boundingRect.x + boundingRect.width / 2),\n        y: -(viewBoxRect.y + viewBoxRect.height / 2) * scale + (boundingRect.y + boundingRect.height / 2)\n    };\n}\nexport function parseSVG(xml, opt) {\n    var parser = new SVGParser();\n    return parser.parse(xml, opt);\n}\nexport { parseXML };\n","import { isString } from '../core/util.js';\nexport function parseXML(svg) {\n    if (isString(svg)) {\n        var parser = new DOMParser();\n        svg = parser.parseFromString(svg, 'text/xml');\n    }\n    var svgNode = svg;\n    if (svgNode.nodeType === 9) {\n        svgNode = svgNode.firstChild;\n    }\n    while (svgNode.nodeName.toLowerCase() !== 'svg' || svgNode.nodeType !== 1) {\n        svgNode = svgNode.nextSibling;\n    }\n    return svgNode;\n}\n","import PathProxy from '../core/PathProxy.js';\nimport { applyTransform as v2ApplyTransform } from '../core/vector.js';\nvar CMD = PathProxy.CMD;\nvar points = [[], [], []];\nvar mathSqrt = Math.sqrt;\nvar mathAtan2 = Math.atan2;\nexport default function transformPath(path, m) {\n    if (!m) {\n        return;\n    }\n    var data = path.data;\n    var len = path.len();\n    var cmd;\n    var nPoint;\n    var i;\n    var j;\n    var k;\n    var p;\n    var M = CMD.M;\n    var C = CMD.C;\n    var L = CMD.L;\n    var R = CMD.R;\n    var A = CMD.A;\n    var Q = CMD.Q;\n    for (i = 0, j = 0; i < len;) {\n        cmd = data[i++];\n        j = i;\n        nPoint = 0;\n        switch (cmd) {\n            case M:\n                nPoint = 1;\n                break;\n            case L:\n                nPoint = 1;\n                break;\n            case C:\n                nPoint = 3;\n                break;\n            case Q:\n                nPoint = 2;\n                break;\n            case A:\n                var x = m[4];\n                var y = m[5];\n                var sx = mathSqrt(m[0] * m[0] + m[1] * m[1]);\n                var sy = mathSqrt(m[2] * m[2] + m[3] * m[3]);\n                var angle = mathAtan2(-m[1] / sy, m[0] / sx);\n                data[i] *= sx;\n                data[i++] += x;\n                data[i] *= sy;\n                data[i++] += y;\n                data[i++] *= sx;\n                data[i++] *= sy;\n                data[i++] += angle;\n                data[i++] += angle;\n                i += 2;\n                j = i;\n                break;\n            case R:\n                p[0] = data[i++];\n                p[1] = data[i++];\n                v2ApplyTransform(p, p, m);\n                data[j++] = p[0];\n                data[j++] = p[1];\n                p[0] += data[i++];\n                p[1] += data[i++];\n                v2ApplyTransform(p, p, m);\n                data[j++] = p[0];\n                data[j++] = p[1];\n        }\n        for (k = 0; k < nPoint; k++) {\n            var p_1 = points[k];\n            p_1[0] = data[i++];\n            p_1[1] = data[i++];\n            v2ApplyTransform(p_1, p_1, m);\n            data[j++] = p_1[0];\n            data[j++] = p_1[1];\n        }\n    }\n    path.increaseVersion();\n}\n","import { __extends } from \"tslib\";\nimport Path from '../graphic/Path.js';\nimport PathProxy from '../core/PathProxy.js';\nimport transformPath from './transformPath.js';\nimport { extend } from '../core/util.js';\nvar mathSqrt = Math.sqrt;\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar PI = Math.PI;\nfunction vMag(v) {\n    return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n}\n;\nfunction vRatio(u, v) {\n    return (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v));\n}\n;\nfunction vAngle(u, v) {\n    return (u[0] * v[1] < u[1] * v[0] ? -1 : 1)\n        * Math.acos(vRatio(u, v));\n}\n;\nfunction processArc(x1, y1, x2, y2, fa, fs, rx, ry, psiDeg, cmd, path) {\n    var psi = psiDeg * (PI / 180.0);\n    var xp = mathCos(psi) * (x1 - x2) / 2.0\n        + mathSin(psi) * (y1 - y2) / 2.0;\n    var yp = -1 * mathSin(psi) * (x1 - x2) / 2.0\n        + mathCos(psi) * (y1 - y2) / 2.0;\n    var lambda = (xp * xp) / (rx * rx) + (yp * yp) / (ry * ry);\n    if (lambda > 1) {\n        rx *= mathSqrt(lambda);\n        ry *= mathSqrt(lambda);\n    }\n    var f = (fa === fs ? -1 : 1)\n        * mathSqrt((((rx * rx) * (ry * ry))\n            - ((rx * rx) * (yp * yp))\n            - ((ry * ry) * (xp * xp))) / ((rx * rx) * (yp * yp)\n            + (ry * ry) * (xp * xp))) || 0;\n    var cxp = f * rx * yp / ry;\n    var cyp = f * -ry * xp / rx;\n    var cx = (x1 + x2) / 2.0\n        + mathCos(psi) * cxp\n        - mathSin(psi) * cyp;\n    var cy = (y1 + y2) / 2.0\n        + mathSin(psi) * cxp\n        + mathCos(psi) * cyp;\n    var theta = vAngle([1, 0], [(xp - cxp) / rx, (yp - cyp) / ry]);\n    var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n    var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n    var dTheta = vAngle(u, v);\n    if (vRatio(u, v) <= -1) {\n        dTheta = PI;\n    }\n    if (vRatio(u, v) >= 1) {\n        dTheta = 0;\n    }\n    if (dTheta < 0) {\n        var n = Math.round(dTheta / PI * 1e6) / 1e6;\n        dTheta = PI * 2 + (n % 2) * PI;\n    }\n    path.addData(cmd, cx, cy, rx, ry, theta, dTheta, psi, fs);\n}\nvar commandReg = /([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig;\nvar numberReg = /-?([0-9]*\\.)?[0-9]+([eE]-?[0-9]+)?/g;\nfunction createPathProxyFromString(data) {\n    var path = new PathProxy();\n    if (!data) {\n        return path;\n    }\n    var cpx = 0;\n    var cpy = 0;\n    var subpathX = cpx;\n    var subpathY = cpy;\n    var prevCmd;\n    var CMD = PathProxy.CMD;\n    var cmdList = data.match(commandReg);\n    if (!cmdList) {\n        return path;\n    }\n    for (var l = 0; l < cmdList.length; l++) {\n        var cmdText = cmdList[l];\n        var cmdStr = cmdText.charAt(0);\n        var cmd = void 0;\n        var p = cmdText.match(numberReg) || [];\n        var pLen = p.length;\n        for (var i = 0; i < pLen; i++) {\n            p[i] = parseFloat(p[i]);\n        }\n        var off = 0;\n        while (off < pLen) {\n            var ctlPtx = void 0;\n            var ctlPty = void 0;\n            var rx = void 0;\n            var ry = void 0;\n            var psi = void 0;\n            var fa = void 0;\n            var fs = void 0;\n            var x1 = cpx;\n            var y1 = cpy;\n            var len = void 0;\n            var pathData = void 0;\n            switch (cmdStr) {\n                case 'l':\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'L':\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'm':\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    cmd = CMD.M;\n                    path.addData(cmd, cpx, cpy);\n                    subpathX = cpx;\n                    subpathY = cpy;\n                    cmdStr = 'l';\n                    break;\n                case 'M':\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    cmd = CMD.M;\n                    path.addData(cmd, cpx, cpy);\n                    subpathX = cpx;\n                    subpathY = cpy;\n                    cmdStr = 'L';\n                    break;\n                case 'h':\n                    cpx += p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'H':\n                    cpx = p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'v':\n                    cpy += p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'V':\n                    cpy = p[off++];\n                    cmd = CMD.L;\n                    path.addData(cmd, cpx, cpy);\n                    break;\n                case 'C':\n                    cmd = CMD.C;\n                    path.addData(cmd, p[off++], p[off++], p[off++], p[off++], p[off++], p[off++]);\n                    cpx = p[off - 2];\n                    cpy = p[off - 1];\n                    break;\n                case 'c':\n                    cmd = CMD.C;\n                    path.addData(cmd, p[off++] + cpx, p[off++] + cpy, p[off++] + cpx, p[off++] + cpy, p[off++] + cpx, p[off++] + cpy);\n                    cpx += p[off - 2];\n                    cpy += p[off - 1];\n                    break;\n                case 'S':\n                    ctlPtx = cpx;\n                    ctlPty = cpy;\n                    len = path.len();\n                    pathData = path.data;\n                    if (prevCmd === CMD.C) {\n                        ctlPtx += cpx - pathData[len - 4];\n                        ctlPty += cpy - pathData[len - 3];\n                    }\n                    cmd = CMD.C;\n                    x1 = p[off++];\n                    y1 = p[off++];\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\n                    break;\n                case 's':\n                    ctlPtx = cpx;\n                    ctlPty = cpy;\n                    len = path.len();\n                    pathData = path.data;\n                    if (prevCmd === CMD.C) {\n                        ctlPtx += cpx - pathData[len - 4];\n                        ctlPty += cpy - pathData[len - 3];\n                    }\n                    cmd = CMD.C;\n                    x1 = cpx + p[off++];\n                    y1 = cpy + p[off++];\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\n                    break;\n                case 'Q':\n                    x1 = p[off++];\n                    y1 = p[off++];\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    cmd = CMD.Q;\n                    path.addData(cmd, x1, y1, cpx, cpy);\n                    break;\n                case 'q':\n                    x1 = p[off++] + cpx;\n                    y1 = p[off++] + cpy;\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    cmd = CMD.Q;\n                    path.addData(cmd, x1, y1, cpx, cpy);\n                    break;\n                case 'T':\n                    ctlPtx = cpx;\n                    ctlPty = cpy;\n                    len = path.len();\n                    pathData = path.data;\n                    if (prevCmd === CMD.Q) {\n                        ctlPtx += cpx - pathData[len - 4];\n                        ctlPty += cpy - pathData[len - 3];\n                    }\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    cmd = CMD.Q;\n                    path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\n                    break;\n                case 't':\n                    ctlPtx = cpx;\n                    ctlPty = cpy;\n                    len = path.len();\n                    pathData = path.data;\n                    if (prevCmd === CMD.Q) {\n                        ctlPtx += cpx - pathData[len - 4];\n                        ctlPty += cpy - pathData[len - 3];\n                    }\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    cmd = CMD.Q;\n                    path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\n                    break;\n                case 'A':\n                    rx = p[off++];\n                    ry = p[off++];\n                    psi = p[off++];\n                    fa = p[off++];\n                    fs = p[off++];\n                    x1 = cpx, y1 = cpy;\n                    cpx = p[off++];\n                    cpy = p[off++];\n                    cmd = CMD.A;\n                    processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);\n                    break;\n                case 'a':\n                    rx = p[off++];\n                    ry = p[off++];\n                    psi = p[off++];\n                    fa = p[off++];\n                    fs = p[off++];\n                    x1 = cpx, y1 = cpy;\n                    cpx += p[off++];\n                    cpy += p[off++];\n                    cmd = CMD.A;\n                    processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);\n                    break;\n            }\n        }\n        if (cmdStr === 'z' || cmdStr === 'Z') {\n            cmd = CMD.Z;\n            path.addData(cmd);\n            cpx = subpathX;\n            cpy = subpathY;\n        }\n        prevCmd = cmd;\n    }\n    path.toStatic();\n    return path;\n}\nvar SVGPath = (function (_super) {\n    __extends(SVGPath, _super);\n    function SVGPath() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SVGPath.prototype.applyTransform = function (m) { };\n    return SVGPath;\n}(Path));\nfunction isPathProxy(path) {\n    return path.setData != null;\n}\nfunction createPathOptions(str, opts) {\n    var pathProxy = createPathProxyFromString(str);\n    var innerOpts = extend({}, opts);\n    innerOpts.buildPath = function (path) {\n        if (isPathProxy(path)) {\n            path.setData(pathProxy.data);\n            var ctx = path.getContext();\n            if (ctx) {\n                path.rebuildPath(ctx, 1);\n            }\n        }\n        else {\n            var ctx = path;\n            pathProxy.rebuildPath(ctx, 1);\n        }\n    };\n    innerOpts.applyTransform = function (m) {\n        transformPath(pathProxy, m);\n        this.dirtyShape();\n    };\n    return innerOpts;\n}\nexport function createFromString(str, opts) {\n    return new SVGPath(createPathOptions(str, opts));\n}\nexport function extendFromString(str, defaultOpts) {\n    var innerOpts = createPathOptions(str, defaultOpts);\n    var Sub = (function (_super) {\n        __extends(Sub, _super);\n        function Sub(opts) {\n            var _this = _super.call(this, opts) || this;\n            _this.applyTransform = innerOpts.applyTransform;\n            _this.buildPath = innerOpts.buildPath;\n            return _this;\n        }\n        return Sub;\n    }(SVGPath));\n    return Sub;\n}\nexport function mergePath(pathEls, opts) {\n    var pathList = [];\n    var len = pathEls.length;\n    for (var i = 0; i < len; i++) {\n        var pathEl = pathEls[i];\n        pathList.push(pathEl.getUpdatedPathProxy(true));\n    }\n    var pathBundle = new Path(opts);\n    pathBundle.createPathProxy();\n    pathBundle.buildPath = function (path) {\n        if (isPathProxy(path)) {\n            path.appendPath(pathList);\n            var ctx = path.getContext();\n            if (ctx) {\n                path.rebuildPath(ctx, 1);\n            }\n        }\n    };\n    return pathBundle;\n}\nexport function clonePath(sourcePath, opts) {\n    opts = opts || {};\n    var path = new Path();\n    if (sourcePath.shape) {\n        path.setShape(sourcePath.shape);\n    }\n    path.setStyle(sourcePath.style);\n    if (opts.bakeTransform) {\n        transformPath(path.path, sourcePath.getComputedTransform());\n    }\n    else {\n        if (opts.toLocal) {\n            path.setLocalTransform(sourcePath.getComputedTransform());\n        }\n        else {\n            path.copyTransform(sourcePath);\n        }\n    }\n    path.buildPath = sourcePath.buildPath;\n    path.applyTransform = path.applyTransform;\n    path.z = sourcePath.z;\n    path.z2 = sourcePath.z2;\n    path.zlevel = sourcePath.zlevel;\n    return path;\n}\n","import { __extends } from \"tslib\";\nimport { addEventListener, removeEventListener, normalizeEvent, getNativeEvent } from '../core/event.js';\nimport * as zrUtil from '../core/util.js';\nimport Eventful from '../core/Eventful.js';\nimport env from '../core/env.js';\nvar TOUCH_CLICK_DELAY = 300;\nvar globalEventSupported = env.domSupported;\nvar localNativeListenerNames = (function () {\n    var mouseHandlerNames = [\n        'click', 'dblclick', 'mousewheel', 'wheel', 'mouseout',\n        'mouseup', 'mousedown', 'mousemove', 'contextmenu'\n    ];\n    var touchHandlerNames = [\n        'touchstart', 'touchend', 'touchmove'\n    ];\n    var pointerEventNameMap = {\n        pointerdown: 1, pointerup: 1, pointermove: 1, pointerout: 1\n    };\n    var pointerHandlerNames = zrUtil.map(mouseHandlerNames, function (name) {\n        var nm = name.replace('mouse', 'pointer');\n        return pointerEventNameMap.hasOwnProperty(nm) ? nm : name;\n    });\n    return {\n        mouse: mouseHandlerNames,\n        touch: touchHandlerNames,\n        pointer: pointerHandlerNames\n    };\n})();\nvar globalNativeListenerNames = {\n    mouse: ['mousemove', 'mouseup'],\n    pointer: ['pointermove', 'pointerup']\n};\nvar wheelEventSupported = false;\nfunction isPointerFromTouch(event) {\n    var pointerType = event.pointerType;\n    return pointerType === 'pen' || pointerType === 'touch';\n}\nfunction setTouchTimer(scope) {\n    scope.touching = true;\n    if (scope.touchTimer != null) {\n        clearTimeout(scope.touchTimer);\n        scope.touchTimer = null;\n    }\n    scope.touchTimer = setTimeout(function () {\n        scope.touching = false;\n        scope.touchTimer = null;\n    }, 700);\n}\nfunction markTouch(event) {\n    event && (event.zrByTouch = true);\n}\nfunction normalizeGlobalEvent(instance, event) {\n    return normalizeEvent(instance.dom, new FakeGlobalEvent(instance, event), true);\n}\nfunction isLocalEl(instance, el) {\n    var elTmp = el;\n    var isLocal = false;\n    while (elTmp && elTmp.nodeType !== 9\n        && !(isLocal = elTmp.domBelongToZr\n            || (elTmp !== el && elTmp === instance.painterRoot))) {\n        elTmp = elTmp.parentNode;\n    }\n    return isLocal;\n}\nvar FakeGlobalEvent = (function () {\n    function FakeGlobalEvent(instance, event) {\n        this.stopPropagation = zrUtil.noop;\n        this.stopImmediatePropagation = zrUtil.noop;\n        this.preventDefault = zrUtil.noop;\n        this.type = event.type;\n        this.target = this.currentTarget = instance.dom;\n        this.pointerType = event.pointerType;\n        this.clientX = event.clientX;\n        this.clientY = event.clientY;\n    }\n    return FakeGlobalEvent;\n}());\nvar localDOMHandlers = {\n    mousedown: function (event) {\n        event = normalizeEvent(this.dom, event);\n        this.__mayPointerCapture = [event.zrX, event.zrY];\n        this.trigger('mousedown', event);\n    },\n    mousemove: function (event) {\n        event = normalizeEvent(this.dom, event);\n        var downPoint = this.__mayPointerCapture;\n        if (downPoint && (event.zrX !== downPoint[0] || event.zrY !== downPoint[1])) {\n            this.__togglePointerCapture(true);\n        }\n        this.trigger('mousemove', event);\n    },\n    mouseup: function (event) {\n        event = normalizeEvent(this.dom, event);\n        this.__togglePointerCapture(false);\n        this.trigger('mouseup', event);\n    },\n    mouseout: function (event) {\n        event = normalizeEvent(this.dom, event);\n        var element = event.toElement || event.relatedTarget;\n        if (!isLocalEl(this, element)) {\n            if (this.__pointerCapturing) {\n                event.zrEventControl = 'no_globalout';\n            }\n            this.trigger('mouseout', event);\n        }\n    },\n    wheel: function (event) {\n        wheelEventSupported = true;\n        event = normalizeEvent(this.dom, event);\n        this.trigger('mousewheel', event);\n    },\n    mousewheel: function (event) {\n        if (wheelEventSupported) {\n            return;\n        }\n        event = normalizeEvent(this.dom, event);\n        this.trigger('mousewheel', event);\n    },\n    touchstart: function (event) {\n        event = normalizeEvent(this.dom, event);\n        markTouch(event);\n        this.__lastTouchMoment = new Date();\n        this.handler.processGesture(event, 'start');\n        localDOMHandlers.mousemove.call(this, event);\n        localDOMHandlers.mousedown.call(this, event);\n    },\n    touchmove: function (event) {\n        event = normalizeEvent(this.dom, event);\n        markTouch(event);\n        this.handler.processGesture(event, 'change');\n        localDOMHandlers.mousemove.call(this, event);\n    },\n    touchend: function (event) {\n        event = normalizeEvent(this.dom, event);\n        markTouch(event);\n        this.handler.processGesture(event, 'end');\n        localDOMHandlers.mouseup.call(this, event);\n        if (+new Date() - (+this.__lastTouchMoment) < TOUCH_CLICK_DELAY) {\n            localDOMHandlers.click.call(this, event);\n        }\n    },\n    pointerdown: function (event) {\n        localDOMHandlers.mousedown.call(this, event);\n    },\n    pointermove: function (event) {\n        if (!isPointerFromTouch(event)) {\n            localDOMHandlers.mousemove.call(this, event);\n        }\n    },\n    pointerup: function (event) {\n        localDOMHandlers.mouseup.call(this, event);\n    },\n    pointerout: function (event) {\n        if (!isPointerFromTouch(event)) {\n            localDOMHandlers.mouseout.call(this, event);\n        }\n    }\n};\nzrUtil.each(['click', 'dblclick', 'contextmenu'], function (name) {\n    localDOMHandlers[name] = function (event) {\n        event = normalizeEvent(this.dom, event);\n        this.trigger(name, event);\n    };\n});\nvar globalDOMHandlers = {\n    pointermove: function (event) {\n        if (!isPointerFromTouch(event)) {\n            globalDOMHandlers.mousemove.call(this, event);\n        }\n    },\n    pointerup: function (event) {\n        globalDOMHandlers.mouseup.call(this, event);\n    },\n    mousemove: function (event) {\n        this.trigger('mousemove', event);\n    },\n    mouseup: function (event) {\n        var pointerCaptureReleasing = this.__pointerCapturing;\n        this.__togglePointerCapture(false);\n        this.trigger('mouseup', event);\n        if (pointerCaptureReleasing) {\n            event.zrEventControl = 'only_globalout';\n            this.trigger('mouseout', event);\n        }\n    }\n};\nfunction mountLocalDOMEventListeners(instance, scope) {\n    var domHandlers = scope.domHandlers;\n    if (env.pointerEventsSupported) {\n        zrUtil.each(localNativeListenerNames.pointer, function (nativeEventName) {\n            mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n                domHandlers[nativeEventName].call(instance, event);\n            });\n        });\n    }\n    else {\n        if (env.touchEventsSupported) {\n            zrUtil.each(localNativeListenerNames.touch, function (nativeEventName) {\n                mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n                    domHandlers[nativeEventName].call(instance, event);\n                    setTouchTimer(scope);\n                });\n            });\n        }\n        zrUtil.each(localNativeListenerNames.mouse, function (nativeEventName) {\n            mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n                event = getNativeEvent(event);\n                if (!scope.touching) {\n                    domHandlers[nativeEventName].call(instance, event);\n                }\n            });\n        });\n    }\n}\nfunction mountGlobalDOMEventListeners(instance, scope) {\n    if (env.pointerEventsSupported) {\n        zrUtil.each(globalNativeListenerNames.pointer, mount);\n    }\n    else if (!env.touchEventsSupported) {\n        zrUtil.each(globalNativeListenerNames.mouse, mount);\n    }\n    function mount(nativeEventName) {\n        function nativeEventListener(event) {\n            event = getNativeEvent(event);\n            if (!isLocalEl(instance, event.target)) {\n                event = normalizeGlobalEvent(instance, event);\n                scope.domHandlers[nativeEventName].call(instance, event);\n            }\n        }\n        mountSingleDOMEventListener(scope, nativeEventName, nativeEventListener, { capture: true });\n    }\n}\nfunction mountSingleDOMEventListener(scope, nativeEventName, listener, opt) {\n    scope.mounted[nativeEventName] = listener;\n    scope.listenerOpts[nativeEventName] = opt;\n    addEventListener(scope.domTarget, nativeEventName, listener, opt);\n}\nfunction unmountDOMEventListeners(scope) {\n    var mounted = scope.mounted;\n    for (var nativeEventName in mounted) {\n        if (mounted.hasOwnProperty(nativeEventName)) {\n            removeEventListener(scope.domTarget, nativeEventName, mounted[nativeEventName], scope.listenerOpts[nativeEventName]);\n        }\n    }\n    scope.mounted = {};\n}\nvar DOMHandlerScope = (function () {\n    function DOMHandlerScope(domTarget, domHandlers) {\n        this.mounted = {};\n        this.listenerOpts = {};\n        this.touching = false;\n        this.domTarget = domTarget;\n        this.domHandlers = domHandlers;\n    }\n    return DOMHandlerScope;\n}());\nvar HandlerDomProxy = (function (_super) {\n    __extends(HandlerDomProxy, _super);\n    function HandlerDomProxy(dom, painterRoot) {\n        var _this = _super.call(this) || this;\n        _this.__pointerCapturing = false;\n        _this.dom = dom;\n        _this.painterRoot = painterRoot;\n        _this._localHandlerScope = new DOMHandlerScope(dom, localDOMHandlers);\n        if (globalEventSupported) {\n            _this._globalHandlerScope = new DOMHandlerScope(document, globalDOMHandlers);\n        }\n        mountLocalDOMEventListeners(_this, _this._localHandlerScope);\n        return _this;\n    }\n    HandlerDomProxy.prototype.dispose = function () {\n        unmountDOMEventListeners(this._localHandlerScope);\n        if (globalEventSupported) {\n            unmountDOMEventListeners(this._globalHandlerScope);\n        }\n    };\n    HandlerDomProxy.prototype.setCursor = function (cursorStyle) {\n        this.dom.style && (this.dom.style.cursor = cursorStyle || 'default');\n    };\n    HandlerDomProxy.prototype.__togglePointerCapture = function (isPointerCapturing) {\n        this.__mayPointerCapture = null;\n        if (globalEventSupported\n            && ((+this.__pointerCapturing) ^ (+isPointerCapturing))) {\n            this.__pointerCapturing = isPointerCapturing;\n            var globalHandlerScope = this._globalHandlerScope;\n            isPointerCapturing\n                ? mountGlobalDOMEventListeners(this, globalHandlerScope)\n                : unmountDOMEventListeners(globalHandlerScope);\n        }\n    };\n    return HandlerDomProxy;\n}(Eventful));\nexport default HandlerDomProxy;\n","/*!\n* ZRender, a high performance 2d drawing library.\n*\n* Copyright (c) 2013, Baidu Inc.\n* All rights reserved.\n*\n* LICENSE\n* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt\n*/\nimport env from './core/env.js';\nimport * as zrUtil from './core/util.js';\nimport Handler from './Handler.js';\nimport Storage from './Storage.js';\nimport Animation, { getTime } from './animation/Animation.js';\nimport HandlerProxy from './dom/HandlerProxy.js';\nimport { lum } from './tool/color.js';\nimport { DARK_MODE_THRESHOLD } from './config.js';\nimport Group from './graphic/Group.js';\nvar painterCtors = {};\nvar instances = {};\nfunction delInstance(id) {\n    delete instances[id];\n}\nfunction isDarkMode(backgroundColor) {\n    if (!backgroundColor) {\n        return false;\n    }\n    if (typeof backgroundColor === 'string') {\n        return lum(backgroundColor, 1) < DARK_MODE_THRESHOLD;\n    }\n    else if (backgroundColor.colorStops) {\n        var colorStops = backgroundColor.colorStops;\n        var totalLum = 0;\n        var len = colorStops.length;\n        for (var i = 0; i < len; i++) {\n            totalLum += lum(colorStops[i].color, 1);\n        }\n        totalLum /= len;\n        return totalLum < DARK_MODE_THRESHOLD;\n    }\n    return false;\n}\nvar ZRender = (function () {\n    function ZRender(id, dom, opts) {\n        var _this = this;\n        this._sleepAfterStill = 10;\n        this._stillFrameAccum = 0;\n        this._needsRefresh = true;\n        this._needsRefreshHover = true;\n        this._darkMode = false;\n        opts = opts || {};\n        this.dom = dom;\n        this.id = id;\n        var storage = new Storage();\n        var rendererType = opts.renderer || 'canvas';\n        if (!painterCtors[rendererType]) {\n            rendererType = zrUtil.keys(painterCtors)[0];\n        }\n        if (process.env.NODE_ENV !== 'production') {\n            if (!painterCtors[rendererType]) {\n                throw new Error(\"Renderer '\" + rendererType + \"' is not imported. Please import it first.\");\n            }\n        }\n        opts.useDirtyRect = opts.useDirtyRect == null\n            ? false\n            : opts.useDirtyRect;\n        var painter = new painterCtors[rendererType](dom, storage, opts, id);\n        var ssrMode = opts.ssr || painter.ssrOnly;\n        this.storage = storage;\n        this.painter = painter;\n        var handlerProxy = (!env.node && !env.worker && !ssrMode)\n            ? new HandlerProxy(painter.getViewportRoot(), painter.root)\n            : null;\n        var useCoarsePointer = opts.useCoarsePointer;\n        var usePointerSize = (useCoarsePointer == null || useCoarsePointer === 'auto')\n            ? env.touchEventsSupported\n            : !!useCoarsePointer;\n        var defaultPointerSize = 44;\n        var pointerSize;\n        if (usePointerSize) {\n            pointerSize = zrUtil.retrieve2(opts.pointerSize, defaultPointerSize);\n        }\n        this.handler = new Handler(storage, painter, handlerProxy, painter.root, pointerSize);\n        this.animation = new Animation({\n            stage: {\n                update: ssrMode ? null : function () { return _this._flush(true); }\n            }\n        });\n        if (!ssrMode) {\n            this.animation.start();\n        }\n    }\n    ZRender.prototype.add = function (el) {\n        if (this._disposed || !el) {\n            return;\n        }\n        this.storage.addRoot(el);\n        el.addSelfToZr(this);\n        this.refresh();\n    };\n    ZRender.prototype.remove = function (el) {\n        if (this._disposed || !el) {\n            return;\n        }\n        this.storage.delRoot(el);\n        el.removeSelfFromZr(this);\n        this.refresh();\n    };\n    ZRender.prototype.configLayer = function (zLevel, config) {\n        if (this._disposed) {\n            return;\n        }\n        if (this.painter.configLayer) {\n            this.painter.configLayer(zLevel, config);\n        }\n        this.refresh();\n    };\n    ZRender.prototype.setBackgroundColor = function (backgroundColor) {\n        if (this._disposed) {\n            return;\n        }\n        if (this.painter.setBackgroundColor) {\n            this.painter.setBackgroundColor(backgroundColor);\n        }\n        this.refresh();\n        this._backgroundColor = backgroundColor;\n        this._darkMode = isDarkMode(backgroundColor);\n    };\n    ZRender.prototype.getBackgroundColor = function () {\n        return this._backgroundColor;\n    };\n    ZRender.prototype.setDarkMode = function (darkMode) {\n        this._darkMode = darkMode;\n    };\n    ZRender.prototype.isDarkMode = function () {\n        return this._darkMode;\n    };\n    ZRender.prototype.refreshImmediately = function (fromInside) {\n        if (this._disposed) {\n            return;\n        }\n        if (!fromInside) {\n            this.animation.update(true);\n        }\n        this._needsRefresh = false;\n        this.painter.refresh();\n        this._needsRefresh = false;\n    };\n    ZRender.prototype.refresh = function () {\n        if (this._disposed) {\n            return;\n        }\n        this._needsRefresh = true;\n        this.animation.start();\n    };\n    ZRender.prototype.flush = function () {\n        if (this._disposed) {\n            return;\n        }\n        this._flush(false);\n    };\n    ZRender.prototype._flush = function (fromInside) {\n        var triggerRendered;\n        var start = getTime();\n        if (this._needsRefresh) {\n            triggerRendered = true;\n            this.refreshImmediately(fromInside);\n        }\n        if (this._needsRefreshHover) {\n            triggerRendered = true;\n            this.refreshHoverImmediately();\n        }\n        var end = getTime();\n        if (triggerRendered) {\n            this._stillFrameAccum = 0;\n            this.trigger('rendered', {\n                elapsedTime: end - start\n            });\n        }\n        else if (this._sleepAfterStill > 0) {\n            this._stillFrameAccum++;\n            if (this._stillFrameAccum > this._sleepAfterStill) {\n                this.animation.stop();\n            }\n        }\n    };\n    ZRender.prototype.setSleepAfterStill = function (stillFramesCount) {\n        this._sleepAfterStill = stillFramesCount;\n    };\n    ZRender.prototype.wakeUp = function () {\n        if (this._disposed) {\n            return;\n        }\n        this.animation.start();\n        this._stillFrameAccum = 0;\n    };\n    ZRender.prototype.refreshHover = function () {\n        this._needsRefreshHover = true;\n    };\n    ZRender.prototype.refreshHoverImmediately = function () {\n        if (this._disposed) {\n            return;\n        }\n        this._needsRefreshHover = false;\n        if (this.painter.refreshHover && this.painter.getType() === 'canvas') {\n            this.painter.refreshHover();\n        }\n    };\n    ZRender.prototype.resize = function (opts) {\n        if (this._disposed) {\n            return;\n        }\n        opts = opts || {};\n        this.painter.resize(opts.width, opts.height);\n        this.handler.resize();\n    };\n    ZRender.prototype.clearAnimation = function () {\n        if (this._disposed) {\n            return;\n        }\n        this.animation.clear();\n    };\n    ZRender.prototype.getWidth = function () {\n        if (this._disposed) {\n            return;\n        }\n        return this.painter.getWidth();\n    };\n    ZRender.prototype.getHeight = function () {\n        if (this._disposed) {\n            return;\n        }\n        return this.painter.getHeight();\n    };\n    ZRender.prototype.setCursorStyle = function (cursorStyle) {\n        if (this._disposed) {\n            return;\n        }\n        this.handler.setCursorStyle(cursorStyle);\n    };\n    ZRender.prototype.findHover = function (x, y) {\n        if (this._disposed) {\n            return;\n        }\n        return this.handler.findHover(x, y);\n    };\n    ZRender.prototype.on = function (eventName, eventHandler, context) {\n        if (!this._disposed) {\n            this.handler.on(eventName, eventHandler, context);\n        }\n        return this;\n    };\n    ZRender.prototype.off = function (eventName, eventHandler) {\n        if (this._disposed) {\n            return;\n        }\n        this.handler.off(eventName, eventHandler);\n    };\n    ZRender.prototype.trigger = function (eventName, event) {\n        if (this._disposed) {\n            return;\n        }\n        this.handler.trigger(eventName, event);\n    };\n    ZRender.prototype.clear = function () {\n        if (this._disposed) {\n            return;\n        }\n        var roots = this.storage.getRoots();\n        for (var i = 0; i < roots.length; i++) {\n            if (roots[i] instanceof Group) {\n                roots[i].removeSelfFromZr(this);\n            }\n        }\n        this.storage.delAllRoots();\n        this.painter.clear();\n    };\n    ZRender.prototype.dispose = function () {\n        if (this._disposed) {\n            return;\n        }\n        this.animation.stop();\n        this.clear();\n        this.storage.dispose();\n        this.painter.dispose();\n        this.handler.dispose();\n        this.animation =\n            this.storage =\n                this.painter =\n                    this.handler = null;\n        this._disposed = true;\n        delInstance(this.id);\n    };\n    return ZRender;\n}());\nexport function init(dom, opts) {\n    var zr = new ZRender(zrUtil.guid(), dom, opts);\n    instances[zr.id] = zr;\n    return zr;\n}\nexport function dispose(zr) {\n    zr.dispose();\n}\nexport function disposeAll() {\n    for (var key in instances) {\n        if (instances.hasOwnProperty(key)) {\n            instances[key].dispose();\n        }\n    }\n    instances = {};\n}\nexport function getInstance(id) {\n    return instances[id];\n}\nexport function registerPainter(name, Ctor) {\n    painterCtors[name] = Ctor;\n}\nvar ssrDataGetter;\nexport function getElementSSRData(el) {\n    if (typeof ssrDataGetter === 'function') {\n        return ssrDataGetter(el);\n    }\n}\nexport function registerSSRDataGetter(getter) {\n    ssrDataGetter = getter;\n}\nexport var version = '5.6.0';\n;\n"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","TypeError","String","__","this","constructor","create","containStroke","x0","y0","x1","y1","lineWidth","x","y","_l","_a","_b","Math","abs","tmp","_s","EPSILON","isAroundEqual","a","contain","points","w","i","length","p2","windingLine","p0","x2","y2","quadraticProjectPoint","textWidthCache","getWidth","text","font","DEFAULT_FONT","cacheOfFont","LRU","width","get","platformApi","measureText","put","innerGetBoundingRect","textAlign","textBaseline","height","getLineHeight","adjustTextX","adjustTextY","rect","BoundingRect","getBoundingRect","textLines","split","len","uniondRect","copy","union","verticalAlign","parsePercent","value","maxValue","lastIndexOf","parseFloat","calculateTextPosition","out","opts","textPosition","position","distance","halfHeight","textVerticalAlign","align","PI2","PI","normalizeRadian","angle","t","dir","x_","Infinity","mathMin","min","mathMax","max","lt","Point","rb","lb","rt","minTv","maxTv","other","isFinite","applyTransform","m","calculateTransform","sx","sy","matrix","intersect","mtv","ax0","ax1","ay0","ay1","bx0","bx1","by0","by1","overlap","dMin","dMax","d0","d1","d2","d3","dx","dy","set","clone","plain","isZero","target","source","tx","ty","transform","maxX","maxY","Eventful","eventProcessors","_$eventProcessor","on","event","query","handler","context","_$handlers","_h","eventProcessor","normalizeQuery","h","wrap","ctx","callAtLast","zrEventfulCallAtLast","lastIndex","lastWrap","splice","push","isSilent","eventName","off","eventType","newList","l","trigger","args","_i","arguments","argLen","hItem","filter","apply","afterTrigger","triggerWithContext","type","slice","GestureMgr","_track","recognize","root","_doTrack","_recognize","clear","touches","trackItem","touch","pos","eventUtil","zrX","zrY","recognizers","gestureInfo","dist","pointPair","sqrt","center","pinch","tracks","trackLen","pinchEnd","pinchPre","pinchScale","pinchCenter","pinchX","pinchY","Entry","val","LinkedList","_len","insert","entry","insertEntry","head","tail","next","prev","remove","maxSize","_list","_maxSize","_map","key","list","map","removed","_lastRemovedEntry","leastUsedEntry","extent","extent2","OrientedBoundingRect","_corners","_axes","_origin","fromBoundingRect","corners","axes","sub","normalize","dot","overlapped","noMtv","_intersectCheckOneSide","self","inverse","axis","_getProjMinMaxOnAxis","dist0","dist1","scale","dim","origin","proj","proj_1","CMD","M","L","C","Q","A","Z","R","tmpOutX","tmpOutY","min2","max2","mathCos","cos","mathSin","sin","mathAbs","hasTypedArray","Float32Array","tmpAngles","modPI2","radian","n","round","normalizeArcAngles","angles","anticlockwise","newStartAngle","delta","newEndAngle","PathProxy","notSaveData","dpr","_xi","_yi","_x0","_y0","_saveData","data","increaseVersion","_version","getVersion","setScale","segmentIgnoreThreshold","_ux","_uy","setDPR","setContext","_ctx","getContext","beginPath","reset","_pathSegLen","_pathLen","moveTo","_drawPendingPt","addData","lineTo","exceedUnit","_pendingPtDist","_pendingPtX","_pendingPtY","bezierCurveTo","x3","y3","quadraticCurveTo","arc","cx","cy","r","startAngle","endAngle","arcTo","radius","closePath","fill","toStatic","stroke","setData","appendPath","path","appendSize","offset","appendPathData","k","cmd","c","e","f","g","_expandData","newData","Number","MAX_VALUE","xi","yi","isFirst","fromLine","fromCubic","fromQuadratic","rx","ry","fromArc","vec2","_calculateLength","ux","uy","pathSegLen","pathTotalLen","segCount","cubicLength","quadraticLength","rebuildPath","percent","displayedLength","pendingPtX","pendingPtY","drawPart","accumLength","pendingPtDist","lo","cubicSubdivide","quadraticSubdivide","psi","isEllipse","breakBuild","ellipse","d_1","newProxy","initDefaultProps","proto","equal","add","scalar","scaleAndAdd","lenSquare","distanceSquare","negate","toArray","fromArray","input","p1","lerp","onet","mIdentity","isNotAroundZero","scaleTmp","tmpTransform","originTransform","Transformable","getLocalTransform","setPosition","arr","scaleX","scaleY","setSkew","skewX","skewY","setOrigin","originX","originY","needLocalTransform","rotation","updateTransform","parentTransform","parent","_resolveGlobalScaleRatio","invTransform","globalScaleRatio","getGlobalScale","relX","relY","getComputedTransform","transformNode","ancestors","pop","setLocalTransform","atan2","shearX","decomposeTransform","ox","oy","transformCoordToLocal","v2","vector","transformCoordToGlobal","getLineScale","copyTransform","ax","anchorX","ay","anchorY","tan","TRANSFORMABLE_PROPS","propName","wmUniqueIndex","random","supportDefineProperty","defineProperty","WeakMap","_id","_guard","enumerable","configurable","has","start","end","extremity","fromPoints","left","right","top","bottom","xDim","yDim","cubicExtrema","curve","cubicAt","quadraticExtremum","quadraticAt","vec2Min","vec2Max","diff","mathPow","pow","mathSqrt","EPSILON_NUMERIC","THREE_SQRT","ONE_THIRD","_v0","v2Create","_v1","_v2","isAroundZero","p3","cubicDerivativeAt","cubicRootAt","roots","B","t1","disc","K","t2","discSqrt","Y1","Y2","T","theta","acos","ASqrt","t3","extrema","p01","p12","p23","p012","p123","p0123","cubicProjectPoint","interval","_t","v2DistSquare","iteration","px","py","step","quadraticDerivativeAt","quadraticRootAt","divider","LN2","log","determinant","rows","rank","rowStart","rowMask","colMask","detCache","cacheKey","fullRank","colStart","subRowMask","subRowStart","sum","j","colLocalIdx","colTag","buildTransformer","src","dest","mA","det","vh","srcPointX","srcPointY","pk","EVENT_SAVED_PROP","_calcOut","transformLocalCoord","elFrom","elTarget","inX","inY","transformCoordWithViewport","el","getBoundingClientRect","env","domSupported","isCanvasEl","saved","markers","prepareCoordMarkers","transformer","preparePointerTransformer","propLR","propTB","marker","document","createElement","stl","style","idxLR","idxTB","cssText","join","appendChild","transformerName","oldSrcCoords","srcCoords","destCoords","oldCoordTheSame","ii","offsetLeft","offsetTop","nodeName","toUpperCase","replaceReg","replaceMap","encodeHTML","replace","str","Browser","firefox","ie","edge","newEdge","weChat","Env","browser","node","wxa","worker","svgSupported","touchEventsSupported","pointerEventsSupported","transformSupported","transform3dSupported","hasGlobalWindow","window","detect","ua","match","test","version","SVGRect","documentElement","WebKitCSSMatrix","wx","getSystemInfoSync","navigator","userAgent","indexOf","MOUSE_EVENT_REG","firefoxNotSupportOffsetXY","clientToLocal","calculate","calculateZrXY","layerX","offsetX","layerY","offsetY","ex","clientX","ey","clientY","box","getNativeEvent","normalizeEvent","isTouch","targetTouches","changedTouches","wheelDelta","getWheelDeltaMayPolyfill","zrDelta","detail","button","which","undefined","rawWheelDelta","deltaX","deltaY","sign","addEventListener","name","opt","removeEventListener","stop","preventDefault","stopPropagation","cancelBubble","isMiddleOrRightButtonOnMouseUpDown","identity","mul","m1","m2","out0","out1","out2","out3","out4","out5","translate","v","rotate","rad","pivot","aa","ac","atx","ab","ad","aty","st","ct","vx","vy","invert","DEFAULT_FONT_SIZE","DEFAULT_FONT_FAMILY","OFFSET","SCALE","defaultWidthMapStr","getTextWidthMap","mapStr","JSON","char","fromCharCode","size","charCodeAt","DEFAULT_TEXT_WIDTH_MAP","createCanvas","_cachedFont","canvas","res","exec","fontSize","preCalcWidth","loadImage","onload","onerror","image","Image","DEFAULT_MIN_MERGE","DEFAULT_MIN_GALLOPING","minRunLength","makeAscendingRun","array","hi","compare","runHi","reverseRun","binaryInsertionSort","mid","gallopLeft","hint","lastOffset","maxOffset","gallopRight","TimSort","runStart","runLength","minGallop","stackSize","pushRun","_runStart","_runLength","mergeRuns","mergeAt","forceMergeRuns","start1","length1","start2","length2","mergeLow","mergeHigh","cursor1","cursor2","count1","count2","exit","_minGallop","Error","customCursor","customDest","sort","remaining","ts","minRun","force","BUILTIN_OBJECT","reduce","obj","TYPED_ARRAY","objToString","toString","arrayProto","nativeForEach","forEach","nativeFilter","nativeSlice","nativeMap","ctorFunction","protoFunction","protoKey","idStart","guid","logError","console","error","result","typeStr","isPrimitive","Ctor","from","isDom","merge","overwrite","isObject","targetProp","sourceProp","isArray","isBuiltInObject","mergeAll","targetAndSources","extend","assign","defaults","overlay","keysArr","keys","inherits","clazz","baseClazz","clazzPrototype","F","prop","superClass","mixin","override","getOwnPropertyNames","keyList","isArrayLike","each","cb","memo","find","bindPolyfill","func","concat","bind","isFunction","curry","isString","isStringSafe","isNumber","isTypedArray","nodeType","ownerDocument","isGradientObject","colorStops","isImagePatternObject","isRegExp","eqNaN","retrieve","retrieve2","value0","value1","retrieve3","value2","normalizeCssArray","assert","condition","message","trim","primitiveKey","setAsPrimitive","MapPolyfill","existed","callback","isNativeMapSupported","Map","maybeNativeMap","HashMap","isArr","thisMap","visit","hasKey","removeKey","createHashMap","concatArray","newArray","createObject","properties","StyleCtor","disableUserSelect","dom","domStyle","webkitUserSelect","userSelect","webkitTapHighlightColor","hasOwn","own","noop","RADIAN_TO_DEGREE","v1","s","distSquare","CompoundPath","_super","_this","_updatePathDirty","paths","shape","dirtyPath","shapeChanged","dirtyShape","beforeBrush","createPathProxy","buildPath","afterBrush","pathUpdated","Path","STYLE_MAGIC_KEY","DEFAULT_COMMON_STYLE","shadowBlur","shadowOffsetX","shadowOffsetY","shadowColor","opacity","blend","DEFAULT_COMMON_ANIMATION_PROPS","PRIMARY_STATES_KEYS","PRIMARY_STATES_KEYS_IN_HOVER_LAYER","Displayable","props","_init","useStyle","attrKV","innerBeforeBrush","innerAfterBrush","shouldBePainted","viewWidth","viewHeight","considerClipPath","considerAncestors","ignore","invisible","culling","isDisplayableCulled","__clipPaths","isZeroArea","parent_1","rectContain","traverse","coord","getPaintRect","_paintRect","__dirty","elRect","shadowSize","tolerance","dirtyRectTolerance","floor","ceil","setPrevPaintRect","paintRect","_prevPaintRect","getPrevPaintRect","animateStyle","loop","animate","updateDuringAnimation","targetKey","dirtyStyle","markRedraw","setStyle","keyOrObj","notRedraw","STYLE_CHANGED_BIT","_rect","dirty","styleChanged","styleUpdated","createStyle","__inHover","__hoverStyle","isStyleObject","_innerSaveToNormal","toState","normalState","_normalState","_mergeStyle","_savePrimaryToNormal","_applyStateObj","stateName","state","keepCurrentStates","transition","animationCfg","targetStyle","needsRestoreToNormal","sourceStyle","changedKeys","targetKeys","_transitionState","getAnimationStyleProps","statesKeys","_mergeStates","states","mergedStyle","mergedState","dispProto","z","z2","zlevel","cursor","rectHover","incremental","REDRAW_BIT","Element","tmpRect","viewRect","Gradient","addColorStop","color","Group","isGroup","_children","attr","childrenRef","children","childAt","idx","childOfName","childCount","child","_doAdd","addBefore","nextSibling","oldChild","newChild","zrUtil","replaceAt","index","old","zr","__zr","removeSelfFromZr","addSelfToZr","refresh","removeAll","eachChild","stopped","includeChildren","tmpMat","childRect","DEFAULT_IMAGE_STYLE","DEFAULT_IMAGE_ANIMATION_PROPS","sWidth","sHeight","isImageLike","ZRImage","_getSize","imageSource","__image","otherDim","otherDimSize","getHeight","IncrementalDisplayable","notClear","_displayables","_temporaryDisplayables","_cursor","getCursor","clearDisplaybles","clearTemporalDisplayables","addDisplayable","displayable","notPersistent","addDisplayables","displayables","getDisplayables","getTemporalDisplayables","eachPendingDisplayable","update","localPos","Displayble","LinearGradient","globalCoord","global","swapExtrema","windingCubic","nRoots","nExtrema","y0_","y1_","unit","windingQuadratic","y_","windingArc","dTheta","tmp_1","containPath","isStroke","line","cubic","quadratic","_x","pathProxy","DEFAULT_PATH_STYLE","strokePercent","fillOpacity","strokeOpacity","lineDashOffset","lineCap","miterLimit","strokeNoScale","strokeFirst","DEFAULT_PATH_ANIMATION_PROPS","pathCopyParams","decal","decalEl","_decalEl","silent","decalElStyle","getDecalElement","getDefaultShape","defaultStyle","getDefaultStyle","canBeInsideText","hasFill","getInsideTextFill","pathFill","fillLum","lum","DARK_LABEL_COLOR","LIGHTER_LABEL_COLOR","LIGHT_LABEL_COLOR","getInsideTextStroke","textFill","isDarkMode","isDarkLabel","DARK_MODE_THRESHOLD","shapeCfg","inBatch","SHAPE_CHANGED_BIT","getUpdatedPathProxy","hasStroke","needsUpdateRect","firstInvoke","rectStroke","_rectStroke","lineScale","strokeContainThreshold","pathContain","animateShape","setShape","targetShape","targetShapePrimaryProps","shapeKeys","mergedShape","defaultProps","Sub","init","pathProto","subPixelOptimize","autoBatch","RadialGradient","DEFAULT_TSPAN_STYLE","TSpan","setBoundingRect","tspanProto","DEFAULT_RICH_TEXT_COLOR","DEFAULT_STROKE_LINE_WIDTH","DEFAULT_TEXT_ANIMATION_PROPS","lineHeight","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","padding","borderColor","borderWidth","borderRadius","ZRText","_defaultStyle","_updateSubTexts","innerTransformable","__hostTarget","updateInnerText","_childCursor","normalizeTextStyle","rich","_updateRichTexts","_updatePlainTexts","setDefaultTextStyle","defaultTextStyle","setTextContent","textContent","process","sourceRich","targetRich","_mergeRich","richNames","richName","_getOrCreateChild","textFont","textPadding","getStyleText","contentBlock","parsePlainText","needDrawBg","needDrawBackground","bgColorDrawn","outerHeight","outerWidth","contentWidth","lines","baseX","baseY","textX","textY","contentHeight","boxX","boxY","_renderBackground","getTextXForPadding","defaultLineWidth","useDefaultFill","getFill","textStroke","getStroke","autoStroke","hasShadow","fixedBoundingRect","overflow","calculatedLineHeight","subElStyle","lineDash","setSeparateFont","parseRichText","xLeft","lineTop","xRight","tokens","tokenCount","remainedWidth","leftIndex","lineXLeft","lineXRight","rightIndex","token","_placeToken","parentBgColorDrawn","tokenStyle","styleName","isLineHolder","innerHeight","textWidth","textHeight","topStyle","rectEl","imgEl","textBackgroundColor","textBorderWidth","textBorderColor","isImageBg","isPlainOrGradientBg","textBorderRadius","Rect","rectShape","rectStyle","imgStyle","borderDash","borderDashOffset","commonStyle","makeFont","hasSeparateFont","fontStyle","fontWeight","parseFontSize","fontFamily","VALID_TEXT_ALIGN","VALID_TEXT_VERTICAL_ALIGN","middle","FONT_PARTS","isNaN","fontProp","normalizeStyle","globalImageCache","findExistImage","newImageOrSrc","cachedImgObj","createOrUpdateImage","hostEl","cbPayload","__zrImageSrc","pendingWrap","isImageReady","pending","imageOnLoad","__cachedImgObj","STYLE_REG","truncateText","containerWidth","ellipsis","options","prepareTruncateOptions","truncateSingleLine","preparedOpts","maxIterations","minChar","cnCharWidth","ascCharWidth","placeholder","ellipsisWidth","textLine","subLength","estimateLength","substr","charCode","truncate","truncateLineOverflow","lineOverflow","wrapText","lineCount","truncateMinChar","RichTextToken","RichTextLine","RichTextContentBlock","topWidth","topHeight","wrapInfo","accumWidth","breakAll","matchedIndex","pushTokens","substring","pendingList","calculatedHeight","calculatedWidth","stlPadding","truncateLine","finishLine","outer","paddingH","tokenHeight","styleTokenWidth","tokenWidthNotSpecified","charAt","percentWidth","bgImg","imageHelper","remainTruncWidth","parseInt","block","strLines","linesWidths","isEmptyStr","newLine","tokenPadding","tokenPaddingH","outerWidth_1","tokensLen","isAlphabeticLetter","ch","code","breakCharMap","isWordBreakChar","isBreakAll","lastAccumWidth","currentWord","currentWordWidth","chWidth","inWord","smoothBezier","smooth","isLoop","constraint","prevPoint","nextPoint","cps","v2Min","v2Max","point","v2Clone","v2Sub","v2Scale","v2Distance","cp0","v2Add","cp1","shift","controlPoints","smoothConstraint","cp2","subPixelOptimizeLine","outputShape","inputShape","subPixelOptimizeRect","originWidth","originHeight","positiveOrNegative","doubledPosition","ArcShape","clockwise","Arc","unitX","unitY","BezierCurveShape","cpx1","cpy1","someVectorAt","isTangent","cpx2","cpy2","BezierCurve","pointAt","tangentAt","CircleShape","Circle","EllipseShape","Ellipse","subPixelOptimizeOutputShape","LineShape","Line","optimizedShape","PolygonShape","Polygon","polyHelper","PolylineShape","Polyline","r1","r2","r3","r4","total","RectShape","roundRectHelper","RingShape","r0","Ring","mathACos","mathATan2","dx10","dy10","dx32","dy32","computeCornerTangents","cr","x01","y01","x11","y11","x10","y10","x00","y00","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","normalizeCornerRadius","innerRadius","hasRadius","hasInnerRadius","mod","icrStart","icrEnd","ocrStart","ocrEnd","ocrs","ocre","icrs","icre","ocrMax","icrMax","limitedOcrMax","limitedIcrMax","xre","yre","xirs","yirs","xrs","yrs","xire","yire","hasArc","cornerRadius","halfRd","it_1","crStart","crEnd","ct0","ct1","SectorShape","Sector","roundSectorHelper","Param","topTarget","Draggable","_dragStart","_drag","_dragEnd","draggingTarget","draggable","_draggingTarget","dragging","_y","dispatchToElement","drift","dropTarget","findHover","lastDropTarget","_dropTarget","degree","SVGPathRebuilder","precision","_start","_d","_str","_p","_add","dThetaPositive","isCircle","unifiedTheta","large","xRot","dTheta_1","vals","_invalid","generateStr","getStr","NONE","mathRound","pathHasFill","pathHasStroke","strokeProps","svgStrokeProps","toLowerCase","mapStyleToAttrs","updateAttr","forceUpdate","normalizeColor","strokeScale","strokeWidth","getLineDash","SVGNS","XLINKNS","XMLNS","XML_NAMESPACE","META_DATA_PREFIX","createElementNS","createVNode","tag","attrs","createElementOpen","attrsStr","part","createElementClose","vNodeToString","S","newline","convertElToString","getCssString","selectorNodes","animationNodes","bracketBegin","bracketEnd","selectors","className","attrName","animations","animationName","createBrushScope","zrId","shadowCache","patternCache","gradientCache","clipPathCache","defs","cssNodes","cssAnims","cssStyleCache","cssAnimIdx","shadowIdx","gradientIdx","patternIdx","clipPathIdx","createSVGVNode","useViewBox","cssClassIdx","getClassId","EASING_MAP","cubicIn","cubicOut","cubicInOut","quadraticIn","quadraticOut","quadraticInOut","quarticIn","quarticOut","quarticInOut","quinticIn","quinticOut","quinticInOut","sinusoidalIn","sinusoidalOut","sinusoidalInOut","exponentialIn","exponentialOut","exponentialInOut","circularIn","circularOut","circularInOut","transformOriginKey","buildPathString","kfShape","svgPathBuilder","getPathPrecision","setTransformOrigin","ANIMATE_STYLE_MAP","addAnimation","cssAnim","scope","createCompoundPathCSSAnimation","cssAnimationCfg","cssAnimationName","composedAnim","subScope","animation","createCSSAnimation","animNames","lastAnim","kf","getEasingFunc","easing","createCubicEasingFunc","onlyShape","animators","cssAnimations","groupAnimators","animator","cfgArr","getMaxTime","getClip","delay","getDelay","getLoop","cfg","createSingleCSSAnimation","groupAnimator","transformKfs","shapeKfs","finalKfs","animationTimingFunctionAttrName","saveAnimatorTrackToCssKfs","cssKfs","toCssAttrName","getTracks","maxTime","track","needsAnimate","kfs","keyframes","time","kfEasing","rawValue","targetName","getSRTTransformString","timingFunction","canAnimateShape","len_1","newLen","transformOrigin","percents","allTransformOriginSame","createCSSEmphasis","setClassAttribute","emphasisStyle","emphasis","normalFill","selectFill","select","fromFill","currentStates","liftColor","withHover","styleKey","stringify","isCanvasLike","toDataURL","setStyleAttrs","isFillStroke","isGradient","setGradient","isPattern","setPattern","setShadow","setMetaData","metaData","getElementSSRData","noRotateScale","noTranslate","setTransform","compress","getMatrixStr","convertPolyShape","strArr","validatePolyShape","createAttrsConvert","desc","normalizedDesc","item","builtinShapesDef","circle","polyline","polygon","hasShapeAnimation","brushSVGPath","builtinShpDef","svgElType","willUpdate","needBuildPath","pathVersion","elExt","__svgPathBuilder","__svgPathVersion","__svgPathStrokePercent","id","brushSVGImage","dw","dh","href","brushSVGTSpan","TEXT_ALIGN_TO_ANCHOR","separatedFontStr","brush","shadowKey","getShadowKey","shadowId","globalScale","blur_1","stdDx","stdDy","stdDeviation","getIdURL","gradientTag","gradientAttrs","isLinearGradient","isRadialGradient","colors","round4","stopColor","stopsAttrs","gradientVNode","gradientKey","gradientId","boundingRect","patternAttrs","repeat","noRepeat","repeatX","repeatY","isImagePattern","imageWidth_1","imageWidth","imageHeight_1","imageHeight","imageSrc","patternImage","errMsg","setSizeToVNode_1","vNode","img","svgEl","elm","setAttribute","createdImage","patternVNode","svgElement","svgWidth","svgHeight","patternWidth","patternHeight","patternUnits","patternTransform","patternKey","patternId","setClipPath","clipPath","clipPathId","clipPathAttrs","createTextNode","insertBefore","parentNode","newNode","referenceNode","removeChild","colonChar","xChar","emptyNode","isUndef","isDef","createKeyToOldIdx","beginIdx","endIdx","sameVnode","vnode1","vnode2","isSameKey","isSameTag","createElm","vnode","updateAttrs","api","addVnodes","parentElm","before","vnodes","startIdx","removeVnodes","oldVnode","oldAttrs","cur","removeAttribute","setAttributeNS","updateChildren","oldCh","newCh","oldKeyToIdx","idxInOld","elmToMove","oldStartIdx","newStartIdx","oldEndIdx","oldStartVnode","oldEndVnode","newEndIdx","newStartVnode","newEndVnode","patchVnode","patch","parent_2","svgId","SVGPainter","storage","refreshHover","createMethodNotSupport","configLayer","_opts","_oldVNode","ssr","viewport","_viewport","svgDom","_svgDom","resize","getType","getViewportRoot","getViewportRootOffset","viewportRoot","getSvgDom","renderToVNode","renderOneToVNode","getDisplayList","_width","_height","bgVNode","_bgVNode","createBackgroundVNode","_backgroundColor","mainVNode","_mainVNode","_paintList","animationCssStr","styleNode","renderToString","cssAnimation","cssEmphasis","setBackgroundColor","getSvgRoot","currentClipPathGroup","prevClipPaths","listLen","clipPathsGroupsStack","clipPathsGroupsStackDepth","clipGroupNodeIdx","clipPaths","prevLen","lca","i_1","i_2","groupAttrs","ret","display","getSize","viewportStyle","bgEl","dispose","innerHTML","base64","prefix","encodeBase64","encodeURIComponent","method","parse","round3","toFixed","isSVGPattern","btoa","unescape","Buffer","kCSSColorTable","clampCssByte","clampCssAngle","clampCssFloat","parseCssInt","parseCssFloat","cssHueToRgb","lerpNumber","setRgba","copyRgba","colorCache","lastRemovedArr","putToCache","colorStr","rgbaArr","cached","strLen","op","ep","fname","params","alpha","hsla2rgba","iv","hsla","rgba","rgba2hsla","H","G","vMin","vMax","deltaR","deltaG","deltaB","lift","level","colorArr","toHex","fastLerp","normalizedValue","leftColor","rightColor","dv","fastMapToColor","fullOutput","mapToColor","modifyHSL","modifyAlpha","arrColor","backgroundLum","liftedColorCache","liftedColor","aroundEqual","pathToBezierCurves","currentSubpath","bezierArrayGroups","createNewSubpath","addLine","addArc","c1","s1","c2","s2","x4","y4","hx","hy","nextAngle","adpativeBezier","PIXEL_DISTANCE","PIXEL_DISTANCE_SQR","dx2","dy2","cp1LenSqr","cp2LenSqr","projLen1","projLen2","d1Sqr","d2Sqr","tmpSegX","tmpSegY","pathToPolygons","polygons","beziers","getDividingGrids","dimSize","rowDim","count","rowSize","columnSize","ratio","rowCount","columnCount","grids","currentCount","remained","divideSector","sectorShape","outShapes","arcLen","isAngleRow","row","column","newShape","divideRect","isHorizontalRow","rowSizeDim","columnSizeDim","columnDim","crossProduct2d","lineLineIntersect","a1x","a1y","a2x","a2y","b1x","b1y","b2x","b2y","mx","my","nx","ny","nmCrossProduct","b1a1x","b1a1y","projPtOnLine","pt","lineA","lineB","dir2","addToPoly","poly","last","splitPolygonByLine","intersections","intersectionPt","projPt","splitPt0","splitPt1","splitPt0Arr","splitPt1Arr","newPolyA","newPolyB","binaryDividePolygon","polygonShape","pt0","pt1","binaryDivideRecursive","clonePath","copyPathProps","polygonConvert","OutShapeCtor","polygonCount","totalArea_1","items","area","selfCount","subPath","alignSubpath","subpath1","subpath2","len1","len2","shorterPath","shorterLen","shorterBezierCount","eachCurveSubDivCount","newSubpath","actualSubDivCount","createSubpath","lastSubpathSubpath","otherSubpath","lastX","lastY","alignBezierCurves","array1","array2","lastSubpath1","lastSubpath2","newArray1","newArray2","newSubpath1","newSubpath2","centroid","signedArea","findBestRingOffset","fromSubBeziers","toSubBeziers","fromCp","toCp","bezierCount","bestScore","bestOffset","cursorOffset","score","reverse","newArr","findBestMorphingRotation","fromArr","toArr","searchAngleIteration","searchAngleRange","fromNeedsReverse","fromSubpathBezier","toSubpathBezier","newFromSubpathBezier","newToSubpathBezier","bestAngle","tmpArr","sa","ca","newX1","newY1","to","isCombineMorphing","__isCombineMorphing","SAVED_METHOD_PREFIX","saveAndModifyMethod","methodName","modifiers","savedMethodName","originalMethod","after","restoreMethod","applyTransformOnBeziers","bezierCurves","mm","subBeziers","prepareMorphPath","fromPath","toPath","fromPathProxy","toPathProxy","fromBezierCurves","toBezierCurves","fromPathTransform","toPathTransform","updateIdentityTransform","morphingData","__morphT","newCp","x0_1","y0_1","morphPath","animationOpts","oldDone","done","oldDuring","during","restoreToPath","animateTo","hilbert","minX","minY","bits","sortPaths","pathList","xMin","yMin","xMax","yMax","cp","defaultDividePath","param","createEmptyReturn","fromIndividuals","toIndividuals","combineMorph","fromList","fromPathList","addFromPath","separateCount","dividePath","toSubPathList","individualDelay","identityTransform","addToSubPathListToZr","toLen","animating_1","eachDone","indivdualAnimationOpts","separateMorph","toPathList","fromLen","nodeParsers","INHERITABLE_STYLE_ATTRIBUTES_MAP","INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS","SELF_STYLE_ATTRIBUTES_MAP","SELF_STYLE_ATTRIBUTES_MAP_KEYS","SVGParser","_defs","_root","xml","svg","parseXML","_defsUsePending","named","viewBox","getAttribute","parseAttributes","viewBoxRect","viewBoxTransform","firstChild","_parseNode","applyDefs","viewBoxArr","splitNumberSequence","makeViewBoxTransform","ignoreViewBox","elRoot","ignoreRootClip","xmlNode","parentGroup","namedFrom","isInDefs","isInText","namedFromForSub","parser_1","nameAttr","newNamed","svgNodeTagLower","parser","paintServerParsers","def","_parseText","_textX","_textY","inheritStyle","applyTextAlignment","textStyle","internalField","pointsArr","pointsStr","parsePoints","createFromString","gradient","parsePaintServerUnit","parseGradientColorStops","gradientUnits","toLocaleLowerCase","offsetStr","styleVals","parseInlineStyle","__inheritedStyle","pointsString","defsUsePending","onlyInlineStyle","isTextGroup","disp","inheritedStyle","selfStyle","parseTransformAttribute","parseAttributeStyle","getFillStrokeStyle","__selfStyle","visibility","parentSelfStyle","zrTextBaseline","parentInheritedStyle","zrTextAlign","urlRegex","urlMatch","url","numberReg","rawStr","transformRegex","DEGREE_TO_ANGLE","transformOps_1","mt","valueArr","styleRegex","inheritableStyleResult","selfStyleResult","styleRegResult","svgStlAttr","zrInheritableStlAttr","zrSelfStlAttr","svgAttrName","attrValue","parseSVG","DOMParser","parseFromString","svgNode","mathAtan2","transformPath","nPoint","v2ApplyTransform","p_1","vMag","vRatio","u","vAngle","processArc","fa","fs","psiDeg","xp","yp","lambda","cxp","cyp","commandReg","createPathProxyFromString","prevCmd","cpx","cpy","subpathX","subpathY","cmdList","cmdText","cmdStr","pLen","ctlPtx","ctlPty","pathData","SVGPath","isPathProxy","createPathOptions","innerOpts","extendFromString","defaultOpts","mergePath","pathEls","pathEl","pathBundle","sourcePath","bakeTransform","toLocal","TOUCH_CLICK_DELAY","globalEventSupported","localNativeListenerNames","mouseHandlerNames","touchHandlerNames","pointerEventNameMap","pointerdown","pointerup","pointermove","pointerout","pointerHandlerNames","nm","mouse","pointer","globalNativeListenerNames","wheelEventSupported","isPointerFromTouch","pointerType","setTouchTimer","touching","touchTimer","clearTimeout","setTimeout","markTouch","zrByTouch","normalizeGlobalEvent","instance","FakeGlobalEvent","isLocalEl","elTmp","isLocal","domBelongToZr","painterRoot","stopImmediatePropagation","currentTarget","localDOMHandlers","mousedown","__mayPointerCapture","mousemove","downPoint","__togglePointerCapture","mouseup","mouseout","element","toElement","relatedTarget","__pointerCapturing","zrEventControl","wheel","mousewheel","touchstart","__lastTouchMoment","Date","processGesture","touchmove","touchend","click","globalDOMHandlers","pointerCaptureReleasing","mountLocalDOMEventListeners","domHandlers","nativeEventName","mountSingleDOMEventListener","mountGlobalDOMEventListeners","mount","nativeEventListener","capture","listener","mounted","listenerOpts","domTarget","unmountDOMEventListeners","DOMHandlerScope","HandlerDomProxy","_localHandlerScope","_globalHandlerScope","setCursor","cursorStyle","isPointerCapturing","globalHandlerScope","painterCtors","instances","delInstance","totalLum","ssrDataGetter","ZRender","_sleepAfterStill","_stillFrameAccum","_needsRefresh","_needsRefreshHover","_darkMode","Storage","rendererType","renderer","useDirtyRect","painter","ssrMode","ssrOnly","pointerSize","handlerProxy","HandlerProxy","useCoarsePointer","usePointerSize","defaultPointerSize","Handler","Animation","stage","_flush","_disposed","addRoot","delRoot","zLevel","config","getBackgroundColor","setDarkMode","darkMode","refreshImmediately","fromInside","flush","triggerRendered","getTime","refreshHoverImmediately","elapsedTime","setSleepAfterStill","stillFramesCount","wakeUp","clearAnimation","setCursorStyle","eventHandler","getRoots","delAllRoots","disposeAll","getInstance","registerPainter","registerSSRDataGetter","getter"],"sourceRoot":""}