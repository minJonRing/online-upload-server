{"version":3,"file":"static/client/js/chunk-vendors-02ec2db9.978f965a.js","mappings":"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","sources":["webpack://d1/./node_modules/echarts/lib/component/helper/BrushController.js","webpack://d1/./node_modules/echarts/lib/component/helper/BrushTargetManager.js","webpack://d1/./node_modules/echarts/lib/component/helper/MapDraw.js","webpack://d1/./node_modules/echarts/lib/component/helper/RoamController.js","webpack://d1/./node_modules/echarts/lib/component/helper/brushHelper.js","webpack://d1/./node_modules/echarts/lib/component/helper/cursorHelper.js","webpack://d1/./node_modules/echarts/lib/component/helper/interactionMutex.js","webpack://d1/./node_modules/echarts/lib/component/helper/listComponent.js","webpack://d1/./node_modules/echarts/lib/component/helper/roamHelper.js","webpack://d1/./node_modules/echarts/lib/component/helper/sliderMove.js","webpack://d1/./node_modules/echarts/lib/component/legend/LegendModel.js","webpack://d1/./node_modules/echarts/lib/component/legend/LegendView.js","webpack://d1/./node_modules/echarts/lib/component/legend/legendFilter.js","webpack://d1/./node_modules/echarts/lib/component/legend/legendAction.js","webpack://d1/./node_modules/echarts/lib/component/legend/installLegendPlain.js","webpack://d1/./node_modules/echarts/lib/component/legend/ScrollableLegendModel.js","webpack://d1/./node_modules/echarts/lib/component/legend/ScrollableLegendView.js","webpack://d1/./node_modules/echarts/lib/component/legend/scrollableLegendAction.js","webpack://d1/./node_modules/echarts/lib/component/legend/installLegendScroll.js","webpack://d1/./node_modules/echarts/lib/component/legend/install.js","webpack://d1/./node_modules/echarts/lib/component/marker/MarkerModel.js","webpack://d1/./node_modules/echarts/lib/component/marker/MarkerView.js","webpack://d1/./node_modules/echarts/lib/component/marker/checkMarkerInSeries.js","webpack://d1/./node_modules/echarts/lib/component/marker/MarkAreaModel.js","webpack://d1/./node_modules/echarts/lib/component/marker/MarkAreaView.js","webpack://d1/./node_modules/echarts/lib/component/marker/installMarkArea.js","webpack://d1/./node_modules/echarts/lib/component/marker/MarkLineModel.js","webpack://d1/./node_modules/echarts/lib/component/marker/MarkLineView.js","webpack://d1/./node_modules/echarts/lib/component/marker/installMarkLine.js","webpack://d1/./node_modules/echarts/lib/component/marker/MarkPointModel.js","webpack://d1/./node_modules/echarts/lib/component/marker/MarkPointView.js","webpack://d1/./node_modules/echarts/lib/component/marker/installMarkPoint.js","webpack://d1/./node_modules/echarts/lib/component/marker/markerHelper.js","webpack://d1/./node_modules/echarts/lib/component/parallel/ParallelView.js","webpack://d1/./node_modules/echarts/lib/component/parallel/install.js","webpack://d1/./node_modules/echarts/lib/component/polar/install.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { curry, each, map, bind, merge, clone, defaults, assert } from 'zrender/lib/core/util.js';\nimport Eventful from 'zrender/lib/core/Eventful.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as interactionMutex from './interactionMutex.js';\nimport DataDiffer from '../../data/DataDiffer.js';\nvar BRUSH_PANEL_GLOBAL = true;\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathPow = Math.pow;\nvar COVER_Z = 10000;\nvar UNSELECT_THRESHOLD = 6;\nvar MIN_RESIZE_LINE_WIDTH = 6;\nvar MUTEX_RESOURCE_KEY = 'globalPan';\nvar DIRECTION_MAP = {\n  w: [0, 0],\n  e: [0, 1],\n  n: [1, 0],\n  s: [1, 1]\n};\nvar CURSOR_MAP = {\n  w: 'ew',\n  e: 'ew',\n  n: 'ns',\n  s: 'ns',\n  ne: 'nesw',\n  sw: 'nesw',\n  nw: 'nwse',\n  se: 'nwse'\n};\nvar DEFAULT_BRUSH_OPT = {\n  brushStyle: {\n    lineWidth: 2,\n    stroke: 'rgba(210,219,238,0.3)',\n    fill: '#D2DBEE'\n  },\n  transformable: true,\n  brushMode: 'single',\n  removeOnClick: false\n};\nvar baseUID = 0;\n/**\n * params:\n *     areas: Array.<Array>, coord relates to container group,\n *                             If no container specified, to global.\n *     opt {\n *         isEnd: boolean,\n *         removeOnClick: boolean\n *     }\n */\nvar BrushController = /** @class */function (_super) {\n  __extends(BrushController, _super);\n  function BrushController(zr) {\n    var _this = _super.call(this) || this;\n    /**\n     * @internal\n     */\n    _this._track = [];\n    /**\n     * @internal\n     */\n    _this._covers = [];\n    _this._handlers = {};\n    if (process.env.NODE_ENV !== 'production') {\n      assert(zr);\n    }\n    _this._zr = zr;\n    _this.group = new graphic.Group();\n    _this._uid = 'brushController_' + baseUID++;\n    each(pointerHandlers, function (handler, eventName) {\n      this._handlers[eventName] = bind(handler, this);\n    }, _this);\n    return _this;\n  }\n  /**\n   * If set to `false`, select disabled.\n   */\n  BrushController.prototype.enableBrush = function (brushOption) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(this._mounted);\n    }\n    this._brushType && this._doDisableBrush();\n    brushOption.brushType && this._doEnableBrush(brushOption);\n    return this;\n  };\n  BrushController.prototype._doEnableBrush = function (brushOption) {\n    var zr = this._zr;\n    // Consider roam, which takes globalPan too.\n    if (!this._enableGlobalPan) {\n      interactionMutex.take(zr, MUTEX_RESOURCE_KEY, this._uid);\n    }\n    each(this._handlers, function (handler, eventName) {\n      zr.on(eventName, handler);\n    });\n    this._brushType = brushOption.brushType;\n    this._brushOption = merge(clone(DEFAULT_BRUSH_OPT), brushOption, true);\n  };\n  BrushController.prototype._doDisableBrush = function () {\n    var zr = this._zr;\n    interactionMutex.release(zr, MUTEX_RESOURCE_KEY, this._uid);\n    each(this._handlers, function (handler, eventName) {\n      zr.off(eventName, handler);\n    });\n    this._brushType = this._brushOption = null;\n  };\n  /**\n   * @param panelOpts If not pass, it is global brush.\n   */\n  BrushController.prototype.setPanels = function (panelOpts) {\n    if (panelOpts && panelOpts.length) {\n      var panels_1 = this._panels = {};\n      each(panelOpts, function (panelOpts) {\n        panels_1[panelOpts.panelId] = clone(panelOpts);\n      });\n    } else {\n      this._panels = null;\n    }\n    return this;\n  };\n  BrushController.prototype.mount = function (opt) {\n    opt = opt || {};\n    if (process.env.NODE_ENV !== 'production') {\n      this._mounted = true; // should be at first.\n    }\n\n    this._enableGlobalPan = opt.enableGlobalPan;\n    var thisGroup = this.group;\n    this._zr.add(thisGroup);\n    thisGroup.attr({\n      x: opt.x || 0,\n      y: opt.y || 0,\n      rotation: opt.rotation || 0,\n      scaleX: opt.scaleX || 1,\n      scaleY: opt.scaleY || 1\n    });\n    this._transform = thisGroup.getLocalTransform();\n    return this;\n  };\n  // eachCover(cb, context): void {\n  //     each(this._covers, cb, context);\n  // }\n  /**\n   * Update covers.\n   * @param coverConfigList\n   *        If coverConfigList is null/undefined, all covers removed.\n   */\n  BrushController.prototype.updateCovers = function (coverConfigList) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(this._mounted);\n    }\n    coverConfigList = map(coverConfigList, function (coverConfig) {\n      return merge(clone(DEFAULT_BRUSH_OPT), coverConfig, true);\n    });\n    var tmpIdPrefix = '\\0-brush-index-';\n    var oldCovers = this._covers;\n    var newCovers = this._covers = [];\n    var controller = this;\n    var creatingCover = this._creatingCover;\n    new DataDiffer(oldCovers, coverConfigList, oldGetKey, getKey).add(addOrUpdate).update(addOrUpdate).remove(remove).execute();\n    return this;\n    function getKey(brushOption, index) {\n      return (brushOption.id != null ? brushOption.id : tmpIdPrefix + index) + '-' + brushOption.brushType;\n    }\n    function oldGetKey(cover, index) {\n      return getKey(cover.__brushOption, index);\n    }\n    function addOrUpdate(newIndex, oldIndex) {\n      var newBrushInternal = coverConfigList[newIndex];\n      // Consider setOption in event listener of brushSelect,\n      // where updating cover when creating should be forbidden.\n      if (oldIndex != null && oldCovers[oldIndex] === creatingCover) {\n        newCovers[newIndex] = oldCovers[oldIndex];\n      } else {\n        var cover = newCovers[newIndex] = oldIndex != null ? (oldCovers[oldIndex].__brushOption = newBrushInternal, oldCovers[oldIndex]) : endCreating(controller, createCover(controller, newBrushInternal));\n        updateCoverAfterCreation(controller, cover);\n      }\n    }\n    function remove(oldIndex) {\n      if (oldCovers[oldIndex] !== creatingCover) {\n        controller.group.remove(oldCovers[oldIndex]);\n      }\n    }\n  };\n  BrushController.prototype.unmount = function () {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!this._mounted) {\n        return;\n      }\n    }\n    this.enableBrush(false);\n    // container may 'removeAll' outside.\n    clearCovers(this);\n    this._zr.remove(this.group);\n    if (process.env.NODE_ENV !== 'production') {\n      this._mounted = false; // should be at last.\n    }\n\n    return this;\n  };\n  BrushController.prototype.dispose = function () {\n    this.unmount();\n    this.off();\n  };\n  return BrushController;\n}(Eventful);\nfunction createCover(controller, brushOption) {\n  var cover = coverRenderers[brushOption.brushType].createCover(controller, brushOption);\n  cover.__brushOption = brushOption;\n  updateZ(cover, brushOption);\n  controller.group.add(cover);\n  return cover;\n}\nfunction endCreating(controller, creatingCover) {\n  var coverRenderer = getCoverRenderer(creatingCover);\n  if (coverRenderer.endCreating) {\n    coverRenderer.endCreating(controller, creatingCover);\n    updateZ(creatingCover, creatingCover.__brushOption);\n  }\n  return creatingCover;\n}\nfunction updateCoverShape(controller, cover) {\n  var brushOption = cover.__brushOption;\n  getCoverRenderer(cover).updateCoverShape(controller, cover, brushOption.range, brushOption);\n}\nfunction updateZ(cover, brushOption) {\n  var z = brushOption.z;\n  z == null && (z = COVER_Z);\n  cover.traverse(function (el) {\n    el.z = z;\n    el.z2 = z; // Consider in given container.\n  });\n}\n\nfunction updateCoverAfterCreation(controller, cover) {\n  getCoverRenderer(cover).updateCommon(controller, cover);\n  updateCoverShape(controller, cover);\n}\nfunction getCoverRenderer(cover) {\n  return coverRenderers[cover.__brushOption.brushType];\n}\n// return target panel or `true` (means global panel)\nfunction getPanelByPoint(controller, e, localCursorPoint) {\n  var panels = controller._panels;\n  if (!panels) {\n    return BRUSH_PANEL_GLOBAL; // Global panel\n  }\n\n  var panel;\n  var transform = controller._transform;\n  each(panels, function (pn) {\n    pn.isTargetByCursor(e, localCursorPoint, transform) && (panel = pn);\n  });\n  return panel;\n}\n// Return a panel or true\nfunction getPanelByCover(controller, cover) {\n  var panels = controller._panels;\n  if (!panels) {\n    return BRUSH_PANEL_GLOBAL; // Global panel\n  }\n\n  var panelId = cover.__brushOption.panelId;\n  // User may give cover without coord sys info,\n  // which is then treated as global panel.\n  return panelId != null ? panels[panelId] : BRUSH_PANEL_GLOBAL;\n}\nfunction clearCovers(controller) {\n  var covers = controller._covers;\n  var originalLength = covers.length;\n  each(covers, function (cover) {\n    controller.group.remove(cover);\n  }, controller);\n  covers.length = 0;\n  return !!originalLength;\n}\nfunction trigger(controller, opt) {\n  var areas = map(controller._covers, function (cover) {\n    var brushOption = cover.__brushOption;\n    var range = clone(brushOption.range);\n    return {\n      brushType: brushOption.brushType,\n      panelId: brushOption.panelId,\n      range: range\n    };\n  });\n  controller.trigger('brush', {\n    areas: areas,\n    isEnd: !!opt.isEnd,\n    removeOnClick: !!opt.removeOnClick\n  });\n}\nfunction shouldShowCover(controller) {\n  var track = controller._track;\n  if (!track.length) {\n    return false;\n  }\n  var p2 = track[track.length - 1];\n  var p1 = track[0];\n  var dx = p2[0] - p1[0];\n  var dy = p2[1] - p1[1];\n  var dist = mathPow(dx * dx + dy * dy, 0.5);\n  return dist > UNSELECT_THRESHOLD;\n}\nfunction getTrackEnds(track) {\n  var tail = track.length - 1;\n  tail < 0 && (tail = 0);\n  return [track[0], track[tail]];\n}\n;\nfunction createBaseRectCover(rectRangeConverter, controller, brushOption, edgeNameSequences) {\n  var cover = new graphic.Group();\n  cover.add(new graphic.Rect({\n    name: 'main',\n    style: makeStyle(brushOption),\n    silent: true,\n    draggable: true,\n    cursor: 'move',\n    drift: curry(driftRect, rectRangeConverter, controller, cover, ['n', 's', 'w', 'e']),\n    ondragend: curry(trigger, controller, {\n      isEnd: true\n    })\n  }));\n  each(edgeNameSequences, function (nameSequence) {\n    cover.add(new graphic.Rect({\n      name: nameSequence.join(''),\n      style: {\n        opacity: 0\n      },\n      draggable: true,\n      silent: true,\n      invisible: true,\n      drift: curry(driftRect, rectRangeConverter, controller, cover, nameSequence),\n      ondragend: curry(trigger, controller, {\n        isEnd: true\n      })\n    }));\n  });\n  return cover;\n}\nfunction updateBaseRect(controller, cover, localRange, brushOption) {\n  var lineWidth = brushOption.brushStyle.lineWidth || 0;\n  var handleSize = mathMax(lineWidth, MIN_RESIZE_LINE_WIDTH);\n  var x = localRange[0][0];\n  var y = localRange[1][0];\n  var xa = x - lineWidth / 2;\n  var ya = y - lineWidth / 2;\n  var x2 = localRange[0][1];\n  var y2 = localRange[1][1];\n  var x2a = x2 - handleSize + lineWidth / 2;\n  var y2a = y2 - handleSize + lineWidth / 2;\n  var width = x2 - x;\n  var height = y2 - y;\n  var widtha = width + lineWidth;\n  var heighta = height + lineWidth;\n  updateRectShape(controller, cover, 'main', x, y, width, height);\n  if (brushOption.transformable) {\n    updateRectShape(controller, cover, 'w', xa, ya, handleSize, heighta);\n    updateRectShape(controller, cover, 'e', x2a, ya, handleSize, heighta);\n    updateRectShape(controller, cover, 'n', xa, ya, widtha, handleSize);\n    updateRectShape(controller, cover, 's', xa, y2a, widtha, handleSize);\n    updateRectShape(controller, cover, 'nw', xa, ya, handleSize, handleSize);\n    updateRectShape(controller, cover, 'ne', x2a, ya, handleSize, handleSize);\n    updateRectShape(controller, cover, 'sw', xa, y2a, handleSize, handleSize);\n    updateRectShape(controller, cover, 'se', x2a, y2a, handleSize, handleSize);\n  }\n}\nfunction updateCommon(controller, cover) {\n  var brushOption = cover.__brushOption;\n  var transformable = brushOption.transformable;\n  var mainEl = cover.childAt(0);\n  mainEl.useStyle(makeStyle(brushOption));\n  mainEl.attr({\n    silent: !transformable,\n    cursor: transformable ? 'move' : 'default'\n  });\n  each([['w'], ['e'], ['n'], ['s'], ['s', 'e'], ['s', 'w'], ['n', 'e'], ['n', 'w']], function (nameSequence) {\n    var el = cover.childOfName(nameSequence.join(''));\n    var globalDir = nameSequence.length === 1 ? getGlobalDirection1(controller, nameSequence[0]) : getGlobalDirection2(controller, nameSequence);\n    el && el.attr({\n      silent: !transformable,\n      invisible: !transformable,\n      cursor: transformable ? CURSOR_MAP[globalDir] + '-resize' : null\n    });\n  });\n}\nfunction updateRectShape(controller, cover, name, x, y, w, h) {\n  var el = cover.childOfName(name);\n  el && el.setShape(pointsToRect(clipByPanel(controller, cover, [[x, y], [x + w, y + h]])));\n}\nfunction makeStyle(brushOption) {\n  return defaults({\n    strokeNoScale: true\n  }, brushOption.brushStyle);\n}\nfunction formatRectRange(x, y, x2, y2) {\n  var min = [mathMin(x, x2), mathMin(y, y2)];\n  var max = [mathMax(x, x2), mathMax(y, y2)];\n  return [[min[0], max[0]], [min[1], max[1]] // y range\n  ];\n}\n\nfunction getTransform(controller) {\n  return graphic.getTransform(controller.group);\n}\nfunction getGlobalDirection1(controller, localDirName) {\n  var map = {\n    w: 'left',\n    e: 'right',\n    n: 'top',\n    s: 'bottom'\n  };\n  var inverseMap = {\n    left: 'w',\n    right: 'e',\n    top: 'n',\n    bottom: 's'\n  };\n  var dir = graphic.transformDirection(map[localDirName], getTransform(controller));\n  return inverseMap[dir];\n}\nfunction getGlobalDirection2(controller, localDirNameSeq) {\n  var globalDir = [getGlobalDirection1(controller, localDirNameSeq[0]), getGlobalDirection1(controller, localDirNameSeq[1])];\n  (globalDir[0] === 'e' || globalDir[0] === 'w') && globalDir.reverse();\n  return globalDir.join('');\n}\nfunction driftRect(rectRangeConverter, controller, cover, dirNameSequence, dx, dy) {\n  var brushOption = cover.__brushOption;\n  var rectRange = rectRangeConverter.toRectRange(brushOption.range);\n  var localDelta = toLocalDelta(controller, dx, dy);\n  each(dirNameSequence, function (dirName) {\n    var ind = DIRECTION_MAP[dirName];\n    rectRange[ind[0]][ind[1]] += localDelta[ind[0]];\n  });\n  brushOption.range = rectRangeConverter.fromRectRange(formatRectRange(rectRange[0][0], rectRange[1][0], rectRange[0][1], rectRange[1][1]));\n  updateCoverAfterCreation(controller, cover);\n  trigger(controller, {\n    isEnd: false\n  });\n}\nfunction driftPolygon(controller, cover, dx, dy) {\n  var range = cover.__brushOption.range;\n  var localDelta = toLocalDelta(controller, dx, dy);\n  each(range, function (point) {\n    point[0] += localDelta[0];\n    point[1] += localDelta[1];\n  });\n  updateCoverAfterCreation(controller, cover);\n  trigger(controller, {\n    isEnd: false\n  });\n}\nfunction toLocalDelta(controller, dx, dy) {\n  var thisGroup = controller.group;\n  var localD = thisGroup.transformCoordToLocal(dx, dy);\n  var localZero = thisGroup.transformCoordToLocal(0, 0);\n  return [localD[0] - localZero[0], localD[1] - localZero[1]];\n}\nfunction clipByPanel(controller, cover, data) {\n  var panel = getPanelByCover(controller, cover);\n  return panel && panel !== BRUSH_PANEL_GLOBAL ? panel.clipPath(data, controller._transform) : clone(data);\n}\nfunction pointsToRect(points) {\n  var xmin = mathMin(points[0][0], points[1][0]);\n  var ymin = mathMin(points[0][1], points[1][1]);\n  var xmax = mathMax(points[0][0], points[1][0]);\n  var ymax = mathMax(points[0][1], points[1][1]);\n  return {\n    x: xmin,\n    y: ymin,\n    width: xmax - xmin,\n    height: ymax - ymin\n  };\n}\nfunction resetCursor(controller, e, localCursorPoint) {\n  if (\n  // Check active\n  !controller._brushType\n  // resetCursor should be always called when mouse is in zr area,\n  // but not called when mouse is out of zr area to avoid bad influence\n  // if `mousemove`, `mouseup` are triggered from `document` event.\n  || isOutsideZrArea(controller, e.offsetX, e.offsetY)) {\n    return;\n  }\n  var zr = controller._zr;\n  var covers = controller._covers;\n  var currPanel = getPanelByPoint(controller, e, localCursorPoint);\n  // Check whether in covers.\n  if (!controller._dragging) {\n    for (var i = 0; i < covers.length; i++) {\n      var brushOption = covers[i].__brushOption;\n      if (currPanel && (currPanel === BRUSH_PANEL_GLOBAL || brushOption.panelId === currPanel.panelId) && coverRenderers[brushOption.brushType].contain(covers[i], localCursorPoint[0], localCursorPoint[1])) {\n        // Use cursor style set on cover.\n        return;\n      }\n    }\n  }\n  currPanel && zr.setCursorStyle('crosshair');\n}\nfunction preventDefault(e) {\n  var rawE = e.event;\n  rawE.preventDefault && rawE.preventDefault();\n}\nfunction mainShapeContain(cover, x, y) {\n  return cover.childOfName('main').contain(x, y);\n}\nfunction updateCoverByMouse(controller, e, localCursorPoint, isEnd) {\n  var creatingCover = controller._creatingCover;\n  var panel = controller._creatingPanel;\n  var thisBrushOption = controller._brushOption;\n  var eventParams;\n  controller._track.push(localCursorPoint.slice());\n  if (shouldShowCover(controller) || creatingCover) {\n    if (panel && !creatingCover) {\n      thisBrushOption.brushMode === 'single' && clearCovers(controller);\n      var brushOption = clone(thisBrushOption);\n      brushOption.brushType = determineBrushType(brushOption.brushType, panel);\n      brushOption.panelId = panel === BRUSH_PANEL_GLOBAL ? null : panel.panelId;\n      creatingCover = controller._creatingCover = createCover(controller, brushOption);\n      controller._covers.push(creatingCover);\n    }\n    if (creatingCover) {\n      var coverRenderer = coverRenderers[determineBrushType(controller._brushType, panel)];\n      var coverBrushOption = creatingCover.__brushOption;\n      coverBrushOption.range = coverRenderer.getCreatingRange(clipByPanel(controller, creatingCover, controller._track));\n      if (isEnd) {\n        endCreating(controller, creatingCover);\n        coverRenderer.updateCommon(controller, creatingCover);\n      }\n      updateCoverShape(controller, creatingCover);\n      eventParams = {\n        isEnd: isEnd\n      };\n    }\n  } else if (isEnd && thisBrushOption.brushMode === 'single' && thisBrushOption.removeOnClick) {\n    // Help user to remove covers easily, only by a tiny drag, in 'single' mode.\n    // But a single click do not clear covers, because user may have casual\n    // clicks (for example, click on other component and do not expect covers\n    // disappear).\n    // Only some cover removed, trigger action, but not every click trigger action.\n    if (getPanelByPoint(controller, e, localCursorPoint) && clearCovers(controller)) {\n      eventParams = {\n        isEnd: isEnd,\n        removeOnClick: true\n      };\n    }\n  }\n  return eventParams;\n}\nfunction determineBrushType(brushType, panel) {\n  if (brushType === 'auto') {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(panel && panel.defaultBrushType, 'MUST have defaultBrushType when brushType is \"atuo\"');\n    }\n    return panel.defaultBrushType;\n  }\n  return brushType;\n}\nvar pointerHandlers = {\n  mousedown: function (e) {\n    if (this._dragging) {\n      // In case some browser do not support globalOut,\n      // and release mouse out side the browser.\n      handleDragEnd(this, e);\n    } else if (!e.target || !e.target.draggable) {\n      preventDefault(e);\n      var localCursorPoint = this.group.transformCoordToLocal(e.offsetX, e.offsetY);\n      this._creatingCover = null;\n      var panel = this._creatingPanel = getPanelByPoint(this, e, localCursorPoint);\n      if (panel) {\n        this._dragging = true;\n        this._track = [localCursorPoint.slice()];\n      }\n    }\n  },\n  mousemove: function (e) {\n    var x = e.offsetX;\n    var y = e.offsetY;\n    var localCursorPoint = this.group.transformCoordToLocal(x, y);\n    resetCursor(this, e, localCursorPoint);\n    if (this._dragging) {\n      preventDefault(e);\n      var eventParams = updateCoverByMouse(this, e, localCursorPoint, false);\n      eventParams && trigger(this, eventParams);\n    }\n  },\n  mouseup: function (e) {\n    handleDragEnd(this, e);\n  }\n};\nfunction handleDragEnd(controller, e) {\n  if (controller._dragging) {\n    preventDefault(e);\n    var x = e.offsetX;\n    var y = e.offsetY;\n    var localCursorPoint = controller.group.transformCoordToLocal(x, y);\n    var eventParams = updateCoverByMouse(controller, e, localCursorPoint, true);\n    controller._dragging = false;\n    controller._track = [];\n    controller._creatingCover = null;\n    // trigger event should be at final, after procedure will be nested.\n    eventParams && trigger(controller, eventParams);\n  }\n}\nfunction isOutsideZrArea(controller, x, y) {\n  var zr = controller._zr;\n  return x < 0 || x > zr.getWidth() || y < 0 || y > zr.getHeight();\n}\n/**\n * key: brushType\n */\nvar coverRenderers = {\n  lineX: getLineRenderer(0),\n  lineY: getLineRenderer(1),\n  rect: {\n    createCover: function (controller, brushOption) {\n      function returnInput(range) {\n        return range;\n      }\n      return createBaseRectCover({\n        toRectRange: returnInput,\n        fromRectRange: returnInput\n      }, controller, brushOption, [['w'], ['e'], ['n'], ['s'], ['s', 'e'], ['s', 'w'], ['n', 'e'], ['n', 'w']]);\n    },\n    getCreatingRange: function (localTrack) {\n      var ends = getTrackEnds(localTrack);\n      return formatRectRange(ends[1][0], ends[1][1], ends[0][0], ends[0][1]);\n    },\n    updateCoverShape: function (controller, cover, localRange, brushOption) {\n      updateBaseRect(controller, cover, localRange, brushOption);\n    },\n    updateCommon: updateCommon,\n    contain: mainShapeContain\n  },\n  polygon: {\n    createCover: function (controller, brushOption) {\n      var cover = new graphic.Group();\n      // Do not use graphic.Polygon because graphic.Polyline do not close the\n      // border of the shape when drawing, which is a better experience for user.\n      cover.add(new graphic.Polyline({\n        name: 'main',\n        style: makeStyle(brushOption),\n        silent: true\n      }));\n      return cover;\n    },\n    getCreatingRange: function (localTrack) {\n      return localTrack;\n    },\n    endCreating: function (controller, cover) {\n      cover.remove(cover.childAt(0));\n      // Use graphic.Polygon close the shape.\n      cover.add(new graphic.Polygon({\n        name: 'main',\n        draggable: true,\n        drift: curry(driftPolygon, controller, cover),\n        ondragend: curry(trigger, controller, {\n          isEnd: true\n        })\n      }));\n    },\n    updateCoverShape: function (controller, cover, localRange, brushOption) {\n      cover.childAt(0).setShape({\n        points: clipByPanel(controller, cover, localRange)\n      });\n    },\n    updateCommon: updateCommon,\n    contain: mainShapeContain\n  }\n};\nfunction getLineRenderer(xyIndex) {\n  return {\n    createCover: function (controller, brushOption) {\n      return createBaseRectCover({\n        toRectRange: function (range) {\n          var rectRange = [range, [0, 100]];\n          xyIndex && rectRange.reverse();\n          return rectRange;\n        },\n        fromRectRange: function (rectRange) {\n          return rectRange[xyIndex];\n        }\n      }, controller, brushOption, [[['w'], ['e']], [['n'], ['s']]][xyIndex]);\n    },\n    getCreatingRange: function (localTrack) {\n      var ends = getTrackEnds(localTrack);\n      var min = mathMin(ends[0][xyIndex], ends[1][xyIndex]);\n      var max = mathMax(ends[0][xyIndex], ends[1][xyIndex]);\n      return [min, max];\n    },\n    updateCoverShape: function (controller, cover, localRange, brushOption) {\n      var otherExtent;\n      // If brushWidth not specified, fit the panel.\n      var panel = getPanelByCover(controller, cover);\n      if (panel !== BRUSH_PANEL_GLOBAL && panel.getLinearBrushOtherExtent) {\n        otherExtent = panel.getLinearBrushOtherExtent(xyIndex);\n      } else {\n        var zr = controller._zr;\n        otherExtent = [0, [zr.getWidth(), zr.getHeight()][1 - xyIndex]];\n      }\n      var rectRange = [localRange, otherExtent];\n      xyIndex && rectRange.reverse();\n      updateBaseRect(controller, cover, rectRange, brushOption);\n    },\n    updateCommon: updateCommon,\n    contain: mainShapeContain\n  };\n}\nexport default BrushController;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, indexOf, curry, assert, map, createHashMap } from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as brushHelper from './brushHelper.js';\nimport { parseFinder as modelUtilParseFinder } from '../../util/model.js';\n// FIXME\n// how to genarialize to more coordinate systems.\nvar INCLUDE_FINDER_MAIN_TYPES = ['grid', 'xAxis', 'yAxis', 'geo', 'graph', 'polar', 'radiusAxis', 'angleAxis', 'bmap'];\nvar BrushTargetManager = /** @class */function () {\n  /**\n   * @param finder contains Index/Id/Name of xAxis/yAxis/geo/grid\n   *        Each can be {number|Array.<number>}. like: {xAxisIndex: [3, 4]}\n   * @param opt.include include coordinate system types.\n   */\n  function BrushTargetManager(finder, ecModel, opt) {\n    var _this = this;\n    this._targetInfoList = [];\n    var foundCpts = parseFinder(ecModel, finder);\n    each(targetInfoBuilders, function (builder, type) {\n      if (!opt || !opt.include || indexOf(opt.include, type) >= 0) {\n        builder(foundCpts, _this._targetInfoList);\n      }\n    });\n  }\n  BrushTargetManager.prototype.setOutputRanges = function (areas, ecModel) {\n    this.matchOutputRanges(areas, ecModel, function (area, coordRange, coordSys) {\n      (area.coordRanges || (area.coordRanges = [])).push(coordRange);\n      // area.coordRange is the first of area.coordRanges\n      if (!area.coordRange) {\n        area.coordRange = coordRange;\n        // In 'category' axis, coord to pixel is not reversible, so we can not\n        // rebuild range by coordRange accrately, which may bring trouble when\n        // brushing only one item. So we use __rangeOffset to rebuilding range\n        // by coordRange. And this it only used in brush component so it is no\n        // need to be adapted to coordRanges.\n        var result = coordConvert[area.brushType](0, coordSys, coordRange);\n        area.__rangeOffset = {\n          offset: diffProcessor[area.brushType](result.values, area.range, [1, 1]),\n          xyMinMax: result.xyMinMax\n        };\n      }\n    });\n    return areas;\n  };\n  BrushTargetManager.prototype.matchOutputRanges = function (areas, ecModel, cb) {\n    each(areas, function (area) {\n      var targetInfo = this.findTargetInfo(area, ecModel);\n      if (targetInfo && targetInfo !== true) {\n        each(targetInfo.coordSyses, function (coordSys) {\n          var result = coordConvert[area.brushType](1, coordSys, area.range, true);\n          cb(area, result.values, coordSys, ecModel);\n        });\n      }\n    }, this);\n  };\n  /**\n   * the `areas` is `BrushModel.areas`.\n   * Called in layout stage.\n   * convert `area.coordRange` to global range and set panelId to `area.range`.\n   */\n  BrushTargetManager.prototype.setInputRanges = function (areas, ecModel) {\n    each(areas, function (area) {\n      var targetInfo = this.findTargetInfo(area, ecModel);\n      if (process.env.NODE_ENV !== 'production') {\n        assert(!targetInfo || targetInfo === true || area.coordRange, 'coordRange must be specified when coord index specified.');\n        assert(!targetInfo || targetInfo !== true || area.range, 'range must be specified in global brush.');\n      }\n      area.range = area.range || [];\n      // convert coordRange to global range and set panelId.\n      if (targetInfo && targetInfo !== true) {\n        area.panelId = targetInfo.panelId;\n        // (1) area.range should always be calculate from coordRange but does\n        // not keep its original value, for the sake of the dataZoom scenario,\n        // where area.coordRange remains unchanged but area.range may be changed.\n        // (2) Only support converting one coordRange to pixel range in brush\n        // component. So do not consider `coordRanges`.\n        // (3) About __rangeOffset, see comment above.\n        var result = coordConvert[area.brushType](0, targetInfo.coordSys, area.coordRange);\n        var rangeOffset = area.__rangeOffset;\n        area.range = rangeOffset ? diffProcessor[area.brushType](result.values, rangeOffset.offset, getScales(result.xyMinMax, rangeOffset.xyMinMax)) : result.values;\n      }\n    }, this);\n  };\n  BrushTargetManager.prototype.makePanelOpts = function (api, getDefaultBrushType) {\n    return map(this._targetInfoList, function (targetInfo) {\n      var rect = targetInfo.getPanelRect();\n      return {\n        panelId: targetInfo.panelId,\n        defaultBrushType: getDefaultBrushType ? getDefaultBrushType(targetInfo) : null,\n        clipPath: brushHelper.makeRectPanelClipPath(rect),\n        isTargetByCursor: brushHelper.makeRectIsTargetByCursor(rect, api, targetInfo.coordSysModel),\n        getLinearBrushOtherExtent: brushHelper.makeLinearBrushOtherExtent(rect)\n      };\n    });\n  };\n  BrushTargetManager.prototype.controlSeries = function (area, seriesModel, ecModel) {\n    // Check whether area is bound in coord, and series do not belong to that coord.\n    // If do not do this check, some brush (like lineX) will controll all axes.\n    var targetInfo = this.findTargetInfo(area, ecModel);\n    return targetInfo === true || targetInfo && indexOf(targetInfo.coordSyses, seriesModel.coordinateSystem) >= 0;\n  };\n  /**\n   * If return Object, a coord found.\n   * If return true, global found.\n   * Otherwise nothing found.\n   */\n  BrushTargetManager.prototype.findTargetInfo = function (area, ecModel) {\n    var targetInfoList = this._targetInfoList;\n    var foundCpts = parseFinder(ecModel, area);\n    for (var i = 0; i < targetInfoList.length; i++) {\n      var targetInfo = targetInfoList[i];\n      var areaPanelId = area.panelId;\n      if (areaPanelId) {\n        if (targetInfo.panelId === areaPanelId) {\n          return targetInfo;\n        }\n      } else {\n        for (var j = 0; j < targetInfoMatchers.length; j++) {\n          if (targetInfoMatchers[j](foundCpts, targetInfo)) {\n            return targetInfo;\n          }\n        }\n      }\n    }\n    return true;\n  };\n  return BrushTargetManager;\n}();\nfunction formatMinMax(minMax) {\n  minMax[0] > minMax[1] && minMax.reverse();\n  return minMax;\n}\nfunction parseFinder(ecModel, finder) {\n  return modelUtilParseFinder(ecModel, finder, {\n    includeMainTypes: INCLUDE_FINDER_MAIN_TYPES\n  });\n}\nvar targetInfoBuilders = {\n  grid: function (foundCpts, targetInfoList) {\n    var xAxisModels = foundCpts.xAxisModels;\n    var yAxisModels = foundCpts.yAxisModels;\n    var gridModels = foundCpts.gridModels;\n    // Remove duplicated.\n    var gridModelMap = createHashMap();\n    var xAxesHas = {};\n    var yAxesHas = {};\n    if (!xAxisModels && !yAxisModels && !gridModels) {\n      return;\n    }\n    each(xAxisModels, function (axisModel) {\n      var gridModel = axisModel.axis.grid.model;\n      gridModelMap.set(gridModel.id, gridModel);\n      xAxesHas[gridModel.id] = true;\n    });\n    each(yAxisModels, function (axisModel) {\n      var gridModel = axisModel.axis.grid.model;\n      gridModelMap.set(gridModel.id, gridModel);\n      yAxesHas[gridModel.id] = true;\n    });\n    each(gridModels, function (gridModel) {\n      gridModelMap.set(gridModel.id, gridModel);\n      xAxesHas[gridModel.id] = true;\n      yAxesHas[gridModel.id] = true;\n    });\n    gridModelMap.each(function (gridModel) {\n      var grid = gridModel.coordinateSystem;\n      var cartesians = [];\n      each(grid.getCartesians(), function (cartesian, index) {\n        if (indexOf(xAxisModels, cartesian.getAxis('x').model) >= 0 || indexOf(yAxisModels, cartesian.getAxis('y').model) >= 0) {\n          cartesians.push(cartesian);\n        }\n      });\n      targetInfoList.push({\n        panelId: 'grid--' + gridModel.id,\n        gridModel: gridModel,\n        coordSysModel: gridModel,\n        // Use the first one as the representitive coordSys.\n        coordSys: cartesians[0],\n        coordSyses: cartesians,\n        getPanelRect: panelRectBuilders.grid,\n        xAxisDeclared: xAxesHas[gridModel.id],\n        yAxisDeclared: yAxesHas[gridModel.id]\n      });\n    });\n  },\n  geo: function (foundCpts, targetInfoList) {\n    each(foundCpts.geoModels, function (geoModel) {\n      var coordSys = geoModel.coordinateSystem;\n      targetInfoList.push({\n        panelId: 'geo--' + geoModel.id,\n        geoModel: geoModel,\n        coordSysModel: geoModel,\n        coordSys: coordSys,\n        coordSyses: [coordSys],\n        getPanelRect: panelRectBuilders.geo\n      });\n    });\n  }\n};\nvar targetInfoMatchers = [\n// grid\nfunction (foundCpts, targetInfo) {\n  var xAxisModel = foundCpts.xAxisModel;\n  var yAxisModel = foundCpts.yAxisModel;\n  var gridModel = foundCpts.gridModel;\n  !gridModel && xAxisModel && (gridModel = xAxisModel.axis.grid.model);\n  !gridModel && yAxisModel && (gridModel = yAxisModel.axis.grid.model);\n  return gridModel && gridModel === targetInfo.gridModel;\n},\n// geo\nfunction (foundCpts, targetInfo) {\n  var geoModel = foundCpts.geoModel;\n  return geoModel && geoModel === targetInfo.geoModel;\n}];\nvar panelRectBuilders = {\n  grid: function () {\n    // grid is not Transformable.\n    return this.coordSys.master.getRect().clone();\n  },\n  geo: function () {\n    var coordSys = this.coordSys;\n    var rect = coordSys.getBoundingRect().clone();\n    // geo roam and zoom transform\n    rect.applyTransform(graphic.getTransform(coordSys));\n    return rect;\n  }\n};\nvar coordConvert = {\n  lineX: curry(axisConvert, 0),\n  lineY: curry(axisConvert, 1),\n  rect: function (to, coordSys, rangeOrCoordRange, clamp) {\n    var xminymin = to ? coordSys.pointToData([rangeOrCoordRange[0][0], rangeOrCoordRange[1][0]], clamp) : coordSys.dataToPoint([rangeOrCoordRange[0][0], rangeOrCoordRange[1][0]], clamp);\n    var xmaxymax = to ? coordSys.pointToData([rangeOrCoordRange[0][1], rangeOrCoordRange[1][1]], clamp) : coordSys.dataToPoint([rangeOrCoordRange[0][1], rangeOrCoordRange[1][1]], clamp);\n    var values = [formatMinMax([xminymin[0], xmaxymax[0]]), formatMinMax([xminymin[1], xmaxymax[1]])];\n    return {\n      values: values,\n      xyMinMax: values\n    };\n  },\n  polygon: function (to, coordSys, rangeOrCoordRange, clamp) {\n    var xyMinMax = [[Infinity, -Infinity], [Infinity, -Infinity]];\n    var values = map(rangeOrCoordRange, function (item) {\n      var p = to ? coordSys.pointToData(item, clamp) : coordSys.dataToPoint(item, clamp);\n      xyMinMax[0][0] = Math.min(xyMinMax[0][0], p[0]);\n      xyMinMax[1][0] = Math.min(xyMinMax[1][0], p[1]);\n      xyMinMax[0][1] = Math.max(xyMinMax[0][1], p[0]);\n      xyMinMax[1][1] = Math.max(xyMinMax[1][1], p[1]);\n      return p;\n    });\n    return {\n      values: values,\n      xyMinMax: xyMinMax\n    };\n  }\n};\nfunction axisConvert(axisNameIndex, to, coordSys, rangeOrCoordRange) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert(coordSys.type === 'cartesian2d', 'lineX/lineY brush is available only in cartesian2d.');\n  }\n  var axis = coordSys.getAxis(['x', 'y'][axisNameIndex]);\n  var values = formatMinMax(map([0, 1], function (i) {\n    return to ? axis.coordToData(axis.toLocalCoord(rangeOrCoordRange[i]), true) : axis.toGlobalCoord(axis.dataToCoord(rangeOrCoordRange[i]));\n  }));\n  var xyMinMax = [];\n  xyMinMax[axisNameIndex] = values;\n  xyMinMax[1 - axisNameIndex] = [NaN, NaN];\n  return {\n    values: values,\n    xyMinMax: xyMinMax\n  };\n}\nvar diffProcessor = {\n  lineX: curry(axisDiffProcessor, 0),\n  lineY: curry(axisDiffProcessor, 1),\n  rect: function (values, refer, scales) {\n    return [[values[0][0] - scales[0] * refer[0][0], values[0][1] - scales[0] * refer[0][1]], [values[1][0] - scales[1] * refer[1][0], values[1][1] - scales[1] * refer[1][1]]];\n  },\n  polygon: function (values, refer, scales) {\n    return map(values, function (item, idx) {\n      return [item[0] - scales[0] * refer[idx][0], item[1] - scales[1] * refer[idx][1]];\n    });\n  }\n};\nfunction axisDiffProcessor(axisNameIndex, values, refer, scales) {\n  return [values[0] - scales[axisNameIndex] * refer[0], values[1] - scales[axisNameIndex] * refer[1]];\n}\n// We have to process scale caused by dataZoom manually,\n// although it might be not accurate.\n// Return [0~1, 0~1]\nfunction getScales(xyMinMaxCurr, xyMinMaxOrigin) {\n  var sizeCurr = getSize(xyMinMaxCurr);\n  var sizeOrigin = getSize(xyMinMaxOrigin);\n  var scales = [sizeCurr[0] / sizeOrigin[0], sizeCurr[1] / sizeOrigin[1]];\n  isNaN(scales[0]) && (scales[0] = 1);\n  isNaN(scales[1]) && (scales[1] = 1);\n  return scales;\n}\nfunction getSize(xyMinMax) {\n  return xyMinMax ? [xyMinMax[0][1] - xyMinMax[0][0], xyMinMax[1][1] - xyMinMax[1][0]] : [NaN, NaN];\n}\nexport default BrushTargetManager;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport RoamController from './RoamController.js';\nimport * as roamHelper from '../../component/helper/roamHelper.js';\nimport { onIrrelevantElement } from '../../component/helper/cursorHelper.js';\nimport * as graphic from '../../util/graphic.js';\nimport { toggleHoverEmphasis, enableComponentHighDownFeatures, setDefaultStateProxy } from '../../util/states.js';\nimport geoSourceManager from '../../coord/geo/geoSourceManager.js';\nimport { getUID } from '../../util/component.js';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { createOrUpdatePatternFromDecal } from '../../util/decal.js';\nimport Displayable from 'zrender/lib/graphic/Displayable.js';\nimport { makeInner } from '../../util/model.js';\n/**\n * Only these tags enable use `itemStyle` if they are named in SVG.\n * Other tags like <text> <tspan> <image> might not suitable for `itemStyle`.\n * They will not be considered to be styled until some requirements come.\n */\nvar OPTION_STYLE_ENABLED_TAGS = ['rect', 'circle', 'line', 'ellipse', 'polygon', 'polyline', 'path'];\nvar OPTION_STYLE_ENABLED_TAG_MAP = zrUtil.createHashMap(OPTION_STYLE_ENABLED_TAGS);\nvar STATE_TRIGGER_TAG_MAP = zrUtil.createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(['g']));\nvar LABEL_HOST_MAP = zrUtil.createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(['g']));\nvar mapLabelRaw = makeInner();\nfunction getFixedItemStyle(model) {\n  var itemStyle = model.getItemStyle();\n  var areaColor = model.get('areaColor');\n  // If user want the color not to be changed when hover,\n  // they should both set areaColor and color to be null.\n  if (areaColor != null) {\n    itemStyle.fill = areaColor;\n  }\n  return itemStyle;\n}\n// Only stroke can be used for line.\n// Using fill in style if stroke not exits.\n// TODO Not sure yet. Perhaps a separate `lineStyle`?\nfunction fixLineStyle(styleHost) {\n  var style = styleHost.style;\n  if (style) {\n    style.stroke = style.stroke || style.fill;\n    style.fill = null;\n  }\n}\nvar MapDraw = /** @class */function () {\n  function MapDraw(api) {\n    var group = new graphic.Group();\n    this.uid = getUID('ec_map_draw');\n    this._controller = new RoamController(api.getZr());\n    this._controllerHost = {\n      target: group\n    };\n    this.group = group;\n    group.add(this._regionsGroup = new graphic.Group());\n    group.add(this._svgGroup = new graphic.Group());\n  }\n  MapDraw.prototype.draw = function (mapOrGeoModel, ecModel, api, fromView, payload) {\n    var isGeo = mapOrGeoModel.mainType === 'geo';\n    // Map series has data. GEO model that controlled by map series\n    // will be assigned with map data. Other GEO model has no data.\n    var data = mapOrGeoModel.getData && mapOrGeoModel.getData();\n    isGeo && ecModel.eachComponent({\n      mainType: 'series',\n      subType: 'map'\n    }, function (mapSeries) {\n      if (!data && mapSeries.getHostGeoModel() === mapOrGeoModel) {\n        data = mapSeries.getData();\n      }\n    });\n    var geo = mapOrGeoModel.coordinateSystem;\n    var regionsGroup = this._regionsGroup;\n    var group = this.group;\n    var transformInfo = geo.getTransformInfo();\n    var transformInfoRaw = transformInfo.raw;\n    var transformInfoRoam = transformInfo.roam;\n    // No animation when first draw or in action\n    var isFirstDraw = !regionsGroup.childAt(0) || payload;\n    if (isFirstDraw) {\n      group.x = transformInfoRoam.x;\n      group.y = transformInfoRoam.y;\n      group.scaleX = transformInfoRoam.scaleX;\n      group.scaleY = transformInfoRoam.scaleY;\n      group.dirty();\n    } else {\n      graphic.updateProps(group, transformInfoRoam, mapOrGeoModel);\n    }\n    var isVisualEncodedByVisualMap = data && data.getVisual('visualMeta') && data.getVisual('visualMeta').length > 0;\n    var viewBuildCtx = {\n      api: api,\n      geo: geo,\n      mapOrGeoModel: mapOrGeoModel,\n      data: data,\n      isVisualEncodedByVisualMap: isVisualEncodedByVisualMap,\n      isGeo: isGeo,\n      transformInfoRaw: transformInfoRaw\n    };\n    if (geo.resourceType === 'geoJSON') {\n      this._buildGeoJSON(viewBuildCtx);\n    } else if (geo.resourceType === 'geoSVG') {\n      this._buildSVG(viewBuildCtx);\n    }\n    this._updateController(mapOrGeoModel, ecModel, api);\n    this._updateMapSelectHandler(mapOrGeoModel, regionsGroup, api, fromView);\n  };\n  MapDraw.prototype._buildGeoJSON = function (viewBuildCtx) {\n    var regionsGroupByName = this._regionsGroupByName = zrUtil.createHashMap();\n    var regionsInfoByName = zrUtil.createHashMap();\n    var regionsGroup = this._regionsGroup;\n    var transformInfoRaw = viewBuildCtx.transformInfoRaw;\n    var mapOrGeoModel = viewBuildCtx.mapOrGeoModel;\n    var data = viewBuildCtx.data;\n    var projection = viewBuildCtx.geo.projection;\n    var projectionStream = projection && projection.stream;\n    function transformPoint(point, project) {\n      if (project) {\n        // projection may return null point.\n        point = project(point);\n      }\n      return point && [point[0] * transformInfoRaw.scaleX + transformInfoRaw.x, point[1] * transformInfoRaw.scaleY + transformInfoRaw.y];\n    }\n    ;\n    function transformPolygonPoints(inPoints) {\n      var outPoints = [];\n      // If projectionStream is provided. Use it instead of single point project.\n      var project = !projectionStream && projection && projection.project;\n      for (var i = 0; i < inPoints.length; ++i) {\n        var newPt = transformPoint(inPoints[i], project);\n        newPt && outPoints.push(newPt);\n      }\n      return outPoints;\n    }\n    function getPolyShape(points) {\n      return {\n        shape: {\n          points: transformPolygonPoints(points)\n        }\n      };\n    }\n    regionsGroup.removeAll();\n    // Only when the resource is GeoJSON, there is `geo.regions`.\n    zrUtil.each(viewBuildCtx.geo.regions, function (region) {\n      var regionName = region.name;\n      // Consider in GeoJson properties.name may be duplicated, for example,\n      // there is multiple region named \"United Kindom\" or \"France\" (so many\n      // colonies). And it is not appropriate to merge them in geo, which\n      // will make them share the same label and bring trouble in label\n      // location calculation.\n      var regionGroup = regionsGroupByName.get(regionName);\n      var _a = regionsInfoByName.get(regionName) || {},\n        dataIdx = _a.dataIdx,\n        regionModel = _a.regionModel;\n      if (!regionGroup) {\n        regionGroup = regionsGroupByName.set(regionName, new graphic.Group());\n        regionsGroup.add(regionGroup);\n        dataIdx = data ? data.indexOfName(regionName) : null;\n        regionModel = viewBuildCtx.isGeo ? mapOrGeoModel.getRegionModel(regionName) : data ? data.getItemModel(dataIdx) : null;\n        regionsInfoByName.set(regionName, {\n          dataIdx: dataIdx,\n          regionModel: regionModel\n        });\n      }\n      var polygonSubpaths = [];\n      var polylineSubpaths = [];\n      zrUtil.each(region.geometries, function (geometry) {\n        // Polygon and MultiPolygon\n        if (geometry.type === 'polygon') {\n          var polys = [geometry.exterior].concat(geometry.interiors || []);\n          if (projectionStream) {\n            polys = projectPolys(polys, projectionStream);\n          }\n          zrUtil.each(polys, function (poly) {\n            polygonSubpaths.push(new graphic.Polygon(getPolyShape(poly)));\n          });\n        }\n        // LineString and MultiLineString\n        else {\n          var points = geometry.points;\n          if (projectionStream) {\n            points = projectPolys(points, projectionStream, true);\n          }\n          zrUtil.each(points, function (points) {\n            polylineSubpaths.push(new graphic.Polyline(getPolyShape(points)));\n          });\n        }\n      });\n      var centerPt = transformPoint(region.getCenter(), projection && projection.project);\n      function createCompoundPath(subpaths, isLine) {\n        if (!subpaths.length) {\n          return;\n        }\n        var compoundPath = new graphic.CompoundPath({\n          culling: true,\n          segmentIgnoreThreshold: 1,\n          shape: {\n            paths: subpaths\n          }\n        });\n        regionGroup.add(compoundPath);\n        applyOptionStyleForRegion(viewBuildCtx, compoundPath, dataIdx, regionModel);\n        resetLabelForRegion(viewBuildCtx, compoundPath, regionName, regionModel, mapOrGeoModel, dataIdx, centerPt);\n        if (isLine) {\n          fixLineStyle(compoundPath);\n          zrUtil.each(compoundPath.states, fixLineStyle);\n        }\n      }\n      createCompoundPath(polygonSubpaths);\n      createCompoundPath(polylineSubpaths, true);\n    });\n    // Ensure children have been added to `regionGroup` before calling them.\n    regionsGroupByName.each(function (regionGroup, regionName) {\n      var _a = regionsInfoByName.get(regionName),\n        dataIdx = _a.dataIdx,\n        regionModel = _a.regionModel;\n      resetEventTriggerForRegion(viewBuildCtx, regionGroup, regionName, regionModel, mapOrGeoModel, dataIdx);\n      resetTooltipForRegion(viewBuildCtx, regionGroup, regionName, regionModel, mapOrGeoModel);\n      resetStateTriggerForRegion(viewBuildCtx, regionGroup, regionName, regionModel, mapOrGeoModel);\n    }, this);\n  };\n  MapDraw.prototype._buildSVG = function (viewBuildCtx) {\n    var mapName = viewBuildCtx.geo.map;\n    var transformInfoRaw = viewBuildCtx.transformInfoRaw;\n    this._svgGroup.x = transformInfoRaw.x;\n    this._svgGroup.y = transformInfoRaw.y;\n    this._svgGroup.scaleX = transformInfoRaw.scaleX;\n    this._svgGroup.scaleY = transformInfoRaw.scaleY;\n    if (this._svgResourceChanged(mapName)) {\n      this._freeSVG();\n      this._useSVG(mapName);\n    }\n    var svgDispatcherMap = this._svgDispatcherMap = zrUtil.createHashMap();\n    var focusSelf = false;\n    zrUtil.each(this._svgGraphicRecord.named, function (namedItem) {\n      // Note that we also allow different elements have the same name.\n      // For example, a glyph of a city and the label of the city have\n      // the same name and their tooltip info can be defined in a single\n      // region option.\n      var regionName = namedItem.name;\n      var mapOrGeoModel = viewBuildCtx.mapOrGeoModel;\n      var data = viewBuildCtx.data;\n      var svgNodeTagLower = namedItem.svgNodeTagLower;\n      var el = namedItem.el;\n      var dataIdx = data ? data.indexOfName(regionName) : null;\n      var regionModel = mapOrGeoModel.getRegionModel(regionName);\n      if (OPTION_STYLE_ENABLED_TAG_MAP.get(svgNodeTagLower) != null && el instanceof Displayable) {\n        applyOptionStyleForRegion(viewBuildCtx, el, dataIdx, regionModel);\n      }\n      if (el instanceof Displayable) {\n        el.culling = true;\n      }\n      // We do not know how the SVG like so we'd better not to change z2.\n      // Otherwise it might bring some unexpected result. For example,\n      // an area hovered that make some inner city can not be clicked.\n      el.z2EmphasisLift = 0;\n      // If self named:\n      if (!namedItem.namedFrom) {\n        // label should batter to be displayed based on the center of <g>\n        // if it is named rather than displayed on each child.\n        if (LABEL_HOST_MAP.get(svgNodeTagLower) != null) {\n          resetLabelForRegion(viewBuildCtx, el, regionName, regionModel, mapOrGeoModel, dataIdx, null);\n        }\n        resetEventTriggerForRegion(viewBuildCtx, el, regionName, regionModel, mapOrGeoModel, dataIdx);\n        resetTooltipForRegion(viewBuildCtx, el, regionName, regionModel, mapOrGeoModel);\n        if (STATE_TRIGGER_TAG_MAP.get(svgNodeTagLower) != null) {\n          var focus_1 = resetStateTriggerForRegion(viewBuildCtx, el, regionName, regionModel, mapOrGeoModel);\n          if (focus_1 === 'self') {\n            focusSelf = true;\n          }\n          var els = svgDispatcherMap.get(regionName) || svgDispatcherMap.set(regionName, []);\n          els.push(el);\n        }\n      }\n    }, this);\n    this._enableBlurEntireSVG(focusSelf, viewBuildCtx);\n  };\n  MapDraw.prototype._enableBlurEntireSVG = function (focusSelf, viewBuildCtx) {\n    // It's a little complicated to support blurring the entire geoSVG in series-map.\n    // So do not support it until some requirements come.\n    // At present, in series-map, only regions can be blurred.\n    if (focusSelf && viewBuildCtx.isGeo) {\n      var blurStyle = viewBuildCtx.mapOrGeoModel.getModel(['blur', 'itemStyle']).getItemStyle();\n      // Only support `opacity` here. Because not sure that other props are suitable for\n      // all of the elements generated by SVG (especially for Text/TSpan/Image/... ).\n      var opacity_1 = blurStyle.opacity;\n      this._svgGraphicRecord.root.traverse(function (el) {\n        if (!el.isGroup) {\n          // PENDING: clear those settings to SVG elements when `_freeSVG`.\n          // (Currently it happen not to be needed.)\n          setDefaultStateProxy(el);\n          var style = el.ensureState('blur').style || {};\n          // Do not overwrite the region style that already set from region option.\n          if (style.opacity == null && opacity_1 != null) {\n            style.opacity = opacity_1;\n          }\n          // If `ensureState('blur').style = {}`, there will be default opacity.\n          // Enable `stateTransition` (animation).\n          el.ensureState('emphasis');\n        }\n      });\n    }\n  };\n  MapDraw.prototype.remove = function () {\n    this._regionsGroup.removeAll();\n    this._regionsGroupByName = null;\n    this._svgGroup.removeAll();\n    this._freeSVG();\n    this._controller.dispose();\n    this._controllerHost = null;\n  };\n  MapDraw.prototype.findHighDownDispatchers = function (name, geoModel) {\n    if (name == null) {\n      return [];\n    }\n    var geo = geoModel.coordinateSystem;\n    if (geo.resourceType === 'geoJSON') {\n      var regionsGroupByName = this._regionsGroupByName;\n      if (regionsGroupByName) {\n        var regionGroup = regionsGroupByName.get(name);\n        return regionGroup ? [regionGroup] : [];\n      }\n    } else if (geo.resourceType === 'geoSVG') {\n      return this._svgDispatcherMap && this._svgDispatcherMap.get(name) || [];\n    }\n  };\n  MapDraw.prototype._svgResourceChanged = function (mapName) {\n    return this._svgMapName !== mapName;\n  };\n  MapDraw.prototype._useSVG = function (mapName) {\n    var resource = geoSourceManager.getGeoResource(mapName);\n    if (resource && resource.type === 'geoSVG') {\n      var svgGraphic = resource.useGraphic(this.uid);\n      this._svgGroup.add(svgGraphic.root);\n      this._svgGraphicRecord = svgGraphic;\n      this._svgMapName = mapName;\n    }\n  };\n  MapDraw.prototype._freeSVG = function () {\n    var mapName = this._svgMapName;\n    if (mapName == null) {\n      return;\n    }\n    var resource = geoSourceManager.getGeoResource(mapName);\n    if (resource && resource.type === 'geoSVG') {\n      resource.freeGraphic(this.uid);\n    }\n    this._svgGraphicRecord = null;\n    this._svgDispatcherMap = null;\n    this._svgGroup.removeAll();\n    this._svgMapName = null;\n  };\n  MapDraw.prototype._updateController = function (mapOrGeoModel, ecModel, api) {\n    var geo = mapOrGeoModel.coordinateSystem;\n    var controller = this._controller;\n    var controllerHost = this._controllerHost;\n    // @ts-ignore FIXME:TS\n    controllerHost.zoomLimit = mapOrGeoModel.get('scaleLimit');\n    controllerHost.zoom = geo.getZoom();\n    // roamType is will be set default true if it is null\n    // @ts-ignore FIXME:TS\n    controller.enable(mapOrGeoModel.get('roam') || false);\n    var mainType = mapOrGeoModel.mainType;\n    function makeActionBase() {\n      var action = {\n        type: 'geoRoam',\n        componentType: mainType\n      };\n      action[mainType + 'Id'] = mapOrGeoModel.id;\n      return action;\n    }\n    controller.off('pan').on('pan', function (e) {\n      this._mouseDownFlag = false;\n      roamHelper.updateViewOnPan(controllerHost, e.dx, e.dy);\n      api.dispatchAction(zrUtil.extend(makeActionBase(), {\n        dx: e.dx,\n        dy: e.dy,\n        animation: {\n          duration: 0\n        }\n      }));\n    }, this);\n    controller.off('zoom').on('zoom', function (e) {\n      this._mouseDownFlag = false;\n      roamHelper.updateViewOnZoom(controllerHost, e.scale, e.originX, e.originY);\n      api.dispatchAction(zrUtil.extend(makeActionBase(), {\n        totalZoom: controllerHost.zoom,\n        zoom: e.scale,\n        originX: e.originX,\n        originY: e.originY,\n        animation: {\n          duration: 0\n        }\n      }));\n    }, this);\n    controller.setPointerChecker(function (e, x, y) {\n      return geo.containPoint([x, y]) && !onIrrelevantElement(e, api, mapOrGeoModel);\n    });\n  };\n  /**\n   * FIXME: this is a temporarily workaround.\n   * When `geoRoam` the elements need to be reset in `MapView['render']`, because the props like\n   * `ignore` might have been modified by `LabelManager`, and `LabelManager#addLabelsOfSeries`\n   * will subsequently cache `defaultAttr` like `ignore`. If do not do this reset, the modified\n   * props will have no chance to be restored.\n   * Note: This reset should be after `clearStates` in `renderSeries` because `useStates` in\n   * `renderSeries` will cache the modified `ignore` to `el._normalState`.\n   * TODO:\n   * Use clone/immutable in `LabelManager`?\n   */\n  MapDraw.prototype.resetForLabelLayout = function () {\n    this.group.traverse(function (el) {\n      var label = el.getTextContent();\n      if (label) {\n        label.ignore = mapLabelRaw(label).ignore;\n      }\n    });\n  };\n  MapDraw.prototype._updateMapSelectHandler = function (mapOrGeoModel, regionsGroup, api, fromView) {\n    var mapDraw = this;\n    regionsGroup.off('mousedown');\n    regionsGroup.off('click');\n    // @ts-ignore FIXME:TS resolve type conflict\n    if (mapOrGeoModel.get('selectedMode')) {\n      regionsGroup.on('mousedown', function () {\n        mapDraw._mouseDownFlag = true;\n      });\n      regionsGroup.on('click', function (e) {\n        if (!mapDraw._mouseDownFlag) {\n          return;\n        }\n        mapDraw._mouseDownFlag = false;\n      });\n    }\n  };\n  return MapDraw;\n}();\n;\nfunction applyOptionStyleForRegion(viewBuildCtx, el, dataIndex, regionModel) {\n  // All of the path are using `itemStyle`, because\n  // (1) Some SVG also use fill on polyline (The different between\n  // polyline and polygon is \"open\" or \"close\" but not fill or not).\n  // (2) For the common props like opacity, if some use itemStyle\n  // and some use `lineStyle`, it might confuse users.\n  // (3) Most SVG use <path>, where can not detect whether to draw a \"line\"\n  // or a filled shape, so use `itemStyle` for <path>.\n  var normalStyleModel = regionModel.getModel('itemStyle');\n  var emphasisStyleModel = regionModel.getModel(['emphasis', 'itemStyle']);\n  var blurStyleModel = regionModel.getModel(['blur', 'itemStyle']);\n  var selectStyleModel = regionModel.getModel(['select', 'itemStyle']);\n  // NOTE: DON'T use 'style' in visual when drawing map.\n  // This component is used for drawing underlying map for both geo component and map series.\n  var normalStyle = getFixedItemStyle(normalStyleModel);\n  var emphasisStyle = getFixedItemStyle(emphasisStyleModel);\n  var selectStyle = getFixedItemStyle(selectStyleModel);\n  var blurStyle = getFixedItemStyle(blurStyleModel);\n  // Update the itemStyle if has data visual\n  var data = viewBuildCtx.data;\n  if (data) {\n    // Only visual color of each item will be used. It can be encoded by visualMap\n    // But visual color of series is used in symbol drawing\n    // Visual color for each series is for the symbol draw\n    var style = data.getItemVisual(dataIndex, 'style');\n    var decal = data.getItemVisual(dataIndex, 'decal');\n    if (viewBuildCtx.isVisualEncodedByVisualMap && style.fill) {\n      normalStyle.fill = style.fill;\n    }\n    if (decal) {\n      normalStyle.decal = createOrUpdatePatternFromDecal(decal, viewBuildCtx.api);\n    }\n  }\n  // SVG text, tspan and image can be named but not supporeted\n  // to be styled by region option yet.\n  el.setStyle(normalStyle);\n  el.style.strokeNoScale = true;\n  el.ensureState('emphasis').style = emphasisStyle;\n  el.ensureState('select').style = selectStyle;\n  el.ensureState('blur').style = blurStyle;\n  // Enable blur\n  setDefaultStateProxy(el);\n}\nfunction resetLabelForRegion(viewBuildCtx, el, regionName, regionModel, mapOrGeoModel,\n// Exist only if `viewBuildCtx.data` exists.\ndataIdx,\n// If labelXY not provided, use `textConfig.position: 'inside'`\nlabelXY) {\n  var data = viewBuildCtx.data;\n  var isGeo = viewBuildCtx.isGeo;\n  var isDataNaN = data && isNaN(data.get(data.mapDimension('value'), dataIdx));\n  var itemLayout = data && data.getItemLayout(dataIdx);\n  // In the following cases label will be drawn\n  // 1. In map series and data value is NaN\n  // 2. In geo component\n  // 3. Region has no series legendIcon, which will be add a showLabel flag in mapSymbolLayout\n  if (isGeo || isDataNaN || itemLayout && itemLayout.showLabel) {\n    var query = !isGeo ? dataIdx : regionName;\n    var labelFetcher = void 0;\n    // Consider dataIdx not found.\n    if (!data || dataIdx >= 0) {\n      labelFetcher = mapOrGeoModel;\n    }\n    var specifiedTextOpt = labelXY ? {\n      normal: {\n        align: 'center',\n        verticalAlign: 'middle'\n      }\n    } : null;\n    // Caveat: must be called after `setDefaultStateProxy(el);` called.\n    // because textContent will be assign with `el.stateProxy` inside.\n    setLabelStyle(el, getLabelStatesModels(regionModel), {\n      labelFetcher: labelFetcher,\n      labelDataIndex: query,\n      defaultText: regionName\n    }, specifiedTextOpt);\n    var textEl = el.getTextContent();\n    if (textEl) {\n      mapLabelRaw(textEl).ignore = textEl.ignore;\n      if (el.textConfig && labelXY) {\n        // Compute a relative offset based on the el bounding rect.\n        var rect = el.getBoundingRect().clone();\n        // Need to make sure the percent position base on the same rect in normal and\n        // emphasis state. Otherwise if using boundingRect of el, but the emphasis state\n        // has borderWidth (even 0.5px), the text position will be changed obviously\n        // if the position is very big like ['1234%', '1345%'].\n        el.textConfig.layoutRect = rect;\n        el.textConfig.position = [(labelXY[0] - rect.x) / rect.width * 100 + '%', (labelXY[1] - rect.y) / rect.height * 100 + '%'];\n      }\n    }\n    // PENDING:\n    // If labelLayout is enabled (test/label-layout.html), el.dataIndex should be specified.\n    // But el.dataIndex is also used to determine whether user event should be triggered,\n    // where el.seriesIndex or el.dataModel must be specified. At present for a single el\n    // there is not case that \"only label layout enabled but user event disabled\", so here\n    // we depends `resetEventTriggerForRegion` to do the job of setting `el.dataIndex`.\n    el.disableLabelAnimation = true;\n  } else {\n    el.removeTextContent();\n    el.removeTextConfig();\n    el.disableLabelAnimation = null;\n  }\n}\nfunction resetEventTriggerForRegion(viewBuildCtx, eventTrigger, regionName, regionModel, mapOrGeoModel,\n// Exist only if `viewBuildCtx.data` exists.\ndataIdx) {\n  // setItemGraphicEl, setHoverStyle after all polygons and labels\n  // are added to the regionGroup\n  if (viewBuildCtx.data) {\n    // FIXME: when series-map use a SVG map, and there are duplicated name specified\n    // on different SVG elements, after `data.setItemGraphicEl(...)`:\n    // (1) all of them will be mounted with `dataIndex`, `seriesIndex`, so that tooltip\n    // can be triggered only mouse hover. That's correct.\n    // (2) only the last element will be kept in `data`, so that if trigger tooltip\n    // by `dispatchAction`, only the last one can be found and triggered. That might be\n    // not correct. We will fix it in future if anyone demanding that.\n    viewBuildCtx.data.setItemGraphicEl(dataIdx, eventTrigger);\n  }\n  // series-map will not trigger \"geoselectchange\" no matter it is\n  // based on a declared geo component. Because series-map will\n  // trigger \"selectchange\". If it trigger both the two events,\n  // If users call `chart.dispatchAction({type: 'toggleSelect'})`,\n  // it not easy to also fire event \"geoselectchanged\".\n  else {\n    // Package custom mouse event for geo component\n    getECData(eventTrigger).eventData = {\n      componentType: 'geo',\n      componentIndex: mapOrGeoModel.componentIndex,\n      geoIndex: mapOrGeoModel.componentIndex,\n      name: regionName,\n      region: regionModel && regionModel.option || {}\n    };\n  }\n}\nfunction resetTooltipForRegion(viewBuildCtx, el, regionName, regionModel, mapOrGeoModel) {\n  if (!viewBuildCtx.data) {\n    graphic.setTooltipConfig({\n      el: el,\n      componentModel: mapOrGeoModel,\n      itemName: regionName,\n      // @ts-ignore FIXME:TS fix the \"compatible with each other\"?\n      itemTooltipOption: regionModel.get('tooltip')\n    });\n  }\n}\nfunction resetStateTriggerForRegion(viewBuildCtx, el, regionName, regionModel, mapOrGeoModel) {\n  // @ts-ignore FIXME:TS fix the \"compatible with each other\"?\n  el.highDownSilentOnTouch = !!mapOrGeoModel.get('selectedMode');\n  // @ts-ignore FIXME:TS fix the \"compatible with each other\"?\n  var emphasisModel = regionModel.getModel('emphasis');\n  var focus = emphasisModel.get('focus');\n  toggleHoverEmphasis(el, focus, emphasisModel.get('blurScope'), emphasisModel.get('disabled'));\n  if (viewBuildCtx.isGeo) {\n    enableComponentHighDownFeatures(el, mapOrGeoModel, regionName);\n  }\n  return focus;\n}\nfunction projectPolys(rings,\n// Polygons include exterior and interiors. Or polylines.\ncreateStream, isLine) {\n  var polygons = [];\n  var curPoly;\n  function startPolygon() {\n    curPoly = [];\n  }\n  function endPolygon() {\n    if (curPoly.length) {\n      polygons.push(curPoly);\n      curPoly = [];\n    }\n  }\n  var stream = createStream({\n    polygonStart: startPolygon,\n    polygonEnd: endPolygon,\n    lineStart: startPolygon,\n    lineEnd: endPolygon,\n    point: function (x, y) {\n      // May have NaN values from stream.\n      if (isFinite(x) && isFinite(y)) {\n        curPoly.push([x, y]);\n      }\n    },\n    sphere: function () {}\n  });\n  !isLine && stream.polygonStart();\n  zrUtil.each(rings, function (ring) {\n    stream.lineStart();\n    for (var i = 0; i < ring.length; i++) {\n      stream.point(ring[i][0], ring[i][1]);\n    }\n    stream.lineEnd();\n  });\n  !isLine && stream.polygonEnd();\n  return polygons;\n}\nexport default MapDraw;\n// @ts-ignore FIXME:TS fix the \"compatible with each other\"?","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Eventful from 'zrender/lib/core/Eventful.js';\nimport * as eventTool from 'zrender/lib/core/event.js';\nimport * as interactionMutex from './interactionMutex.js';\nimport { isString, bind, defaults, clone } from 'zrender/lib/core/util.js';\n;\nvar RoamController = /** @class */function (_super) {\n  __extends(RoamController, _super);\n  function RoamController(zr) {\n    var _this = _super.call(this) || this;\n    _this._zr = zr;\n    // Avoid two roamController bind the same handler\n    var mousedownHandler = bind(_this._mousedownHandler, _this);\n    var mousemoveHandler = bind(_this._mousemoveHandler, _this);\n    var mouseupHandler = bind(_this._mouseupHandler, _this);\n    var mousewheelHandler = bind(_this._mousewheelHandler, _this);\n    var pinchHandler = bind(_this._pinchHandler, _this);\n    /**\n     * Notice: only enable needed types. For example, if 'zoom'\n     * is not needed, 'zoom' should not be enabled, otherwise\n     * default mousewheel behaviour (scroll page) will be disabled.\n     */\n    _this.enable = function (controlType, opt) {\n      // Disable previous first\n      this.disable();\n      this._opt = defaults(clone(opt) || {}, {\n        zoomOnMouseWheel: true,\n        moveOnMouseMove: true,\n        // By default, wheel do not trigger move.\n        moveOnMouseWheel: false,\n        preventDefaultMouseMove: true\n      });\n      if (controlType == null) {\n        controlType = true;\n      }\n      if (controlType === true || controlType === 'move' || controlType === 'pan') {\n        zr.on('mousedown', mousedownHandler);\n        zr.on('mousemove', mousemoveHandler);\n        zr.on('mouseup', mouseupHandler);\n      }\n      if (controlType === true || controlType === 'scale' || controlType === 'zoom') {\n        zr.on('mousewheel', mousewheelHandler);\n        zr.on('pinch', pinchHandler);\n      }\n    };\n    _this.disable = function () {\n      zr.off('mousedown', mousedownHandler);\n      zr.off('mousemove', mousemoveHandler);\n      zr.off('mouseup', mouseupHandler);\n      zr.off('mousewheel', mousewheelHandler);\n      zr.off('pinch', pinchHandler);\n    };\n    return _this;\n  }\n  RoamController.prototype.isDragging = function () {\n    return this._dragging;\n  };\n  RoamController.prototype.isPinching = function () {\n    return this._pinching;\n  };\n  RoamController.prototype.setPointerChecker = function (pointerChecker) {\n    this.pointerChecker = pointerChecker;\n  };\n  RoamController.prototype.dispose = function () {\n    this.disable();\n  };\n  RoamController.prototype._mousedownHandler = function (e) {\n    if (eventTool.isMiddleOrRightButtonOnMouseUpDown(e)) {\n      return;\n    }\n    var el = e.target;\n    while (el) {\n      if (el.draggable) {\n        return;\n      }\n      // check if host is draggable\n      el = el.__hostTarget || el.parent;\n    }\n    var x = e.offsetX;\n    var y = e.offsetY;\n    // Only check on mosedown, but not mousemove.\n    // Mouse can be out of target when mouse moving.\n    if (this.pointerChecker && this.pointerChecker(e, x, y)) {\n      this._x = x;\n      this._y = y;\n      this._dragging = true;\n    }\n  };\n  RoamController.prototype._mousemoveHandler = function (e) {\n    if (!this._dragging || !isAvailableBehavior('moveOnMouseMove', e, this._opt) || e.gestureEvent === 'pinch' || interactionMutex.isTaken(this._zr, 'globalPan')) {\n      return;\n    }\n    var x = e.offsetX;\n    var y = e.offsetY;\n    var oldX = this._x;\n    var oldY = this._y;\n    var dx = x - oldX;\n    var dy = y - oldY;\n    this._x = x;\n    this._y = y;\n    this._opt.preventDefaultMouseMove && eventTool.stop(e.event);\n    trigger(this, 'pan', 'moveOnMouseMove', e, {\n      dx: dx,\n      dy: dy,\n      oldX: oldX,\n      oldY: oldY,\n      newX: x,\n      newY: y,\n      isAvailableBehavior: null\n    });\n  };\n  RoamController.prototype._mouseupHandler = function (e) {\n    if (!eventTool.isMiddleOrRightButtonOnMouseUpDown(e)) {\n      this._dragging = false;\n    }\n  };\n  RoamController.prototype._mousewheelHandler = function (e) {\n    var shouldZoom = isAvailableBehavior('zoomOnMouseWheel', e, this._opt);\n    var shouldMove = isAvailableBehavior('moveOnMouseWheel', e, this._opt);\n    var wheelDelta = e.wheelDelta;\n    var absWheelDeltaDelta = Math.abs(wheelDelta);\n    var originX = e.offsetX;\n    var originY = e.offsetY;\n    // wheelDelta maybe -0 in chrome mac.\n    if (wheelDelta === 0 || !shouldZoom && !shouldMove) {\n      return;\n    }\n    // If both `shouldZoom` and `shouldMove` is true, trigger\n    // their event both, and the final behavior is determined\n    // by event listener themselves.\n    if (shouldZoom) {\n      // Convenience:\n      // Mac and VM Windows on Mac: scroll up: zoom out.\n      // Windows: scroll up: zoom in.\n      // FIXME: Should do more test in different environment.\n      // wheelDelta is too complicated in difference nvironment\n      // (https://developer.mozilla.org/en-US/docs/Web/Events/mousewheel),\n      // although it has been normallized by zrender.\n      // wheelDelta of mouse wheel is bigger than touch pad.\n      var factor = absWheelDeltaDelta > 3 ? 1.4 : absWheelDeltaDelta > 1 ? 1.2 : 1.1;\n      var scale = wheelDelta > 0 ? factor : 1 / factor;\n      checkPointerAndTrigger(this, 'zoom', 'zoomOnMouseWheel', e, {\n        scale: scale,\n        originX: originX,\n        originY: originY,\n        isAvailableBehavior: null\n      });\n    }\n    if (shouldMove) {\n      // FIXME: Should do more test in different environment.\n      var absDelta = Math.abs(wheelDelta);\n      // wheelDelta of mouse wheel is bigger than touch pad.\n      var scrollDelta = (wheelDelta > 0 ? 1 : -1) * (absDelta > 3 ? 0.4 : absDelta > 1 ? 0.15 : 0.05);\n      checkPointerAndTrigger(this, 'scrollMove', 'moveOnMouseWheel', e, {\n        scrollDelta: scrollDelta,\n        originX: originX,\n        originY: originY,\n        isAvailableBehavior: null\n      });\n    }\n  };\n  RoamController.prototype._pinchHandler = function (e) {\n    if (interactionMutex.isTaken(this._zr, 'globalPan')) {\n      return;\n    }\n    var scale = e.pinchScale > 1 ? 1.1 : 1 / 1.1;\n    checkPointerAndTrigger(this, 'zoom', null, e, {\n      scale: scale,\n      originX: e.pinchX,\n      originY: e.pinchY,\n      isAvailableBehavior: null\n    });\n  };\n  return RoamController;\n}(Eventful);\nfunction checkPointerAndTrigger(controller, eventName, behaviorToCheck, e, contollerEvent) {\n  if (controller.pointerChecker && controller.pointerChecker(e, contollerEvent.originX, contollerEvent.originY)) {\n    // When mouse is out of roamController rect,\n    // default befavoius should not be be disabled, otherwise\n    // page sliding is disabled, contrary to expectation.\n    eventTool.stop(e.event);\n    trigger(controller, eventName, behaviorToCheck, e, contollerEvent);\n  }\n}\nfunction trigger(controller, eventName, behaviorToCheck, e, contollerEvent) {\n  // Also provide behavior checker for event listener, for some case that\n  // multiple components share one listener.\n  contollerEvent.isAvailableBehavior = bind(isAvailableBehavior, null, behaviorToCheck, e);\n  // TODO should not have type issue.\n  controller.trigger(eventName, contollerEvent);\n}\n// settings: {\n//     zoomOnMouseWheel\n//     moveOnMouseMove\n//     moveOnMouseWheel\n// }\n// The value can be: true / false / 'shift' / 'ctrl' / 'alt'.\nfunction isAvailableBehavior(behaviorToCheck, e, settings) {\n  var setting = settings[behaviorToCheck];\n  return !behaviorToCheck || setting && (!isString(setting) || e.event[setting + 'Key']);\n}\nexport default RoamController;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport { onIrrelevantElement } from './cursorHelper.js';\nimport * as graphicUtil from '../../util/graphic.js';\nexport function makeRectPanelClipPath(rect) {\n  rect = normalizeRect(rect);\n  return function (localPoints) {\n    return graphicUtil.clipPointsByRect(localPoints, rect);\n  };\n}\nexport function makeLinearBrushOtherExtent(rect, specifiedXYIndex) {\n  rect = normalizeRect(rect);\n  return function (xyIndex) {\n    var idx = specifiedXYIndex != null ? specifiedXYIndex : xyIndex;\n    var brushWidth = idx ? rect.width : rect.height;\n    var base = idx ? rect.x : rect.y;\n    return [base, base + (brushWidth || 0)];\n  };\n}\nexport function makeRectIsTargetByCursor(rect, api, targetModel) {\n  var boundingRect = normalizeRect(rect);\n  return function (e, localCursorPoint) {\n    return boundingRect.contain(localCursorPoint[0], localCursorPoint[1]) && !onIrrelevantElement(e, api, targetModel);\n  };\n}\n// Consider width/height is negative.\nfunction normalizeRect(rect) {\n  return BoundingRect.create(rect);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar IRRELEVANT_EXCLUDES = {\n  'axisPointer': 1,\n  'tooltip': 1,\n  'brush': 1\n};\n/**\n * Avoid that: mouse click on a elements that is over geo or graph,\n * but roam is triggered.\n */\nexport function onIrrelevantElement(e, api, targetCoordSysModel) {\n  var model = api.getComponentByElement(e.topTarget);\n  // If model is axisModel, it works only if it is injected with coordinateSystem.\n  var coordSys = model && model.coordinateSystem;\n  return model && model !== targetCoordSysModel && !IRRELEVANT_EXCLUDES.hasOwnProperty(model.mainType) && coordSys && coordSys.model !== targetCoordSysModel;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport * as echarts from '../../core/echarts.js';\nimport { noop } from 'zrender/lib/core/util.js';\nvar ATTR = '\\0_ec_interaction_mutex';\nexport function take(zr, resourceKey, userKey) {\n  var store = getStore(zr);\n  store[resourceKey] = userKey;\n}\nexport function release(zr, resourceKey, userKey) {\n  var store = getStore(zr);\n  var uKey = store[resourceKey];\n  if (uKey === userKey) {\n    store[resourceKey] = null;\n  }\n}\nexport function isTaken(zr, resourceKey) {\n  return !!getStore(zr)[resourceKey];\n}\nfunction getStore(zr) {\n  return zr[ATTR] || (zr[ATTR] = {});\n}\n/**\n * payload: {\n *     type: 'takeGlobalCursor',\n *     key: 'dataZoomSelect', or 'brush', or ...,\n *         If no userKey, release global cursor.\n * }\n */\n// TODO: SELF REGISTERED.\necharts.registerAction({\n  type: 'takeGlobalCursor',\n  event: 'globalCursorTaken',\n  update: 'update'\n}, noop);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport { getLayoutRect, box as layoutBox, positionElement } from '../../util/layout.js';\nimport * as formatUtil from '../../util/format.js';\nimport * as graphic from '../../util/graphic.js';\n/**\n * Layout list like component.\n * It will box layout each items in group of component and then position the whole group in the viewport\n * @param {module:zrender/group/Group} group\n * @param {module:echarts/model/Component} componentModel\n * @param {module:echarts/ExtensionAPI}\n */\nexport function layout(group, componentModel, api) {\n  var boxLayoutParams = componentModel.getBoxLayoutParams();\n  var padding = componentModel.get('padding');\n  var viewportSize = {\n    width: api.getWidth(),\n    height: api.getHeight()\n  };\n  var rect = getLayoutRect(boxLayoutParams, viewportSize, padding);\n  layoutBox(componentModel.get('orient'), group, componentModel.get('itemGap'), rect.width, rect.height);\n  positionElement(group, boxLayoutParams, viewportSize, padding);\n}\nexport function makeBackground(rect, componentModel) {\n  var padding = formatUtil.normalizeCssArray(componentModel.get('padding'));\n  var style = componentModel.getItemStyle(['color', 'opacity']);\n  style.fill = componentModel.get('backgroundColor');\n  rect = new graphic.Rect({\n    shape: {\n      x: rect.x - padding[3],\n      y: rect.y - padding[0],\n      width: rect.width + padding[1] + padding[3],\n      height: rect.height + padding[0] + padding[2],\n      r: componentModel.get('borderRadius')\n    },\n    style: style,\n    silent: true,\n    z2: -1\n  });\n  // FIXME\n  // `subPixelOptimizeRect` may bring some gap between edge of viewpart\n  // and background rect when setting like `left: 0`, `top: 0`.\n  // graphic.subPixelOptimizeRect(rect);\n  return rect;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * For geo and graph.\n */\nexport function updateViewOnPan(controllerHost, dx, dy) {\n  var target = controllerHost.target;\n  target.x += dx;\n  target.y += dy;\n  target.dirty();\n}\n/**\n * For geo and graph.\n */\nexport function updateViewOnZoom(controllerHost, zoomDelta, zoomX, zoomY) {\n  var target = controllerHost.target;\n  var zoomLimit = controllerHost.zoomLimit;\n  var newZoom = controllerHost.zoom = controllerHost.zoom || 1;\n  newZoom *= zoomDelta;\n  if (zoomLimit) {\n    var zoomMin = zoomLimit.min || 0;\n    var zoomMax = zoomLimit.max || Infinity;\n    newZoom = Math.max(Math.min(zoomMax, newZoom), zoomMin);\n  }\n  var zoomScale = newZoom / controllerHost.zoom;\n  controllerHost.zoom = newZoom;\n  // Keep the mouse center when scaling\n  target.x -= (zoomX - target.x) * (zoomScale - 1);\n  target.y -= (zoomY - target.y) * (zoomScale - 1);\n  target.scaleX *= zoomScale;\n  target.scaleY *= zoomScale;\n  target.dirty();\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * Calculate slider move result.\n * Usage:\n * (1) If both handle0 and handle1 are needed to be moved, set minSpan the same as\n * maxSpan and the same as `Math.abs(handleEnd[1] - handleEnds[0])`.\n * (2) If handle0 is forbidden to cross handle1, set minSpan as `0`.\n *\n * @param delta Move length.\n * @param handleEnds handleEnds[0] can be bigger then handleEnds[1].\n *              handleEnds will be modified in this method.\n * @param extent handleEnds is restricted by extent.\n *              extent[0] should less or equals than extent[1].\n * @param handleIndex Can be 'all', means that both move the two handleEnds.\n * @param minSpan The range of dataZoom can not be smaller than that.\n *              If not set, handle0 and cross handle1. If set as a non-negative\n *              number (including `0`), handles will push each other when reaching\n *              the minSpan.\n * @param maxSpan The range of dataZoom can not be larger than that.\n * @return The input handleEnds.\n */\nexport default function sliderMove(delta, handleEnds, extent, handleIndex, minSpan, maxSpan) {\n  delta = delta || 0;\n  var extentSpan = extent[1] - extent[0];\n  // Notice maxSpan and minSpan can be null/undefined.\n  if (minSpan != null) {\n    minSpan = restrict(minSpan, [0, extentSpan]);\n  }\n  if (maxSpan != null) {\n    maxSpan = Math.max(maxSpan, minSpan != null ? minSpan : 0);\n  }\n  if (handleIndex === 'all') {\n    var handleSpan = Math.abs(handleEnds[1] - handleEnds[0]);\n    handleSpan = restrict(handleSpan, [0, extentSpan]);\n    minSpan = maxSpan = restrict(handleSpan, [minSpan, maxSpan]);\n    handleIndex = 0;\n  }\n  handleEnds[0] = restrict(handleEnds[0], extent);\n  handleEnds[1] = restrict(handleEnds[1], extent);\n  var originalDistSign = getSpanSign(handleEnds, handleIndex);\n  handleEnds[handleIndex] += delta;\n  // Restrict in extent.\n  var extentMinSpan = minSpan || 0;\n  var realExtent = extent.slice();\n  originalDistSign.sign < 0 ? realExtent[0] += extentMinSpan : realExtent[1] -= extentMinSpan;\n  handleEnds[handleIndex] = restrict(handleEnds[handleIndex], realExtent);\n  // Expand span.\n  var currDistSign;\n  currDistSign = getSpanSign(handleEnds, handleIndex);\n  if (minSpan != null && (currDistSign.sign !== originalDistSign.sign || currDistSign.span < minSpan)) {\n    // If minSpan exists, 'cross' is forbidden.\n    handleEnds[1 - handleIndex] = handleEnds[handleIndex] + originalDistSign.sign * minSpan;\n  }\n  // Shrink span.\n  currDistSign = getSpanSign(handleEnds, handleIndex);\n  if (maxSpan != null && currDistSign.span > maxSpan) {\n    handleEnds[1 - handleIndex] = handleEnds[handleIndex] + currDistSign.sign * maxSpan;\n  }\n  return handleEnds;\n}\nfunction getSpanSign(handleEnds, handleIndex) {\n  var dist = handleEnds[handleIndex] - handleEnds[1 - handleIndex];\n  // If `handleEnds[0] === handleEnds[1]`, always believe that handleEnd[0]\n  // is at left of handleEnds[1] for non-cross case.\n  return {\n    span: Math.abs(dist),\n    sign: dist > 0 ? -1 : dist < 0 ? 1 : handleIndex ? -1 : 1\n  };\n}\nfunction restrict(value, extend) {\n  return Math.min(extend[1] != null ? extend[1] : Infinity, Math.max(extend[0] != null ? extend[0] : -Infinity, value));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport Model from '../../model/Model.js';\nimport { isNameSpecified } from '../../util/model.js';\nimport ComponentModel from '../../model/Component.js';\nvar getDefaultSelectorOptions = function (ecModel, type) {\n  if (type === 'all') {\n    return {\n      type: 'all',\n      title: ecModel.getLocaleModel().get(['legend', 'selector', 'all'])\n    };\n  } else if (type === 'inverse') {\n    return {\n      type: 'inverse',\n      title: ecModel.getLocaleModel().get(['legend', 'selector', 'inverse'])\n    };\n  }\n};\nvar LegendModel = /** @class */function (_super) {\n  __extends(LegendModel, _super);\n  function LegendModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = LegendModel.type;\n    _this.layoutMode = {\n      type: 'box',\n      // legend.width/height are maxWidth/maxHeight actually,\n      // whereas real width/height is calculated by its content.\n      // (Setting {left: 10, right: 10} does not make sense).\n      // So consider the case:\n      // `setOption({legend: {left: 10});`\n      // then `setOption({legend: {right: 10});`\n      // The previous `left` should be cleared by setting `ignoreSize`.\n      ignoreSize: true\n    };\n    return _this;\n  }\n  LegendModel.prototype.init = function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n    option.selected = option.selected || {};\n    this._updateSelector(option);\n  };\n  LegendModel.prototype.mergeOption = function (option, ecModel) {\n    _super.prototype.mergeOption.call(this, option, ecModel);\n    this._updateSelector(option);\n  };\n  LegendModel.prototype._updateSelector = function (option) {\n    var selector = option.selector;\n    var ecModel = this.ecModel;\n    if (selector === true) {\n      selector = option.selector = ['all', 'inverse'];\n    }\n    if (zrUtil.isArray(selector)) {\n      zrUtil.each(selector, function (item, index) {\n        zrUtil.isString(item) && (item = {\n          type: item\n        });\n        selector[index] = zrUtil.merge(item, getDefaultSelectorOptions(ecModel, item.type));\n      });\n    }\n  };\n  LegendModel.prototype.optionUpdated = function () {\n    this._updateData(this.ecModel);\n    var legendData = this._data;\n    // If selectedMode is single, try to select one\n    if (legendData[0] && this.get('selectedMode') === 'single') {\n      var hasSelected = false;\n      // If has any selected in option.selected\n      for (var i = 0; i < legendData.length; i++) {\n        var name_1 = legendData[i].get('name');\n        if (this.isSelected(name_1)) {\n          // Force to unselect others\n          this.select(name_1);\n          hasSelected = true;\n          break;\n        }\n      }\n      // Try select the first if selectedMode is single\n      !hasSelected && this.select(legendData[0].get('name'));\n    }\n  };\n  LegendModel.prototype._updateData = function (ecModel) {\n    var potentialData = [];\n    var availableNames = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      var seriesName = seriesModel.name;\n      availableNames.push(seriesName);\n      var isPotential;\n      if (seriesModel.legendVisualProvider) {\n        var provider = seriesModel.legendVisualProvider;\n        var names = provider.getAllNames();\n        if (!ecModel.isSeriesFiltered(seriesModel)) {\n          availableNames = availableNames.concat(names);\n        }\n        if (names.length) {\n          potentialData = potentialData.concat(names);\n        } else {\n          isPotential = true;\n        }\n      } else {\n        isPotential = true;\n      }\n      if (isPotential && isNameSpecified(seriesModel)) {\n        potentialData.push(seriesModel.name);\n      }\n    });\n    /**\n     * @type {Array.<string>}\n     * @private\n     */\n    this._availableNames = availableNames;\n    // If legend.data is not specified in option, use availableNames as data,\n    // which is convenient for user preparing option.\n    var rawData = this.get('data') || potentialData;\n    var legendNameMap = zrUtil.createHashMap();\n    var legendData = zrUtil.map(rawData, function (dataItem) {\n      // Can be string or number\n      if (zrUtil.isString(dataItem) || zrUtil.isNumber(dataItem)) {\n        dataItem = {\n          name: dataItem\n        };\n      }\n      if (legendNameMap.get(dataItem.name)) {\n        // remove legend name duplicate\n        return null;\n      }\n      legendNameMap.set(dataItem.name, true);\n      return new Model(dataItem, this, this.ecModel);\n    }, this);\n    /**\n     * @type {Array.<module:echarts/model/Model>}\n     * @private\n     */\n    this._data = zrUtil.filter(legendData, function (item) {\n      return !!item;\n    });\n  };\n  LegendModel.prototype.getData = function () {\n    return this._data;\n  };\n  LegendModel.prototype.select = function (name) {\n    var selected = this.option.selected;\n    var selectedMode = this.get('selectedMode');\n    if (selectedMode === 'single') {\n      var data = this._data;\n      zrUtil.each(data, function (dataItem) {\n        selected[dataItem.get('name')] = false;\n      });\n    }\n    selected[name] = true;\n  };\n  LegendModel.prototype.unSelect = function (name) {\n    if (this.get('selectedMode') !== 'single') {\n      this.option.selected[name] = false;\n    }\n  };\n  LegendModel.prototype.toggleSelected = function (name) {\n    var selected = this.option.selected;\n    // Default is true\n    if (!selected.hasOwnProperty(name)) {\n      selected[name] = true;\n    }\n    this[selected[name] ? 'unSelect' : 'select'](name);\n  };\n  LegendModel.prototype.allSelect = function () {\n    var data = this._data;\n    var selected = this.option.selected;\n    zrUtil.each(data, function (dataItem) {\n      selected[dataItem.get('name', true)] = true;\n    });\n  };\n  LegendModel.prototype.inverseSelect = function () {\n    var data = this._data;\n    var selected = this.option.selected;\n    zrUtil.each(data, function (dataItem) {\n      var name = dataItem.get('name', true);\n      // Initially, default value is true\n      if (!selected.hasOwnProperty(name)) {\n        selected[name] = true;\n      }\n      selected[name] = !selected[name];\n    });\n  };\n  LegendModel.prototype.isSelected = function (name) {\n    var selected = this.option.selected;\n    return !(selected.hasOwnProperty(name) && !selected[name]) && zrUtil.indexOf(this._availableNames, name) >= 0;\n  };\n  LegendModel.prototype.getOrient = function () {\n    return this.get('orient') === 'vertical' ? {\n      index: 1,\n      name: 'vertical'\n    } : {\n      index: 0,\n      name: 'horizontal'\n    };\n  };\n  LegendModel.type = 'legend.plain';\n  LegendModel.dependencies = ['series'];\n  LegendModel.defaultOption = {\n    // zlevel: 0,\n    z: 4,\n    show: true,\n    orient: 'horizontal',\n    left: 'center',\n    // right: 'center',\n    top: 0,\n    // bottom: null,\n    align: 'auto',\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderColor: '#ccc',\n    borderRadius: 0,\n    borderWidth: 0,\n    padding: 5,\n    itemGap: 10,\n    itemWidth: 25,\n    itemHeight: 14,\n    symbolRotate: 'inherit',\n    symbolKeepAspect: true,\n    inactiveColor: '#ccc',\n    inactiveBorderColor: '#ccc',\n    inactiveBorderWidth: 'auto',\n    itemStyle: {\n      color: 'inherit',\n      opacity: 'inherit',\n      borderColor: 'inherit',\n      borderWidth: 'auto',\n      borderCap: 'inherit',\n      borderJoin: 'inherit',\n      borderDashOffset: 'inherit',\n      borderMiterLimit: 'inherit'\n    },\n    lineStyle: {\n      width: 'auto',\n      color: 'inherit',\n      inactiveColor: '#ccc',\n      inactiveWidth: 2,\n      opacity: 'inherit',\n      type: 'inherit',\n      cap: 'inherit',\n      join: 'inherit',\n      dashOffset: 'inherit',\n      miterLimit: 'inherit'\n    },\n    textStyle: {\n      color: '#333'\n    },\n    selectedMode: true,\n    selector: false,\n    selectorLabel: {\n      show: true,\n      borderRadius: 10,\n      padding: [3, 5, 3, 5],\n      fontSize: 12,\n      fontFamily: 'sans-serif',\n      color: '#666',\n      borderWidth: 1,\n      borderColor: '#666'\n    },\n    emphasis: {\n      selectorLabel: {\n        show: true,\n        color: '#eee',\n        backgroundColor: '#666'\n      }\n    },\n    selectorPosition: 'auto',\n    selectorItemGap: 7,\n    selectorButtonGap: 10,\n    tooltip: {\n      show: false\n    }\n  };\n  return LegendModel;\n}(ComponentModel);\nexport default LegendModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { parse, stringify } from 'zrender/lib/tool/color.js';\nimport * as graphic from '../../util/graphic.js';\nimport { enableHoverEmphasis } from '../../util/states.js';\nimport { setLabelStyle, createTextStyle } from '../../label/labelStyle.js';\nimport { makeBackground } from '../helper/listComponent.js';\nimport * as layoutUtil from '../../util/layout.js';\nimport ComponentView from '../../view/Component.js';\nimport { createSymbol } from '../../util/symbol.js';\nimport { createOrUpdatePatternFromDecal } from '../../util/decal.js';\nimport { getECData } from '../../util/innerStore.js';\nvar curry = zrUtil.curry;\nvar each = zrUtil.each;\nvar Group = graphic.Group;\nvar LegendView = /** @class */function (_super) {\n  __extends(LegendView, _super);\n  function LegendView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = LegendView.type;\n    _this.newlineDisabled = false;\n    return _this;\n  }\n  LegendView.prototype.init = function () {\n    this.group.add(this._contentGroup = new Group());\n    this.group.add(this._selectorGroup = new Group());\n    this._isFirstRender = true;\n  };\n  /**\n   * @protected\n   */\n  LegendView.prototype.getContentGroup = function () {\n    return this._contentGroup;\n  };\n  /**\n   * @protected\n   */\n  LegendView.prototype.getSelectorGroup = function () {\n    return this._selectorGroup;\n  };\n  /**\n   * @override\n   */\n  LegendView.prototype.render = function (legendModel, ecModel, api) {\n    var isFirstRender = this._isFirstRender;\n    this._isFirstRender = false;\n    this.resetInner();\n    if (!legendModel.get('show', true)) {\n      return;\n    }\n    var itemAlign = legendModel.get('align');\n    var orient = legendModel.get('orient');\n    if (!itemAlign || itemAlign === 'auto') {\n      itemAlign = legendModel.get('left') === 'right' && orient === 'vertical' ? 'right' : 'left';\n    }\n    // selector has been normalized to an array in model\n    var selector = legendModel.get('selector', true);\n    var selectorPosition = legendModel.get('selectorPosition', true);\n    if (selector && (!selectorPosition || selectorPosition === 'auto')) {\n      selectorPosition = orient === 'horizontal' ? 'end' : 'start';\n    }\n    this.renderInner(itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition);\n    // Perform layout.\n    var positionInfo = legendModel.getBoxLayoutParams();\n    var viewportSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var padding = legendModel.get('padding');\n    var maxSize = layoutUtil.getLayoutRect(positionInfo, viewportSize, padding);\n    var mainRect = this.layoutInner(legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition);\n    // Place mainGroup, based on the calculated `mainRect`.\n    var layoutRect = layoutUtil.getLayoutRect(zrUtil.defaults({\n      width: mainRect.width,\n      height: mainRect.height\n    }, positionInfo), viewportSize, padding);\n    this.group.x = layoutRect.x - mainRect.x;\n    this.group.y = layoutRect.y - mainRect.y;\n    this.group.markRedraw();\n    // Render background after group is layout.\n    this.group.add(this._backgroundEl = makeBackground(mainRect, legendModel));\n  };\n  LegendView.prototype.resetInner = function () {\n    this.getContentGroup().removeAll();\n    this._backgroundEl && this.group.remove(this._backgroundEl);\n    this.getSelectorGroup().removeAll();\n  };\n  LegendView.prototype.renderInner = function (itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition) {\n    var contentGroup = this.getContentGroup();\n    var legendDrawnMap = zrUtil.createHashMap();\n    var selectMode = legendModel.get('selectedMode');\n    var excludeSeriesId = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      !seriesModel.get('legendHoverLink') && excludeSeriesId.push(seriesModel.id);\n    });\n    each(legendModel.getData(), function (legendItemModel, dataIndex) {\n      var name = legendItemModel.get('name');\n      // Use empty string or \\n as a newline string\n      if (!this.newlineDisabled && (name === '' || name === '\\n')) {\n        var g = new Group();\n        // @ts-ignore\n        g.newline = true;\n        contentGroup.add(g);\n        return;\n      }\n      // Representitive series.\n      var seriesModel = ecModel.getSeriesByName(name)[0];\n      if (legendDrawnMap.get(name)) {\n        // Have been drawn\n        return;\n      }\n      // Legend to control series.\n      if (seriesModel) {\n        var data = seriesModel.getData();\n        var lineVisualStyle = data.getVisual('legendLineStyle') || {};\n        var legendIcon = data.getVisual('legendIcon');\n        /**\n         * `data.getVisual('style')` may be the color from the register\n         * in series. For example, for line series,\n         */\n        var style = data.getVisual('style');\n        var itemGroup = this._createItem(seriesModel, name, dataIndex, legendItemModel, legendModel, itemAlign, lineVisualStyle, style, legendIcon, selectMode, api);\n        itemGroup.on('click', curry(dispatchSelectAction, name, null, api, excludeSeriesId)).on('mouseover', curry(dispatchHighlightAction, seriesModel.name, null, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, seriesModel.name, null, api, excludeSeriesId));\n        if (ecModel.ssr) {\n          itemGroup.eachChild(function (child) {\n            var ecData = getECData(child);\n            ecData.seriesIndex = seriesModel.seriesIndex;\n            ecData.dataIndex = dataIndex;\n            ecData.ssrType = 'legend';\n          });\n        }\n        legendDrawnMap.set(name, true);\n      } else {\n        // Legend to control data. In pie and funnel.\n        ecModel.eachRawSeries(function (seriesModel) {\n          // In case multiple series has same data name\n          if (legendDrawnMap.get(name)) {\n            return;\n          }\n          if (seriesModel.legendVisualProvider) {\n            var provider = seriesModel.legendVisualProvider;\n            if (!provider.containName(name)) {\n              return;\n            }\n            var idx = provider.indexOfName(name);\n            var style = provider.getItemVisual(idx, 'style');\n            var legendIcon = provider.getItemVisual(idx, 'legendIcon');\n            var colorArr = parse(style.fill);\n            // Color may be set to transparent in visualMap when data is out of range.\n            // Do not show nothing.\n            if (colorArr && colorArr[3] === 0) {\n              colorArr[3] = 0.2;\n              // TODO color is set to 0, 0, 0, 0. Should show correct RGBA\n              style = zrUtil.extend(zrUtil.extend({}, style), {\n                fill: stringify(colorArr, 'rgba')\n              });\n            }\n            var itemGroup = this._createItem(seriesModel, name, dataIndex, legendItemModel, legendModel, itemAlign, {}, style, legendIcon, selectMode, api);\n            // FIXME: consider different series has items with the same name.\n            itemGroup.on('click', curry(dispatchSelectAction, null, name, api, excludeSeriesId))\n            // Should not specify the series name, consider legend controls\n            // more than one pie series.\n            .on('mouseover', curry(dispatchHighlightAction, null, name, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, null, name, api, excludeSeriesId));\n            if (ecModel.ssr) {\n              itemGroup.eachChild(function (child) {\n                var ecData = getECData(child);\n                ecData.seriesIndex = seriesModel.seriesIndex;\n                ecData.dataIndex = dataIndex;\n                ecData.ssrType = 'legend';\n              });\n            }\n            legendDrawnMap.set(name, true);\n          }\n        }, this);\n      }\n      if (process.env.NODE_ENV !== 'production') {\n        if (!legendDrawnMap.get(name)) {\n          console.warn(name + ' series not exists. Legend data should be same with series name or data name.');\n        }\n      }\n    }, this);\n    if (selector) {\n      this._createSelector(selector, legendModel, api, orient, selectorPosition);\n    }\n  };\n  LegendView.prototype._createSelector = function (selector, legendModel, api, orient, selectorPosition) {\n    var selectorGroup = this.getSelectorGroup();\n    each(selector, function createSelectorButton(selectorItem) {\n      var type = selectorItem.type;\n      var labelText = new graphic.Text({\n        style: {\n          x: 0,\n          y: 0,\n          align: 'center',\n          verticalAlign: 'middle'\n        },\n        onclick: function () {\n          api.dispatchAction({\n            type: type === 'all' ? 'legendAllSelect' : 'legendInverseSelect'\n          });\n        }\n      });\n      selectorGroup.add(labelText);\n      var labelModel = legendModel.getModel('selectorLabel');\n      var emphasisLabelModel = legendModel.getModel(['emphasis', 'selectorLabel']);\n      setLabelStyle(labelText, {\n        normal: labelModel,\n        emphasis: emphasisLabelModel\n      }, {\n        defaultText: selectorItem.title\n      });\n      enableHoverEmphasis(labelText);\n    });\n  };\n  LegendView.prototype._createItem = function (seriesModel, name, dataIndex, legendItemModel, legendModel, itemAlign, lineVisualStyle, itemVisualStyle, legendIcon, selectMode, api) {\n    var drawType = seriesModel.visualDrawType;\n    var itemWidth = legendModel.get('itemWidth');\n    var itemHeight = legendModel.get('itemHeight');\n    var isSelected = legendModel.isSelected(name);\n    var iconRotate = legendItemModel.get('symbolRotate');\n    var symbolKeepAspect = legendItemModel.get('symbolKeepAspect');\n    var legendIconType = legendItemModel.get('icon');\n    legendIcon = legendIconType || legendIcon || 'roundRect';\n    var style = getLegendStyle(legendIcon, legendItemModel, lineVisualStyle, itemVisualStyle, drawType, isSelected, api);\n    var itemGroup = new Group();\n    var textStyleModel = legendItemModel.getModel('textStyle');\n    if (zrUtil.isFunction(seriesModel.getLegendIcon) && (!legendIconType || legendIconType === 'inherit')) {\n      // Series has specific way to define legend icon\n      itemGroup.add(seriesModel.getLegendIcon({\n        itemWidth: itemWidth,\n        itemHeight: itemHeight,\n        icon: legendIcon,\n        iconRotate: iconRotate,\n        itemStyle: style.itemStyle,\n        lineStyle: style.lineStyle,\n        symbolKeepAspect: symbolKeepAspect\n      }));\n    } else {\n      // Use default legend icon policy for most series\n      var rotate = legendIconType === 'inherit' && seriesModel.getData().getVisual('symbol') ? iconRotate === 'inherit' ? seriesModel.getData().getVisual('symbolRotate') : iconRotate : 0; // No rotation for no icon\n      itemGroup.add(getDefaultLegendIcon({\n        itemWidth: itemWidth,\n        itemHeight: itemHeight,\n        icon: legendIcon,\n        iconRotate: rotate,\n        itemStyle: style.itemStyle,\n        lineStyle: style.lineStyle,\n        symbolKeepAspect: symbolKeepAspect\n      }));\n    }\n    var textX = itemAlign === 'left' ? itemWidth + 5 : -5;\n    var textAlign = itemAlign;\n    var formatter = legendModel.get('formatter');\n    var content = name;\n    if (zrUtil.isString(formatter) && formatter) {\n      content = formatter.replace('{name}', name != null ? name : '');\n    } else if (zrUtil.isFunction(formatter)) {\n      content = formatter(name);\n    }\n    var textColor = isSelected ? textStyleModel.getTextColor() : legendItemModel.get('inactiveColor');\n    itemGroup.add(new graphic.Text({\n      style: createTextStyle(textStyleModel, {\n        text: content,\n        x: textX,\n        y: itemHeight / 2,\n        fill: textColor,\n        align: textAlign,\n        verticalAlign: 'middle'\n      }, {\n        inheritColor: textColor\n      })\n    }));\n    // Add a invisible rect to increase the area of mouse hover\n    var hitRect = new graphic.Rect({\n      shape: itemGroup.getBoundingRect(),\n      style: {\n        // Cannot use 'invisible' because SVG SSR will miss the node\n        fill: 'transparent'\n      }\n    });\n    var tooltipModel = legendItemModel.getModel('tooltip');\n    if (tooltipModel.get('show')) {\n      graphic.setTooltipConfig({\n        el: hitRect,\n        componentModel: legendModel,\n        itemName: name,\n        itemTooltipOption: tooltipModel.option\n      });\n    }\n    itemGroup.add(hitRect);\n    itemGroup.eachChild(function (child) {\n      child.silent = true;\n    });\n    hitRect.silent = !selectMode;\n    this.getContentGroup().add(itemGroup);\n    enableHoverEmphasis(itemGroup);\n    // @ts-ignore\n    itemGroup.__legendDataIndex = dataIndex;\n    return itemGroup;\n  };\n  LegendView.prototype.layoutInner = function (legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition) {\n    var contentGroup = this.getContentGroup();\n    var selectorGroup = this.getSelectorGroup();\n    // Place items in contentGroup.\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), maxSize.width, maxSize.height);\n    var contentRect = contentGroup.getBoundingRect();\n    var contentPos = [-contentRect.x, -contentRect.y];\n    selectorGroup.markRedraw();\n    contentGroup.markRedraw();\n    if (selector) {\n      // Place buttons in selectorGroup\n      layoutUtil.box(\n      // Buttons in selectorGroup always layout horizontally\n      'horizontal', selectorGroup, legendModel.get('selectorItemGap', true));\n      var selectorRect = selectorGroup.getBoundingRect();\n      var selectorPos = [-selectorRect.x, -selectorRect.y];\n      var selectorButtonGap = legendModel.get('selectorButtonGap', true);\n      var orientIdx = legendModel.getOrient().index;\n      var wh = orientIdx === 0 ? 'width' : 'height';\n      var hw = orientIdx === 0 ? 'height' : 'width';\n      var yx = orientIdx === 0 ? 'y' : 'x';\n      if (selectorPosition === 'end') {\n        selectorPos[orientIdx] += contentRect[wh] + selectorButtonGap;\n      } else {\n        contentPos[orientIdx] += selectorRect[wh] + selectorButtonGap;\n      }\n      // Always align selector to content as 'middle'\n      selectorPos[1 - orientIdx] += contentRect[hw] / 2 - selectorRect[hw] / 2;\n      selectorGroup.x = selectorPos[0];\n      selectorGroup.y = selectorPos[1];\n      contentGroup.x = contentPos[0];\n      contentGroup.y = contentPos[1];\n      var mainRect = {\n        x: 0,\n        y: 0\n      };\n      mainRect[wh] = contentRect[wh] + selectorButtonGap + selectorRect[wh];\n      mainRect[hw] = Math.max(contentRect[hw], selectorRect[hw]);\n      mainRect[yx] = Math.min(0, selectorRect[yx] + selectorPos[1 - orientIdx]);\n      return mainRect;\n    } else {\n      contentGroup.x = contentPos[0];\n      contentGroup.y = contentPos[1];\n      return this.group.getBoundingRect();\n    }\n  };\n  /**\n   * @protected\n   */\n  LegendView.prototype.remove = function () {\n    this.getContentGroup().removeAll();\n    this._isFirstRender = true;\n  };\n  LegendView.type = 'legend.plain';\n  return LegendView;\n}(ComponentView);\nfunction getLegendStyle(iconType, legendItemModel, lineVisualStyle, itemVisualStyle, drawType, isSelected, api) {\n  /**\n   * Use series style if is inherit;\n   * elsewise, use legend style\n   */\n  function handleCommonProps(style, visualStyle) {\n    // If lineStyle.width is 'auto', it is set to be 2 if series has border\n    if (style.lineWidth === 'auto') {\n      style.lineWidth = visualStyle.lineWidth > 0 ? 2 : 0;\n    }\n    each(style, function (propVal, propName) {\n      style[propName] === 'inherit' && (style[propName] = visualStyle[propName]);\n    });\n  }\n  // itemStyle\n  var itemStyleModel = legendItemModel.getModel('itemStyle');\n  var itemStyle = itemStyleModel.getItemStyle();\n  var iconBrushType = iconType.lastIndexOf('empty', 0) === 0 ? 'fill' : 'stroke';\n  var decalStyle = itemStyleModel.getShallow('decal');\n  itemStyle.decal = !decalStyle || decalStyle === 'inherit' ? itemVisualStyle.decal : createOrUpdatePatternFromDecal(decalStyle, api);\n  if (itemStyle.fill === 'inherit') {\n    /**\n     * Series with visualDrawType as 'stroke' should have\n     * series stroke as legend fill\n     */\n    itemStyle.fill = itemVisualStyle[drawType];\n  }\n  if (itemStyle.stroke === 'inherit') {\n    /**\n     * icon type with \"emptyXXX\" should use fill color\n     * in visual style\n     */\n    itemStyle.stroke = itemVisualStyle[iconBrushType];\n  }\n  if (itemStyle.opacity === 'inherit') {\n    /**\n     * Use lineStyle.opacity if drawType is stroke\n     */\n    itemStyle.opacity = (drawType === 'fill' ? itemVisualStyle : lineVisualStyle).opacity;\n  }\n  handleCommonProps(itemStyle, itemVisualStyle);\n  // lineStyle\n  var legendLineModel = legendItemModel.getModel('lineStyle');\n  var lineStyle = legendLineModel.getLineStyle();\n  handleCommonProps(lineStyle, lineVisualStyle);\n  // Fix auto color to real color\n  itemStyle.fill === 'auto' && (itemStyle.fill = itemVisualStyle.fill);\n  itemStyle.stroke === 'auto' && (itemStyle.stroke = itemVisualStyle.fill);\n  lineStyle.stroke === 'auto' && (lineStyle.stroke = itemVisualStyle.fill);\n  if (!isSelected) {\n    var borderWidth = legendItemModel.get('inactiveBorderWidth');\n    /**\n     * Since stroke is set to be inactiveBorderColor, it may occur that\n     * there is no border in series but border in legend, so we need to\n     * use border only when series has border if is set to be auto\n     */\n    var visualHasBorder = itemStyle[iconBrushType];\n    itemStyle.lineWidth = borderWidth === 'auto' ? itemVisualStyle.lineWidth > 0 && visualHasBorder ? 2 : 0 : itemStyle.lineWidth;\n    itemStyle.fill = legendItemModel.get('inactiveColor');\n    itemStyle.stroke = legendItemModel.get('inactiveBorderColor');\n    lineStyle.stroke = legendLineModel.get('inactiveColor');\n    lineStyle.lineWidth = legendLineModel.get('inactiveWidth');\n  }\n  return {\n    itemStyle: itemStyle,\n    lineStyle: lineStyle\n  };\n}\nfunction getDefaultLegendIcon(opt) {\n  var symboType = opt.icon || 'roundRect';\n  var icon = createSymbol(symboType, 0, 0, opt.itemWidth, opt.itemHeight, opt.itemStyle.fill, opt.symbolKeepAspect);\n  icon.setStyle(opt.itemStyle);\n  icon.rotation = (opt.iconRotate || 0) * Math.PI / 180;\n  icon.setOrigin([opt.itemWidth / 2, opt.itemHeight / 2]);\n  if (symboType.indexOf('empty') > -1) {\n    icon.style.stroke = icon.style.fill;\n    icon.style.fill = '#fff';\n    icon.style.lineWidth = 2;\n  }\n  return icon;\n}\nfunction dispatchSelectAction(seriesName, dataName, api, excludeSeriesId) {\n  // downplay before unselect\n  dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId);\n  api.dispatchAction({\n    type: 'legendToggleSelect',\n    name: seriesName != null ? seriesName : dataName\n  });\n  // highlight after select\n  // TODO highlight immediately may cause animation loss.\n  dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId);\n}\nfunction isUseHoverLayer(api) {\n  var list = api.getZr().storage.getDisplayList();\n  var emphasisState;\n  var i = 0;\n  var len = list.length;\n  while (i < len && !(emphasisState = list[i].states.emphasis)) {\n    i++;\n  }\n  return emphasisState && emphasisState.hoverLayer;\n}\nfunction dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  if (!isUseHoverLayer(api)) {\n    api.dispatchAction({\n      type: 'highlight',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\nfunction dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  if (!isUseHoverLayer(api)) {\n    api.dispatchAction({\n      type: 'downplay',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\nexport default LegendView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function legendFilter(ecModel) {\n  var legendModels = ecModel.findComponents({\n    mainType: 'legend'\n  });\n  if (legendModels && legendModels.length) {\n    ecModel.filterSeries(function (series) {\n      // If in any legend component the status is not selected.\n      // Because in legend series is assumed selected when it is not in the legend data.\n      for (var i = 0; i < legendModels.length; i++) {\n        if (!legendModels[i].isSelected(series.name)) {\n          return false;\n        }\n      }\n      return true;\n    });\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport { curry, each } from 'zrender/lib/core/util.js';\nfunction legendSelectActionHandler(methodName, payload, ecModel) {\n  var selectedMap = {};\n  var isToggleSelect = methodName === 'toggleSelected';\n  var isSelected;\n  // Update all legend components\n  ecModel.eachComponent('legend', function (legendModel) {\n    if (isToggleSelect && isSelected != null) {\n      // Force other legend has same selected status\n      // Or the first is toggled to true and other are toggled to false\n      // In the case one legend has some item unSelected in option. And if other legend\n      // doesn't has the item, they will assume it is selected.\n      legendModel[isSelected ? 'select' : 'unSelect'](payload.name);\n    } else if (methodName === 'allSelect' || methodName === 'inverseSelect') {\n      legendModel[methodName]();\n    } else {\n      legendModel[methodName](payload.name);\n      isSelected = legendModel.isSelected(payload.name);\n    }\n    var legendData = legendModel.getData();\n    each(legendData, function (model) {\n      var name = model.get('name');\n      // Wrap element\n      if (name === '\\n' || name === '') {\n        return;\n      }\n      var isItemSelected = legendModel.isSelected(name);\n      if (selectedMap.hasOwnProperty(name)) {\n        // Unselected if any legend is unselected\n        selectedMap[name] = selectedMap[name] && isItemSelected;\n      } else {\n        selectedMap[name] = isItemSelected;\n      }\n    });\n  });\n  // Return the event explicitly\n  return methodName === 'allSelect' || methodName === 'inverseSelect' ? {\n    selected: selectedMap\n  } : {\n    name: payload.name,\n    selected: selectedMap\n  };\n}\nexport function installLegendAction(registers) {\n  /**\n   * @event legendToggleSelect\n   * @type {Object}\n   * @property {string} type 'legendToggleSelect'\n   * @property {string} [from]\n   * @property {string} name Series name or data item name\n   */\n  registers.registerAction('legendToggleSelect', 'legendselectchanged', curry(legendSelectActionHandler, 'toggleSelected'));\n  registers.registerAction('legendAllSelect', 'legendselectall', curry(legendSelectActionHandler, 'allSelect'));\n  registers.registerAction('legendInverseSelect', 'legendinverseselect', curry(legendSelectActionHandler, 'inverseSelect'));\n  /**\n   * @event legendSelect\n   * @type {Object}\n   * @property {string} type 'legendSelect'\n   * @property {string} name Series name or data item name\n   */\n  registers.registerAction('legendSelect', 'legendselected', curry(legendSelectActionHandler, 'select'));\n  /**\n   * @event legendUnSelect\n   * @type {Object}\n   * @property {string} type 'legendUnSelect'\n   * @property {string} name Series name or data item name\n   */\n  registers.registerAction('legendUnSelect', 'legendunselected', curry(legendSelectActionHandler, 'unSelect'));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport LegendModel from './LegendModel.js';\nimport LegendView from './LegendView.js';\nimport legendFilter from './legendFilter.js';\nimport { installLegendAction } from './legendAction.js';\nexport function install(registers) {\n  registers.registerComponentModel(LegendModel);\n  registers.registerComponentView(LegendView);\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.SERIES_FILTER, legendFilter);\n  registers.registerSubTypeDefaulter('legend', function () {\n    return 'plain';\n  });\n  installLegendAction(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport LegendModel from './LegendModel.js';\nimport { mergeLayoutParam, getLayoutParams } from '../../util/layout.js';\nimport { inheritDefaultOption } from '../../util/component.js';\nvar ScrollableLegendModel = /** @class */function (_super) {\n  __extends(ScrollableLegendModel, _super);\n  function ScrollableLegendModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ScrollableLegendModel.type;\n    return _this;\n  }\n  /**\n   * @param {number} scrollDataIndex\n   */\n  ScrollableLegendModel.prototype.setScrollDataIndex = function (scrollDataIndex) {\n    this.option.scrollDataIndex = scrollDataIndex;\n  };\n  ScrollableLegendModel.prototype.init = function (option, parentModel, ecModel) {\n    var inputPositionParams = getLayoutParams(option);\n    _super.prototype.init.call(this, option, parentModel, ecModel);\n    mergeAndNormalizeLayoutParams(this, option, inputPositionParams);\n  };\n  /**\n   * @override\n   */\n  ScrollableLegendModel.prototype.mergeOption = function (option, ecModel) {\n    _super.prototype.mergeOption.call(this, option, ecModel);\n    mergeAndNormalizeLayoutParams(this, this.option, option);\n  };\n  ScrollableLegendModel.type = 'legend.scroll';\n  ScrollableLegendModel.defaultOption = inheritDefaultOption(LegendModel.defaultOption, {\n    scrollDataIndex: 0,\n    pageButtonItemGap: 5,\n    pageButtonGap: null,\n    pageButtonPosition: 'end',\n    pageFormatter: '{current}/{total}',\n    pageIcons: {\n      horizontal: ['M0,0L12,-10L12,10z', 'M0,0L-12,-10L-12,10z'],\n      vertical: ['M0,0L20,0L10,-20z', 'M0,0L20,0L10,20z']\n    },\n    pageIconColor: '#2f4554',\n    pageIconInactiveColor: '#aaa',\n    pageIconSize: 15,\n    pageTextStyle: {\n      color: '#333'\n    },\n    animationDurationUpdate: 800\n  });\n  return ScrollableLegendModel;\n}(LegendModel);\n;\n// Do not `ignoreSize` to enable setting {left: 10, right: 10}.\nfunction mergeAndNormalizeLayoutParams(legendModel, target, raw) {\n  var orient = legendModel.getOrient();\n  var ignoreSize = [1, 1];\n  ignoreSize[orient.index] = 0;\n  mergeLayoutParam(target, raw, {\n    type: 'box',\n    ignoreSize: !!ignoreSize\n  });\n}\nexport default ScrollableLegendModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Separate legend and scrollable legend to reduce package size.\n */\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as layoutUtil from '../../util/layout.js';\nimport LegendView from './LegendView.js';\nvar Group = graphic.Group;\nvar WH = ['width', 'height'];\nvar XY = ['x', 'y'];\nvar ScrollableLegendView = /** @class */function (_super) {\n  __extends(ScrollableLegendView, _super);\n  function ScrollableLegendView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ScrollableLegendView.type;\n    _this.newlineDisabled = true;\n    _this._currentIndex = 0;\n    return _this;\n  }\n  ScrollableLegendView.prototype.init = function () {\n    _super.prototype.init.call(this);\n    this.group.add(this._containerGroup = new Group());\n    this._containerGroup.add(this.getContentGroup());\n    this.group.add(this._controllerGroup = new Group());\n  };\n  /**\n   * @override\n   */\n  ScrollableLegendView.prototype.resetInner = function () {\n    _super.prototype.resetInner.call(this);\n    this._controllerGroup.removeAll();\n    this._containerGroup.removeClipPath();\n    this._containerGroup.__rectSize = null;\n  };\n  /**\n   * @override\n   */\n  ScrollableLegendView.prototype.renderInner = function (itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition) {\n    var self = this;\n    // Render content items.\n    _super.prototype.renderInner.call(this, itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition);\n    var controllerGroup = this._controllerGroup;\n    // FIXME: support be 'auto' adapt to size number text length,\n    // e.g., '3/12345' should not overlap with the control arrow button.\n    var pageIconSize = legendModel.get('pageIconSize', true);\n    var pageIconSizeArr = zrUtil.isArray(pageIconSize) ? pageIconSize : [pageIconSize, pageIconSize];\n    createPageButton('pagePrev', 0);\n    var pageTextStyleModel = legendModel.getModel('pageTextStyle');\n    controllerGroup.add(new graphic.Text({\n      name: 'pageText',\n      style: {\n        // Placeholder to calculate a proper layout.\n        text: 'xx/xx',\n        fill: pageTextStyleModel.getTextColor(),\n        font: pageTextStyleModel.getFont(),\n        verticalAlign: 'middle',\n        align: 'center'\n      },\n      silent: true\n    }));\n    createPageButton('pageNext', 1);\n    function createPageButton(name, iconIdx) {\n      var pageDataIndexName = name + 'DataIndex';\n      var icon = graphic.createIcon(legendModel.get('pageIcons', true)[legendModel.getOrient().name][iconIdx], {\n        // Buttons will be created in each render, so we do not need\n        // to worry about avoiding using legendModel kept in scope.\n        onclick: zrUtil.bind(self._pageGo, self, pageDataIndexName, legendModel, api)\n      }, {\n        x: -pageIconSizeArr[0] / 2,\n        y: -pageIconSizeArr[1] / 2,\n        width: pageIconSizeArr[0],\n        height: pageIconSizeArr[1]\n      });\n      icon.name = name;\n      controllerGroup.add(icon);\n    }\n  };\n  /**\n   * @override\n   */\n  ScrollableLegendView.prototype.layoutInner = function (legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition) {\n    var selectorGroup = this.getSelectorGroup();\n    var orientIdx = legendModel.getOrient().index;\n    var wh = WH[orientIdx];\n    var xy = XY[orientIdx];\n    var hw = WH[1 - orientIdx];\n    var yx = XY[1 - orientIdx];\n    selector && layoutUtil.box(\n    // Buttons in selectorGroup always layout horizontally\n    'horizontal', selectorGroup, legendModel.get('selectorItemGap', true));\n    var selectorButtonGap = legendModel.get('selectorButtonGap', true);\n    var selectorRect = selectorGroup.getBoundingRect();\n    var selectorPos = [-selectorRect.x, -selectorRect.y];\n    var processMaxSize = zrUtil.clone(maxSize);\n    selector && (processMaxSize[wh] = maxSize[wh] - selectorRect[wh] - selectorButtonGap);\n    var mainRect = this._layoutContentAndController(legendModel, isFirstRender, processMaxSize, orientIdx, wh, hw, yx, xy);\n    if (selector) {\n      if (selectorPosition === 'end') {\n        selectorPos[orientIdx] += mainRect[wh] + selectorButtonGap;\n      } else {\n        var offset = selectorRect[wh] + selectorButtonGap;\n        selectorPos[orientIdx] -= offset;\n        mainRect[xy] -= offset;\n      }\n      mainRect[wh] += selectorRect[wh] + selectorButtonGap;\n      selectorPos[1 - orientIdx] += mainRect[yx] + mainRect[hw] / 2 - selectorRect[hw] / 2;\n      mainRect[hw] = Math.max(mainRect[hw], selectorRect[hw]);\n      mainRect[yx] = Math.min(mainRect[yx], selectorRect[yx] + selectorPos[1 - orientIdx]);\n      selectorGroup.x = selectorPos[0];\n      selectorGroup.y = selectorPos[1];\n      selectorGroup.markRedraw();\n    }\n    return mainRect;\n  };\n  ScrollableLegendView.prototype._layoutContentAndController = function (legendModel, isFirstRender, maxSize, orientIdx, wh, hw, yx, xy) {\n    var contentGroup = this.getContentGroup();\n    var containerGroup = this._containerGroup;\n    var controllerGroup = this._controllerGroup;\n    // Place items in contentGroup.\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), !orientIdx ? null : maxSize.width, orientIdx ? null : maxSize.height);\n    layoutUtil.box(\n    // Buttons in controller are layout always horizontally.\n    'horizontal', controllerGroup, legendModel.get('pageButtonItemGap', true));\n    var contentRect = contentGroup.getBoundingRect();\n    var controllerRect = controllerGroup.getBoundingRect();\n    var showController = this._showController = contentRect[wh] > maxSize[wh];\n    // In case that the inner elements of contentGroup layout do not based on [0, 0]\n    var contentPos = [-contentRect.x, -contentRect.y];\n    // Remain contentPos when scroll animation perfroming.\n    // If first rendering, `contentGroup.position` is [0, 0], which\n    // does not make sense and may cause unexepcted animation if adopted.\n    if (!isFirstRender) {\n      contentPos[orientIdx] = contentGroup[xy];\n    }\n    // Layout container group based on 0.\n    var containerPos = [0, 0];\n    var controllerPos = [-controllerRect.x, -controllerRect.y];\n    var pageButtonGap = zrUtil.retrieve2(legendModel.get('pageButtonGap', true), legendModel.get('itemGap', true));\n    // Place containerGroup and controllerGroup and contentGroup.\n    if (showController) {\n      var pageButtonPosition = legendModel.get('pageButtonPosition', true);\n      // controller is on the right / bottom.\n      if (pageButtonPosition === 'end') {\n        controllerPos[orientIdx] += maxSize[wh] - controllerRect[wh];\n      }\n      // controller is on the left / top.\n      else {\n        containerPos[orientIdx] += controllerRect[wh] + pageButtonGap;\n      }\n    }\n    // Always align controller to content as 'middle'.\n    controllerPos[1 - orientIdx] += contentRect[hw] / 2 - controllerRect[hw] / 2;\n    contentGroup.setPosition(contentPos);\n    containerGroup.setPosition(containerPos);\n    controllerGroup.setPosition(controllerPos);\n    // Calculate `mainRect` and set `clipPath`.\n    // mainRect should not be calculated by `this.group.getBoundingRect()`\n    // for sake of the overflow.\n    var mainRect = {\n      x: 0,\n      y: 0\n    };\n    // Consider content may be overflow (should be clipped).\n    mainRect[wh] = showController ? maxSize[wh] : contentRect[wh];\n    mainRect[hw] = Math.max(contentRect[hw], controllerRect[hw]);\n    // `containerRect[yx] + containerPos[1 - orientIdx]` is 0.\n    mainRect[yx] = Math.min(0, controllerRect[yx] + controllerPos[1 - orientIdx]);\n    containerGroup.__rectSize = maxSize[wh];\n    if (showController) {\n      var clipShape = {\n        x: 0,\n        y: 0\n      };\n      clipShape[wh] = Math.max(maxSize[wh] - controllerRect[wh] - pageButtonGap, 0);\n      clipShape[hw] = mainRect[hw];\n      containerGroup.setClipPath(new graphic.Rect({\n        shape: clipShape\n      }));\n      // Consider content may be larger than container, container rect\n      // can not be obtained from `containerGroup.getBoundingRect()`.\n      containerGroup.__rectSize = clipShape[wh];\n    } else {\n      // Do not remove or ignore controller. Keep them set as placeholders.\n      controllerGroup.eachChild(function (child) {\n        child.attr({\n          invisible: true,\n          silent: true\n        });\n      });\n    }\n    // Content translate animation.\n    var pageInfo = this._getPageInfo(legendModel);\n    pageInfo.pageIndex != null && graphic.updateProps(contentGroup, {\n      x: pageInfo.contentPosition[0],\n      y: pageInfo.contentPosition[1]\n    },\n    // When switch from \"show controller\" to \"not show controller\", view should be\n    // updated immediately without animation, otherwise causes weird effect.\n    showController ? legendModel : null);\n    this._updatePageInfoView(legendModel, pageInfo);\n    return mainRect;\n  };\n  ScrollableLegendView.prototype._pageGo = function (to, legendModel, api) {\n    var scrollDataIndex = this._getPageInfo(legendModel)[to];\n    scrollDataIndex != null && api.dispatchAction({\n      type: 'legendScroll',\n      scrollDataIndex: scrollDataIndex,\n      legendId: legendModel.id\n    });\n  };\n  ScrollableLegendView.prototype._updatePageInfoView = function (legendModel, pageInfo) {\n    var controllerGroup = this._controllerGroup;\n    zrUtil.each(['pagePrev', 'pageNext'], function (name) {\n      var key = name + 'DataIndex';\n      var canJump = pageInfo[key] != null;\n      var icon = controllerGroup.childOfName(name);\n      if (icon) {\n        icon.setStyle('fill', canJump ? legendModel.get('pageIconColor', true) : legendModel.get('pageIconInactiveColor', true));\n        icon.cursor = canJump ? 'pointer' : 'default';\n      }\n    });\n    var pageText = controllerGroup.childOfName('pageText');\n    var pageFormatter = legendModel.get('pageFormatter');\n    var pageIndex = pageInfo.pageIndex;\n    var current = pageIndex != null ? pageIndex + 1 : 0;\n    var total = pageInfo.pageCount;\n    pageText && pageFormatter && pageText.setStyle('text', zrUtil.isString(pageFormatter) ? pageFormatter.replace('{current}', current == null ? '' : current + '').replace('{total}', total == null ? '' : total + '') : pageFormatter({\n      current: current,\n      total: total\n    }));\n  };\n  /**\n   *  contentPosition: Array.<number>, null when data item not found.\n   *  pageIndex: number, null when data item not found.\n   *  pageCount: number, always be a number, can be 0.\n   *  pagePrevDataIndex: number, null when no previous page.\n   *  pageNextDataIndex: number, null when no next page.\n   * }\n   */\n  ScrollableLegendView.prototype._getPageInfo = function (legendModel) {\n    var scrollDataIndex = legendModel.get('scrollDataIndex', true);\n    var contentGroup = this.getContentGroup();\n    var containerRectSize = this._containerGroup.__rectSize;\n    var orientIdx = legendModel.getOrient().index;\n    var wh = WH[orientIdx];\n    var xy = XY[orientIdx];\n    var targetItemIndex = this._findTargetItemIndex(scrollDataIndex);\n    var children = contentGroup.children();\n    var targetItem = children[targetItemIndex];\n    var itemCount = children.length;\n    var pCount = !itemCount ? 0 : 1;\n    var result = {\n      contentPosition: [contentGroup.x, contentGroup.y],\n      pageCount: pCount,\n      pageIndex: pCount - 1,\n      pagePrevDataIndex: null,\n      pageNextDataIndex: null\n    };\n    if (!targetItem) {\n      return result;\n    }\n    var targetItemInfo = getItemInfo(targetItem);\n    result.contentPosition[orientIdx] = -targetItemInfo.s;\n    // Strategy:\n    // (1) Always align based on the left/top most item.\n    // (2) It is user-friendly that the last item shown in the\n    // current window is shown at the begining of next window.\n    // Otherwise if half of the last item is cut by the window,\n    // it will have no chance to display entirely.\n    // (3) Consider that item size probably be different, we\n    // have calculate pageIndex by size rather than item index,\n    // and we can not get page index directly by division.\n    // (4) The window is to narrow to contain more than\n    // one item, we should make sure that the page can be fliped.\n    for (var i = targetItemIndex + 1, winStartItemInfo = targetItemInfo, winEndItemInfo = targetItemInfo, currItemInfo = null; i <= itemCount; ++i) {\n      currItemInfo = getItemInfo(children[i]);\n      if (\n      // Half of the last item is out of the window.\n      !currItemInfo && winEndItemInfo.e > winStartItemInfo.s + containerRectSize\n      // If the current item does not intersect with the window, the new page\n      // can be started at the current item or the last item.\n      || currItemInfo && !intersect(currItemInfo, winStartItemInfo.s)) {\n        if (winEndItemInfo.i > winStartItemInfo.i) {\n          winStartItemInfo = winEndItemInfo;\n        } else {\n          // e.g., when page size is smaller than item size.\n          winStartItemInfo = currItemInfo;\n        }\n        if (winStartItemInfo) {\n          if (result.pageNextDataIndex == null) {\n            result.pageNextDataIndex = winStartItemInfo.i;\n          }\n          ++result.pageCount;\n        }\n      }\n      winEndItemInfo = currItemInfo;\n    }\n    for (var i = targetItemIndex - 1, winStartItemInfo = targetItemInfo, winEndItemInfo = targetItemInfo, currItemInfo = null; i >= -1; --i) {\n      currItemInfo = getItemInfo(children[i]);\n      if (\n      // If the the end item does not intersect with the window started\n      // from the current item, a page can be settled.\n      (!currItemInfo || !intersect(winEndItemInfo, currItemInfo.s)\n      // e.g., when page size is smaller than item size.\n      ) && winStartItemInfo.i < winEndItemInfo.i) {\n        winEndItemInfo = winStartItemInfo;\n        if (result.pagePrevDataIndex == null) {\n          result.pagePrevDataIndex = winStartItemInfo.i;\n        }\n        ++result.pageCount;\n        ++result.pageIndex;\n      }\n      winStartItemInfo = currItemInfo;\n    }\n    return result;\n    function getItemInfo(el) {\n      if (el) {\n        var itemRect = el.getBoundingRect();\n        var start = itemRect[xy] + el[xy];\n        return {\n          s: start,\n          e: start + itemRect[wh],\n          i: el.__legendDataIndex\n        };\n      }\n    }\n    function intersect(itemInfo, winStart) {\n      return itemInfo.e >= winStart && itemInfo.s <= winStart + containerRectSize;\n    }\n  };\n  ScrollableLegendView.prototype._findTargetItemIndex = function (targetDataIndex) {\n    if (!this._showController) {\n      return 0;\n    }\n    var index;\n    var contentGroup = this.getContentGroup();\n    var defaultIndex;\n    contentGroup.eachChild(function (child, idx) {\n      var legendDataIdx = child.__legendDataIndex;\n      // FIXME\n      // If the given targetDataIndex (from model) is illegal,\n      // we use defaultIndex. But the index on the legend model and\n      // action payload is still illegal. That case will not be\n      // changed until some scenario requires.\n      if (defaultIndex == null && legendDataIdx != null) {\n        defaultIndex = idx;\n      }\n      if (legendDataIdx === targetDataIndex) {\n        index = idx;\n      }\n    });\n    return index != null ? index : defaultIndex;\n  };\n  ScrollableLegendView.type = 'legend.scroll';\n  return ScrollableLegendView;\n}(LegendView);\nexport default ScrollableLegendView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function installScrollableLegendAction(registers) {\n  /**\n   * @event legendScroll\n   * @type {Object}\n   * @property {string} type 'legendScroll'\n   * @property {string} scrollDataIndex\n   */\n  registers.registerAction('legendScroll', 'legendscroll', function (payload, ecModel) {\n    var scrollDataIndex = payload.scrollDataIndex;\n    scrollDataIndex != null && ecModel.eachComponent({\n      mainType: 'legend',\n      subType: 'scroll',\n      query: payload\n    }, function (legendModel) {\n      legendModel.setScrollDataIndex(scrollDataIndex);\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension.js';\nimport { install as installLegendPlain } from './installLegendPlain.js';\nimport ScrollableLegendModel from './ScrollableLegendModel.js';\nimport ScrollableLegendView from './ScrollableLegendView.js';\nimport installScrollableLegendAction from './scrollableLegendAction.js';\nexport function install(registers) {\n  use(installLegendPlain);\n  registers.registerComponentModel(ScrollableLegendModel);\n  registers.registerComponentView(ScrollableLegendView);\n  installScrollableLegendAction(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension.js';\nimport { install as installLegendPlain } from './installLegendPlain.js';\nimport { install as installLegendScroll } from './installLegendScroll.js';\nexport function install(registers) {\n  use(installLegendPlain);\n  use(installLegendScroll);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport env from 'zrender/lib/core/env.js';\nimport { DataFormatMixin } from '../../model/mixin/dataFormat.js';\nimport ComponentModel from '../../model/Component.js';\nimport { makeInner, defaultEmphasis } from '../../util/model.js';\nimport { createTooltipMarkup } from '../tooltip/tooltipMarkup.js';\nfunction fillLabel(opt) {\n  defaultEmphasis(opt, 'label', ['show']);\n}\n// { [componentType]: MarkerModel }\nvar inner = makeInner();\nvar MarkerModel = /** @class */function (_super) {\n  __extends(MarkerModel, _super);\n  function MarkerModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MarkerModel.type;\n    /**\n     * If marker model is created by self from series\n     */\n    _this.createdBySelf = false;\n    return _this;\n  }\n  /**\n   * @overrite\n   */\n  MarkerModel.prototype.init = function (option, parentModel, ecModel) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (this.type === 'marker') {\n        throw new Error('Marker component is abstract component. Use markLine, markPoint, markArea instead.');\n      }\n    }\n    this.mergeDefaultAndTheme(option, ecModel);\n    this._mergeOption(option, ecModel, false, true);\n  };\n  MarkerModel.prototype.isAnimationEnabled = function () {\n    if (env.node) {\n      return false;\n    }\n    var hostSeries = this.__hostSeries;\n    return this.getShallow('animation') && hostSeries && hostSeries.isAnimationEnabled();\n  };\n  /**\n   * @overrite\n   */\n  MarkerModel.prototype.mergeOption = function (newOpt, ecModel) {\n    this._mergeOption(newOpt, ecModel, false, false);\n  };\n  MarkerModel.prototype._mergeOption = function (newOpt, ecModel, createdBySelf, isInit) {\n    var componentType = this.mainType;\n    if (!createdBySelf) {\n      ecModel.eachSeries(function (seriesModel) {\n        // mainType can be markPoint, markLine, markArea\n        var markerOpt = seriesModel.get(this.mainType, true);\n        var markerModel = inner(seriesModel)[componentType];\n        if (!markerOpt || !markerOpt.data) {\n          inner(seriesModel)[componentType] = null;\n          return;\n        }\n        if (!markerModel) {\n          if (isInit) {\n            // Default label emphasis `position` and `show`\n            fillLabel(markerOpt);\n          }\n          zrUtil.each(markerOpt.data, function (item) {\n            // FIXME Overwrite fillLabel method ?\n            if (item instanceof Array) {\n              fillLabel(item[0]);\n              fillLabel(item[1]);\n            } else {\n              fillLabel(item);\n            }\n          });\n          markerModel = this.createMarkerModelFromSeries(markerOpt, this, ecModel);\n          // markerModel = new ImplementedMarkerModel(\n          //     markerOpt, this, ecModel\n          // );\n          zrUtil.extend(markerModel, {\n            mainType: this.mainType,\n            // Use the same series index and name\n            seriesIndex: seriesModel.seriesIndex,\n            name: seriesModel.name,\n            createdBySelf: true\n          });\n          markerModel.__hostSeries = seriesModel;\n        } else {\n          markerModel._mergeOption(markerOpt, ecModel, true);\n        }\n        inner(seriesModel)[componentType] = markerModel;\n      }, this);\n    }\n  };\n  MarkerModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    var data = this.getData();\n    var value = this.getRawValue(dataIndex);\n    var itemName = data.getName(dataIndex);\n    return createTooltipMarkup('section', {\n      header: this.name,\n      blocks: [createTooltipMarkup('nameValue', {\n        name: itemName,\n        value: value,\n        noName: !itemName,\n        noValue: value == null\n      })]\n    });\n  };\n  MarkerModel.prototype.getData = function () {\n    return this._data;\n  };\n  MarkerModel.prototype.setData = function (data) {\n    this._data = data;\n  };\n  MarkerModel.prototype.getDataParams = function (dataIndex, dataType) {\n    var params = DataFormatMixin.prototype.getDataParams.call(this, dataIndex, dataType);\n    var hostSeries = this.__hostSeries;\n    if (hostSeries) {\n      params.seriesId = hostSeries.id;\n      params.seriesName = hostSeries.name;\n      params.seriesType = hostSeries.subType;\n    }\n    return params;\n  };\n  MarkerModel.getMarkerModelFromSeries = function (seriesModel,\n  // Support three types of markers. Strict check.\n  componentType) {\n    return inner(seriesModel)[componentType];\n  };\n  MarkerModel.type = 'marker';\n  MarkerModel.dependencies = ['series', 'grid', 'polar', 'geo'];\n  return MarkerModel;\n}(ComponentModel);\nzrUtil.mixin(MarkerModel, DataFormatMixin.prototype);\nexport default MarkerModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentView from '../../view/Component.js';\nimport { createHashMap, each } from 'zrender/lib/core/util.js';\nimport MarkerModel from './MarkerModel.js';\nimport { makeInner } from '../../util/model.js';\nimport { enterBlur, leaveBlur } from '../../util/states.js';\nvar inner = makeInner();\nvar MarkerView = /** @class */function (_super) {\n  __extends(MarkerView, _super);\n  function MarkerView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MarkerView.type;\n    return _this;\n  }\n  MarkerView.prototype.init = function () {\n    this.markerGroupMap = createHashMap();\n  };\n  MarkerView.prototype.render = function (markerModel, ecModel, api) {\n    var _this = this;\n    var markerGroupMap = this.markerGroupMap;\n    markerGroupMap.each(function (item) {\n      inner(item).keep = false;\n    });\n    ecModel.eachSeries(function (seriesModel) {\n      var markerModel = MarkerModel.getMarkerModelFromSeries(seriesModel, _this.type);\n      markerModel && _this.renderSeries(seriesModel, markerModel, ecModel, api);\n    });\n    markerGroupMap.each(function (item) {\n      !inner(item).keep && _this.group.remove(item.group);\n    });\n  };\n  MarkerView.prototype.markKeep = function (drawGroup) {\n    inner(drawGroup).keep = true;\n  };\n  MarkerView.prototype.toggleBlurSeries = function (seriesModelList, isBlur) {\n    var _this = this;\n    each(seriesModelList, function (seriesModel) {\n      var markerModel = MarkerModel.getMarkerModelFromSeries(seriesModel, _this.type);\n      if (markerModel) {\n        var data = markerModel.getData();\n        data.eachItemGraphicEl(function (el) {\n          if (el) {\n            isBlur ? enterBlur(el) : leaveBlur(el);\n          }\n        });\n      }\n    });\n  };\n  MarkerView.type = 'marker';\n  return MarkerView;\n}(ComponentView);\nexport default MarkerView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isArray } from 'zrender/lib/core/util.js';\nexport default function checkMarkerInSeries(seriesOpts, markerType) {\n  if (!seriesOpts) {\n    return false;\n  }\n  var seriesOptArr = isArray(seriesOpts) ? seriesOpts : [seriesOpts];\n  for (var idx = 0; idx < seriesOptArr.length; idx++) {\n    if (seriesOptArr[idx] && seriesOptArr[idx][markerType]) {\n      return true;\n    }\n  }\n  return false;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport MarkerModel from './MarkerModel.js';\nvar MarkAreaModel = /** @class */function (_super) {\n  __extends(MarkAreaModel, _super);\n  function MarkAreaModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MarkAreaModel.type;\n    return _this;\n  }\n  MarkAreaModel.prototype.createMarkerModelFromSeries = function (markerOpt, masterMarkerModel, ecModel) {\n    return new MarkAreaModel(markerOpt, masterMarkerModel, ecModel);\n  };\n  MarkAreaModel.type = 'markArea';\n  MarkAreaModel.defaultOption = {\n    // zlevel: 0,\n    // PENDING\n    z: 1,\n    tooltip: {\n      trigger: 'item'\n    },\n    // markArea should fixed on the coordinate system\n    animation: false,\n    label: {\n      show: true,\n      position: 'top'\n    },\n    itemStyle: {\n      // color and borderColor default to use color from series\n      // color: 'auto'\n      // borderColor: 'auto'\n      borderWidth: 0\n    },\n    emphasis: {\n      label: {\n        show: true,\n        position: 'top'\n      }\n    }\n  };\n  return MarkAreaModel;\n}(MarkerModel);\nexport default MarkAreaModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n// TODO Optimize on polar\nimport * as colorUtil from 'zrender/lib/tool/color.js';\nimport SeriesData from '../../data/SeriesData.js';\nimport * as numberUtil from '../../util/number.js';\nimport * as graphic from '../../util/graphic.js';\nimport { toggleHoverEmphasis, setStatesStylesFromModel } from '../../util/states.js';\nimport * as markerHelper from './markerHelper.js';\nimport MarkerView from './MarkerView.js';\nimport { retrieve, mergeAll, map, curry, filter, extend, isString } from 'zrender/lib/core/util.js';\nimport { isCoordinateSystemType } from '../../coord/CoordinateSystem.js';\nimport MarkerModel from './MarkerModel.js';\nimport { makeInner } from '../../util/model.js';\nimport { getVisualFromData } from '../../visual/helper.js';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { parseDataValue } from '../../data/helper/dataValueHelper.js';\nvar inner = makeInner();\nvar markAreaTransform = function (seriesModel, coordSys, maModel, item) {\n  // item may be null\n  var item0 = item[0];\n  var item1 = item[1];\n  if (!item0 || !item1) {\n    return;\n  }\n  var lt = markerHelper.dataTransform(seriesModel, item0);\n  var rb = markerHelper.dataTransform(seriesModel, item1);\n  // FIXME make sure lt is less than rb\n  var ltCoord = lt.coord;\n  var rbCoord = rb.coord;\n  ltCoord[0] = retrieve(ltCoord[0], -Infinity);\n  ltCoord[1] = retrieve(ltCoord[1], -Infinity);\n  rbCoord[0] = retrieve(rbCoord[0], Infinity);\n  rbCoord[1] = retrieve(rbCoord[1], Infinity);\n  // Merge option into one\n  var result = mergeAll([{}, lt, rb]);\n  result.coord = [lt.coord, rb.coord];\n  result.x0 = lt.x;\n  result.y0 = lt.y;\n  result.x1 = rb.x;\n  result.y1 = rb.y;\n  return result;\n};\nfunction isInfinity(val) {\n  return !isNaN(val) && !isFinite(val);\n}\n// If a markArea has one dim\nfunction ifMarkAreaHasOnlyDim(dimIndex, fromCoord, toCoord, coordSys) {\n  var otherDimIndex = 1 - dimIndex;\n  return isInfinity(fromCoord[otherDimIndex]) && isInfinity(toCoord[otherDimIndex]);\n}\nfunction markAreaFilter(coordSys, item) {\n  var fromCoord = item.coord[0];\n  var toCoord = item.coord[1];\n  var item0 = {\n    coord: fromCoord,\n    x: item.x0,\n    y: item.y0\n  };\n  var item1 = {\n    coord: toCoord,\n    x: item.x1,\n    y: item.y1\n  };\n  if (isCoordinateSystemType(coordSys, 'cartesian2d')) {\n    // In case\n    // {\n    //  markArea: {\n    //    data: [{ yAxis: 2 }]\n    //  }\n    // }\n    if (fromCoord && toCoord && (ifMarkAreaHasOnlyDim(1, fromCoord, toCoord, coordSys) || ifMarkAreaHasOnlyDim(0, fromCoord, toCoord, coordSys))) {\n      return true;\n    }\n    // Directly returning true may also do the work,\n    // because markArea will not be shown automatically\n    // when it's not included in coordinate system.\n    // But filtering ahead can avoid keeping rendering markArea\n    // when there are too many of them.\n    return markerHelper.zoneFilter(coordSys, item0, item1);\n  }\n  return markerHelper.dataFilter(coordSys, item0) || markerHelper.dataFilter(coordSys, item1);\n}\n// dims can be ['x0', 'y0'], ['x1', 'y1'], ['x0', 'y1'], ['x1', 'y0']\nfunction getSingleMarkerEndPoint(data, idx, dims, seriesModel, api) {\n  var coordSys = seriesModel.coordinateSystem;\n  var itemModel = data.getItemModel(idx);\n  var point;\n  var xPx = numberUtil.parsePercent(itemModel.get(dims[0]), api.getWidth());\n  var yPx = numberUtil.parsePercent(itemModel.get(dims[1]), api.getHeight());\n  if (!isNaN(xPx) && !isNaN(yPx)) {\n    point = [xPx, yPx];\n  } else {\n    // Chart like bar may have there own marker positioning logic\n    if (seriesModel.getMarkerPosition) {\n      // Consider the case that user input the right-bottom point first\n      // Pick the larger x and y as 'x1' and 'y1'\n      var pointValue0 = data.getValues(['x0', 'y0'], idx);\n      var pointValue1 = data.getValues(['x1', 'y1'], idx);\n      var clampPointValue0 = coordSys.clampData(pointValue0);\n      var clampPointValue1 = coordSys.clampData(pointValue1);\n      var pointValue = [];\n      if (dims[0] === 'x0') {\n        pointValue[0] = clampPointValue0[0] > clampPointValue1[0] ? pointValue1[0] : pointValue0[0];\n      } else {\n        pointValue[0] = clampPointValue0[0] > clampPointValue1[0] ? pointValue0[0] : pointValue1[0];\n      }\n      if (dims[1] === 'y0') {\n        pointValue[1] = clampPointValue0[1] > clampPointValue1[1] ? pointValue1[1] : pointValue0[1];\n      } else {\n        pointValue[1] = clampPointValue0[1] > clampPointValue1[1] ? pointValue0[1] : pointValue1[1];\n      }\n      // Use the getMarkerPosition\n      point = seriesModel.getMarkerPosition(pointValue, dims, true);\n    } else {\n      var x = data.get(dims[0], idx);\n      var y = data.get(dims[1], idx);\n      var pt = [x, y];\n      coordSys.clampData && coordSys.clampData(pt, pt);\n      point = coordSys.dataToPoint(pt, true);\n    }\n    if (isCoordinateSystemType(coordSys, 'cartesian2d')) {\n      // TODO: TYPE ts@4.1 may still infer it as Axis instead of Axis2D. Not sure if it's a bug\n      var xAxis = coordSys.getAxis('x');\n      var yAxis = coordSys.getAxis('y');\n      var x = data.get(dims[0], idx);\n      var y = data.get(dims[1], idx);\n      if (isInfinity(x)) {\n        point[0] = xAxis.toGlobalCoord(xAxis.getExtent()[dims[0] === 'x0' ? 0 : 1]);\n      } else if (isInfinity(y)) {\n        point[1] = yAxis.toGlobalCoord(yAxis.getExtent()[dims[1] === 'y0' ? 0 : 1]);\n      }\n    }\n    // Use x, y if has any\n    if (!isNaN(xPx)) {\n      point[0] = xPx;\n    }\n    if (!isNaN(yPx)) {\n      point[1] = yPx;\n    }\n  }\n  return point;\n}\nexport var dimPermutations = [['x0', 'y0'], ['x1', 'y0'], ['x1', 'y1'], ['x0', 'y1']];\nvar MarkAreaView = /** @class */function (_super) {\n  __extends(MarkAreaView, _super);\n  function MarkAreaView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MarkAreaView.type;\n    return _this;\n  }\n  MarkAreaView.prototype.updateTransform = function (markAreaModel, ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      var maModel = MarkerModel.getMarkerModelFromSeries(seriesModel, 'markArea');\n      if (maModel) {\n        var areaData_1 = maModel.getData();\n        areaData_1.each(function (idx) {\n          var points = map(dimPermutations, function (dim) {\n            return getSingleMarkerEndPoint(areaData_1, idx, dim, seriesModel, api);\n          });\n          // Layout\n          areaData_1.setItemLayout(idx, points);\n          var el = areaData_1.getItemGraphicEl(idx);\n          el.setShape('points', points);\n        });\n      }\n    }, this);\n  };\n  MarkAreaView.prototype.renderSeries = function (seriesModel, maModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesId = seriesModel.id;\n    var seriesData = seriesModel.getData();\n    var areaGroupMap = this.markerGroupMap;\n    var polygonGroup = areaGroupMap.get(seriesId) || areaGroupMap.set(seriesId, {\n      group: new graphic.Group()\n    });\n    this.group.add(polygonGroup.group);\n    this.markKeep(polygonGroup);\n    var areaData = createList(coordSys, seriesModel, maModel);\n    // Line data for tooltip and formatter\n    maModel.setData(areaData);\n    // Update visual and layout of line\n    areaData.each(function (idx) {\n      // Layout\n      var points = map(dimPermutations, function (dim) {\n        return getSingleMarkerEndPoint(areaData, idx, dim, seriesModel, api);\n      });\n      var xAxisScale = coordSys.getAxis('x').scale;\n      var yAxisScale = coordSys.getAxis('y').scale;\n      var xAxisExtent = xAxisScale.getExtent();\n      var yAxisExtent = yAxisScale.getExtent();\n      var xPointExtent = [xAxisScale.parse(areaData.get('x0', idx)), xAxisScale.parse(areaData.get('x1', idx))];\n      var yPointExtent = [yAxisScale.parse(areaData.get('y0', idx)), yAxisScale.parse(areaData.get('y1', idx))];\n      numberUtil.asc(xPointExtent);\n      numberUtil.asc(yPointExtent);\n      var overlapped = !(xAxisExtent[0] > xPointExtent[1] || xAxisExtent[1] < xPointExtent[0] || yAxisExtent[0] > yPointExtent[1] || yAxisExtent[1] < yPointExtent[0]);\n      // If none of the area is inside coordSys, allClipped is set to be true\n      // in layout so that label will not be displayed. See #12591\n      var allClipped = !overlapped;\n      areaData.setItemLayout(idx, {\n        points: points,\n        allClipped: allClipped\n      });\n      var style = areaData.getItemModel(idx).getModel('itemStyle').getItemStyle();\n      var color = getVisualFromData(seriesData, 'color');\n      if (!style.fill) {\n        style.fill = color;\n        if (isString(style.fill)) {\n          style.fill = colorUtil.modifyAlpha(style.fill, 0.4);\n        }\n      }\n      if (!style.stroke) {\n        style.stroke = color;\n      }\n      // Visual\n      areaData.setItemVisual(idx, 'style', style);\n    });\n    areaData.diff(inner(polygonGroup).data).add(function (idx) {\n      var layout = areaData.getItemLayout(idx);\n      if (!layout.allClipped) {\n        var polygon = new graphic.Polygon({\n          shape: {\n            points: layout.points\n          }\n        });\n        areaData.setItemGraphicEl(idx, polygon);\n        polygonGroup.group.add(polygon);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var polygon = inner(polygonGroup).data.getItemGraphicEl(oldIdx);\n      var layout = areaData.getItemLayout(newIdx);\n      if (!layout.allClipped) {\n        if (polygon) {\n          graphic.updateProps(polygon, {\n            shape: {\n              points: layout.points\n            }\n          }, maModel, newIdx);\n        } else {\n          polygon = new graphic.Polygon({\n            shape: {\n              points: layout.points\n            }\n          });\n        }\n        areaData.setItemGraphicEl(newIdx, polygon);\n        polygonGroup.group.add(polygon);\n      } else if (polygon) {\n        polygonGroup.group.remove(polygon);\n      }\n    }).remove(function (idx) {\n      var polygon = inner(polygonGroup).data.getItemGraphicEl(idx);\n      polygonGroup.group.remove(polygon);\n    }).execute();\n    areaData.eachItemGraphicEl(function (polygon, idx) {\n      var itemModel = areaData.getItemModel(idx);\n      var style = areaData.getItemVisual(idx, 'style');\n      polygon.useStyle(areaData.getItemVisual(idx, 'style'));\n      setLabelStyle(polygon, getLabelStatesModels(itemModel), {\n        labelFetcher: maModel,\n        labelDataIndex: idx,\n        defaultText: areaData.getName(idx) || '',\n        inheritColor: isString(style.fill) ? colorUtil.modifyAlpha(style.fill, 1) : '#000'\n      });\n      setStatesStylesFromModel(polygon, itemModel);\n      toggleHoverEmphasis(polygon, null, null, itemModel.get(['emphasis', 'disabled']));\n      getECData(polygon).dataModel = maModel;\n    });\n    inner(polygonGroup).data = areaData;\n    polygonGroup.group.silent = maModel.get('silent') || seriesModel.get('silent');\n  };\n  MarkAreaView.type = 'markArea';\n  return MarkAreaView;\n}(MarkerView);\nfunction createList(coordSys, seriesModel, maModel) {\n  var areaData;\n  var dataDims;\n  var dims = ['x0', 'y0', 'x1', 'y1'];\n  if (coordSys) {\n    var coordDimsInfos_1 = map(coordSys && coordSys.dimensions, function (coordDim) {\n      var data = seriesModel.getData();\n      var info = data.getDimensionInfo(data.mapDimension(coordDim)) || {};\n      // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n      return extend(extend({}, info), {\n        name: coordDim,\n        // DON'T use ordinalMeta to parse and collect ordinal.\n        ordinalMeta: null\n      });\n    });\n    dataDims = map(dims, function (dim, idx) {\n      return {\n        name: dim,\n        type: coordDimsInfos_1[idx % 2].type\n      };\n    });\n    areaData = new SeriesData(dataDims, maModel);\n  } else {\n    dataDims = [{\n      name: 'value',\n      type: 'float'\n    }];\n    areaData = new SeriesData(dataDims, maModel);\n  }\n  var optData = map(maModel.get('data'), curry(markAreaTransform, seriesModel, coordSys, maModel));\n  if (coordSys) {\n    optData = filter(optData, curry(markAreaFilter, coordSys));\n  }\n  var dimValueGetter = coordSys ? function (item, dimName, dataIndex, dimIndex) {\n    // TODO should convert to ParsedValue?\n    var rawVal = item.coord[Math.floor(dimIndex / 2)][dimIndex % 2];\n    return parseDataValue(rawVal, dataDims[dimIndex]);\n  } : function (item, dimName, dataIndex, dimIndex) {\n    return parseDataValue(item.value, dataDims[dimIndex]);\n  };\n  areaData.initData(optData, null, dimValueGetter);\n  areaData.hasItemOption = true;\n  return areaData;\n}\nexport default MarkAreaView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport checkMarkerInSeries from './checkMarkerInSeries.js';\nimport MarkAreaModel from './MarkAreaModel.js';\nimport MarkAreaView from './MarkAreaView.js';\nexport function install(registers) {\n  registers.registerComponentModel(MarkAreaModel);\n  registers.registerComponentView(MarkAreaView);\n  registers.registerPreprocessor(function (opt) {\n    if (checkMarkerInSeries(opt.series, 'markArea')) {\n      // Make sure markArea component is enabled\n      opt.markArea = opt.markArea || {};\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport MarkerModel from './MarkerModel.js';\nvar MarkLineModel = /** @class */function (_super) {\n  __extends(MarkLineModel, _super);\n  function MarkLineModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MarkLineModel.type;\n    return _this;\n  }\n  MarkLineModel.prototype.createMarkerModelFromSeries = function (markerOpt, masterMarkerModel, ecModel) {\n    return new MarkLineModel(markerOpt, masterMarkerModel, ecModel);\n  };\n  MarkLineModel.type = 'markLine';\n  MarkLineModel.defaultOption = {\n    // zlevel: 0,\n    z: 5,\n    symbol: ['circle', 'arrow'],\n    symbolSize: [8, 16],\n    // symbolRotate: 0,\n    symbolOffset: 0,\n    precision: 2,\n    tooltip: {\n      trigger: 'item'\n    },\n    label: {\n      show: true,\n      position: 'end',\n      distance: 5\n    },\n    lineStyle: {\n      type: 'dashed'\n    },\n    emphasis: {\n      label: {\n        show: true\n      },\n      lineStyle: {\n        width: 3\n      }\n    },\n    animationEasing: 'linear'\n  };\n  return MarkLineModel;\n}(MarkerModel);\nexport default MarkLineModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesData from '../../data/SeriesData.js';\nimport * as numberUtil from '../../util/number.js';\nimport * as markerHelper from './markerHelper.js';\nimport LineDraw from '../../chart/helper/LineDraw.js';\nimport MarkerView from './MarkerView.js';\nimport { getStackedDimension } from '../../data/helper/dataStackHelper.js';\nimport { isCoordinateSystemType } from '../../coord/CoordinateSystem.js';\nimport { getECData } from '../../util/innerStore.js';\nimport MarkerModel from './MarkerModel.js';\nimport { isArray, retrieve, retrieve2, clone, extend, logError, merge, map, curry, filter, isNumber } from 'zrender/lib/core/util.js';\nimport { makeInner } from '../../util/model.js';\nimport { getVisualFromData } from '../../visual/helper.js';\nvar inner = makeInner();\nvar markLineTransform = function (seriesModel, coordSys, mlModel, item) {\n  var data = seriesModel.getData();\n  var itemArray;\n  if (!isArray(item)) {\n    // Special type markLine like 'min', 'max', 'average', 'median'\n    var mlType = item.type;\n    if (mlType === 'min' || mlType === 'max' || mlType === 'average' || mlType === 'median'\n    // In case\n    // data: [{\n    //   yAxis: 10\n    // }]\n    || item.xAxis != null || item.yAxis != null) {\n      var valueAxis = void 0;\n      var value = void 0;\n      if (item.yAxis != null || item.xAxis != null) {\n        valueAxis = coordSys.getAxis(item.yAxis != null ? 'y' : 'x');\n        value = retrieve(item.yAxis, item.xAxis);\n      } else {\n        var axisInfo = markerHelper.getAxisInfo(item, data, coordSys, seriesModel);\n        valueAxis = axisInfo.valueAxis;\n        var valueDataDim = getStackedDimension(data, axisInfo.valueDataDim);\n        value = markerHelper.numCalculate(data, valueDataDim, mlType);\n      }\n      var valueIndex = valueAxis.dim === 'x' ? 0 : 1;\n      var baseIndex = 1 - valueIndex;\n      // Normized to 2d data with start and end point\n      var mlFrom = clone(item);\n      var mlTo = {\n        coord: []\n      };\n      mlFrom.type = null;\n      mlFrom.coord = [];\n      mlFrom.coord[baseIndex] = -Infinity;\n      mlTo.coord[baseIndex] = Infinity;\n      var precision = mlModel.get('precision');\n      if (precision >= 0 && isNumber(value)) {\n        value = +value.toFixed(Math.min(precision, 20));\n      }\n      mlFrom.coord[valueIndex] = mlTo.coord[valueIndex] = value;\n      itemArray = [mlFrom, mlTo, {\n        type: mlType,\n        valueIndex: item.valueIndex,\n        // Force to use the value of calculated value.\n        value: value\n      }];\n    } else {\n      // Invalid data\n      if (process.env.NODE_ENV !== 'production') {\n        logError('Invalid markLine data.');\n      }\n      itemArray = [];\n    }\n  } else {\n    itemArray = item;\n  }\n  var normalizedItem = [markerHelper.dataTransform(seriesModel, itemArray[0]), markerHelper.dataTransform(seriesModel, itemArray[1]), extend({}, itemArray[2])];\n  // Avoid line data type is extended by from(to) data type\n  normalizedItem[2].type = normalizedItem[2].type || null;\n  // Merge from option and to option into line option\n  merge(normalizedItem[2], normalizedItem[0]);\n  merge(normalizedItem[2], normalizedItem[1]);\n  return normalizedItem;\n};\nfunction isInfinity(val) {\n  return !isNaN(val) && !isFinite(val);\n}\n// If a markLine has one dim\nfunction ifMarkLineHasOnlyDim(dimIndex, fromCoord, toCoord, coordSys) {\n  var otherDimIndex = 1 - dimIndex;\n  var dimName = coordSys.dimensions[dimIndex];\n  return isInfinity(fromCoord[otherDimIndex]) && isInfinity(toCoord[otherDimIndex]) && fromCoord[dimIndex] === toCoord[dimIndex] && coordSys.getAxis(dimName).containData(fromCoord[dimIndex]);\n}\nfunction markLineFilter(coordSys, item) {\n  if (coordSys.type === 'cartesian2d') {\n    var fromCoord = item[0].coord;\n    var toCoord = item[1].coord;\n    // In case\n    // {\n    //  markLine: {\n    //    data: [{ yAxis: 2 }]\n    //  }\n    // }\n    if (fromCoord && toCoord && (ifMarkLineHasOnlyDim(1, fromCoord, toCoord, coordSys) || ifMarkLineHasOnlyDim(0, fromCoord, toCoord, coordSys))) {\n      return true;\n    }\n  }\n  return markerHelper.dataFilter(coordSys, item[0]) && markerHelper.dataFilter(coordSys, item[1]);\n}\nfunction updateSingleMarkerEndLayout(data, idx, isFrom, seriesModel, api) {\n  var coordSys = seriesModel.coordinateSystem;\n  var itemModel = data.getItemModel(idx);\n  var point;\n  var xPx = numberUtil.parsePercent(itemModel.get('x'), api.getWidth());\n  var yPx = numberUtil.parsePercent(itemModel.get('y'), api.getHeight());\n  if (!isNaN(xPx) && !isNaN(yPx)) {\n    point = [xPx, yPx];\n  } else {\n    // Chart like bar may have there own marker positioning logic\n    if (seriesModel.getMarkerPosition) {\n      // Use the getMarkerPosition\n      point = seriesModel.getMarkerPosition(data.getValues(data.dimensions, idx));\n    } else {\n      var dims = coordSys.dimensions;\n      var x = data.get(dims[0], idx);\n      var y = data.get(dims[1], idx);\n      point = coordSys.dataToPoint([x, y]);\n    }\n    // Expand line to the edge of grid if value on one axis is Inifnity\n    // In case\n    //  markLine: {\n    //    data: [{\n    //      yAxis: 2\n    //      // or\n    //      type: 'average'\n    //    }]\n    //  }\n    if (isCoordinateSystemType(coordSys, 'cartesian2d')) {\n      // TODO: TYPE ts@4.1 may still infer it as Axis instead of Axis2D. Not sure if it's a bug\n      var xAxis = coordSys.getAxis('x');\n      var yAxis = coordSys.getAxis('y');\n      var dims = coordSys.dimensions;\n      if (isInfinity(data.get(dims[0], idx))) {\n        point[0] = xAxis.toGlobalCoord(xAxis.getExtent()[isFrom ? 0 : 1]);\n      } else if (isInfinity(data.get(dims[1], idx))) {\n        point[1] = yAxis.toGlobalCoord(yAxis.getExtent()[isFrom ? 0 : 1]);\n      }\n    }\n    // Use x, y if has any\n    if (!isNaN(xPx)) {\n      point[0] = xPx;\n    }\n    if (!isNaN(yPx)) {\n      point[1] = yPx;\n    }\n  }\n  data.setItemLayout(idx, point);\n}\nvar MarkLineView = /** @class */function (_super) {\n  __extends(MarkLineView, _super);\n  function MarkLineView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MarkLineView.type;\n    return _this;\n  }\n  MarkLineView.prototype.updateTransform = function (markLineModel, ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      var mlModel = MarkerModel.getMarkerModelFromSeries(seriesModel, 'markLine');\n      if (mlModel) {\n        var mlData_1 = mlModel.getData();\n        var fromData_1 = inner(mlModel).from;\n        var toData_1 = inner(mlModel).to;\n        // Update visual and layout of from symbol and to symbol\n        fromData_1.each(function (idx) {\n          updateSingleMarkerEndLayout(fromData_1, idx, true, seriesModel, api);\n          updateSingleMarkerEndLayout(toData_1, idx, false, seriesModel, api);\n        });\n        // Update layout of line\n        mlData_1.each(function (idx) {\n          mlData_1.setItemLayout(idx, [fromData_1.getItemLayout(idx), toData_1.getItemLayout(idx)]);\n        });\n        this.markerGroupMap.get(seriesModel.id).updateLayout();\n      }\n    }, this);\n  };\n  MarkLineView.prototype.renderSeries = function (seriesModel, mlModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesId = seriesModel.id;\n    var seriesData = seriesModel.getData();\n    var lineDrawMap = this.markerGroupMap;\n    var lineDraw = lineDrawMap.get(seriesId) || lineDrawMap.set(seriesId, new LineDraw());\n    this.group.add(lineDraw.group);\n    var mlData = createList(coordSys, seriesModel, mlModel);\n    var fromData = mlData.from;\n    var toData = mlData.to;\n    var lineData = mlData.line;\n    inner(mlModel).from = fromData;\n    inner(mlModel).to = toData;\n    // Line data for tooltip and formatter\n    mlModel.setData(lineData);\n    // TODO\n    // Functionally, `symbolSize` & `symbolOffset` can also be 2D array now.\n    // But the related logic and type definition are not finished yet.\n    // Finish it if required\n    var symbolType = mlModel.get('symbol');\n    var symbolSize = mlModel.get('symbolSize');\n    var symbolRotate = mlModel.get('symbolRotate');\n    var symbolOffset = mlModel.get('symbolOffset');\n    // TODO: support callback function like markPoint\n    if (!isArray(symbolType)) {\n      symbolType = [symbolType, symbolType];\n    }\n    if (!isArray(symbolSize)) {\n      symbolSize = [symbolSize, symbolSize];\n    }\n    if (!isArray(symbolRotate)) {\n      symbolRotate = [symbolRotate, symbolRotate];\n    }\n    if (!isArray(symbolOffset)) {\n      symbolOffset = [symbolOffset, symbolOffset];\n    }\n    // Update visual and layout of from symbol and to symbol\n    mlData.from.each(function (idx) {\n      updateDataVisualAndLayout(fromData, idx, true);\n      updateDataVisualAndLayout(toData, idx, false);\n    });\n    // Update visual and layout of line\n    lineData.each(function (idx) {\n      var lineStyle = lineData.getItemModel(idx).getModel('lineStyle').getLineStyle();\n      // lineData.setItemVisual(idx, {\n      //     color: lineColor || fromData.getItemVisual(idx, 'color')\n      // });\n      lineData.setItemLayout(idx, [fromData.getItemLayout(idx), toData.getItemLayout(idx)]);\n      if (lineStyle.stroke == null) {\n        lineStyle.stroke = fromData.getItemVisual(idx, 'style').fill;\n      }\n      lineData.setItemVisual(idx, {\n        fromSymbolKeepAspect: fromData.getItemVisual(idx, 'symbolKeepAspect'),\n        fromSymbolOffset: fromData.getItemVisual(idx, 'symbolOffset'),\n        fromSymbolRotate: fromData.getItemVisual(idx, 'symbolRotate'),\n        fromSymbolSize: fromData.getItemVisual(idx, 'symbolSize'),\n        fromSymbol: fromData.getItemVisual(idx, 'symbol'),\n        toSymbolKeepAspect: toData.getItemVisual(idx, 'symbolKeepAspect'),\n        toSymbolOffset: toData.getItemVisual(idx, 'symbolOffset'),\n        toSymbolRotate: toData.getItemVisual(idx, 'symbolRotate'),\n        toSymbolSize: toData.getItemVisual(idx, 'symbolSize'),\n        toSymbol: toData.getItemVisual(idx, 'symbol'),\n        style: lineStyle\n      });\n    });\n    lineDraw.updateData(lineData);\n    // Set host model for tooltip\n    // FIXME\n    mlData.line.eachItemGraphicEl(function (el) {\n      getECData(el).dataModel = mlModel;\n      el.traverse(function (child) {\n        getECData(child).dataModel = mlModel;\n      });\n    });\n    function updateDataVisualAndLayout(data, idx, isFrom) {\n      var itemModel = data.getItemModel(idx);\n      updateSingleMarkerEndLayout(data, idx, isFrom, seriesModel, api);\n      var style = itemModel.getModel('itemStyle').getItemStyle();\n      if (style.fill == null) {\n        style.fill = getVisualFromData(seriesData, 'color');\n      }\n      data.setItemVisual(idx, {\n        symbolKeepAspect: itemModel.get('symbolKeepAspect'),\n        // `0` should be considered as a valid value, so use `retrieve2` instead of `||`\n        symbolOffset: retrieve2(itemModel.get('symbolOffset', true), symbolOffset[isFrom ? 0 : 1]),\n        symbolRotate: retrieve2(itemModel.get('symbolRotate', true), symbolRotate[isFrom ? 0 : 1]),\n        // TODO: when 2d array is supported, it should ignore parent\n        symbolSize: retrieve2(itemModel.get('symbolSize'), symbolSize[isFrom ? 0 : 1]),\n        symbol: retrieve2(itemModel.get('symbol', true), symbolType[isFrom ? 0 : 1]),\n        style: style\n      });\n    }\n    this.markKeep(lineDraw);\n    lineDraw.group.silent = mlModel.get('silent') || seriesModel.get('silent');\n  };\n  MarkLineView.type = 'markLine';\n  return MarkLineView;\n}(MarkerView);\nfunction createList(coordSys, seriesModel, mlModel) {\n  var coordDimsInfos;\n  if (coordSys) {\n    coordDimsInfos = map(coordSys && coordSys.dimensions, function (coordDim) {\n      var info = seriesModel.getData().getDimensionInfo(seriesModel.getData().mapDimension(coordDim)) || {};\n      // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n      return extend(extend({}, info), {\n        name: coordDim,\n        // DON'T use ordinalMeta to parse and collect ordinal.\n        ordinalMeta: null\n      });\n    });\n  } else {\n    coordDimsInfos = [{\n      name: 'value',\n      type: 'float'\n    }];\n  }\n  var fromData = new SeriesData(coordDimsInfos, mlModel);\n  var toData = new SeriesData(coordDimsInfos, mlModel);\n  // No dimensions\n  var lineData = new SeriesData([], mlModel);\n  var optData = map(mlModel.get('data'), curry(markLineTransform, seriesModel, coordSys, mlModel));\n  if (coordSys) {\n    optData = filter(optData, curry(markLineFilter, coordSys));\n  }\n  var dimValueGetter = markerHelper.createMarkerDimValueGetter(!!coordSys, coordDimsInfos);\n  fromData.initData(map(optData, function (item) {\n    return item[0];\n  }), null, dimValueGetter);\n  toData.initData(map(optData, function (item) {\n    return item[1];\n  }), null, dimValueGetter);\n  lineData.initData(map(optData, function (item) {\n    return item[2];\n  }));\n  lineData.hasItemOption = true;\n  return {\n    from: fromData,\n    to: toData,\n    line: lineData\n  };\n}\nexport default MarkLineView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\nimport checkMarkerInSeries from './checkMarkerInSeries.js';\nimport MarkLineModel from './MarkLineModel.js';\nimport MarkLineView from './MarkLineView.js';\nexport function install(registers) {\n  registers.registerComponentModel(MarkLineModel);\n  registers.registerComponentView(MarkLineView);\n  registers.registerPreprocessor(function (opt) {\n    if (checkMarkerInSeries(opt.series, 'markLine')) {\n      // Make sure markLine component is enabled\n      opt.markLine = opt.markLine || {};\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport MarkerModel from './MarkerModel.js';\nvar MarkPointModel = /** @class */function (_super) {\n  __extends(MarkPointModel, _super);\n  function MarkPointModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MarkPointModel.type;\n    return _this;\n  }\n  MarkPointModel.prototype.createMarkerModelFromSeries = function (markerOpt, masterMarkerModel, ecModel) {\n    return new MarkPointModel(markerOpt, masterMarkerModel, ecModel);\n  };\n  MarkPointModel.type = 'markPoint';\n  MarkPointModel.defaultOption = {\n    // zlevel: 0,\n    z: 5,\n    symbol: 'pin',\n    symbolSize: 50,\n    // symbolRotate: 0,\n    // symbolOffset: [0, 0]\n    tooltip: {\n      trigger: 'item'\n    },\n    label: {\n      show: true,\n      position: 'inside'\n    },\n    itemStyle: {\n      borderWidth: 2\n    },\n    emphasis: {\n      label: {\n        show: true\n      }\n    }\n  };\n  return MarkPointModel;\n}(MarkerModel);\nexport default MarkPointModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SymbolDraw from '../../chart/helper/SymbolDraw.js';\nimport * as numberUtil from '../../util/number.js';\nimport SeriesData from '../../data/SeriesData.js';\nimport * as markerHelper from './markerHelper.js';\nimport MarkerView from './MarkerView.js';\nimport MarkerModel from './MarkerModel.js';\nimport { isFunction, map, filter, curry, extend } from 'zrender/lib/core/util.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { getVisualFromData } from '../../visual/helper.js';\nfunction updateMarkerLayout(mpData, seriesModel, api) {\n  var coordSys = seriesModel.coordinateSystem;\n  mpData.each(function (idx) {\n    var itemModel = mpData.getItemModel(idx);\n    var point;\n    var xPx = numberUtil.parsePercent(itemModel.get('x'), api.getWidth());\n    var yPx = numberUtil.parsePercent(itemModel.get('y'), api.getHeight());\n    if (!isNaN(xPx) && !isNaN(yPx)) {\n      point = [xPx, yPx];\n    }\n    // Chart like bar may have there own marker positioning logic\n    else if (seriesModel.getMarkerPosition) {\n      // Use the getMarkerPosition\n      point = seriesModel.getMarkerPosition(mpData.getValues(mpData.dimensions, idx));\n    } else if (coordSys) {\n      var x = mpData.get(coordSys.dimensions[0], idx);\n      var y = mpData.get(coordSys.dimensions[1], idx);\n      point = coordSys.dataToPoint([x, y]);\n    }\n    // Use x, y if has any\n    if (!isNaN(xPx)) {\n      point[0] = xPx;\n    }\n    if (!isNaN(yPx)) {\n      point[1] = yPx;\n    }\n    mpData.setItemLayout(idx, point);\n  });\n}\nvar MarkPointView = /** @class */function (_super) {\n  __extends(MarkPointView, _super);\n  function MarkPointView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MarkPointView.type;\n    return _this;\n  }\n  MarkPointView.prototype.updateTransform = function (markPointModel, ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      var mpModel = MarkerModel.getMarkerModelFromSeries(seriesModel, 'markPoint');\n      if (mpModel) {\n        updateMarkerLayout(mpModel.getData(), seriesModel, api);\n        this.markerGroupMap.get(seriesModel.id).updateLayout();\n      }\n    }, this);\n  };\n  MarkPointView.prototype.renderSeries = function (seriesModel, mpModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesId = seriesModel.id;\n    var seriesData = seriesModel.getData();\n    var symbolDrawMap = this.markerGroupMap;\n    var symbolDraw = symbolDrawMap.get(seriesId) || symbolDrawMap.set(seriesId, new SymbolDraw());\n    var mpData = createData(coordSys, seriesModel, mpModel);\n    // FIXME\n    mpModel.setData(mpData);\n    updateMarkerLayout(mpModel.getData(), seriesModel, api);\n    mpData.each(function (idx) {\n      var itemModel = mpData.getItemModel(idx);\n      var symbol = itemModel.getShallow('symbol');\n      var symbolSize = itemModel.getShallow('symbolSize');\n      var symbolRotate = itemModel.getShallow('symbolRotate');\n      var symbolOffset = itemModel.getShallow('symbolOffset');\n      var symbolKeepAspect = itemModel.getShallow('symbolKeepAspect');\n      // TODO: refactor needed: single data item should not support callback function\n      if (isFunction(symbol) || isFunction(symbolSize) || isFunction(symbolRotate) || isFunction(symbolOffset)) {\n        var rawIdx = mpModel.getRawValue(idx);\n        var dataParams = mpModel.getDataParams(idx);\n        if (isFunction(symbol)) {\n          symbol = symbol(rawIdx, dataParams);\n        }\n        if (isFunction(symbolSize)) {\n          // FIXME 这里不兼容 ECharts 2.x，2.x 貌似参数是整个数据？\n          symbolSize = symbolSize(rawIdx, dataParams);\n        }\n        if (isFunction(symbolRotate)) {\n          symbolRotate = symbolRotate(rawIdx, dataParams);\n        }\n        if (isFunction(symbolOffset)) {\n          symbolOffset = symbolOffset(rawIdx, dataParams);\n        }\n      }\n      var style = itemModel.getModel('itemStyle').getItemStyle();\n      var color = getVisualFromData(seriesData, 'color');\n      if (!style.fill) {\n        style.fill = color;\n      }\n      mpData.setItemVisual(idx, {\n        symbol: symbol,\n        symbolSize: symbolSize,\n        symbolRotate: symbolRotate,\n        symbolOffset: symbolOffset,\n        symbolKeepAspect: symbolKeepAspect,\n        style: style\n      });\n    });\n    // TODO Text are wrong\n    symbolDraw.updateData(mpData);\n    this.group.add(symbolDraw.group);\n    // Set host model for tooltip\n    // FIXME\n    mpData.eachItemGraphicEl(function (el) {\n      el.traverse(function (child) {\n        getECData(child).dataModel = mpModel;\n      });\n    });\n    this.markKeep(symbolDraw);\n    symbolDraw.group.silent = mpModel.get('silent') || seriesModel.get('silent');\n  };\n  MarkPointView.type = 'markPoint';\n  return MarkPointView;\n}(MarkerView);\nfunction createData(coordSys, seriesModel, mpModel) {\n  var coordDimsInfos;\n  if (coordSys) {\n    coordDimsInfos = map(coordSys && coordSys.dimensions, function (coordDim) {\n      var info = seriesModel.getData().getDimensionInfo(seriesModel.getData().mapDimension(coordDim)) || {};\n      // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n      return extend(extend({}, info), {\n        name: coordDim,\n        // DON'T use ordinalMeta to parse and collect ordinal.\n        ordinalMeta: null\n      });\n    });\n  } else {\n    coordDimsInfos = [{\n      name: 'value',\n      type: 'float'\n    }];\n  }\n  var mpData = new SeriesData(coordDimsInfos, mpModel);\n  var dataOpt = map(mpModel.get('data'), curry(markerHelper.dataTransform, seriesModel));\n  if (coordSys) {\n    dataOpt = filter(dataOpt, curry(markerHelper.dataFilter, coordSys));\n  }\n  var dimValueGetter = markerHelper.createMarkerDimValueGetter(!!coordSys, coordDimsInfos);\n  mpData.initData(dataOpt, null, dimValueGetter);\n  return mpData;\n}\nexport default MarkPointView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\nimport checkMarkerInSeries from './checkMarkerInSeries.js';\nimport MarkPointModel from './MarkPointModel.js';\nimport MarkPointView from './MarkPointView.js';\nexport function install(registers) {\n  registers.registerComponentModel(MarkPointModel);\n  registers.registerComponentView(MarkPointView);\n  registers.registerPreprocessor(function (opt) {\n    if (checkMarkerInSeries(opt.series, 'markPoint')) {\n      // Make sure markPoint component is enabled\n      opt.markPoint = opt.markPoint || {};\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as numberUtil from '../../util/number.js';\nimport { isDimensionStacked } from '../../data/helper/dataStackHelper.js';\nimport { indexOf, curry, clone, isArray } from 'zrender/lib/core/util.js';\nimport { parseDataValue } from '../../data/helper/dataValueHelper.js';\nfunction hasXOrY(item) {\n  return !(isNaN(parseFloat(item.x)) && isNaN(parseFloat(item.y)));\n}\nfunction hasXAndY(item) {\n  return !isNaN(parseFloat(item.x)) && !isNaN(parseFloat(item.y));\n}\nfunction markerTypeCalculatorWithExtent(markerType, data, otherDataDim, targetDataDim, otherCoordIndex, targetCoordIndex) {\n  var coordArr = [];\n  var stacked = isDimensionStacked(data, targetDataDim /* , otherDataDim */);\n  var calcDataDim = stacked ? data.getCalculationInfo('stackResultDimension') : targetDataDim;\n  var value = numCalculate(data, calcDataDim, markerType);\n  var dataIndex = data.indicesOfNearest(calcDataDim, value)[0];\n  coordArr[otherCoordIndex] = data.get(otherDataDim, dataIndex);\n  coordArr[targetCoordIndex] = data.get(calcDataDim, dataIndex);\n  var coordArrValue = data.get(targetDataDim, dataIndex);\n  // Make it simple, do not visit all stacked value to count precision.\n  var precision = numberUtil.getPrecision(data.get(targetDataDim, dataIndex));\n  precision = Math.min(precision, 20);\n  if (precision >= 0) {\n    coordArr[targetCoordIndex] = +coordArr[targetCoordIndex].toFixed(precision);\n  }\n  return [coordArr, coordArrValue];\n}\n// TODO Specified percent\nvar markerTypeCalculator = {\n  min: curry(markerTypeCalculatorWithExtent, 'min'),\n  max: curry(markerTypeCalculatorWithExtent, 'max'),\n  average: curry(markerTypeCalculatorWithExtent, 'average'),\n  median: curry(markerTypeCalculatorWithExtent, 'median')\n};\n/**\n * Transform markPoint data item to format used in List by do the following\n * 1. Calculate statistic like `max`, `min`, `average`\n * 2. Convert `item.xAxis`, `item.yAxis` to `item.coord` array\n */\nexport function dataTransform(seriesModel, item) {\n  if (!item) {\n    return;\n  }\n  var data = seriesModel.getData();\n  var coordSys = seriesModel.coordinateSystem;\n  var dims = coordSys && coordSys.dimensions;\n  // 1. If not specify the position with pixel directly\n  // 2. If `coord` is not a data array. Which uses `xAxis`,\n  // `yAxis` to specify the coord on each dimension\n  // parseFloat first because item.x and item.y can be percent string like '20%'\n  if (!hasXAndY(item) && !isArray(item.coord) && isArray(dims)) {\n    var axisInfo = getAxisInfo(item, data, coordSys, seriesModel);\n    // Clone the option\n    // Transform the properties xAxis, yAxis, radiusAxis, angleAxis, geoCoord to value\n    item = clone(item);\n    if (item.type && markerTypeCalculator[item.type] && axisInfo.baseAxis && axisInfo.valueAxis) {\n      var otherCoordIndex = indexOf(dims, axisInfo.baseAxis.dim);\n      var targetCoordIndex = indexOf(dims, axisInfo.valueAxis.dim);\n      var coordInfo = markerTypeCalculator[item.type](data, axisInfo.baseDataDim, axisInfo.valueDataDim, otherCoordIndex, targetCoordIndex);\n      item.coord = coordInfo[0];\n      // Force to use the value of calculated value.\n      // let item use the value without stack.\n      item.value = coordInfo[1];\n    } else {\n      // FIXME Only has one of xAxis and yAxis.\n      item.coord = [item.xAxis != null ? item.xAxis : item.radiusAxis, item.yAxis != null ? item.yAxis : item.angleAxis];\n    }\n  }\n  // x y is provided\n  if (item.coord == null || !isArray(dims)) {\n    item.coord = [];\n  } else {\n    // Each coord support max, min, average\n    var coord = item.coord;\n    for (var i = 0; i < 2; i++) {\n      if (markerTypeCalculator[coord[i]]) {\n        coord[i] = numCalculate(data, data.mapDimension(dims[i]), coord[i]);\n      }\n    }\n  }\n  return item;\n}\nexport function getAxisInfo(item, data, coordSys, seriesModel) {\n  var ret = {};\n  if (item.valueIndex != null || item.valueDim != null) {\n    ret.valueDataDim = item.valueIndex != null ? data.getDimension(item.valueIndex) : item.valueDim;\n    ret.valueAxis = coordSys.getAxis(dataDimToCoordDim(seriesModel, ret.valueDataDim));\n    ret.baseAxis = coordSys.getOtherAxis(ret.valueAxis);\n    ret.baseDataDim = data.mapDimension(ret.baseAxis.dim);\n  } else {\n    ret.baseAxis = seriesModel.getBaseAxis();\n    ret.valueAxis = coordSys.getOtherAxis(ret.baseAxis);\n    ret.baseDataDim = data.mapDimension(ret.baseAxis.dim);\n    ret.valueDataDim = data.mapDimension(ret.valueAxis.dim);\n  }\n  return ret;\n}\nfunction dataDimToCoordDim(seriesModel, dataDim) {\n  var dimItem = seriesModel.getData().getDimensionInfo(dataDim);\n  return dimItem && dimItem.coordDim;\n}\n/**\n * Filter data which is out of coordinateSystem range\n * [dataFilter description]\n */\nexport function dataFilter(\n// Currently only polar and cartesian has containData.\ncoordSys, item) {\n  // Always return true if there is no coordSys\n  return coordSys && coordSys.containData && item.coord && !hasXOrY(item) ? coordSys.containData(item.coord) : true;\n}\nexport function zoneFilter(\n// Currently only polar and cartesian has containData.\ncoordSys, item1, item2) {\n  // Always return true if there is no coordSys\n  return coordSys && coordSys.containZone && item1.coord && item2.coord && !hasXOrY(item1) && !hasXOrY(item2) ? coordSys.containZone(item1.coord, item2.coord) : true;\n}\nexport function createMarkerDimValueGetter(inCoordSys, dims) {\n  return inCoordSys ? function (item, dimName, dataIndex, dimIndex) {\n    var rawVal = dimIndex < 2\n    // x, y, radius, angle\n    ? item.coord && item.coord[dimIndex] : item.value;\n    return parseDataValue(rawVal, dims[dimIndex]);\n  } : function (item, dimName, dataIndex, dimIndex) {\n    return parseDataValue(item.value, dims[dimIndex]);\n  };\n}\nexport function numCalculate(data, valueDataDim, type) {\n  if (type === 'average') {\n    var sum_1 = 0;\n    var count_1 = 0;\n    data.each(valueDataDim, function (val, idx) {\n      if (!isNaN(val)) {\n        sum_1 += val;\n        count_1++;\n      }\n    });\n    return sum_1 / count_1;\n  } else if (type === 'median') {\n    return data.getMedian(valueDataDim);\n  } else {\n    // max & min\n    return data.getDataExtent(valueDataDim)[type === 'max' ? 1 : 0];\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentView from '../../view/Component.js';\nimport { each, bind, extend } from 'zrender/lib/core/util.js';\nimport { createOrUpdate, clear } from '../../util/throttle.js';\nvar CLICK_THRESHOLD = 5; // > 4\nvar ParallelView = /** @class */function (_super) {\n  __extends(ParallelView, _super);\n  function ParallelView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ParallelView.type;\n    return _this;\n  }\n  ParallelView.prototype.render = function (parallelModel, ecModel, api) {\n    this._model = parallelModel;\n    this._api = api;\n    if (!this._handlers) {\n      this._handlers = {};\n      each(handlers, function (handler, eventName) {\n        api.getZr().on(eventName, this._handlers[eventName] = bind(handler, this));\n      }, this);\n    }\n    createOrUpdate(this, '_throttledDispatchExpand', parallelModel.get('axisExpandRate'), 'fixRate');\n  };\n  ParallelView.prototype.dispose = function (ecModel, api) {\n    clear(this, '_throttledDispatchExpand');\n    each(this._handlers, function (handler, eventName) {\n      api.getZr().off(eventName, handler);\n    });\n    this._handlers = null;\n  };\n  /**\n   * @internal\n   * @param {Object} [opt] If null, cancel the last action triggering for debounce.\n   */\n  ParallelView.prototype._throttledDispatchExpand = function (opt) {\n    this._dispatchExpand(opt);\n  };\n  /**\n   * @internal\n   */\n  ParallelView.prototype._dispatchExpand = function (opt) {\n    opt && this._api.dispatchAction(extend({\n      type: 'parallelAxisExpand'\n    }, opt));\n  };\n  ParallelView.type = 'parallel';\n  return ParallelView;\n}(ComponentView);\nvar handlers = {\n  mousedown: function (e) {\n    if (checkTrigger(this, 'click')) {\n      this._mouseDownPoint = [e.offsetX, e.offsetY];\n    }\n  },\n  mouseup: function (e) {\n    var mouseDownPoint = this._mouseDownPoint;\n    if (checkTrigger(this, 'click') && mouseDownPoint) {\n      var point = [e.offsetX, e.offsetY];\n      var dist = Math.pow(mouseDownPoint[0] - point[0], 2) + Math.pow(mouseDownPoint[1] - point[1], 2);\n      if (dist > CLICK_THRESHOLD) {\n        return;\n      }\n      var result = this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX, e.offsetY]);\n      result.behavior !== 'none' && this._dispatchExpand({\n        axisExpandWindow: result.axisExpandWindow\n      });\n    }\n    this._mouseDownPoint = null;\n  },\n  mousemove: function (e) {\n    // Should do nothing when brushing.\n    if (this._mouseDownPoint || !checkTrigger(this, 'mousemove')) {\n      return;\n    }\n    var model = this._model;\n    var result = model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX, e.offsetY]);\n    var behavior = result.behavior;\n    behavior === 'jump' && this._throttledDispatchExpand.debounceNextCall(model.get('axisExpandDebounce'));\n    this._throttledDispatchExpand(behavior === 'none' ? null // Cancel the last trigger, in case that mouse slide out of the area quickly.\n    : {\n      axisExpandWindow: result.axisExpandWindow,\n      // Jumping uses animation, and sliding suppresses animation.\n      animation: behavior === 'jump' ? null : {\n        duration: 0 // Disable animation.\n      }\n    });\n  }\n};\n\nfunction checkTrigger(view, triggerOn) {\n  var model = view._model;\n  return model.get('axisExpandable') && model.get('axisExpandTriggerOn') === triggerOn;\n}\nexport default ParallelView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport parallelPreprocessor from '../../coord/parallel/parallelPreprocessor.js';\nimport ParallelView from './ParallelView.js';\nimport ParallelModel from '../../coord/parallel/ParallelModel.js';\nimport parallelCoordSysCreator from '../../coord/parallel/parallelCreator.js';\nimport axisModelCreator from '../../coord/axisModelCreator.js';\nimport ParallelAxisModel from '../../coord/parallel/AxisModel.js';\nimport ParallelAxisView from '../axis/ParallelAxisView.js';\nimport { installParallelActions } from '../axis/parallelAxisAction.js';\nvar defaultAxisOption = {\n  type: 'value',\n  areaSelectStyle: {\n    width: 20,\n    borderWidth: 1,\n    borderColor: 'rgba(160,197,232)',\n    color: 'rgba(160,197,232)',\n    opacity: 0.3\n  },\n  realtime: true,\n  z: 10\n};\nexport function install(registers) {\n  registers.registerComponentView(ParallelView);\n  registers.registerComponentModel(ParallelModel);\n  registers.registerCoordinateSystem('parallel', parallelCoordSysCreator);\n  registers.registerPreprocessor(parallelPreprocessor);\n  registers.registerComponentModel(ParallelAxisModel);\n  registers.registerComponentView(ParallelAxisView);\n  axisModelCreator(registers, 'parallel', ParallelAxisModel, defaultAxisOption);\n  installParallelActions(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { use } from '../../extension.js';\nimport AxisView from '../axis/AxisView.js';\nimport PolarAxisPointer from '../axisPointer/PolarAxisPointer.js';\nimport { install as installAxisPointer } from '../axisPointer/install.js';\nimport PolarModel from '../../coord/polar/PolarModel.js';\nimport axisModelCreator from '../../coord/axisModelCreator.js';\nimport { AngleAxisModel, RadiusAxisModel } from '../../coord/polar/AxisModel.js';\nimport polarCreator from '../../coord/polar/polarCreator.js';\nimport AngleAxisView from '../axis/AngleAxisView.js';\nimport RadiusAxisView from '../axis/RadiusAxisView.js';\nimport ComponentView from '../../view/Component.js';\nimport { curry } from 'zrender/lib/core/util.js';\nimport barLayoutPolar from '../../layout/barPolar.js';\nvar angleAxisExtraOption = {\n  startAngle: 90,\n  clockwise: true,\n  splitNumber: 12,\n  axisLabel: {\n    rotate: 0\n  }\n};\nvar radiusAxisExtraOption = {\n  splitNumber: 5\n};\nvar PolarView = /** @class */function (_super) {\n  __extends(PolarView, _super);\n  function PolarView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = PolarView.type;\n    return _this;\n  }\n  PolarView.type = 'polar';\n  return PolarView;\n}(ComponentView);\nexport function install(registers) {\n  use(installAxisPointer);\n  AxisView.registerAxisPointerClass('PolarAxisPointer', PolarAxisPointer);\n  registers.registerCoordinateSystem('polar', polarCreator);\n  registers.registerComponentModel(PolarModel);\n  registers.registerComponentView(PolarView);\n  // Model and view for angleAxis and radiusAxis\n  axisModelCreator(registers, 'angle', AngleAxisModel, angleAxisExtraOption);\n  axisModelCreator(registers, 'radius', RadiusAxisModel, radiusAxisExtraOption);\n  registers.registerComponentView(AngleAxisView);\n  registers.registerComponentView(RadiusAxisView);\n  registers.registerLayout(curry(barLayoutPolar, 'bar'));\n}"],"names":["BRUSH_PANEL_GLOBAL","mathMin","Math","min","mathMax","max","mathPow","pow","COVER_Z","UNSELECT_THRESHOLD","MIN_RESIZE_LINE_WIDTH","MUTEX_RESOURCE_KEY","DIRECTION_MAP","w","e","n","s","CURSOR_MAP","ne","sw","nw","se","DEFAULT_BRUSH_OPT","brushStyle","lineWidth","stroke","fill","transformable","brushMode","removeOnClick","baseUID","BrushController","_super","zr","_this","call","this","_track","_covers","_handlers","_zr","group","graphic","_uid","each","pointerHandlers","handler","eventName","bind","__extends","prototype","enableBrush","brushOption","_brushType","_doDisableBrush","brushType","_doEnableBrush","_enableGlobalPan","interactionMutex","on","_brushOption","merge","clone","off","setPanels","panelOpts","length","panels_1","_panels","panelId","mount","opt","enableGlobalPan","thisGroup","add","attr","x","y","rotation","scaleX","scaleY","_transform","getLocalTransform","updateCovers","coverConfigList","map","coverConfig","tmpIdPrefix","oldCovers","newCovers","controller","creatingCover","_creatingCover","DataDiffer","oldGetKey","getKey","addOrUpdate","update","remove","execute","index","id","cover","__brushOption","newIndex","oldIndex","newBrushInternal","endCreating","createCover","updateCoverAfterCreation","unmount","clearCovers","dispose","Eventful","coverRenderers","updateZ","coverRenderer","getCoverRenderer","updateCoverShape","range","z","traverse","el","z2","updateCommon","getPanelByPoint","localCursorPoint","panel","panels","transform","pn","isTargetByCursor","getPanelByCover","covers","originalLength","trigger","areas","isEnd","shouldShowCover","track","p2","p1","dx","dy","dist","getTrackEnds","tail","createBaseRectCover","rectRangeConverter","edgeNameSequences","name","style","makeStyle","silent","draggable","cursor","drift","curry","driftRect","ondragend","nameSequence","join","opacity","invisible","updateBaseRect","localRange","handleSize","xa","ya","x2","y2","x2a","y2a","width","height","widtha","heighta","updateRectShape","mainEl","childAt","useStyle","childOfName","globalDir","getGlobalDirection1","getGlobalDirection2","h","setShape","pointsToRect","clipByPanel","defaults","strokeNoScale","formatRectRange","getTransform","localDirName","inverseMap","left","right","top","bottom","dir","localDirNameSeq","reverse","dirNameSequence","rectRange","toRectRange","localDelta","toLocalDelta","dirName","ind","fromRectRange","driftPolygon","point","localD","transformCoordToLocal","localZero","data","clipPath","points","xmin","ymin","xmax","ymax","resetCursor","isOutsideZrArea","offsetX","offsetY","currPanel","_dragging","i","contain","setCursorStyle","preventDefault","rawE","event","mainShapeContain","updateCoverByMouse","eventParams","_creatingPanel","thisBrushOption","push","slice","determineBrushType","coverBrushOption","getCreatingRange","defaultBrushType","mousedown","handleDragEnd","target","mousemove","mouseup","getWidth","getHeight","lineX","getLineRenderer","lineY","rect","returnInput","localTrack","ends","polygon","xyIndex","otherExtent","getLinearBrushOtherExtent","INCLUDE_FINDER_MAIN_TYPES","BrushTargetManager","finder","ecModel","_targetInfoList","foundCpts","parseFinder","targetInfoBuilders","builder","type","include","indexOf","setOutputRanges","matchOutputRanges","area","coordRange","coordSys","coordRanges","result","coordConvert","__rangeOffset","offset","diffProcessor","values","xyMinMax","cb","targetInfo","findTargetInfo","coordSyses","setInputRanges","rangeOffset","getScales","makePanelOpts","api","getDefaultBrushType","getPanelRect","brushHelper","coordSysModel","controlSeries","seriesModel","coordinateSystem","targetInfoList","areaPanelId","j","targetInfoMatchers","formatMinMax","minMax","modelUtilParseFinder","includeMainTypes","grid","xAxisModels","yAxisModels","gridModels","gridModelMap","createHashMap","xAxesHas","yAxesHas","axisModel","gridModel","axis","model","set","cartesians","getCartesians","cartesian","getAxis","panelRectBuilders","xAxisDeclared","yAxisDeclared","geo","geoModels","geoModel","xAxisModel","yAxisModel","master","getRect","getBoundingRect","applyTransform","axisConvert","to","rangeOrCoordRange","clamp","xminymin","pointToData","dataToPoint","xmaxymax","Infinity","item","p","axisNameIndex","coordToData","toLocalCoord","toGlobalCoord","dataToCoord","NaN","axisDiffProcessor","refer","scales","idx","xyMinMaxCurr","xyMinMaxOrigin","sizeCurr","getSize","sizeOrigin","isNaN","OPTION_STYLE_ENABLED_TAGS","OPTION_STYLE_ENABLED_TAG_MAP","zrUtil","STATE_TRIGGER_TAG_MAP","concat","LABEL_HOST_MAP","mapLabelRaw","makeInner","getFixedItemStyle","itemStyle","getItemStyle","areaColor","get","fixLineStyle","styleHost","MapDraw","uid","getUID","_controller","RoamController","getZr","_controllerHost","_regionsGroup","_svgGroup","draw","mapOrGeoModel","fromView","payload","isGeo","mainType","getData","eachComponent","subType","mapSeries","getHostGeoModel","regionsGroup","transformInfo","getTransformInfo","transformInfoRaw","raw","transformInfoRoam","roam","isFirstDraw","dirty","isVisualEncodedByVisualMap","getVisual","viewBuildCtx","resourceType","_buildGeoJSON","_buildSVG","_updateController","_updateMapSelectHandler","regionsGroupByName","_regionsGroupByName","regionsInfoByName","projection","projectionStream","stream","transformPoint","project","transformPolygonPoints","inPoints","outPoints","newPt","getPolyShape","shape","removeAll","regions","region","regionName","regionGroup","_a","dataIdx","regionModel","indexOfName","getRegionModel","getItemModel","polygonSubpaths","polylineSubpaths","geometries","geometry","polys","exterior","interiors","projectPolys","poly","centerPt","getCenter","createCompoundPath","subpaths","isLine","compoundPath","culling","segmentIgnoreThreshold","paths","applyOptionStyleForRegion","resetLabelForRegion","states","resetEventTriggerForRegion","resetTooltipForRegion","resetStateTriggerForRegion","mapName","_svgResourceChanged","_freeSVG","_useSVG","svgDispatcherMap","_svgDispatcherMap","focusSelf","_svgGraphicRecord","named","namedItem","svgNodeTagLower","Displayable","z2EmphasisLift","namedFrom","focus_1","els","_enableBlurEntireSVG","blurStyle","getModel","opacity_1","root","isGroup","setDefaultStateProxy","ensureState","findHighDownDispatchers","_svgMapName","resource","geoSourceManager","getGeoResource","svgGraphic","useGraphic","freeGraphic","controllerHost","zoomLimit","zoom","getZoom","enable","makeActionBase","action","componentType","_mouseDownFlag","roamHelper","dispatchAction","animation","duration","scale","originX","originY","totalZoom","setPointerChecker","containPoint","onIrrelevantElement","resetForLabelLayout","label","getTextContent","ignore","mapDraw","dataIndex","normalStyleModel","emphasisStyleModel","blurStyleModel","selectStyleModel","normalStyle","emphasisStyle","selectStyle","getItemVisual","decal","createOrUpdatePatternFromDecal","setStyle","labelXY","isDataNaN","mapDimension","itemLayout","getItemLayout","showLabel","query","labelFetcher","specifiedTextOpt","normal","align","verticalAlign","setLabelStyle","getLabelStatesModels","labelDataIndex","defaultText","textEl","textConfig","layoutRect","position","disableLabelAnimation","removeTextContent","removeTextConfig","eventTrigger","setItemGraphicEl","getECData","eventData","componentIndex","geoIndex","option","componentModel","itemName","itemTooltipOption","highDownSilentOnTouch","emphasisModel","focus","toggleHoverEmphasis","enableComponentHighDownFeatures","rings","createStream","curPoly","polygons","startPolygon","endPolygon","polygonStart","polygonEnd","lineStart","lineEnd","isFinite","sphere","ring","mousedownHandler","_mousedownHandler","mousemoveHandler","_mousemoveHandler","mouseupHandler","_mouseupHandler","mousewheelHandler","_mousewheelHandler","pinchHandler","_pinchHandler","controlType","disable","_opt","zoomOnMouseWheel","moveOnMouseMove","moveOnMouseWheel","preventDefaultMouseMove","isDragging","isPinching","_pinching","pointerChecker","eventTool","__hostTarget","parent","_x","_y","isAvailableBehavior","gestureEvent","oldX","oldY","newX","newY","shouldZoom","shouldMove","wheelDelta","absWheelDeltaDelta","abs","factor","checkPointerAndTrigger","absDelta","scrollDelta","pinchScale","pinchX","pinchY","behaviorToCheck","contollerEvent","settings","setting","isString","makeRectPanelClipPath","normalizeRect","localPoints","graphicUtil","makeLinearBrushOtherExtent","specifiedXYIndex","brushWidth","base","makeRectIsTargetByCursor","targetModel","boundingRect","BoundingRect","create","IRRELEVANT_EXCLUDES","targetCoordSysModel","getComponentByElement","topTarget","hasOwnProperty","ATTR","take","resourceKey","userKey","store","getStore","release","uKey","isTaken","echarts","noop","layout","boxLayoutParams","getBoxLayoutParams","padding","viewportSize","getLayoutRect","layoutBox","positionElement","makeBackground","formatUtil","r","updateViewOnPan","updateViewOnZoom","zoomDelta","zoomX","zoomY","newZoom","zoomMin","zoomMax","zoomScale","sliderMove","delta","handleEnds","extent","handleIndex","minSpan","maxSpan","extentSpan","restrict","handleSpan","originalDistSign","getSpanSign","currDistSign","extentMinSpan","realExtent","sign","span","value","extend","getDefaultSelectorOptions","title","getLocaleModel","LegendModel","apply","arguments","layoutMode","ignoreSize","init","parentModel","mergeDefaultAndTheme","selected","_updateSelector","mergeOption","selector","optionUpdated","_updateData","legendData","_data","hasSelected","name_1","isSelected","select","potentialData","availableNames","eachRawSeries","isPotential","seriesName","legendVisualProvider","provider","names","getAllNames","isSeriesFiltered","isNameSpecified","_availableNames","rawData","legendNameMap","dataItem","Model","selectedMode","unSelect","toggleSelected","allSelect","inverseSelect","getOrient","dependencies","defaultOption","show","orient","backgroundColor","borderColor","borderRadius","borderWidth","itemGap","itemWidth","itemHeight","symbolRotate","symbolKeepAspect","inactiveColor","inactiveBorderColor","inactiveBorderWidth","color","borderCap","borderJoin","borderDashOffset","borderMiterLimit","lineStyle","inactiveWidth","cap","dashOffset","miterLimit","textStyle","selectorLabel","fontSize","fontFamily","emphasis","selectorPosition","selectorItemGap","selectorButtonGap","tooltip","ComponentModel","Group","LegendView","newlineDisabled","_contentGroup","_selectorGroup","_isFirstRender","getContentGroup","getSelectorGroup","render","legendModel","isFirstRender","resetInner","itemAlign","renderInner","positionInfo","maxSize","layoutUtil","mainRect","layoutInner","markRedraw","_backgroundEl","contentGroup","legendDrawnMap","selectMode","excludeSeriesId","legendItemModel","g","newline","getSeriesByName","lineVisualStyle","legendIcon","itemGroup","_createItem","dispatchSelectAction","dispatchHighlightAction","dispatchDownplayAction","ssr","eachChild","child","ecData","seriesIndex","ssrType","containName","colorArr","parse","stringify","process","_createSelector","selectorGroup","selectorItem","labelText","onclick","labelModel","emphasisLabelModel","enableHoverEmphasis","itemVisualStyle","drawType","visualDrawType","iconRotate","legendIconType","getLegendStyle","textStyleModel","getLegendIcon","rotate","getDefaultLegendIcon","icon","textX","textAlign","formatter","content","replace","textColor","getTextColor","createTextStyle","text","inheritColor","hitRect","tooltipModel","setTooltipConfig","__legendDataIndex","contentRect","contentPos","selectorRect","selectorPos","orientIdx","wh","hw","yx","ComponentView","iconType","handleCommonProps","visualStyle","propVal","propName","itemStyleModel","iconBrushType","lastIndexOf","decalStyle","getShallow","legendLineModel","getLineStyle","visualHasBorder","symboType","createSymbol","PI","setOrigin","dataName","isUseHoverLayer","emphasisState","list","storage","getDisplayList","len","hoverLayer","legendFilter","legendModels","findComponents","filterSeries","series","legendSelectActionHandler","methodName","selectedMap","isToggleSelect","isItemSelected","installLegendAction","registers","registerAction","install","registerComponentModel","registerComponentView","registerProcessor","PRIORITY","PROCESSOR","SERIES_FILTER","registerSubTypeDefaulter","ScrollableLegendModel","setScrollDataIndex","scrollDataIndex","inputPositionParams","getLayoutParams","mergeAndNormalizeLayoutParams","inheritDefaultOption","pageButtonItemGap","pageButtonGap","pageButtonPosition","pageFormatter","pageIcons","horizontal","vertical","pageIconColor","pageIconInactiveColor","pageIconSize","pageTextStyle","animationDurationUpdate","mergeLayoutParam","WH","XY","ScrollableLegendView","_currentIndex","_containerGroup","_controllerGroup","removeClipPath","__rectSize","self","controllerGroup","pageIconSizeArr","createPageButton","pageTextStyleModel","iconIdx","pageDataIndexName","createIcon","_pageGo","font","getFont","xy","processMaxSize","_layoutContentAndController","containerGroup","controllerRect","showController","_showController","containerPos","controllerPos","setPosition","clipShape","setClipPath","pageInfo","_getPageInfo","pageIndex","contentPosition","_updatePageInfoView","legendId","key","canJump","pageText","current","total","pageCount","containerRectSize","targetItemIndex","_findTargetItemIndex","children","targetItem","itemCount","pCount","pagePrevDataIndex","pageNextDataIndex","targetItemInfo","getItemInfo","winStartItemInfo","winEndItemInfo","currItemInfo","intersect","itemRect","start","itemInfo","winStart","targetDataIndex","defaultIndex","legendDataIdx","installScrollableLegendAction","use","installLegendPlain","installLegendScroll","fillLabel","defaultEmphasis","inner","MarkerModel","createdBySelf","_mergeOption","isAnimationEnabled","env","node","hostSeries","__hostSeries","newOpt","isInit","eachSeries","markerOpt","markerModel","Array","createMarkerModelFromSeries","formatTooltip","multipleSeries","dataType","getRawValue","getName","createTooltipMarkup","header","blocks","noName","noValue","setData","getDataParams","params","DataFormatMixin","seriesId","seriesType","getMarkerModelFromSeries","MarkerView","markerGroupMap","keep","renderSeries","markKeep","drawGroup","toggleBlurSeries","seriesModelList","isBlur","eachItemGraphicEl","enterBlur","leaveBlur","checkMarkerInSeries","seriesOpts","markerType","seriesOptArr","isArray","MarkAreaModel","masterMarkerModel","markAreaTransform","maModel","item0","item1","lt","markerHelper","rb","ltCoord","coord","rbCoord","retrieve","mergeAll","x0","y0","x1","y1","isInfinity","val","ifMarkAreaHasOnlyDim","dimIndex","fromCoord","toCoord","otherDimIndex","markAreaFilter","isCoordinateSystemType","getSingleMarkerEndPoint","dims","itemModel","xPx","numberUtil","yPx","getMarkerPosition","pointValue0","getValues","pointValue1","clampPointValue0","clampData","clampPointValue1","pointValue","pt","xAxis","yAxis","getExtent","dimPermutations","MarkAreaView","updateTransform","markAreaModel","areaData_1","dim","setItemLayout","getItemGraphicEl","seriesData","areaGroupMap","polygonGroup","areaData","createList","xAxisScale","yAxisScale","xAxisExtent","yAxisExtent","xPointExtent","yPointExtent","overlapped","allClipped","getVisualFromData","colorUtil","setItemVisual","diff","newIdx","oldIdx","setStatesStylesFromModel","dataModel","dataDims","coordDimsInfos_1","dimensions","coordDim","info","getDimensionInfo","ordinalMeta","SeriesData","optData","filter","dimValueGetter","dimName","rawVal","floor","parseDataValue","initData","hasItemOption","registerPreprocessor","markArea","MarkLineModel","symbol","symbolSize","symbolOffset","precision","distance","animationEasing","markLineTransform","mlModel","itemArray","mlType","valueAxis","axisInfo","valueDataDim","getStackedDimension","valueIndex","baseIndex","mlFrom","mlTo","isNumber","toFixed","normalizedItem","ifMarkLineHasOnlyDim","containData","markLineFilter","updateSingleMarkerEndLayout","isFrom","MarkLineView","markLineModel","mlData_1","fromData_1","from","toData_1","updateLayout","lineDrawMap","lineDraw","LineDraw","mlData","fromData","toData","lineData","line","symbolType","updateDataVisualAndLayout","retrieve2","fromSymbolKeepAspect","fromSymbolOffset","fromSymbolRotate","fromSymbolSize","fromSymbol","toSymbolKeepAspect","toSymbolOffset","toSymbolRotate","toSymbolSize","toSymbol","updateData","coordDimsInfos","markLine","MarkPointModel","updateMarkerLayout","mpData","MarkPointView","markPointModel","mpModel","symbolDrawMap","symbolDraw","SymbolDraw","createData","isFunction","rawIdx","dataParams","dataOpt","markPoint","hasXOrY","parseFloat","hasXAndY","markerTypeCalculatorWithExtent","otherDataDim","targetDataDim","otherCoordIndex","targetCoordIndex","coordArr","stacked","isDimensionStacked","calcDataDim","getCalculationInfo","numCalculate","indicesOfNearest","coordArrValue","markerTypeCalculator","average","median","dataTransform","getAxisInfo","baseAxis","coordInfo","baseDataDim","radiusAxis","angleAxis","ret","valueDim","getDimension","dataDimToCoordDim","getOtherAxis","getBaseAxis","dataDim","dimItem","dataFilter","zoneFilter","item2","containZone","createMarkerDimValueGetter","inCoordSys","sum_1","count_1","getMedian","getDataExtent","CLICK_THRESHOLD","ParallelView","parallelModel","_model","_api","handlers","createOrUpdate","clear","_throttledDispatchExpand","_dispatchExpand","checkTrigger","_mouseDownPoint","mouseDownPoint","getSlidedAxisExpandWindow","behavior","axisExpandWindow","debounceNextCall","view","triggerOn","defaultAxisOption","areaSelectStyle","realtime","ParallelModel","registerCoordinateSystem","parallelCoordSysCreator","parallelPreprocessor","ParallelAxisModel","ParallelAxisView","axisModelCreator","installParallelActions","angleAxisExtraOption","startAngle","clockwise","splitNumber","axisLabel","radiusAxisExtraOption","PolarView","installAxisPointer","AxisView","registerAxisPointerClass","PolarAxisPointer","polarCreator","PolarModel","AngleAxisModel","RadiusAxisModel","AngleAxisView","RadiusAxisView","registerLayout","barLayoutPolar"],"sourceRoot":""}