{"version":3,"file":"static/client/js/chunk-vendors-00833fa6.d95da736.js","mappings":"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","sources":["webpack://d1/./node_modules/echarts/node_modules/tslib/tslib.es6.js","webpack://d1/./node_modules/echarts/lib/visual/LegendVisualProvider.js","webpack://d1/./node_modules/echarts/lib/visual/VisualMapping.js","webpack://d1/./node_modules/echarts/lib/visual/aria.js","webpack://d1/./node_modules/echarts/lib/visual/decal.js","webpack://d1/./node_modules/echarts/lib/visual/helper.js","webpack://d1/./node_modules/echarts/lib/visual/style.js","webpack://d1/./node_modules/echarts/lib/visual/symbol.js","webpack://d1/./node_modules/echarts/lib/visual/visualDefault.js","webpack://d1/./node_modules/echarts/lib/visual/visualSolution.js","webpack://d1/./node_modules/internmap/src/index.js"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || from);\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * LegendVisualProvider is an bridge that pick encoded color from data and\n * provide to the legend component.\n */\nvar LegendVisualProvider = /** @class */function () {\n  function LegendVisualProvider(\n  // Function to get data after filtered. It stores all the encoding info\n  getDataWithEncodedVisual,\n  // Function to get raw data before filtered.\n  getRawData) {\n    this._getDataWithEncodedVisual = getDataWithEncodedVisual;\n    this._getRawData = getRawData;\n  }\n  LegendVisualProvider.prototype.getAllNames = function () {\n    var rawData = this._getRawData();\n    // We find the name from the raw data. In case it's filtered by the legend component.\n    // Normally, the name can be found in rawData, but can't be found in filtered data will display as gray.\n    return rawData.mapArray(rawData.getName);\n  };\n  LegendVisualProvider.prototype.containName = function (name) {\n    var rawData = this._getRawData();\n    return rawData.indexOfName(name) >= 0;\n  };\n  LegendVisualProvider.prototype.indexOfName = function (name) {\n    // Only get data when necessary.\n    // Because LegendVisualProvider constructor may be new in the stage that data is not prepared yet.\n    // Invoking Series#getData immediately will throw an error.\n    var dataWithEncodedVisual = this._getDataWithEncodedVisual();\n    return dataWithEncodedVisual.indexOfName(name);\n  };\n  LegendVisualProvider.prototype.getItemVisual = function (dataIndex, key) {\n    // Get encoded visual properties from final filtered data.\n    var dataWithEncodedVisual = this._getDataWithEncodedVisual();\n    return dataWithEncodedVisual.getItemVisual(dataIndex, key);\n  };\n  return LegendVisualProvider;\n}();\nexport default LegendVisualProvider;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as zrColor from 'zrender/lib/tool/color.js';\nimport { linearMap } from '../util/number.js';\nimport { warn } from '../util/log.js';\nvar each = zrUtil.each;\nvar isObject = zrUtil.isObject;\nvar CATEGORY_DEFAULT_VISUAL_INDEX = -1;\nvar VisualMapping = /** @class */function () {\n  function VisualMapping(option) {\n    var mappingMethod = option.mappingMethod;\n    var visualType = option.type;\n    var thisOption = this.option = zrUtil.clone(option);\n    this.type = visualType;\n    this.mappingMethod = mappingMethod;\n    this._normalizeData = normalizers[mappingMethod];\n    var visualHandler = VisualMapping.visualHandlers[visualType];\n    this.applyVisual = visualHandler.applyVisual;\n    this.getColorMapper = visualHandler.getColorMapper;\n    this._normalizedToVisual = visualHandler._normalizedToVisual[mappingMethod];\n    if (mappingMethod === 'piecewise') {\n      normalizeVisualRange(thisOption);\n      preprocessForPiecewise(thisOption);\n    } else if (mappingMethod === 'category') {\n      thisOption.categories ? preprocessForSpecifiedCategory(thisOption)\n      // categories is ordinal when thisOption.categories not specified,\n      // which need no more preprocess except normalize visual.\n      : normalizeVisualRange(thisOption, true);\n    } else {\n      // mappingMethod === 'linear' or 'fixed'\n      zrUtil.assert(mappingMethod !== 'linear' || thisOption.dataExtent);\n      normalizeVisualRange(thisOption);\n    }\n  }\n  VisualMapping.prototype.mapValueToVisual = function (value) {\n    var normalized = this._normalizeData(value);\n    return this._normalizedToVisual(normalized, value);\n  };\n  VisualMapping.prototype.getNormalizer = function () {\n    return zrUtil.bind(this._normalizeData, this);\n  };\n  /**\n   * List available visual types.\n   *\n   * @public\n   * @return {Array.<string>}\n   */\n  VisualMapping.listVisualTypes = function () {\n    return zrUtil.keys(VisualMapping.visualHandlers);\n  };\n  // /**\n  //  * @public\n  //  */\n  // static addVisualHandler(name, handler) {\n  //     visualHandlers[name] = handler;\n  // }\n  /**\n   * @public\n   */\n  VisualMapping.isValidType = function (visualType) {\n    return VisualMapping.visualHandlers.hasOwnProperty(visualType);\n  };\n  /**\n   * Convenient method.\n   * Visual can be Object or Array or primary type.\n   */\n  VisualMapping.eachVisual = function (visual, callback, context) {\n    if (zrUtil.isObject(visual)) {\n      zrUtil.each(visual, callback, context);\n    } else {\n      callback.call(context, visual);\n    }\n  };\n  VisualMapping.mapVisual = function (visual, callback, context) {\n    var isPrimary;\n    var newVisual = zrUtil.isArray(visual) ? [] : zrUtil.isObject(visual) ? {} : (isPrimary = true, null);\n    VisualMapping.eachVisual(visual, function (v, key) {\n      var newVal = callback.call(context, v, key);\n      isPrimary ? newVisual = newVal : newVisual[key] = newVal;\n    });\n    return newVisual;\n  };\n  /**\n   * Retrieve visual properties from given object.\n   */\n  VisualMapping.retrieveVisuals = function (obj) {\n    var ret = {};\n    var hasVisual;\n    obj && each(VisualMapping.visualHandlers, function (h, visualType) {\n      if (obj.hasOwnProperty(visualType)) {\n        ret[visualType] = obj[visualType];\n        hasVisual = true;\n      }\n    });\n    return hasVisual ? ret : null;\n  };\n  /**\n   * Give order to visual types, considering colorSaturation, colorAlpha depends on color.\n   *\n   * @public\n   * @param {(Object|Array)} visualTypes If Object, like: {color: ..., colorSaturation: ...}\n   *                                     IF Array, like: ['color', 'symbol', 'colorSaturation']\n   * @return {Array.<string>} Sorted visual types.\n   */\n  VisualMapping.prepareVisualTypes = function (visualTypes) {\n    if (zrUtil.isArray(visualTypes)) {\n      visualTypes = visualTypes.slice();\n    } else if (isObject(visualTypes)) {\n      var types_1 = [];\n      each(visualTypes, function (item, type) {\n        types_1.push(type);\n      });\n      visualTypes = types_1;\n    } else {\n      return [];\n    }\n    visualTypes.sort(function (type1, type2) {\n      // color should be front of colorSaturation, colorAlpha, ...\n      // symbol and symbolSize do not matter.\n      return type2 === 'color' && type1 !== 'color' && type1.indexOf('color') === 0 ? 1 : -1;\n    });\n    return visualTypes;\n  };\n  /**\n   * 'color', 'colorSaturation', 'colorAlpha', ... are depends on 'color'.\n   * Other visuals are only depends on themself.\n   */\n  VisualMapping.dependsOn = function (visualType1, visualType2) {\n    return visualType2 === 'color' ? !!(visualType1 && visualType1.indexOf(visualType2) === 0) : visualType1 === visualType2;\n  };\n  /**\n   * @param value\n   * @param pieceList [{value: ..., interval: [min, max]}, ...]\n   *                         Always from small to big.\n   * @param findClosestWhenOutside Default to be false\n   * @return index\n   */\n  VisualMapping.findPieceIndex = function (value, pieceList, findClosestWhenOutside) {\n    var possibleI;\n    var abs = Infinity;\n    // value has the higher priority.\n    for (var i = 0, len = pieceList.length; i < len; i++) {\n      var pieceValue = pieceList[i].value;\n      if (pieceValue != null) {\n        if (pieceValue === value\n        // FIXME\n        // It is supposed to compare value according to value type of dimension,\n        // but currently value type can exactly be string or number.\n        // Compromise for numeric-like string (like '12'), especially\n        // in the case that visualMap.categories is ['22', '33'].\n        || zrUtil.isString(pieceValue) && pieceValue === value + '') {\n          return i;\n        }\n        findClosestWhenOutside && updatePossible(pieceValue, i);\n      }\n    }\n    for (var i = 0, len = pieceList.length; i < len; i++) {\n      var piece = pieceList[i];\n      var interval = piece.interval;\n      var close_1 = piece.close;\n      if (interval) {\n        if (interval[0] === -Infinity) {\n          if (littleThan(close_1[1], value, interval[1])) {\n            return i;\n          }\n        } else if (interval[1] === Infinity) {\n          if (littleThan(close_1[0], interval[0], value)) {\n            return i;\n          }\n        } else if (littleThan(close_1[0], interval[0], value) && littleThan(close_1[1], value, interval[1])) {\n          return i;\n        }\n        findClosestWhenOutside && updatePossible(interval[0], i);\n        findClosestWhenOutside && updatePossible(interval[1], i);\n      }\n    }\n    if (findClosestWhenOutside) {\n      return value === Infinity ? pieceList.length - 1 : value === -Infinity ? 0 : possibleI;\n    }\n    function updatePossible(val, index) {\n      var newAbs = Math.abs(val - value);\n      if (newAbs < abs) {\n        abs = newAbs;\n        possibleI = index;\n      }\n    }\n  };\n  VisualMapping.visualHandlers = {\n    color: {\n      applyVisual: makeApplyVisual('color'),\n      getColorMapper: function () {\n        var thisOption = this.option;\n        return zrUtil.bind(thisOption.mappingMethod === 'category' ? function (value, isNormalized) {\n          !isNormalized && (value = this._normalizeData(value));\n          return doMapCategory.call(this, value);\n        } : function (value, isNormalized, out) {\n          // If output rgb array\n          // which will be much faster and useful in pixel manipulation\n          var returnRGBArray = !!out;\n          !isNormalized && (value = this._normalizeData(value));\n          out = zrColor.fastLerp(value, thisOption.parsedVisual, out);\n          return returnRGBArray ? out : zrColor.stringify(out, 'rgba');\n        }, this);\n      },\n      _normalizedToVisual: {\n        linear: function (normalized) {\n          return zrColor.stringify(zrColor.fastLerp(normalized, this.option.parsedVisual), 'rgba');\n        },\n        category: doMapCategory,\n        piecewise: function (normalized, value) {\n          var result = getSpecifiedVisual.call(this, value);\n          if (result == null) {\n            result = zrColor.stringify(zrColor.fastLerp(normalized, this.option.parsedVisual), 'rgba');\n          }\n          return result;\n        },\n        fixed: doMapFixed\n      }\n    },\n    colorHue: makePartialColorVisualHandler(function (color, value) {\n      return zrColor.modifyHSL(color, value);\n    }),\n    colorSaturation: makePartialColorVisualHandler(function (color, value) {\n      return zrColor.modifyHSL(color, null, value);\n    }),\n    colorLightness: makePartialColorVisualHandler(function (color, value) {\n      return zrColor.modifyHSL(color, null, null, value);\n    }),\n    colorAlpha: makePartialColorVisualHandler(function (color, value) {\n      return zrColor.modifyAlpha(color, value);\n    }),\n    decal: {\n      applyVisual: makeApplyVisual('decal'),\n      _normalizedToVisual: {\n        linear: null,\n        category: doMapCategory,\n        piecewise: null,\n        fixed: null\n      }\n    },\n    opacity: {\n      applyVisual: makeApplyVisual('opacity'),\n      _normalizedToVisual: createNormalizedToNumericVisual([0, 1])\n    },\n    liftZ: {\n      applyVisual: makeApplyVisual('liftZ'),\n      _normalizedToVisual: {\n        linear: doMapFixed,\n        category: doMapFixed,\n        piecewise: doMapFixed,\n        fixed: doMapFixed\n      }\n    },\n    symbol: {\n      applyVisual: function (value, getter, setter) {\n        var symbolCfg = this.mapValueToVisual(value);\n        setter('symbol', symbolCfg);\n      },\n      _normalizedToVisual: {\n        linear: doMapToArray,\n        category: doMapCategory,\n        piecewise: function (normalized, value) {\n          var result = getSpecifiedVisual.call(this, value);\n          if (result == null) {\n            result = doMapToArray.call(this, normalized);\n          }\n          return result;\n        },\n        fixed: doMapFixed\n      }\n    },\n    symbolSize: {\n      applyVisual: makeApplyVisual('symbolSize'),\n      _normalizedToVisual: createNormalizedToNumericVisual([0, 1])\n    }\n  };\n  return VisualMapping;\n}();\nfunction preprocessForPiecewise(thisOption) {\n  var pieceList = thisOption.pieceList;\n  thisOption.hasSpecialVisual = false;\n  zrUtil.each(pieceList, function (piece, index) {\n    piece.originIndex = index;\n    // piece.visual is \"result visual value\" but not\n    // a visual range, so it does not need to be normalized.\n    if (piece.visual != null) {\n      thisOption.hasSpecialVisual = true;\n    }\n  });\n}\nfunction preprocessForSpecifiedCategory(thisOption) {\n  // Hash categories.\n  var categories = thisOption.categories;\n  var categoryMap = thisOption.categoryMap = {};\n  var visual = thisOption.visual;\n  each(categories, function (cate, index) {\n    categoryMap[cate] = index;\n  });\n  // Process visual map input.\n  if (!zrUtil.isArray(visual)) {\n    var visualArr_1 = [];\n    if (zrUtil.isObject(visual)) {\n      each(visual, function (v, cate) {\n        var index = categoryMap[cate];\n        visualArr_1[index != null ? index : CATEGORY_DEFAULT_VISUAL_INDEX] = v;\n      });\n    } else {\n      // Is primary type, represents default visual.\n      visualArr_1[CATEGORY_DEFAULT_VISUAL_INDEX] = visual;\n    }\n    visual = setVisualToOption(thisOption, visualArr_1);\n  }\n  // Remove categories that has no visual,\n  // then we can mapping them to CATEGORY_DEFAULT_VISUAL_INDEX.\n  for (var i = categories.length - 1; i >= 0; i--) {\n    if (visual[i] == null) {\n      delete categoryMap[categories[i]];\n      categories.pop();\n    }\n  }\n}\nfunction normalizeVisualRange(thisOption, isCategory) {\n  var visual = thisOption.visual;\n  var visualArr = [];\n  if (zrUtil.isObject(visual)) {\n    each(visual, function (v) {\n      visualArr.push(v);\n    });\n  } else if (visual != null) {\n    visualArr.push(visual);\n  }\n  var doNotNeedPair = {\n    color: 1,\n    symbol: 1\n  };\n  if (!isCategory && visualArr.length === 1 && !doNotNeedPair.hasOwnProperty(thisOption.type)) {\n    // Do not care visualArr.length === 0, which is illegal.\n    visualArr[1] = visualArr[0];\n  }\n  setVisualToOption(thisOption, visualArr);\n}\nfunction makePartialColorVisualHandler(applyValue) {\n  return {\n    applyVisual: function (value, getter, setter) {\n      // Only used in HSL\n      var colorChannel = this.mapValueToVisual(value);\n      // Must not be array value\n      setter('color', applyValue(getter('color'), colorChannel));\n    },\n    _normalizedToVisual: createNormalizedToNumericVisual([0, 1])\n  };\n}\nfunction doMapToArray(normalized) {\n  var visual = this.option.visual;\n  return visual[Math.round(linearMap(normalized, [0, 1], [0, visual.length - 1], true))] || {}; // TODO {}?\n}\n\nfunction makeApplyVisual(visualType) {\n  return function (value, getter, setter) {\n    setter(visualType, this.mapValueToVisual(value));\n  };\n}\nfunction doMapCategory(normalized) {\n  var visual = this.option.visual;\n  return visual[this.option.loop && normalized !== CATEGORY_DEFAULT_VISUAL_INDEX ? normalized % visual.length : normalized];\n}\nfunction doMapFixed() {\n  // visual will be convert to array.\n  return this.option.visual[0];\n}\n/**\n * Create mapped to numeric visual\n */\nfunction createNormalizedToNumericVisual(sourceExtent) {\n  return {\n    linear: function (normalized) {\n      return linearMap(normalized, sourceExtent, this.option.visual, true);\n    },\n    category: doMapCategory,\n    piecewise: function (normalized, value) {\n      var result = getSpecifiedVisual.call(this, value);\n      if (result == null) {\n        result = linearMap(normalized, sourceExtent, this.option.visual, true);\n      }\n      return result;\n    },\n    fixed: doMapFixed\n  };\n}\nfunction getSpecifiedVisual(value) {\n  var thisOption = this.option;\n  var pieceList = thisOption.pieceList;\n  if (thisOption.hasSpecialVisual) {\n    var pieceIndex = VisualMapping.findPieceIndex(value, pieceList);\n    var piece = pieceList[pieceIndex];\n    if (piece && piece.visual) {\n      return piece.visual[this.type];\n    }\n  }\n}\nfunction setVisualToOption(thisOption, visualArr) {\n  thisOption.visual = visualArr;\n  if (thisOption.type === 'color') {\n    thisOption.parsedVisual = zrUtil.map(visualArr, function (item) {\n      var color = zrColor.parse(item);\n      if (!color && process.env.NODE_ENV !== 'production') {\n        warn(\"'\" + item + \"' is an illegal color, fallback to '#000000'\", true);\n      }\n      return color || [0, 0, 0, 1];\n    });\n  }\n  return visualArr;\n}\n/**\n * Normalizers by mapping methods.\n */\nvar normalizers = {\n  linear: function (value) {\n    return linearMap(value, this.option.dataExtent, [0, 1], true);\n  },\n  piecewise: function (value) {\n    var pieceList = this.option.pieceList;\n    var pieceIndex = VisualMapping.findPieceIndex(value, pieceList, true);\n    if (pieceIndex != null) {\n      return linearMap(pieceIndex, [0, pieceList.length - 1], [0, 1], true);\n    }\n  },\n  category: function (value) {\n    var index = this.option.categories ? this.option.categoryMap[value] : value; // ordinal value\n    return index == null ? CATEGORY_DEFAULT_VISUAL_INDEX : index;\n  },\n  fixed: zrUtil.noop\n};\nfunction littleThan(close, a, b) {\n  return close ? a <= b : a < b;\n}\nexport default VisualMapping;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { makeInner } from '../util/model.js';\nimport { getDecalFromPalette } from '../model/mixin/palette.js';\nvar DEFAULT_OPTION = {\n  label: {\n    enabled: true\n  },\n  decal: {\n    show: false\n  }\n};\nvar inner = makeInner();\nvar decalPaletteScope = {};\nexport default function ariaVisual(ecModel, api) {\n  var ariaModel = ecModel.getModel('aria');\n  // See \"area enabled\" detection code in `GlobalModel.ts`.\n  if (!ariaModel.get('enabled')) {\n    return;\n  }\n  var defaultOption = zrUtil.clone(DEFAULT_OPTION);\n  zrUtil.merge(defaultOption.label, ecModel.getLocaleModel().get('aria'), false);\n  zrUtil.merge(ariaModel.option, defaultOption, false);\n  setDecal();\n  setLabel();\n  function setDecal() {\n    var decalModel = ariaModel.getModel('decal');\n    var useDecal = decalModel.get('show');\n    if (useDecal) {\n      // Each type of series use one scope.\n      // Pie and funnel are using different scopes.\n      var paletteScopeGroupByType_1 = zrUtil.createHashMap();\n      ecModel.eachSeries(function (seriesModel) {\n        if (seriesModel.isColorBySeries()) {\n          return;\n        }\n        var decalScope = paletteScopeGroupByType_1.get(seriesModel.type);\n        if (!decalScope) {\n          decalScope = {};\n          paletteScopeGroupByType_1.set(seriesModel.type, decalScope);\n        }\n        inner(seriesModel).scope = decalScope;\n      });\n      ecModel.eachRawSeries(function (seriesModel) {\n        if (ecModel.isSeriesFiltered(seriesModel)) {\n          return;\n        }\n        if (zrUtil.isFunction(seriesModel.enableAriaDecal)) {\n          // Let series define how to use decal palette on data\n          seriesModel.enableAriaDecal();\n          return;\n        }\n        var data = seriesModel.getData();\n        if (!seriesModel.isColorBySeries()) {\n          var dataAll_1 = seriesModel.getRawData();\n          var idxMap_1 = {};\n          var decalScope_1 = inner(seriesModel).scope;\n          data.each(function (idx) {\n            var rawIdx = data.getRawIndex(idx);\n            idxMap_1[rawIdx] = idx;\n          });\n          var dataCount_1 = dataAll_1.count();\n          dataAll_1.each(function (rawIdx) {\n            var idx = idxMap_1[rawIdx];\n            var name = dataAll_1.getName(rawIdx) || rawIdx + '';\n            var paletteDecal = getDecalFromPalette(seriesModel.ecModel, name, decalScope_1, dataCount_1);\n            var specifiedDecal = data.getItemVisual(idx, 'decal');\n            data.setItemVisual(idx, 'decal', mergeDecal(specifiedDecal, paletteDecal));\n          });\n        } else {\n          var paletteDecal = getDecalFromPalette(seriesModel.ecModel, seriesModel.name, decalPaletteScope, ecModel.getSeriesCount());\n          var specifiedDecal = data.getVisual('decal');\n          data.setVisual('decal', mergeDecal(specifiedDecal, paletteDecal));\n        }\n        function mergeDecal(specifiedDecal, paletteDecal) {\n          // Merge decal from palette to decal from itemStyle.\n          // User do not need to specify all of the decal props.\n          var resultDecal = specifiedDecal ? zrUtil.extend(zrUtil.extend({}, paletteDecal), specifiedDecal) : paletteDecal;\n          resultDecal.dirty = true;\n          return resultDecal;\n        }\n      });\n    }\n  }\n  function setLabel() {\n    var dom = api.getZr().dom;\n    // TODO: support for SSR\n    if (!dom) {\n      return;\n    }\n    var labelLocale = ecModel.getLocaleModel().get('aria');\n    var labelModel = ariaModel.getModel('label');\n    labelModel.option = zrUtil.defaults(labelModel.option, labelLocale);\n    if (!labelModel.get('enabled')) {\n      return;\n    }\n    if (labelModel.get('description')) {\n      dom.setAttribute('aria-label', labelModel.get('description'));\n      return;\n    }\n    var seriesCnt = ecModel.getSeriesCount();\n    var maxDataCnt = labelModel.get(['data', 'maxCount']) || 10;\n    var maxSeriesCnt = labelModel.get(['series', 'maxCount']) || 10;\n    var displaySeriesCnt = Math.min(seriesCnt, maxSeriesCnt);\n    var ariaLabel;\n    if (seriesCnt < 1) {\n      // No series, no aria label\n      return;\n    } else {\n      var title = getTitle();\n      if (title) {\n        var withTitle = labelModel.get(['general', 'withTitle']);\n        ariaLabel = replace(withTitle, {\n          title: title\n        });\n      } else {\n        ariaLabel = labelModel.get(['general', 'withoutTitle']);\n      }\n      var seriesLabels_1 = [];\n      var prefix = seriesCnt > 1 ? labelModel.get(['series', 'multiple', 'prefix']) : labelModel.get(['series', 'single', 'prefix']);\n      ariaLabel += replace(prefix, {\n        seriesCount: seriesCnt\n      });\n      ecModel.eachSeries(function (seriesModel, idx) {\n        if (idx < displaySeriesCnt) {\n          var seriesLabel = void 0;\n          var seriesName = seriesModel.get('name');\n          var withName = seriesName ? 'withName' : 'withoutName';\n          seriesLabel = seriesCnt > 1 ? labelModel.get(['series', 'multiple', withName]) : labelModel.get(['series', 'single', withName]);\n          seriesLabel = replace(seriesLabel, {\n            seriesId: seriesModel.seriesIndex,\n            seriesName: seriesModel.get('name'),\n            seriesType: getSeriesTypeName(seriesModel.subType)\n          });\n          var data = seriesModel.getData();\n          if (data.count() > maxDataCnt) {\n            // Show part of data\n            var partialLabel = labelModel.get(['data', 'partialData']);\n            seriesLabel += replace(partialLabel, {\n              displayCnt: maxDataCnt\n            });\n          } else {\n            seriesLabel += labelModel.get(['data', 'allData']);\n          }\n          var middleSeparator_1 = labelModel.get(['data', 'separator', 'middle']);\n          var endSeparator_1 = labelModel.get(['data', 'separator', 'end']);\n          var dataLabels = [];\n          for (var i = 0; i < data.count(); i++) {\n            if (i < maxDataCnt) {\n              var name_1 = data.getName(i);\n              var value = data.getValues(i);\n              var dataLabel = labelModel.get(['data', name_1 ? 'withName' : 'withoutName']);\n              dataLabels.push(replace(dataLabel, {\n                name: name_1,\n                value: value.join(middleSeparator_1)\n              }));\n            }\n          }\n          seriesLabel += dataLabels.join(middleSeparator_1) + endSeparator_1;\n          seriesLabels_1.push(seriesLabel);\n        }\n      });\n      var separatorModel = labelModel.getModel(['series', 'multiple', 'separator']);\n      var middleSeparator = separatorModel.get('middle');\n      var endSeparator = separatorModel.get('end');\n      ariaLabel += seriesLabels_1.join(middleSeparator) + endSeparator;\n      dom.setAttribute('aria-label', ariaLabel);\n    }\n  }\n  function replace(str, keyValues) {\n    if (!zrUtil.isString(str)) {\n      return str;\n    }\n    var result = str;\n    zrUtil.each(keyValues, function (value, key) {\n      result = result.replace(new RegExp('\\\\{\\\\s*' + key + '\\\\s*\\\\}', 'g'), value);\n    });\n    return result;\n  }\n  function getTitle() {\n    var title = ecModel.get('title');\n    if (title && title.length) {\n      title = title[0];\n    }\n    return title && title.text;\n  }\n  function getSeriesTypeName(type) {\n    var typeNames = ecModel.getLocaleModel().get(['series', 'typeNames']);\n    return typeNames[type] || typeNames.chart;\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createOrUpdatePatternFromDecal } from '../util/decal.js';\nexport default function decalVisual(ecModel, api) {\n  ecModel.eachRawSeries(function (seriesModel) {\n    if (ecModel.isSeriesFiltered(seriesModel)) {\n      return;\n    }\n    var data = seriesModel.getData();\n    if (data.hasItemVisual()) {\n      data.each(function (idx) {\n        var decal = data.getItemVisual(idx, 'decal');\n        if (decal) {\n          var itemStyle = data.ensureUniqueItemVisual(idx, 'style');\n          itemStyle.decal = createOrUpdatePatternFromDecal(decal, api);\n        }\n      });\n    }\n    var decal = data.getVisual('decal');\n    if (decal) {\n      var style = data.getVisual('style');\n      style.decal = createOrUpdatePatternFromDecal(decal, api);\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport function getItemVisualFromData(data, dataIndex, key) {\n  switch (key) {\n    case 'color':\n      var style = data.getItemVisual(dataIndex, 'style');\n      return style[data.getVisual('drawType')];\n    case 'opacity':\n      return data.getItemVisual(dataIndex, 'style').opacity;\n    case 'symbol':\n    case 'symbolSize':\n    case 'liftZ':\n      return data.getItemVisual(dataIndex, key);\n    default:\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn(\"Unknown visual type \" + key);\n      }\n  }\n}\nexport function getVisualFromData(data, key) {\n  switch (key) {\n    case 'color':\n      var style = data.getVisual('style');\n      return style[data.getVisual('drawType')];\n    case 'opacity':\n      return data.getVisual('style').opacity;\n    case 'symbol':\n    case 'symbolSize':\n    case 'liftZ':\n      return data.getVisual(key);\n    default:\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn(\"Unknown visual type \" + key);\n      }\n  }\n}\nexport function setItemVisualFromData(data, dataIndex, key, value) {\n  switch (key) {\n    case 'color':\n      // Make sure not sharing style object.\n      var style = data.ensureUniqueItemVisual(dataIndex, 'style');\n      style[data.getVisual('drawType')] = value;\n      // Mark the color has been changed, not from palette anymore\n      data.setItemVisual(dataIndex, 'colorFromPalette', false);\n      break;\n    case 'opacity':\n      data.ensureUniqueItemVisual(dataIndex, 'style').opacity = value;\n      break;\n    case 'symbol':\n    case 'symbolSize':\n    case 'liftZ':\n      data.setItemVisual(dataIndex, key, value);\n      break;\n    default:\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn(\"Unknown visual type \" + key);\n      }\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isFunction, extend, createHashMap } from 'zrender/lib/core/util.js';\nimport makeStyleMapper from '../model/mixin/makeStyleMapper.js';\nimport { ITEM_STYLE_KEY_MAP } from '../model/mixin/itemStyle.js';\nimport { LINE_STYLE_KEY_MAP } from '../model/mixin/lineStyle.js';\nimport Model from '../model/Model.js';\nimport { makeInner } from '../util/model.js';\nvar inner = makeInner();\nvar defaultStyleMappers = {\n  itemStyle: makeStyleMapper(ITEM_STYLE_KEY_MAP, true),\n  lineStyle: makeStyleMapper(LINE_STYLE_KEY_MAP, true)\n};\nvar defaultColorKey = {\n  lineStyle: 'stroke',\n  itemStyle: 'fill'\n};\nfunction getStyleMapper(seriesModel, stylePath) {\n  var styleMapper = seriesModel.visualStyleMapper || defaultStyleMappers[stylePath];\n  if (!styleMapper) {\n    console.warn(\"Unknown style type '\" + stylePath + \"'.\");\n    return defaultStyleMappers.itemStyle;\n  }\n  return styleMapper;\n}\nfunction getDefaultColorKey(seriesModel, stylePath) {\n  // return defaultColorKey[stylePath] ||\n  var colorKey = seriesModel.visualDrawType || defaultColorKey[stylePath];\n  if (!colorKey) {\n    console.warn(\"Unknown style type '\" + stylePath + \"'.\");\n    return 'fill';\n  }\n  return colorKey;\n}\nvar seriesStyleTask = {\n  createOnAllSeries: true,\n  performRawSeries: true,\n  reset: function (seriesModel, ecModel) {\n    var data = seriesModel.getData();\n    var stylePath = seriesModel.visualStyleAccessPath || 'itemStyle';\n    // Set in itemStyle\n    var styleModel = seriesModel.getModel(stylePath);\n    var getStyle = getStyleMapper(seriesModel, stylePath);\n    var globalStyle = getStyle(styleModel);\n    var decalOption = styleModel.getShallow('decal');\n    if (decalOption) {\n      data.setVisual('decal', decalOption);\n      decalOption.dirty = true;\n    }\n    // TODO\n    var colorKey = getDefaultColorKey(seriesModel, stylePath);\n    var color = globalStyle[colorKey];\n    // TODO style callback\n    var colorCallback = isFunction(color) ? color : null;\n    var hasAutoColor = globalStyle.fill === 'auto' || globalStyle.stroke === 'auto';\n    // Get from color palette by default.\n    if (!globalStyle[colorKey] || colorCallback || hasAutoColor) {\n      // Note: If some series has color specified (e.g., by itemStyle.color), we DO NOT\n      // make it effect palette. Because some scenarios users need to make some series\n      // transparent or as background, which should better not effect the palette.\n      var colorPalette = seriesModel.getColorFromPalette(\n      // TODO series count changed.\n      seriesModel.name, null, ecModel.getSeriesCount());\n      if (!globalStyle[colorKey]) {\n        globalStyle[colorKey] = colorPalette;\n        data.setVisual('colorFromPalette', true);\n      }\n      globalStyle.fill = globalStyle.fill === 'auto' || isFunction(globalStyle.fill) ? colorPalette : globalStyle.fill;\n      globalStyle.stroke = globalStyle.stroke === 'auto' || isFunction(globalStyle.stroke) ? colorPalette : globalStyle.stroke;\n    }\n    data.setVisual('style', globalStyle);\n    data.setVisual('drawType', colorKey);\n    // Only visible series has each data be visual encoded\n    if (!ecModel.isSeriesFiltered(seriesModel) && colorCallback) {\n      data.setVisual('colorFromPalette', false);\n      return {\n        dataEach: function (data, idx) {\n          var dataParams = seriesModel.getDataParams(idx);\n          var itemStyle = extend({}, globalStyle);\n          itemStyle[colorKey] = colorCallback(dataParams);\n          data.setItemVisual(idx, 'style', itemStyle);\n        }\n      };\n    }\n  }\n};\nvar sharedModel = new Model();\nvar dataStyleTask = {\n  createOnAllSeries: true,\n  performRawSeries: true,\n  reset: function (seriesModel, ecModel) {\n    if (seriesModel.ignoreStyleOnData || ecModel.isSeriesFiltered(seriesModel)) {\n      return;\n    }\n    var data = seriesModel.getData();\n    var stylePath = seriesModel.visualStyleAccessPath || 'itemStyle';\n    // Set in itemStyle\n    var getStyle = getStyleMapper(seriesModel, stylePath);\n    var colorKey = data.getVisual('drawType');\n    return {\n      dataEach: data.hasItemOption ? function (data, idx) {\n        // Not use getItemModel for performance considuration\n        var rawItem = data.getRawDataItem(idx);\n        if (rawItem && rawItem[stylePath]) {\n          sharedModel.option = rawItem[stylePath];\n          var style = getStyle(sharedModel);\n          var existsStyle = data.ensureUniqueItemVisual(idx, 'style');\n          extend(existsStyle, style);\n          if (sharedModel.option.decal) {\n            data.setItemVisual(idx, 'decal', sharedModel.option.decal);\n            sharedModel.option.decal.dirty = true;\n          }\n          if (colorKey in style) {\n            data.setItemVisual(idx, 'colorFromPalette', false);\n          }\n        }\n      } : null\n    };\n  }\n};\n// Pick color from palette for the data which has not been set with color yet.\n// Note: do not support stream rendering. No such cases yet.\nvar dataColorPaletteTask = {\n  performRawSeries: true,\n  overallReset: function (ecModel) {\n    // Each type of series uses one scope.\n    // Pie and funnel are using different scopes.\n    var paletteScopeGroupByType = createHashMap();\n    ecModel.eachSeries(function (seriesModel) {\n      var colorBy = seriesModel.getColorBy();\n      if (seriesModel.isColorBySeries()) {\n        return;\n      }\n      var key = seriesModel.type + '-' + colorBy;\n      var colorScope = paletteScopeGroupByType.get(key);\n      if (!colorScope) {\n        colorScope = {};\n        paletteScopeGroupByType.set(key, colorScope);\n      }\n      inner(seriesModel).scope = colorScope;\n    });\n    ecModel.eachSeries(function (seriesModel) {\n      if (seriesModel.isColorBySeries() || ecModel.isSeriesFiltered(seriesModel)) {\n        return;\n      }\n      var dataAll = seriesModel.getRawData();\n      var idxMap = {};\n      var data = seriesModel.getData();\n      var colorScope = inner(seriesModel).scope;\n      var stylePath = seriesModel.visualStyleAccessPath || 'itemStyle';\n      var colorKey = getDefaultColorKey(seriesModel, stylePath);\n      data.each(function (idx) {\n        var rawIdx = data.getRawIndex(idx);\n        idxMap[rawIdx] = idx;\n      });\n      // Iterate on data before filtered. To make sure color from palette can be\n      // Consistent when toggling legend.\n      dataAll.each(function (rawIdx) {\n        var idx = idxMap[rawIdx];\n        var fromPalette = data.getItemVisual(idx, 'colorFromPalette');\n        // Get color from palette for each data only when the color is inherited from series color, which is\n        // also picked from color palette. So following situation is not in the case:\n        // 1. series.itemStyle.color is set\n        // 2. color is encoded by visualMap\n        if (fromPalette) {\n          var itemStyle = data.ensureUniqueItemVisual(idx, 'style');\n          var name_1 = dataAll.getName(rawIdx) || rawIdx + '';\n          var dataCount = dataAll.count();\n          itemStyle[colorKey] = seriesModel.getColorFromPalette(name_1, colorScope, dataCount);\n        }\n      });\n    });\n  }\n};\nexport { seriesStyleTask, dataStyleTask, dataColorPaletteTask };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { extend, isFunction, keys } from 'zrender/lib/core/util.js';\nvar SYMBOL_PROPS_WITH_CB = ['symbol', 'symbolSize', 'symbolRotate', 'symbolOffset'];\nvar SYMBOL_PROPS = SYMBOL_PROPS_WITH_CB.concat(['symbolKeepAspect']);\n// Encoding visual for all series include which is filtered for legend drawing\nvar seriesSymbolTask = {\n  createOnAllSeries: true,\n  // For legend.\n  performRawSeries: true,\n  reset: function (seriesModel, ecModel) {\n    var data = seriesModel.getData();\n    if (seriesModel.legendIcon) {\n      data.setVisual('legendIcon', seriesModel.legendIcon);\n    }\n    if (!seriesModel.hasSymbolVisual) {\n      return;\n    }\n    var symbolOptions = {};\n    var symbolOptionsCb = {};\n    var hasCallback = false;\n    for (var i = 0; i < SYMBOL_PROPS_WITH_CB.length; i++) {\n      var symbolPropName = SYMBOL_PROPS_WITH_CB[i];\n      var val = seriesModel.get(symbolPropName);\n      if (isFunction(val)) {\n        hasCallback = true;\n        symbolOptionsCb[symbolPropName] = val;\n      } else {\n        symbolOptions[symbolPropName] = val;\n      }\n    }\n    symbolOptions.symbol = symbolOptions.symbol || seriesModel.defaultSymbol;\n    data.setVisual(extend({\n      legendIcon: seriesModel.legendIcon || symbolOptions.symbol,\n      symbolKeepAspect: seriesModel.get('symbolKeepAspect')\n    }, symbolOptions));\n    // Only visible series has each data be visual encoded\n    if (ecModel.isSeriesFiltered(seriesModel)) {\n      return;\n    }\n    var symbolPropsCb = keys(symbolOptionsCb);\n    function dataEach(data, idx) {\n      var rawValue = seriesModel.getRawValue(idx);\n      var params = seriesModel.getDataParams(idx);\n      for (var i = 0; i < symbolPropsCb.length; i++) {\n        var symbolPropName = symbolPropsCb[i];\n        data.setItemVisual(idx, symbolPropName, symbolOptionsCb[symbolPropName](rawValue, params));\n      }\n    }\n    return {\n      dataEach: hasCallback ? dataEach : null\n    };\n  }\n};\nvar dataSymbolTask = {\n  createOnAllSeries: true,\n  // For legend.\n  performRawSeries: true,\n  reset: function (seriesModel, ecModel) {\n    if (!seriesModel.hasSymbolVisual) {\n      return;\n    }\n    // Only visible series has each data be visual encoded\n    if (ecModel.isSeriesFiltered(seriesModel)) {\n      return;\n    }\n    var data = seriesModel.getData();\n    function dataEach(data, idx) {\n      var itemModel = data.getItemModel(idx);\n      for (var i = 0; i < SYMBOL_PROPS.length; i++) {\n        var symbolPropName = SYMBOL_PROPS[i];\n        var val = itemModel.getShallow(symbolPropName, true);\n        if (val != null) {\n          data.setItemVisual(idx, symbolPropName, val);\n        }\n      }\n    }\n    return {\n      dataEach: data.hasItemOption ? dataEach : null\n    };\n  }\n};\nexport { seriesSymbolTask, dataSymbolTask };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * @file Visual mapping.\n */\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar visualDefault = {\n  /**\n   * @public\n   */\n  get: function (visualType, key, isCategory) {\n    var value = zrUtil.clone((defaultOption[visualType] || {})[key]);\n    return isCategory ? zrUtil.isArray(value) ? value[value.length - 1] : value : value;\n  }\n};\nvar defaultOption = {\n  color: {\n    active: ['#006edd', '#e0ffff'],\n    inactive: ['rgba(0,0,0,0)']\n  },\n  colorHue: {\n    active: [0, 360],\n    inactive: [0, 0]\n  },\n  colorSaturation: {\n    active: [0.3, 1],\n    inactive: [0, 0]\n  },\n  colorLightness: {\n    active: [0.9, 0.5],\n    inactive: [0, 0]\n  },\n  colorAlpha: {\n    active: [0.3, 1],\n    inactive: [0, 0]\n  },\n  opacity: {\n    active: [0.3, 1],\n    inactive: [0, 0]\n  },\n  symbol: {\n    active: ['circle', 'roundRect', 'diamond'],\n    inactive: ['none']\n  },\n  symbolSize: {\n    active: [10, 50],\n    inactive: [0, 0]\n  }\n};\nexport default visualDefault;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * @file Visual solution, for consistent option specification.\n */\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport VisualMapping from './VisualMapping.js';\nimport { getItemVisualFromData, setItemVisualFromData } from './helper.js';\nvar each = zrUtil.each;\nfunction hasKeys(obj) {\n  if (obj) {\n    for (var name_1 in obj) {\n      if (obj.hasOwnProperty(name_1)) {\n        return true;\n      }\n    }\n  }\n}\nexport function createVisualMappings(option, stateList, supplementVisualOption) {\n  var visualMappings = {};\n  each(stateList, function (state) {\n    var mappings = visualMappings[state] = createMappings();\n    each(option[state], function (visualData, visualType) {\n      if (!VisualMapping.isValidType(visualType)) {\n        return;\n      }\n      var mappingOption = {\n        type: visualType,\n        visual: visualData\n      };\n      supplementVisualOption && supplementVisualOption(mappingOption, state);\n      mappings[visualType] = new VisualMapping(mappingOption);\n      // Prepare a alpha for opacity, for some case that opacity\n      // is not supported, such as rendering using gradient color.\n      if (visualType === 'opacity') {\n        mappingOption = zrUtil.clone(mappingOption);\n        mappingOption.type = 'colorAlpha';\n        mappings.__hidden.__alphaForOpacity = new VisualMapping(mappingOption);\n      }\n    });\n  });\n  return visualMappings;\n  function createMappings() {\n    var Creater = function () {};\n    // Make sure hidden fields will not be visited by\n    // object iteration (with hasOwnProperty checking).\n    Creater.prototype.__hidden = Creater.prototype;\n    var obj = new Creater();\n    return obj;\n  }\n}\nexport function replaceVisualOption(thisOption, newOption, keys) {\n  // Visual attributes merge is not supported, otherwise it\n  // brings overcomplicated merge logic. See #2853. So if\n  // newOption has anyone of these keys, all of these keys\n  // will be reset. Otherwise, all keys remain.\n  var has;\n  zrUtil.each(keys, function (key) {\n    if (newOption.hasOwnProperty(key) && hasKeys(newOption[key])) {\n      has = true;\n    }\n  });\n  has && zrUtil.each(keys, function (key) {\n    if (newOption.hasOwnProperty(key) && hasKeys(newOption[key])) {\n      thisOption[key] = zrUtil.clone(newOption[key]);\n    } else {\n      delete thisOption[key];\n    }\n  });\n}\n/**\n * @param stateList\n * @param visualMappings\n * @param list\n * @param getValueState param: valueOrIndex, return: state.\n * @param scope Scope for getValueState\n * @param dimension Concrete dimension, if used.\n */\n// ???! handle brush?\nexport function applyVisual(stateList, visualMappings, data, getValueState, scope, dimension) {\n  var visualTypesMap = {};\n  zrUtil.each(stateList, function (state) {\n    var visualTypes = VisualMapping.prepareVisualTypes(visualMappings[state]);\n    visualTypesMap[state] = visualTypes;\n  });\n  var dataIndex;\n  function getVisual(key) {\n    return getItemVisualFromData(data, dataIndex, key);\n  }\n  function setVisual(key, value) {\n    setItemVisualFromData(data, dataIndex, key, value);\n  }\n  if (dimension == null) {\n    data.each(eachItem);\n  } else {\n    data.each([dimension], eachItem);\n  }\n  function eachItem(valueOrIndex, index) {\n    dataIndex = dimension == null ? valueOrIndex // First argument is index\n    : index;\n    var rawDataItem = data.getRawDataItem(dataIndex);\n    // Consider performance\n    // @ts-ignore\n    if (rawDataItem && rawDataItem.visualMap === false) {\n      return;\n    }\n    var valueState = getValueState.call(scope, valueOrIndex);\n    var mappings = visualMappings[valueState];\n    var visualTypes = visualTypesMap[valueState];\n    for (var i = 0, len = visualTypes.length; i < len; i++) {\n      var type = visualTypes[i];\n      mappings[type] && mappings[type].applyVisual(valueOrIndex, getVisual, setVisual);\n    }\n  }\n}\n/**\n * @param data\n * @param stateList\n * @param visualMappings <state, Object.<visualType, module:echarts/visual/VisualMapping>>\n * @param getValueState param: valueOrIndex, return: state.\n * @param dim dimension or dimension index.\n */\nexport function incrementalApplyVisual(stateList, visualMappings, getValueState, dim) {\n  var visualTypesMap = {};\n  zrUtil.each(stateList, function (state) {\n    var visualTypes = VisualMapping.prepareVisualTypes(visualMappings[state]);\n    visualTypesMap[state] = visualTypes;\n  });\n  return {\n    progress: function progress(params, data) {\n      var dimIndex;\n      if (dim != null) {\n        dimIndex = data.getDimensionIndex(dim);\n      }\n      function getVisual(key) {\n        return getItemVisualFromData(data, dataIndex, key);\n      }\n      function setVisual(key, value) {\n        setItemVisualFromData(data, dataIndex, key, value);\n      }\n      var dataIndex;\n      var store = data.getStore();\n      while ((dataIndex = params.next()) != null) {\n        var rawDataItem = data.getRawDataItem(dataIndex);\n        // Consider performance\n        // @ts-ignore\n        if (rawDataItem && rawDataItem.visualMap === false) {\n          continue;\n        }\n        var value = dim != null ? store.get(dimIndex, dataIndex) : dataIndex;\n        var valueState = getValueState(value);\n        var mappings = visualMappings[valueState];\n        var visualTypes = visualTypesMap[valueState];\n        for (var i = 0, len = visualTypes.length; i < len; i++) {\n          var type = visualTypes[i];\n          mappings[type] && mappings[type].applyVisual(value, getVisual, setVisual);\n        }\n      }\n    }\n  };\n}","export class InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nexport class InternSet extends Set {\n  constructor(values, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (values != null) for (const value of values) this.add(value);\n  }\n  has(value) {\n    return super.has(intern_get(this, value));\n  }\n  add(value) {\n    return super.add(intern_set(this, value));\n  }\n  delete(value) {\n    return super.delete(intern_delete(this, value));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(key);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","TypeError","String","__","this","constructor","create","LegendVisualProvider","getDataWithEncodedVisual","getRawData","_getDataWithEncodedVisual","_getRawData","getAllNames","rawData","mapArray","getName","containName","name","indexOfName","dataWithEncodedVisual","getItemVisual","dataIndex","key","each","zrUtil","isObject","CATEGORY_DEFAULT_VISUAL_INDEX","VisualMapping","option","mappingMethod","visualType","type","thisOption","_normalizeData","normalizers","visualHandler","visualHandlers","applyVisual","getColorMapper","_normalizedToVisual","normalizeVisualRange","preprocessForPiecewise","categories","preprocessForSpecifiedCategory","dataExtent","mapValueToVisual","value","normalized","getNormalizer","listVisualTypes","isValidType","eachVisual","visual","callback","context","mapVisual","isPrimary","newVisual","v","newVal","retrieveVisuals","obj","hasVisual","ret","h","prepareVisualTypes","visualTypes","slice","types_1","item","push","sort","type1","type2","indexOf","dependsOn","visualType1","visualType2","findPieceIndex","pieceList","findClosestWhenOutside","possibleI","abs","Infinity","i","len","length","pieceValue","updatePossible","piece","interval","close_1","close","littleThan","val","index","newAbs","Math","color","makeApplyVisual","isNormalized","doMapCategory","out","returnRGBArray","zrColor","parsedVisual","linear","category","piecewise","result","getSpecifiedVisual","fixed","doMapFixed","colorHue","makePartialColorVisualHandler","colorSaturation","colorLightness","colorAlpha","decal","opacity","createNormalizedToNumericVisual","liftZ","symbol","getter","setter","symbolCfg","doMapToArray","symbolSize","hasSpecialVisual","originIndex","categoryMap","cate","visualArr_1","setVisualToOption","pop","isCategory","visualArr","doNotNeedPair","applyValue","colorChannel","round","linearMap","loop","sourceExtent","pieceIndex","a","DEFAULT_OPTION","label","enabled","show","inner","makeInner","decalPaletteScope","ariaVisual","ecModel","api","ariaModel","getModel","get","defaultOption","getLocaleModel","setDecal","setLabel","decalModel","useDecal","paletteScopeGroupByType_1","eachSeries","seriesModel","isColorBySeries","decalScope","set","scope","eachRawSeries","isSeriesFiltered","enableAriaDecal","data","getData","paletteDecal","getDecalFromPalette","getSeriesCount","specifiedDecal","getVisual","setVisual","mergeDecal","dataAll_1","idxMap_1","decalScope_1","idx","rawIdx","getRawIndex","dataCount_1","count","setItemVisual","resultDecal","dirty","dom","getZr","labelLocale","labelModel","setAttribute","ariaLabel","seriesCnt","maxDataCnt","maxSeriesCnt","displaySeriesCnt","min","title","getTitle","withTitle","replace","seriesLabels_1","prefix","seriesCount","seriesLabel","seriesName","withName","seriesId","seriesIndex","seriesType","getSeriesTypeName","subType","partialLabel","displayCnt","middleSeparator_1","endSeparator_1","dataLabels","name_1","getValues","dataLabel","join","separatorModel","middleSeparator","endSeparator","str","keyValues","RegExp","text","typeNames","chart","decalVisual","hasItemVisual","itemStyle","ensureUniqueItemVisual","createOrUpdatePatternFromDecal","style","getItemVisualFromData","process","getVisualFromData","setItemVisualFromData","defaultStyleMappers","makeStyleMapper","ITEM_STYLE_KEY_MAP","lineStyle","LINE_STYLE_KEY_MAP","defaultColorKey","getStyleMapper","stylePath","styleMapper","visualStyleMapper","console","warn","getDefaultColorKey","colorKey","visualDrawType","seriesStyleTask","createOnAllSeries","performRawSeries","reset","visualStyleAccessPath","styleModel","getStyle","globalStyle","decalOption","getShallow","colorCallback","isFunction","hasAutoColor","fill","stroke","colorPalette","getColorFromPalette","dataEach","dataParams","getDataParams","extend","sharedModel","Model","dataStyleTask","ignoreStyleOnData","hasItemOption","rawItem","getRawDataItem","existsStyle","dataColorPaletteTask","overallReset","paletteScopeGroupByType","createHashMap","colorBy","getColorBy","colorScope","dataAll","idxMap","fromPalette","dataCount","SYMBOL_PROPS_WITH_CB","SYMBOL_PROPS","concat","seriesSymbolTask","legendIcon","hasSymbolVisual","symbolOptions","symbolOptionsCb","hasCallback","symbolPropName","defaultSymbol","symbolKeepAspect","symbolPropsCb","keys","rawValue","getRawValue","params","dataSymbolTask","itemModel","getItemModel","visualDefault","active","inactive","hasKeys","createVisualMappings","stateList","supplementVisualOption","visualMappings","state","mappings","createMappings","visualData","mappingOption","__hidden","__alphaForOpacity","Creater","replaceVisualOption","newOption","has","getValueState","dimension","visualTypesMap","eachItem","valueOrIndex","rawDataItem","visualMap","valueState","incrementalApplyVisual","dim","progress","dimIndex","getDimensionIndex","store","getStore","next","InternMap","Map","entries","keyof","super","defineProperties","_intern","_key","intern_get","intern_set","delete","intern_delete","Set","valueOf"],"sourceRoot":""}